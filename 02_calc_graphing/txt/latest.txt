[cond_error=(has__(t_total)==0)&&has__(oldT),proc=<[s_1day=60*60*24,=<heat1d_evolution(s_1day*30,s_1day,0,1,1,1,20)=>]=>,=<switch(cond_error==0,=<proc:1,-999)]=>
(
2592000:
-8.890971412208636+1.652033698446392e-13i:
-11.732917768981562+1.5537065811972573e-13i:
-13.891456244473813+1.3747586313440221e-13i:
-15.455478518444204+1.1451580048261362e-13i:
-16.536105506390207+8.985409787472694e-14i:
-17.248643699897976+6.638195281107694e-14i:
-17.698343952565764+4.596948319200977e-14i:
-17.97241570375935+2.930292277208617e-14i:
-18.138283622033224+1.6032184244519277e-14i:
-18.2465684509088+5.072785121611523e-15i:
-18.33691983245555-5.072785121622339e-15i:
-18.445204661330866-1.6032184244533054e-14i:
-18.61107257960483-2.9302922772125546e-14i:
-18.885144330797008-4.5969483192044127e-14i:
-19.3348445834629-6.63819528111025e-14i:
-20.04738277697122-8.985409787478615e-14i:
-21.128009764917856-1.1451580048271252e-13i:
-22.692032038890133-1.3747586313447221e-13i:
-24.850570514379676-1.553706581196973e-13i:
-27.692516871149966-1.6520336984464113e-13i
)

heat1d_evolution(t,dt,kalpha0,kalpha1,kalbedo,kabsorb,N)=<[out=<{t_total,newT},scope2storage=<last{add__(oldT),add__(t_total)},init=<last{I0=1367,sigma=5.670374419184429e-8,TK=273.15,T0=15,T1=-56.5,T0K=T0+TK,T1K=T1+TK,H1=11000,R0=6378136.6,R1=R0+H1,S0=pi*R0^2,S1=pi*R1^2,A0=S0*4,A1=S1*4,albedo0=0.3,e0=1,TeK=(I0*(1-albedo0)/(4*e0*sigma))**0.25,Te=TeK-TK,W0=S1*I0,Wee=A0*(e0*sigma*TeK**4),We0=A0*(e0*sigma*T0K**4),absorbh=1-W0*(1-albedo0)/We0,absorbhmax=0.5,absorb0=We0*absorbh/(W0*(1-albedo0)),absorb0max=We0*absorbhmax/(W0*(1-albedo0)),kh0=(absorbhmax-absorbh)/(absorb0max-absorb0),Te_th(a)=<(I0*(1-albedo0)/(2*(2-a)*e0*sigma))**0.25-TK,Te_th0=Te_th(absorbh*2)=>,Wea=We0*absorbh,Wet=We0*(1-absorbh),l=0.0241,rho=1.29,cp=1007,V=A1*H1,C=rho*cp*V,alpha10=-W0*(1-albedo0)*absorb0/(A1*(T1-T0)),alpha0=alpha10*kalpha0,alpha1=alpha10*kalpha1,albedo=albedo0*kalbedo,absorb=absorb0*kabsorb,absorbe=(1-albedo)*absorb,T=T0,flux0=alpha0*(T0-T),flux1=alpha1*(T1-T),W2=flux0*A0,W1=flux1*A1,W0a=W0*albedo,W0t=W0*(1-albedo)*(1-absorb),W0e=W0*(1-albedo)*absorb,(Wee-Wet),(Wea-W0e),(W0t+W0e-Wet),(W0a+W0t+W0e-W0),(W1+W0e+W2),dC=C/N,a0=alpha0*A1/dC,a1=alpha1*A1/dC,b=0,c=W0*(1-albedo)*absorb/C+a0*T0,d=alpha1*A1*(T1-T0)/C,A=zeros(N,N),A[-1][0][1]=(-a1*dt,1+2*a1*dt,-a1*dt),A[0][0]=1+a1*dt+a0*dt,A[-1][-1]=1+a1*dt,switch(has__(t_total)==0,=<last{t_total=0,oldT=zeros(N,1)+Te}),newT=oldT},run=<last{step=<last{r=oldT+b*dt,r[0]=r[0]+c*dt,r[-1]=r[-1]+d*dt,oldT=Newton(=<A*__x__=r,=<{oldT})},evolution=<_r((n)=<step=>,N=round(t/dt),N),evolution=>,newT=oldT,dT=newT-T0,t_total=t_total+N*dt},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(heat1d_evolution)

clear
local storage cleared

[cond_error=(has__(t_total)==0)&&has__(oldT),proc=<[s_1day=60*60*24,=<heat0d_evolution(s_1day*30,s_1day,0,0.98,1,1)=>]=>,=<switch(cond_error==0,=<proc:1,-999)]=>
(
2592000:
0.4534194999132115+O(1e-13)
)

heat0d_evolution(t,dt,kalpha0,kalpha1,kalbedo,kabsorb)=<[out=<{t_total,dT},scope2storage=<last{add__(oldT),add__(t_total)},init=<last{I0=1367,sigma=5.670374419184429e-8,TK=273.15,T0=15,T1=-56.5,T0K=T0+TK,T1K=T1+TK,H1=11000,R0=6378136.6,R1=R0+H1,S0=pi*R0^2,S1=pi*R1^2,A0=S0*4,A1=S1*4,albedo0=0.3,e0=1,TeK=(I0*(1-albedo0)/(4*e0*sigma))**0.25,Te=TeK-TK,W0=S1*I0,Wee=A0*(e0*sigma*TeK**4),We0=A0*(e0*sigma*T0K**4),absorbh=1-W0*(1-albedo0)/We0,absorbhmax=0.5,absorb0=We0*absorbh/(W0*(1-albedo0)),absorb0max=We0*absorbhmax/(W0*(1-albedo0)),kh0=(absorbhmax-absorbh)/(absorb0max-absorb0),Te_th(a)=<(I0*(1-albedo0)/(2*(2-a)*e0*sigma))**0.25-TK,Te_th0=Te_th(absorbh*2)=>,Wea=We0*absorbh,Wet=We0*(1-absorbh),l=0.0241,rho=1.29,cp=1007,V=_i((r)=<4*pi*r^2,R0,R0+H1),C=rho*cp*V,alpha10=-W0*(1-albedo0)*absorb0/(A1*(T1-T0)),alpha0=alpha10*kalpha0,alpha1=alpha10*kalpha1,albedo=albedo0*kalbedo,absorb=absorb0*kabsorb,absorbe=(1-albedo)*absorb,T=T0,flux0=alpha0*(T0-T),flux1=alpha1*(T1-T),W2=flux0*A0,W1=flux1*A1,W0a=W0*albedo,W0t=W0*(1-albedo)*(1-absorb),W0e=W0*(1-albedo)*absorb,(Wee-Wet),(Wea-W0e),(W0t+W0e-Wet),(W0a+W0t+W0e-W0),(W1+W0e+W2),a=(alpha1*A1+alpha0*A0)/C,b=(alpha1*A1*T1+W0*(1-albedo)*absorb+alpha0*A0*T0)/C,switch(has__(t_total)==0,=<last{t_total=0,oldT=T0}),newT=oldT},run=<last{step=<last{newT=(oldT+b*dt)/(1+a*dt),oldT=newT},evolution=<_r((n)=<step=>,N=round(t/dt),N),evolution=>,dT=newT-T0,t_total=t_total+N*dt},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(heat0d_evolution)

clear
local storage cleared

[isImplicit=1,=<plot2d_IV(0,1e-3,0.5,100,2,isImplicit)=>]=>
(
0,0,3.141592653589793e-7:
0.02,0.00006279051952931337,0.00007467118408281147:
0.04,0.00012533323356430425,0.0001592627511060666:
0.06,0.0001873813145857246,0.00025281147701134804:
0.08,0.0002486898871648548,0.00035409040220634765:
0.1,0.0003090169943749474,0.00046192003548469824:
0.12,0.0003681245526846779,0.0005751659202166395:
0.14,0.00042577929156507275,0.0006927366672380826:
0.16,0.00048175367410171533,0.0008135824036168762:
0.18,0.0005358267949789967,0.0009366935901596714:
0.2,0.0005877852522924731,0.0010611001639092114:
0.22,0.0006374239897486896,0.001185870965000836:
0.24,0.0006845471059286886,0.0013101134101261439:
0.26,0.0007289686274214116,0.0014329733775161467:
0.28,0.0007705132427757893,0.0015536352708284264:
0.3,0.0008090169943749475,0.0016713222316230584:
0.32,0.0008443279255020151,0.0017852964722586575:
0.34,0.0008763066800438638,0.0018948597030492267:
0.36,0.0009048270524660196,0.0019993536294091547:
0.38,0.0009297764858882514,0.0020981604964908605:
0.4,0.0009510565162951536,0.0021907036604988253:
0.42,0.0009685831611286311,0.0022764481674554574:
0.44,0.0009822872507286886,0.00235490132170754:
0.46,0.000992114701314478,0.00242561322790498:
0.48,0.0009980267284282716,0.0024881772915631983:
0.5,0.001,infoLost[r ] 0.002542230664643074:
0.52,0.0009980267284282716,0.002587454623852988:
0.54,0.0009921147013144777,0.002623574870600955:
0.56,0.0009822872507286886,0.002650361742704861:
0.58,0.0009685831611286312,0.002667630329108732:
0.6,0.0009510565162951537,0.0026752404799554193:
0.62,0.0009297764858882514,0.002673096705433366:
0.64,0.0009048270524660195,0.0026611479578488094:
0.66,0.0008763066800438635,0.0026393872923763904:
0.68,0.000844327925502015,0.0026078514029114538:
0.7000000000000001,0.0008090169943749475,0.0025666200303871515:
0.72,0.0007705132427757893,0.0025158152418289876:
0.74,0.0007289686274214115,0.0024556005792989283:
0.76,0.0006845471059286889,0.002386180078730411:
0.78,0.0006374239897486898,0.002307797159474281:
0.8,0.0005877852522924732,0.002220733386163421:
0.8200000000000001,0.0005358267949789967,0.0021253071052599547:
0.84,0.0004817536741017156,0.002021871959372816:
0.86,0.0004257792915650729,0.0019108152831243121:
0.88,0.00036812455268467814,0.0017925563850013071:
0.9,0.0003090169943749475,0.0016675447202488967:
0.92,0.00024868988716485483,0.0015362579604510805:
0.9400000000000001,0.00018738131458572458,0.0013991999659930575:
0.96,0.00012533323356430455,0.0012568986681124848:
0.98,0.00006279051952931359,0.0011099038677215326:
1,1.2246467991473531e-19,infoLost[r ] 0.0009587849586170114:
1.02,-0.00006279051952931334,infoLost[r ] 0.0008041285830915021:
1.04,-0.00012533323356430428,infoLost[r ] 0.000646536228313616:
1.06,-0.00018738131458572477,infoLost[r ] 0.00048662177215963925:
1.08,-0.000248689887164855,infoLost[r ] 0.0003250089874513798:
1.1,-0.00030901699437494774,infoLost[r ] 0.00016232901378560402:
1.12,-0.0003681245526846783,infoLost[r ] -7.821936712565022e-7:
1.1400000000000001,-0.0004257792915650727,infoLost[r ] -0.00016368642890364775:
1.16,-0.000481753674101715,infoLost[r ] -0.0003257458036599614:
1.18,-0.0005358267949789965,infoLost[r ] -0.00048632531027466893:
1.2,-0.000587785252292473,infoLost[r ] -0.0006447953689976781:
1.22,-0.0006374239897486896,infoLost[r ] -0.0008005343501527153:
1.24,-0.0006845471059286888,infoLost[r ] -0.0009529310615117846:
1.26,-0.0007289686274214114,infoLost[r ] -0.0011013871913790492:
1.28,-0.0007705132427757894,infoLost[r ] -0.0012453196980241042:
1.3,-0.0008090169943749474,infoLost[r ] -0.0013841631362907238:
1.32,-0.0008443279255020153,infoLost[r ] -0.0015173719124318536:
1.34,-0.0008763066800438637,infoLost[r ] -0.0016444224584836675:
1.36,-0.0009048270524660198,infoLost[r ] -0.0017648153177898575:
1.3800000000000001,-0.0009297764858882515,infoLost[r ] -0.0018780771336204451:
1.4000000000000001,-0.0009510565162951536,infoLost[r ] -0.001983762533195968:
1.42,-0.000968583161128631,infoLost[r ] -0.002081455899826214:
1.44,-0.0009822872507286888,infoLost[r ] -0.002170773026301096:
1.46,-0.0009921147013144777,infoLost[r ] -0.00225136264312796:
1.48,-0.0009980267284282716,infoLost[r ] -0.0023229078156926887:
1.5,-0.001,infoLost[r ] -0.0023851272049293585:
1.52,-0.0009980267284282716,infoLost[r ] -0.0024377761866129495:
1.54,-0.000992114701314478,infoLost[r ] -0.002480647824939347:
1.56,-0.0009822872507286888,infoLost[r ] -0.002513573696624559:
1.58,-0.0009685831611286311,infoLost[r ] -0.0025364245623382287:
1.6,-0.0009510565162951537,infoLost[r ] -0.0025491108828829176:
1.62,-0.0009297764858882513,infoLost[r ] -0.002551583178137765:
1.6400000000000001,-0.0009048270524660196,infoLost[r ] -0.00254383222740061:
1.6600000000000001,-0.0008763066800438634,infoLost[r ] -0.0025258891103839623:
1.68,-0.0008443279255020155,infoLost[r ] -0.002497825088744927:
1.7,-0.0008090169943749476,infoLost[r ] -0.002459751328654668:
1.72,-0.0007705132427757896,infoLost[r ] -0.002411818465536942:
1.74,-0.0007289686274214116,infoLost[r ] -0.002354216012724906:
1.76,-0.000684547105928689,infoLost[r ] -0.0022871716163985903:
1.78,-0.0006374239897486896,infoLost[r ] -0.0022109501597694326:
1.8,-0.0005877852522924733,infoLost[r ] -0.0021258527200709114:
1.82,-0.0005358267949789964,infoLost[r ] -0.0020322153824930164:
1.84,-0.00048175367410171533,infoLost[r ] -0.0019304079157609797:
1.86,-0.0004257792915650722,infoLost[r ] -0.0018208323146028885:
1.8800000000000001,-0.00036812455268467786,infoLost[r ] -0.001703921214874554:
1.9000000000000001,-0.0003090169943749477,infoLost[r ] -0.0015801361876110758:
1.92,-0.0002486898871648554,infoLost[r ] -0.0014499659187510586:
1.94,-0.00018738131458572469,infoLost[r ] -0.0013139242817293952:
1.96,-0.00012533323356430466,infoLost[r ] -0.0011725483105562502:
1.98,-0.00006279051952931326,infoLost[r ] -0.0010263960813915779:
2,-2.4492935982947063e-19,infoLost[r ] -0.0008760445109847787:
2.02,0.00006279051952931277,infoLost[r ] -0.000722087080676294:
2.04,0.00012533323356430417,infoLost[r ] -0.0005651314949510263:
2.06,0.00018738131458572422,infoLost[r ] -0.00040579728379103863:
2.08,0.0002486898871648549,infoLost[r ] -0.00024471335829616886:
2.1,0.0003090169943749472,infoLost[r ] -0.00008251552922508652:
2.12,0.0003681245526846782,infoLost[r ] 0.0000801560017449044:
2.14,0.00042577929156507253,infoLost[r ] 0.00024265916813376298:
2.16,0.00048175367410171566,infoLost[r ] 0.0004043525721766591:
2.18,0.0005358267949789967,infoLost[r ] 0.0005645980157414411:
2.2,0.0005877852522924735,infoLost[r ] 0.0007227630186537631:
2.22,0.0006374239897486898,infoLost[r ] 0.0008782233144879725:
2.24,0.0006845471059286893,infoLost[r ] 0.001030365313971132:
2.2600000000000002,0.0007289686274214118,infoLost[r ] 0.0011785885262755825:
2.2800000000000002,0.0007705132427757893,infoLost[r ] 0.001322307928641936:
2.3000000000000003,0.0008090169943749478,infoLost[r ] 0.0014609562749784758:
2.32,0.0008443279255020147,infoLost[r ] 0.0015939863343240053:
2.34,0.0008763066800438631,infoLost[r ] 0.0017208730503381565:
2.36,0.0009048270524660194,infoLost[r ] 0.0018411156132949805:
2.38,0.0009297764858882512,infoLost[r ] 0.001954239436401134:
2.4,0.0009510565162951536,infoLost[r ] 0.0020597980286376806:
2.42,0.000968583161128631,infoLost[r ] 0.00215737475673301:
2.44,0.0009822872507286886,infoLost[r ] 0.0022465844893120755:
2.46,0.0009921147013144777,infoLost[r ] 0.0023270751167322073:
2.48,0.0009980267284282716,infoLost[r ] 0.0023985289406064877:
2.5,0.001,infoLost[r ] 0.0024606639275300316:
2.52,0.0009980267284282716,infoLost[r ] 0.002513234822060528:
2.54,0.000992114701314478,infoLost[r ] 0.0025560341145599067:
2.56,0.0009822872507286886,infoLost[r ] 0.0025888928600768866:
2.58,0.0009685831611286311,infoLost[r ] 0.00261168134503807:
2.6,0.0009510565162951537,infoLost[r ] 0.002624309599115924:
2.62,0.0009297764858882517,infoLost[r ] 0.0026267277502530877:
2.64,0.0009048270524660192,infoLost[r ] 0.0026189262214414313:
2.66,0.0008763066800438634,infoLost[r ] 0.002600935768478899:
2.68,0.0008443279255020151,infoLost[r ] 0.0025728273585547507:
2.7,0.0008090169943749477,infoLost[r ] 0.0025347118901420575:
2.72,0.0007705132427757886,infoLost[r ] 0.0024867397553026164:
2.74,0.000728968627421411,infoLost[r ] 0.00242910024613139:
2.7600000000000002,0.0006845471059286884,infoLost[r ] 0.002362020807682717:
2.7800000000000002,0.0006374239897486897,infoLost[r ] 0.002285766140326449:
2.8000000000000003,0.0005877852522924733,infoLost[r ] 0.002200637155076381:
2.82,0.0005358267949789972,infoLost[r ] 0.00210696978601365:
2.84,0.0004817536741017162,infoLost[r ] 0.002005133664491748:
2.86,0.00042577929156507394,infoLost[r ] 0.0018955306603553074:
2.88,0.00036812455268467797,infoLost[r ] 0.0017785932959296692:
2.9,0.0003090169943749478,infoLost[r ] 0.0016547830390403681:
2.92,0.0002486898871648555,infoLost[r ] 0.001524588481799071:
2.94,0.0001873813145857257,infoLost[r ] 0.0013885234123434038:
2.96,0.0001253332335643039,infoLost[r ] 0.0012471247871405017:
2.98,0.00006279051952931338,infoLost[r ] 0.0011009506118566114:
3,3.6739403974420597e-19,infoLost[r ] 0.000950577739155882:
3.02,-0.00006279051952931265,infoLost[r ] 0.0007965995921193849:
3.04,-0.00012533323356430317,infoLost[r ] 0.0006396238222689057:
3.06,-0.00018738131458572496,infoLost[r ] 0.0004802699114381605:
3.08,-0.0002486898871648548,infoLost[r ] 0.0003191667269557176:
3.1,-0.0003090169943749471,infoLost[r ] 0.00015695003978812076:
3.12,-0.00036812455268467727,infoLost[r ] -0.000005739984562034677:
3.14,-0.0004257792915650733,infoLost[r ] -0.00016826131250086617:
3.16,-0.00048175367410171555,infoLost[r ] -0.00032997257616009613:
3.18,-0.0005358267949789966,infoLost[r ] -0.0004902356045863194:
3.2,-0.0005877852522924728,infoLost[r ] -0.0006484179423131909:
3.22,-0.0006374239897486906,infoLost[r ] -0.0008038953453769352:
3.24,-0.0006845471059286892,infoLost[r ] -0.0009560542449245493:
3.2600000000000002,-0.0007289686274214118,infoLost[r ] -0.0011042941686920135:
3.2800000000000002,-0.0007705132427757893,infoLost[r ] -0.0012480301107960238:
3.3000000000000003,-0.0008090169943749473,infoLost[r ] -0.001386694840486814:
3.3200000000000003,-0.0008443279255020156,infoLost[r ] -0.0015197411407504714:
3.34,-0.000876306680043863,infoLost[r ] -0.0016466439679260236:
3.36,-0.0009048270524660189,infoLost[r ] -0.0017669025238143065:
3.38,-0.0009297764858882514,infoLost[r ] -0.001880042232100924:
3.4,-0.0009510565162951535,infoLost[r ] -0.001985616611293305:
3.42,-0.000968583161128631,infoLost[r ] -0.002083209036780231:
3.44,-0.0009822872507286886,infoLost[r ] -0.002172434385059789:
3.46,-0.000992114701314478,infoLost[r ] -0.0022529405536467575:
3.48,-0.0009980267284282716,infoLost[r ] -0.002324409850661044:
3.5,-0.001,infoLost[r ] -0.0023865602486131156:
3.52,-0.0009980267284282716,infoLost[r ] -0.002439146497438303:
3.54,-0.000992114701314478,infoLost[r ] -0.002481961092387358:
3.56,-0.0009822872507286886,infoLost[r ] -0.0025148350929534383:
3.58,-0.0009685831611286312,infoLost[r ] -0.002537638789603595:
3.6,-0.0009510565162951538,infoLost[r ] -0.0025502822156834868:
3.62,-0.0009297764858882517,infoLost[r ] -0.0025527155024750703:
3.64,-0.0009048270524660192,infoLost[r ] -0.002544929076006015:
3.66,-0.0008763066800438635,infoLost[r ] -0.002526953694834133:
3.68,-0.0008443279255020151,infoLost[r ] -0.0024988603286577107:
3.7,-0.0008090169943749477,infoLost[r ] -0.002460759878230806:
3.72,-0.0007705132427757886,infoLost[r ] -0.0024128027376888925:
3.74,-0.0007289686274214111,infoLost[r ] -0.002355178201012149:
3.7600000000000002,-0.0006845471059286885,infoLost[r ] -0.0022881137149688003:
3.7800000000000002,-0.0006374239897486897,infoLost[r ] -0.002211873981486829:
3.8000000000000003,-0.0005877852522924734,infoLost[r ] -0.0021267599129965666:
3.8200000000000003,-0.0005358267949789958,infoLost[r ] -0.0020331074448669633:
3.84,-0.0004817536741017163,infoLost[r ] -0.0019312862096223086:
3.86,-0.00042577929156507405,infoLost[r ] -0.0018216980781716433:
3.88,-0.0003681245526846781,infoLost[r ] -0.0017047755738080102:
3.9,-0.0003090169943749479,infoLost[r ] -0.0015809801652367245:
3.92,-0.0002486898871648556,infoLost[r ] -0.001450800445369309:
3.94,-0.0001873813145857258,infoLost[r ] -0.0013147502030705835:
3.96,-0.000125333233564304,infoLost[r ] -0.0011733663954688217:
3.98,-0.00006279051952931352,infoLost[r ] -0.0010272070288313603:
4,-4.898587196589413e-19,infoLost[r ] -0.0008768489563688463
)

plot2d_IV(dT,dI,f,Nt,Nint,isImplicit)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{N=Nt*Nint,xt=zeros(N+1,1),yt=zeros(N+1,2)},run=<last{make_tIV(dT,dI,f,Nt,Nint,isImplicit)==>,_s((n)=<last{xt[n]=tt[n],yt[n]=(tI[n],tV[n])},0,N)},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_IV)

make_tIV(dT,dI,f,Nt,Nint,isImplicit)=<last{$TK=273.15,Tref=15+TK,T=Tref+dT,($Eact_R0,$Eact_a1,$Eact_a2)=(20,50,10)*1e3,$Rgas=8.31446261815324,ratio_factor(T,Tref,Eact)=<exp((1/Tref-1/T)*Eact/Rgas),ratio_R0=ratio_factor(T,Tref,Eact_R0)=>,ratio_a1=ratio_factor(T,Tref,Eact_a1)=>,ratio_a2=ratio_factor(T,Tref,Eact_a2)=>,L=1e-4,R0=0.5+0.5/ratio_R0,R1=2,C1=0.1,a1=1/(R1*C1),b1=1/C1,a2=0.01,b2=0.12,a1=a1*ratio_a1,a2=a2*ratio_a2,omega=2*pi*f,dt=1/(f*Nt),N=Nt*Nint,tt=zeros(N+1,1),tI=zeros(N+1,1),tV=zeros(N+1,1),oldV1=0,oldV2=0,_s((n)=<last{t=n*dt,It=dI*sin(omega*t),dIt=dI*cos(omega*t)*omega,newV1=switch(isImplicit,(oldV1+b1*dt*It)/(1+a1*dt):1,(1-a1*dt)*oldV1+b1*dt*It),newV2=switch(isImplicit,(oldV2+b2*dt*It)/(1+a2*dt):1,(1-a2*dt)*oldV2+b2*dt*It),oldV1=newV1,oldV2=newV2,Vt=L*dIt+R0*It+newV1+newV2,tt[n]=t,tI[n]=It,tV[n]=Vt},0,N)}
stored_eqn(make_tIV)

clear
local storage cleared

[isImplicit=1,isBode=0,=<plot2d_EIS_DFT(isBode,=<sweep_f(0,1e-3,1e3,0.01,10,100,1,isImplicit)=>)=>]=>
(
infoLost[ri] 1.0000543892797595,infoLost[ri] -0.6392747864438679:
infoLost[ri] 1.0001977616975475,infoLost[ri] -0.1975740615050974:
infoLost[ri] 1.0008790467041697,infoLost[ri] -0.0479904776943557:
infoLost[ri] 1.0051938738253916,infoLost[ri] 0.030553331468587738:
infoLost[ri] 1.037068222014053,infoLost[ri] 0.15188583273656364:
infoLost[ri] 1.242807719727751,infoLost[ri] 0.44630037046408627:
infoLost[ri] 1.969109194433165,infoLost[ri] 0.8282224753004636:
infoLost[ri] 2.7477978607716453,infoLost[ri] 0.6608797016283413:
infoLost[ri] 2.9780526592821834,infoLost[ri] 0.4265315270581721:
infoLost[ri] 3.0951615526363168,infoLost[ri] 0.6774520967840968:
infoLost[ri] 3.7113368362120522,infoLost[ri] 1.8234973547405817
)

plot2d_EIS_DFT(isBode,fZ)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{N=sizer(fZ),xt=zeros(N,1),yt=zeros(N,1)},run=<last{switch(isBode==0,=<_s((n)=<last{Z=fZ[n][1],xt[n]=real(Z),yt[n]=-imag(Z)},0,N-1):isBode>0,=<_s((n)=<last{f=fZ[n][0],Z=fZ[n][1],xt[n]=log10(f),yt[n]=abs(Z)},0,N-1):1,=<_s((n)=<last{f=fZ[n][0],Z=fZ[n][1],xt[n]=log10(f),yt[n]=deg_atan2(imag(Z),real(Z))},0,N-1))},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_EIS_DFT)

sweep_f(dT,dI,f0,f1,Nf,Nt,Nint,isImplicit)=<[out=<fZ,init=<last{fZ=zeros(Nf+1,2)},run=<last{calc_f(n)=<exp(log(f0)+(log(f1)-log(f0))*n/Nf),_s((n)=<last{f=calc_f(n)=>,make_IV(dT,dI,f,Nt,Nint,isImplicit)==>,fZ[n]=(f,calc_Z(DFT_IV(=<tI,f,dt)=>,DFT_IV(=<tV,f,dt)=>)=>)},0,Nf)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(sweep_f)

calc_Z(zI,zV)=<[out=<Z,init=<last{0},run=<last{Z=zV/zI},init=>,run=>,return=out=>,=<return]=>
stored_eqn(calc_Z)

DFT_IV(IV,f,dt)=<[out=<zIV,init=<last{N=sizer(IV)},run=<last{omega=2*pi*f,zIV=_s((n)=<IV[n]*exp(-i*omega*n*dt),0,N-1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DFT_IV)

make_IV(dT,dI,f,Nt,Nint,isImplicit)=<last{$TK=273.15,Tref=15+TK,T=Tref+dT,($Eact_R0,$Eact_a1,$Eact_a2)=(20,50,10)*1e3,$Rgas=8.31446261815324,ratio_factor(T,Tref,Eact)=<exp((1/Tref-1/T)*Eact/Rgas),ratio_R0=ratio_factor(T,Tref,Eact_R0)=>,ratio_a1=ratio_factor(T,Tref,Eact_a1)=>,ratio_a2=ratio_factor(T,Tref,Eact_a2)=>,L=1e-4,R0=0.5+0.5/ratio_R0,R1=2,C1=0.1,a1=1/(R1*C1),b1=1/C1,a2=0.01,b2=0.12,a1=a1*ratio_a1,a2=a2*ratio_a2,omega=2*pi*f,dt=1/(f*Nt),N=Nt*Nint,tI=zeros(N+1,1),tV=zeros(N+1,1),oldV1=0,oldV2=0,_s((n)=<last{t=n*dt,It=dI*sin(omega*t),dIt=dI*cos(omega*t)*omega,newV1=switch(isImplicit,(oldV1+b1*dt*It)/(1+a1*dt):1,(1-a1*dt)*oldV1+b1*dt*It),newV2=switch(isImplicit,(oldV2+b2*dt*It)/(1+a2*dt):1,(1-a2*dt)*oldV2+b2*dt*It),oldV1=newV1,oldV2=newV2,Vt=L*dIt+R0*It+newV1+newV2,tI[n]=It,tV[n]=Vt},0,N)}
stored_eqn(make_IV)

clear
local storage cleared

[isImplicit=1,isBode=0,=<plot2d_EIS(isBode,=<sweep_f(0,1e-3,1e3,0.01,10,100,1,isImplicit)=>)=>]=>
(
infoLost[ri] 1.000054390110971,infoLost[ri] -0.626708495177503:
infoLost[ri] 1.000197769963538,infoLost[ri] -0.19360101526223308:
infoLost[ri] 1.0008791279248923,infoLost[ri] -0.04674159344268481:
infoLost[ri] 1.0051946423727693,infoLost[ri] 0.030877367568292367:
infoLost[ri] 1.0370746940376965,infoLost[ri] 0.15139417727049698:
infoLost[ri] 1.2428463848394766,infoLost[ri] 0.4426585101482541:
infoLost[ri] 1.969207405077145,infoLost[ri] 0.8189304441759581:
infoLost[ri] 2.747868020204355,infoLost[ri] 0.65431421749932:
infoLost[ri] 2.978079231896036,infoLost[ri] 0.42406164035890703:
infoLost[ri] 3.0951852485694036,infoLost[ri] 0.675153482065019:
infoLost[ri] 3.7114598750937624,infoLost[ri] 1.811702692783572
)

plot2d_EIS(isBode,fZ)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{N=sizer(fZ),xt=zeros(N,1),yt=zeros(N,1)},run=<last{switch(isBode==0,=<_s((n)=<last{Z=fZ[n][1],xt[n]=real(Z),yt[n]=-imag(Z)},0,N-1):isBode>0,=<_s((n)=<last{f=fZ[n][0],Z=fZ[n][1],xt[n]=log10(f),yt[n]=abs(Z)},0,N-1):1,=<_s((n)=<last{f=fZ[n][0],Z=fZ[n][1],xt[n]=log10(f),yt[n]=deg_atan2(imag(Z),real(Z))},0,N-1))},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_EIS)

sweep_f(dT,dI,f0,f1,Nf,Nt,Nint,isImplicit)=<[out=<fZ,init=<last{fZ=zeros(Nf+1,2)},run=<last{calc_f(n)=<exp(log(f0)+(log(f1)-log(f0))*n/Nf),_s((n)=<last{f=calc_f(n)=>,make_IV(dT,dI,f,Nt,Nint,isImplicit)==>,fZ[n]=(f,calc_Z(FT_IV(=<tI,f,dt)=>,FT_IV(=<tV,f,dt)=>)=>)},0,Nf)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(sweep_f)

calc_Z(zI,zV)=<[out=<Z,init=<last{0},run=<last{Z=zV/zI},init=>,run=>,return=out=>,=<return]=>
stored_eqn(calc_Z)

FT_IV(IV,f,dt)=<[out=<zIV,init=<last{N=sizer(IV)},run=<last{omega=2*pi*f,calc_w(n)=<switch((n==0)|(n==N-1),1:n%2==0,2:1,4),calc_v(n,t,val)=<calc_w(n)=>*val*exp(-i*omega*t),zIV=_s((n)=<calc_v(n,n*dt,IV[n])=>,0,N-1)*dt/3},init=>,run=>,return=out=>,=<return]=>
stored_eqn(FT_IV)

make_IV(dT,dI,f,Nt,Nint,isImplicit)=<last{$TK=273.15,Tref=15+TK,T=Tref+dT,($Eact_R0,$Eact_a1,$Eact_a2)=(20,50,10)*1e3,$Rgas=8.31446261815324,ratio_factor(T,Tref,Eact)=<exp((1/Tref-1/T)*Eact/Rgas),ratio_R0=ratio_factor(T,Tref,Eact_R0)=>,ratio_a1=ratio_factor(T,Tref,Eact_a1)=>,ratio_a2=ratio_factor(T,Tref,Eact_a2)=>,L=1e-4,R0=0.5+0.5/ratio_R0,R1=2,C1=0.1,a1=1/(R1*C1),b1=1/C1,a2=0.01,b2=0.12,a1=a1*ratio_a1,a2=a2*ratio_a2,omega=2*pi*f,dt=1/(f*Nt),N=Nt*Nint,tI=zeros(N+1,1),tV=zeros(N+1,1),oldV1=0,oldV2=0,_s((n)=<last{t=n*dt,It=dI*sin(omega*t),dIt=dI*cos(omega*t)*omega,newV1=switch(isImplicit,(oldV1+b1*dt*It)/(1+a1*dt):1,(1-a1*dt)*oldV1+b1*dt*It),newV2=switch(isImplicit,(oldV2+b2*dt*It)/(1+a2*dt):1,(1-a2*dt)*oldV2+b2*dt*It),oldV1=newV1,oldV2=newV2,Vt=L*dIt+R0*It+newV1+newV2,tI[n]=It,tV[n]=Vt},0,N)}
stored_eqn(make_IV)

clear
local storage cleared

sum(M),sum(M.),sum((M[0][0][0].))
(
369,369,369:
369,369,369:
369,369,369:
369,369:
369,369:
369,369:
369,369:
369,369:
369,369
)

M.filter((x)=<x==1||x==N**2)
(
81,1:
6,7:
5,5
)

M=make_M(N,floor(sw0*N),sw1)=>
M=(
56,67,78,8,10,21,32,43,54:
66,77,7,18,20,31,42,53,55:
76,6,17,19,30,41,52,63,65:
5,16,27,29,40,51,62,64,75:
15,26,28,39,50,61,72,74,4:
25,36,38,49,60,71,73,3,14:
35,37,48,59,70,81,2,13,24:
45,47,58,69,80,1,12,23,34:
46,57,68,79,9,11,22,33,44
)

($sw0,$sw1)=[(useRand)=<(useRand&&rand(),useRand&&rand())](false)=>
stored_var(sw0) stored_var(sw1) 

N=floor(N/2)*2+1
N=9

N=9
N=9

make_M(N,k,sw)=<zeros(N).map((x,i_,j_)=<get_Mij(i_+1,j_+1,k,sw)=>)
stored_eqn(make_M)

get_Mij(m,n,k,sw)=<last[a0=(m+(n-1)*2)%N,b0=(m+n+(N+k*2-1)/2)%N,($a,$b)=sw&&&(a0,b0)|||(b0,a0),N*a+b+1]
stored_eqn(get_Mij)

clear
local storage cleared

Fermat(2,5)=>
(
25:
24:
21:
16:
9
)

Fermat(n,z)=<[yns=zeros(z,1),zn(z)=<z**n,yn(z,x)=<zn(z)=>-zn(x)=>,_s((x)=<yns[x]=yn(z,x)=>,0,z-1),=<yns]=>
stored_eqn(Fermat)

clear
local storage cleared

Pythagoras(2,3)=>
(
5,12,13
)

Pythagoras(l,m)=<[=<(m^2-l^2,2*m*l,m^2+l^2)]=>
stored_eqn(Pythagoras)

clear
local storage cleared

[n=100,primes=listup_primes(0,n)=>,primes_factorized=factorize(n,=<trans(primes))=>,=<(n,=prod(primes_factorized):primes_factorized:primes)]=>
(
100,100:
2,2,5,5:
2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97
)

factorize(n,primes)=<[arr=[],_r((k)=<last{prime=pickup_prime(n,=<primes)=>,arr.push(prime),n=n/prime},isPrime=n>1,isPrime&&1e6,=<{n<=1}),=<arr]=>
stored_eqn(factorize)

pickup_prime(n,primes)=<[_r((k)=<last{prime=primes[k],k+1},N=sizer(primes),N,=<{n%prime==0}),=<prime]=>
stored_eqn(pickup_prime)

listup_primes(n0,n1)=<[arr=[],_s((n)=<isPrime(n)=>&&&arr.push(n),n0,n1),=<arr]=>
stored_eqn(listup_primes)

isPrime(n)=<[isPrime=n>1,kmax=sqrt(n),_r((k)=<k+1,2,isPrime&&1e6,=<{k>kmax|||n%k==0&&&(isPrime=0)}),=<isPrime]=>
stored_eqn(isPrime)

clear
local storage cleared

pi
3.141592653589793

(make_tn_nested(nmax)=>)(0)=>
infoLost[r ] 3.1415926535897927

delta_squared_process(=<sn,nmax)=>
(
1.2246467991473532e-16,2,2.82842712474619,3.0614674589207183,3.121445152258052,3.1365484905459393,3.140331156954753,3.141277250932773,3.141513801144301:
infoLost[r ] 3.414213562373094,3.152681772392524,3.142231404453587,3.1416318132407617,3.14159508945922,3.1415928056513933,3.1415926630908313:
infoLost[r ] 3.141796445191483,3.141595317679803,3.1415926934489775,3.141592654205918,3.1415926535993943:
infoLost[r ] 3.1415926587564154,3.1415926536101635,3.141592653589873:
infoLost[r ] 3.1415926535897927
)

nmax=8
nmax=8

make_tn_nested(nmax_)=<[step=(=<f)=<[=<(n)=<tn(=<f,n)=>]=>f,(nmax__)=<(_r(=<step(=<f)=>,f(n)=<sn(n)=>,floor(nmax__/2)),=<f)=>](nmax_)=>
stored_eqn(make_tn_nested)

delta_squared_process(=<sn,nmax)=<[arr_sn=[arr_sn=[],_s((n)=<arr_sn.push(sn(n)=>),,nmax),=<arr_sn]=>,step(arr)=<[arr_tn=[],len=sizec(arr),_s((n)=<arr_tn.push(tn((n)=<arr[][n],n)=>),,len-3),=<arr_tn]=>,_r(=<arr[sizer(arr)].push(step(=<arr[sizer(arr)-1])=>),arr=arr_sn,floor(nmax/2)),=<arr]=>
stored_eqn(delta_squared_process)

sn(n)=<last[r=1,calc_len_circumcircle(n,r)=<[t=(2*pi/n)/2,x=r*sin(t),len=2*x*n,=<len]=>,calc_len_circumcircle(2**n,r)=>/(2*r)]
stored_eqn(sn)

$tn(=<sn,n)=<last[,tn_(=<sn,n)==>]
stored_eqn(const tn)

tn_(=<sn_,n)=<sn_(n)=>-(sn_(n+1)=>-sn_(n)=>)**2/(sn_(n+2)=>-2*sn_(n+1)=>+sn_(n)=>)
stored_eqn(tn_)

clear
local storage cleared

zeta_Euler_Maclaurin_table(s,n0,14)=>
infoLost[ri] -0.000034251569351289105+0.00021530419858080993i

zeta_Euler_Maclaurin(s,n0,4)=>
-0.000034251883250050255+0.00021530403032802051i

n0=max(20,round(abs(s-1/2)))
n0=20

s=1/2+14.135i
s=0.5+14.135i

zeta_Euler_Maclaurin_table(s,n,m)=<last[table_Bn={1/1,-1/2,1/6,,-1/30,,1/42,,-1/30,,5/66,,-691/2730,,7/6,,-3617/510,,43867/798,,-174611/330,,854513/138,,-236364091/2730,,8553103/6,,-23749461029/870},table=table_Bn/linspace(0,28,29).!,Tkn(k,n,s)=<table[2*k]*n**(1-s-2*k)*_p((j)=<s+j,0,2*k-2),_s((j)=<j**(-s),1,n-1)+n**(-s)/2+n**(1-s)/(s-1)+_s((k)=<Tkn(k,n,s)=>,1,m)]
stored_eqn(zeta_Euler_Maclaurin_table)

zeta_Euler_Maclaurin(s,n,m)=<last[Bn(n)=<n==0|||-_s((k)=<combin(n+1,k)*Bn(k)=>,0,n-1)/(n+1),Tkn(k,n,s)=<(Bn(2*k)=>/(2*k)!)*n**(1-s-2*k)*_p((j)=<s+j,0,2*k-2),_s((j)=<j**(-s),1,n-1)+n**(-s)/2+n**(1-s)/(s-1)+_s((k)=<Tkn(k,n,s)=>,1,m)]
stored_eqn(zeta_Euler_Maclaurin)

clear
local storage cleared

FourierN((t)=<e^(i*(2.5)*t),2,1,5)=>
0.2899899692761624-0.9219107527251331i+O(6e-10+6e-10i)

FourierN(=<f,x,omega,N)=<last[isSym=false,NI=300,T=2*pi/omega,cn(n)=<_o45((t,x)=<(f(t)=>)*e^(-i*(n*omega)*t),,isSym&&&[-T,T]/2|||[0,T],NI)/T,_s((n)=<(cn(n)=>)*e^(i*(n*omega)*x),-N,N)]
stored_eqn(FourierN)

FourierN((t)=<e^(i*(2.5)*t),2,1,5)=>
infoLost[ri] 0.2899899693389987-0.9219107527348573i

FourierN(=<f,x,omega,N)=<last[isSym=false,NI=300,T=2*pi/omega,cn(n)=<_i0((t)=<(f(t)=>)*e^(-i*(n*omega)*t),isSym&&&[-T,T]/2|||[0,T],NI)/T,_s((n)=<(cn(n)=>)*e^(i*(n*omega)*x),-N,N)]
stored_eqn(FourierN)

FourierN((t)=<e^(i*(2.5)*t),2,1,5)=>
infoLost[ri] 0.2899899548296927-0.9219108496824987i+O(3e-8+3e-8i)

FourierN(=<f,x,omega,N)=<last[isSym=false,NI=300,T=2*pi/omega,cn(n)=<_i((t)=<(f(t)=>)*e^(-i*(n*omega)*t),isSym&&&[-T,T]/2|||[0,T],NI)/T,_s((n)=<(cn(n)=>)*e^(i*(n*omega)*x),-N,N)]
stored_eqn(FourierN)

FourierN_sym((t)=<e^(i*(2.5)*t),2,1,5)=>
infoLost[ri] 0.2993437794247694-1.0833313140812981i+O(3e-8+3e-8i)

FourierN_sym(=<f,x,omega,N)=<last[NI=300,T=2*pi/omega,cn(n)=<_i((t)=<(f(t)=>)*e^(-i*(n*omega)*t),[-pi,pi]/omega,NI)/T,_s((n)=<(cn(n)=>)*e^(i*(n*omega)*x),-N,N)]
stored_eqn(FourierN_sym)

last[ft=<e^(i*(2.5)*t),FourierN_sym(=<ft,2,5)=>]
infoLost[ri] 0.2993437794247694-1.0833313140812981i+O(3e-8+3e-8i)

FourierN_sym(==<ft_,x,N)=<last[NI=300,cn(n)=<_i((t)=<(ft_=>)*e^(-i*(n)*t),[-pi,pi]/1,NI)/(2*pi),_s((n)=<(cn(n)=>)*e^(i*(n)*x),-N,N)]
stored_eqn(FourierN_sym)

clear
local storage cleared

last[f=<exp(x),TaylorN(=<f,0,2,5)=>]
7.266666985820034+0.00005548361471841506i+O(4e+0+4e+0i)

TaylorN(=<f_,a,x,N)=<_s((n)=<_d((x)=<f_=>,a,n)*(x-a)^n/n!,0,N)
stored_eqn(TaylorN)

clear
local storage cleared

last[f=<exp(x),MaclaurinN(=<f,2,5)=>]
7.266666985820034+0.00005548361471841506i+O(4e+0+4e+0i)

MaclaurinN(=<f_,x,N)=<_s((n)=<_d((x)=<f_=>,0,n)*x^n/n!,0,N)
stored_eqn(MaclaurinN)

clear
local storage cleared

[w={1,2,3,4:5,6,7,8}*(1+i),=<DWT2d_yx(=<w)=>]=>
(
1+i,5+5i:
2+2i,6+6i:
3+3i,7+7i:
4+4i,8+8i
)

DWT2d_yx(w)=<[out=<w,init=<last{N=sizer(w),M=sizec(w),W=zeros(N,M),p=round(log2(N)),q=round(log2(M))},run=<last{W_row(w,N)=<_s((t)=<last{a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b},N2=N>>1,N2-1),W_col(w,N)=<_s((t)=<last{a=w[][2*t],b=w[][2*t+1],W[][t]=a+b,W[][t+N2]=a-b},N2=N>>1,N2-1),_r((n)=<last{W_col(=<w,first{Nq,Nq=Nq>>1})=>,w=W},Nq=1<<q,q),_r((n)=<last{w=W,W_row(=<w,first{Np,Np=Np>>1})=>},Np=1<<p,p),buffer=W,w_row(W,N2)=<_s((t)=<last{a=W[t],b=W[t+N2],w[2*t]=0.5*(a+b),w[2*t+1]=0.5*(a-b)},0,N2-1),w_col(W,N2)=<_s((t)=<last{a=W[][t],b=W[][t+N2],w[][2*t]=(a+b)*0.5,w[][2*t+1]=(a-b)*0.5},0,N2-1),w=W,_r((n)=<last{w_col(=<W,first{Nq,Nq=Nq<<1})=>,W=w},Nq=1,q),_r((n)=<last{W=w,w_row(=<W,first{Np,Np=Np<<1})=>},Np=1,p),W=buffer},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DWT2d_yx)

clear
local storage cleared

[w={1,2,3,4:5,6,7,8}*(1+i),=<DWT2d_xy(=<w)=>]=>
(
1+i,5+5i:
2+2i,6+6i:
3+3i,7+7i:
4+4i,8+8i
)

DWT2d_xy(w)=<[out=<w,init=<last{N=sizer(w),M=sizec(w),W=zeros(N,M),p=round(log2(N)),q=round(log2(M))},run=<last{W_row(w,N)=<_s((t)=<last{a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b},N2=N>>1,N2-1),W_col(w,N)=<_s((t)=<last{a=w[][2*t],b=w[][2*t+1],W[][t]=a+b,W[][t+N2]=a-b},N2=N>>1,N2-1),_r((n)=<last{W_row(=<w,first{Np,Np=Np>>1})=>,w=W},Np=1<<p,p),_r((n)=<last{w=W,W_col(=<w,first{Nq,Nq=Nq>>1})=>},Nq=1<<q,q),buffer=W,w_row(W,N2)=<_s((t)=<last{a=W[t],b=W[t+N2],w[2*t]=0.5*(a+b),w[2*t+1]=0.5*(a-b)},0,N2-1),w_col(W,N2)=<_s((t)=<last{a=W[][t],b=W[][t+N2],w[][2*t]=(a+b)*0.5,w[][2*t+1]=(a-b)*0.5},0,N2-1),w=W,_r((n)=<last{w_row(=<W,first{Np,Np=Np<<1})=>,W=w},Np=1,p),_r((n)=<last{W=w,w_col(=<W,first{Nq,Nq=Nq<<1})=>},Nq=1,q),W=buffer},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DWT2d_xy)

clear
local storage cleared

[w={1,2,3,4}*(1+i),=<DWT1d(=<w)=>]=>
(
1+i:
2+2i:
3+3i:
4+4i
)

DWT1d(w)=<[out=<w,init=<last{N=sizer(w),W=zeros(N,1),p=round(log2(N))},run=<last{W(w,N)=<_s((t)=<last{a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b},N2=N>>1,N2-1),_r((n)=<last{W(=<w,first{Np,Np=Np>>1})=>,w=W},Np=1<<p,p),buffer=W,w(W,N2)=<_s((t)=<last{a=W[t],b=W[t+N2],w[2*t]=0.5*(a+b),w[2*t+1]=0.5*(a-b)},0,N2-1),_r((n)=<last{w(=<W,first{Np,Np=Np<<1})=>,W=w},Np=1,p),W=buffer},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DWT1d)

clear
local storage cleared

[f={1,2,3,4:5,6,7,8}*(1+i),=<DFT2d_yx(=<f)=>]=>
(
infoLost[ri] 1.0000000000000013+0.9999999999999993i,infoLost[ i] 5.000000000000002+4.999999999999999i:
infoLost[ri] 2.000000000000001+1.9999999999999987i,infoLost[ri] 6+5.999999999999999i:
infoLost[ri] 3+2.999999999999999i,infoLost[ i] 6.999999999999999+6.999999999999999i:
infoLost[ri] 4+3.999999999999999i,infoLost[ri] 8+8.000000000000002i
)

DFT2d_yx(f)=<[out=<f,init=<last{N=sizer(f),M=sizec(f),Nf=1,Ni=1/N,Mf=1,Mi=1/M,F=zeros(N,M)},run=<last{F(v,u)=<{_s((x)=<{_s((y)=<f[x][y]*e^(-i*v*y*2*pi/M),0,M-1)*Mf}*e^(-i*u*x*2*pi/N),0,N-1)*Nf},_s((u)=<_s((v)=<F[u][v]=F(v,u)=>,0,M-1),0,N-1),f(y,x)=<{_s((u)=<{_s((v)=<F[u][v]*e^(i*y*v*2*pi/M),0,M-1)*Mi}*e^(i*x*u*2*pi/N),0,N-1)*Ni},_s((x)=<_s((y)=<f[x][y]=f(y,x)=>,0,M-1),0,N-1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DFT2d_yx)

clear
local storage cleared

[f={1,2,3,4:5,6,7,8}*(1+i),=<DFT2d_xy(=<f)=>]=>
(
infoLost[ri] 1.0000000000000009+i,infoLost[ri] 5.000000000000002+5i:
infoLost[ri] 2.0000000000000004+1.9999999999999987i,infoLost[ri] 6+5.999999999999999i:
infoLost[ri] 2.9999999999999996+2.999999999999999i,infoLost[ri] 6.999999999999999+6.999999999999999i:
infoLost[ri] 4.000000000000001+3.9999999999999987i,infoLost[ri] 7.999999999999999+8i
)

DFT2d_xy(f)=<[out=<f,init=<last{N=sizer(f),M=sizec(f),Nf=1,Ni=1/N,Mf=1,Mi=1/M,F=zeros(N,M)},run=<last{F(u,v)=<{_s((y)=<{_s((x)=<f[x][y]*e^(-i*u*x*2*pi/N),0,N-1)*Nf}*e^(-i*v*y*2*pi/M),0,M-1)*Mf},_s((v)=<_s((u)=<F[u][v]=F(u,v)=>,0,N-1),0,M-1),f(x,y)=<{_s((v)=<{_s((u)=<F[u][v]*e^(i*x*u*2*pi/N),0,N-1)*Ni}*e^(i*y*v*2*pi/M),0,M-1)*Mi},_s((y)=<_s((x)=<f[x][y]=f(x,y)=>,0,N-1),0,M-1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DFT2d_xy)

clear
local storage cleared

[f={1,2,3,4}*(1+i),=<DFT1d(=<f)=>]=>
(
infoLost[ri] 1.0000000000000009+0.9999999999999998i:
infoLost[r ] 2+1.9999999999999996i:
infoLost[ri] 3+2.9999999999999996i:
infoLost[ri] 4+4i
)

DFT1d(f)=<[out=<f,init=<last{N=sizer(f),Nf=1,Ni=1/N,F=zeros(N,1)},run=<last{F(u)=<{_s((x)=<f[x]*e^(-i*u*x*2*pi/N),0,N-1)*Nf},_s((u)=<F[u]=F(u)=>,0,N-1),f(x)=<{_s((u)=<F[u]*e^(i*x*u*2*pi/N),0,N-1)*Ni},_s((x)=<f[x]=f(x)=>,0,N-1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(DFT1d)

clear
local storage cleared

ODE_adaptive(t0,=<(x0,v0),=<table_adaptive)=>:(_t0(args,delta,=<table_adaptive).):(_t45(args,delta).)
(
1+i,0.009079691421811805+1.1899189330021647i,1.3865457603226823+1.1502856202521345i:
1+i,0.009079691421811864+1.189918933002165i+O(1e-6+1e-6i),1.3865457603226825+1.1502856202521345i+O(1e-6+1e-6i):
1+i,0.009079691421811864+1.189918933002165i+O(1e-5+1e-5i),1.3865457603226825+1.1502856202521345i+O(1e-5+1e-5i)
)

ODE_adaptive(t0,=<(x0,v0),=<table_fixed)=>:(_t0(args,,=<table_fixed).):(_t4(args).)
(
1+i,0.009082041933643169+1.1899248519220138i,1.3865513945757815+1.1502841324490338i:
1+i,0.009082041933643085+1.1899248519220138i+O(1e-4+1e-4i),1.3865513945757815+1.150284132449034i+O(1e-4+1e-4i):
1+i,0.009082041933643085+1.1899248519220138i+O(1e-4+1e-4i),1.3865513945757815+1.150284132449034i+O(1e-4+1e-4i)
)

args=(=<f,=<{t0,x0,v0},t0+dt*Niteration,Niteration)
args=(
eqn(t,x,v),eqn,1+i,10
)

($F,$m,$k,$c)=(1,1,1,0.4)
stored_var(F) stored_var(m) stored_var(k) stored_var(c) 

f(t,x,v)=<{v,t+(F-k*x-c*v)/m}
stored_eqn(f)

{$t0,$x0,$v0}={,,}
stored_var(t0) stored_var(x0) stored_var(v0) 

table_adaptive=(0:1/4,1/4:3/8,3/32,9/32:12/13,1932/2197,-7200/2197,7296/2197:1,439/216,-8,3680/513,-845/4104:1/2,-8/27,2,-3544/2565,1859/4104,-11/40:16/135,0,6656/12825,28561/56430,-9/50,2/55:25/216,0,1408/2565,2197/4104,-1/5,0)
table_adaptive=(
0:
0.25,0.25:
0.375,0.09375,0.28125:
0.9230769230769231,0.8793809740555303,-3.277196176604461,3.3208921256258535:
1,2.0324074074074074,-8,7.173489278752436,-0.20589668615984405:
0.5,-0.2962962962962963,2,-1.3816764132553607,0.4529727095516569,-0.275:
0.11851851851851852,0,0.5189863547758284,0.5061314903420167,-0.18,0.03636363636363636:
0.11574074074074074,0,0.5489278752436647,0.5353313840155945,-0.2,0
)

table_fixed=(0:1/2,1/2:1/2,0,1/2:1,0,0,1:1/6,1/3,1/3,1/6)
table_fixed=(
0:
0.5,0.5:
0.5,0,0.5:
1,0,0,1:
0.16666666666666666,0.3333333333333333,0.3333333333333333,0.16666666666666666
)

delta=1e-7
delta=1e-7

Niteration=10
Niteration=10

dt=0.1*(1+i)
dt=0.1+0.1i

ODE_adaptive(t0,x0,table)=<[dt0=dt,t=t0,x=x0,order=##table[-1],isAdaptive=eq(#table-order,2),get_arr_f(dt,t0,x0)=<[stage_x_sum(i_)=<_r((x)=<x+dt*table[i_][__n__]*arr_f[__n__-1],=<x0,#arr_f),_r(=<arr_f[#arr_f].push(f(t0+dt*table[__n__-1][0],stage_x_sum(__n__-1)=>)=>.),arr_f=[],order),=<arr_f]=>,define_step_fixed=<step(n)=<last{arr_f=get_arr_f(dt,t,=<x)=>,x=x+dt*table[-1]*arr_f,t=t+dt},define_step_adaptive=<step(n)=<last{pNdt=0,t00=t,x00=x,dt=dt0/Ndt,_r(=<last{arr_f=get_arr_f(dt,t,=<x)=>,fc_o5=table[-2]*arr_f,fc_o4=table[-1]*arr_f,cr_norm=norm(fc_o4-fc_o5),sw=cr_norm>=hdelta,pNdt=sw&&1||0,x=x+dt*fc_o5,t=t+dt},sw=false,Ndt,=<{sw}),dt=dt0,cr_norm<=hdelta/10&&&(pNdt=-1),Ndt=max(1,Ndt*2**pNdt),pNdt===1&&&(t=t00,x=x00,step(n)=>)},Ndt=1,hdelta=abs(dt)*delta,isAdaptive&&&define_step_adaptive=>||||define_step_fixed=>,_r(=<step(__n__)=>,,Niteration),Ndt%1===0&&&(t=t0+dt*Niteration),=<(t,x)]=>
stored_eqn(ODE_adaptive)

clear
local storage cleared

ODE_fixed(t0,=<(x0,v0),=<table_Butcher)=>:(_t0(args,,=<table_Butcher).):(_t(args).)
(
1+i,0.009082041933643148+1.1899248519220138i,1.3865513945757815+1.1502841324490338i:
1+i,0.009082041933643085+1.1899248519220138i+O(1e-4+1e-4i),1.3865513945757815+1.150284132449034i+O(1e-4+1e-4i):
1+i,0.009082041933643085+1.1899248519220138i+O(1e-4+1e-4i),1.3865513945757815+1.150284132449034i+O(1e-4+1e-4i)
)

args=(=<f,=<{t0,x0,v0},t0+dt*Niteration,Niteration)
args=(
eqn(t,x,v),eqn,1+i,10
)

($F,$m,$k,$c)=(1,1,1,0.4)
stored_var(F) stored_var(m) stored_var(k) stored_var(c) 

f(t,x,v)=<{v,t+(F-k*x-c*v)/m}
stored_eqn(f)

{$t0,$x0,$v0}={,,}
stored_var(t0) stored_var(x0) stored_var(v0) 

table_Butcher=(0:1/2,1/2:1/2,0,1/2:1,0,0,1:1/6,1/3,1/3,1/6)
table_Butcher=(
0:
0.5,0.5:
0.5,0,0.5:
1,0,0,1:
0.16666666666666666,0.3333333333333333,0.3333333333333333,0.16666666666666666
)

Niteration=10
Niteration=10

dt=0.1*(1+i)
dt=0.1+0.1i

ODE_fixed(t0,x0,table)=<[order=##table[-1],get_arr_f(t0,x0)=<[stage_x_sum(i_)=<_r((x)=<x+dt*table[i_][__n__]*arr_f[__n__-1],=<x0,#arr_f),_r(=<arr_f[#arr_f].push(f(t0+dt*table[__n__-1][0],stage_x_sum(__n__-1)=>)=>.),arr_f=[],order),=<arr_f]=>,x=_r((x)=<x+dt*table[-1]*get_arr_f(t0+dt*(__n__-1),=<x)=>,=<x0,Niteration),t=t0+dt*Niteration,=<(t,x)]=>
stored_eqn(ODE_fixed)

clear
local storage cleared

[cond_error=(has__(t_total)==0)&has__(z_x0),proc=<[args=(1,0.5,0,20+20i,0,1,1),=<ODE_RK4(args)=>]=>,=<switch(cond_error==0,=<proc:1,-999)]=>
(
2:
infoLost[ri] 16.727370273919753+5.323781708140432i+O(6e-2+5e-11i):
infoLost[ri] 3.2726297260802473-4.923781708140432i+O(6e-2+3e-11i)
)

ODE_RK4(t,dt,z_x00,z_v00,z_u,m,kCdA_sphere)=<[out=<{t_total,x_next},scope2storage=<last{add__(z_x0),add__(z_v0),add__(t_total)},init=<last{switch(has__(t_total)==0,=<last{t_total=0,z_x0=z_x00,z_v0=z_v00}),g=-9.8,z_a=0+g*i,x_initial=<{z_x0,z_v0},f(t,z_x,z_v)=<{z_v,z_a+(kCdA_sphere/m)*(z_u-z_v)}},run=<last{x_next=x_initial=>,stepN=<last{N=round(t/dt),x_next=_o(=<f,=<{x_next},t_total+[,dt*N],N)},step_post=<{$z_x0,$z_v0}=x_next,evolution=<last{stepN=>,step_post=>},evolution=>,t_total=t_total+N*dt},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(ODE_RK4)

[cond_error=(has__(t_total)==0)&has__(z_x0),proc=<[args=(1,0.5,0,20+20i,0,1,1),=<Euler_method(args,1)=>]=>,=<switch(cond_error==0,=<proc:1,-999)]=>
(
1:
infoLost[ri] 11.11111111111111+6.7555555555555555i+O(2e-11+5e-11i):
infoLost[ri] 8.88888888888889+3.444444444444444i+O(2e-11+3e-11i)
)

Euler_method(t,dt,z_x00,z_v00,z_u,m,kCdA_sphere,isImplicit)=<[out=<{t_total,x_solved},scope2storage=<last{add__(z_x0),add__(z_v0),add__(t_total)},init=<last{switch(has__(t_total)==0,=<last{t_total=0,z_x0=z_x00,z_v0=z_v00}),g=-9.8,z_a=0+g*i,x_initial=<{z_x0,z_v0},switch(isImplicit,=<f(z_x,z_v)=<{(z_x-z_x0)/dt=z_v,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(z_u-z_v)}:1,=<f(z_x,z_v)=<{(z_x-z_x0)/dt=z_v0,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(z_u-z_v0)}),orderT=1,epsN=max(eps*1e3,pow(dt,orderT)),isRelative_epsN=1,relative_epsN=(epsN,isRelative_epsN)},run=<last{args_Newton=(=<f,=<x_initial,Nmax=1e3,Nmax,relative_epsN),step_iteration=<x_solved=Newton(args_Newton),step_post=<{$z_x0,$z_v0}=x_solved,step=<last{step_iteration=>,step_post=>},evolution=<_r((n)=<step=>,N=round(t/dt),N),evolution=>,t_total=t_total+N*dt},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(Euler_method)

arr_sorted=sort0(arr),($xt,$yt)=(=<arr_sorted[0],=<arr_sorted[1])
(
0,0
)

_r(=<step(=<f,generate_initial_value=>,?arr)=>,arr=[],1e2)
NaN

generate_initial_value=<6*rand()
stored_eqn(generate_initial_value)

step=(==<f_,x0,?arr)=<last[solvex=<Newton(=<f_,=<{x0},Nmax=1e3,Nmax,eps),arr[0].push(x0),arr[1].push(solvex=>)],f=(x)=<(x-0)*(x-1)*(x-2)*(x-3)*(x-4)*(x-5)*(x-6)=0
(
0,0
)

clear
local storage cleared

[N=1e2,a=0,b=100,f(x0)=<1-global_n*pow(global_base,x0),=<{solvex_non_linear(=<f,=<{0})=>,solvex_bisection(=<f,a,b,N)=>,solvex_bisection(=<f,b,a,N)=>,solvex_bisection(=<f,a,a,N)=>,solvex_non_linear((x0)=<1-global_n*pow(global_base,x0),=<{0})=>,solvex_bisection((x0)=<1-global_n*pow(global_base,x0),a,b,N)=>,solvex_bisection((x0)=<1-global_n*pow(global_base,x0),b,a,N)=>,solvex_bisection((x0)=<1-global_n*pow(global_base,x0),a,a,N)=>}]=>
(
60.393706293353056+1.132358463016199e-18i+O(3e-9+2e-14i):
60.39370596408844:
60.39370633661747:
0:
60.393706293353056+1.132358463016199e-18i+O(3e-9+2e-14i):
60.39370596408844:
60.39370633661747:
0
)

restore
local storage restored

[N=1e2,a=0,b=100,=<{solvex_non_linear(=<f,=<{0})=>,solvex_bisection(=<f,a,b,N)=>,solvex_bisection(=<f,b,a,N)=>,solvex_bisection(=<f,a,a,N)=>,solvex_non_linear((x0)=<1-global_n*pow(global_base,x0),=<{0})=>,solvex_bisection((x0)=<1-global_n*pow(global_base,x0),a,b,N)=>,solvex_bisection((x0)=<1-global_n*pow(global_base,x0),b,a,N)=>,solvex_bisection((x0)=<1-global_n*pow(global_base,x0),a,a,N)=>}]=>
(
60.393706293353056+1.132358463016199e-18i+O(3e-9+2e-14i):
60.39370596408844:
60.39370633661747:
0:
60.393706293353056+1.132358463016199e-18i+O(3e-9+2e-14i):
60.39370596408844:
60.39370633661747:
0
)

f(x0)=<last[left=global_n*pow(global_base,x0),right=1,=right-left]
stored_eqn(f)

store
local storage stored

global_base=2**(log2(3)-7/4)
global_base=0.8919053362520407

global_n=1e3+1
global_n=1001

solvex_bisection(=<f_,x0,x1,N)=<[out=<x0,init=<last{epsf=1e-7,isBreak=<isNaN(x0)|||norm(y0)<epsf},run=<_r((n)=<last{x=(x0+x1)/2,y=f_(x)=>,y0=f_(x0)=>,y1=f_(x1)=>,sign(y)==sign(y0)&&&(x0=x)||||sign(y)==sign(y1)&&&(x1=x),x0},,N,=<isBreak),init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_bisection)

solvex_non_linear(==<f_,=<x_initial_)=<[out=<x_solved,init=<last{0},run=<last{x_solved=Newton(=<f_,=<x_initial_,Nmax=1e3,Nmax,1e-10,1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_non_linear)

clear
local storage cleared

[f=<{__x__[0]^i-2*__x__[1]=3i,3*__x__[0]+exp(__x__[1])=5i},=<solvex_non_linear(=<f,=<{1+i,1-i})=>]=>
(
-0.049019216205446525+2.023423045158351i+O(1e-13+1e-14i):
0.07726186556052177-1.434248862158042i+O(8e-13+7e-13i)
)

solvex_non_linear(==<f_,=<x_initial_)=<[out=<x_solved,init=<last{0},run=<last{x_solved=Newton(=<f_,=<x_initial_,Nmax=1e3,Nmax,1e-10,1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_non_linear)

clear
local storage cleared

[y=(b[1]-t*b[0])/(k-t),x=b[0]-y,=<(x,y)]=>:Gauss(A,b).:Newton((x,y)=<{x+y=b[0],t*x+k*y=b[1]}).:Newton((x,y)=<A*{x,y}=b).:Newton((x,y)=<((x,y)*A.).=b).:Newton((x,y)=<(x,y)*A.=b.):Newton(=<A*__x__=b,=<{,}).:Newton(=<__x__.*A.=b.,=<(,))
(
40,60:
40,60:
40,60:
40,60:
40,60:
40,60:
40,60:
40,60
)

A=(1,1:t,k)
A=(
1,1:
2,4
)

($t,$k,$b)=(2,4,=<{100,320})
stored_var(t) stored_var(k) stored_var(b) 

clear
local storage cleared

[A=(i,2,3i:4,5i,6:7i,8,9i),=<solveAinv(=<A)=>]=>
(
1.4950585913490835e-28+0.7750000000000001i+O(1e-28+2e-16i),0.05000000000000001+4.7170059985371765e-29i+O(1e-17+5e-29i),4.8520014862484576e-29-0.22500000000000003i+O(5e-29+5e-17i):
infoLost[r ] 0.05000000000000003+1.4583165305713852e-29i+O(6e-18+1e-29i),infoLost[ i] 7.998049558849233e-30-0.1i+O(8e-30+1e-17i),infoLost[r ] 0.049999999999999996+1.352977926124157e-30i+O(6e-18+1e-30i):
3.0238365251322815e-28-0.5583333333333331i+O(3e-28+8e-17i),0.04999999999999999+4.2632832766742794e-29i+O(6e-18+4e-29i),-7.115335679114822e-29+0.1083333333333333i+O(7e-29+3e-17i)
)

solveAinv(A)=<[out=<Ainv,init=<last{sizeA=size(A),x0=vectorc(sizeA*sizeA)},run=<last{f=<reshape(__x__:sizeA,sizeA)*A=identity(sizeA),x_solved=Newton(=<f,=<{x0},Nmax=1e3,Nmax,1e-10,1),Ainv=reshape(x_solved:sizeA,sizeA)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solveAinv)

clear
local storage cleared

double_check=(norm((tb)-(xr*tA)):normc({b}-{A*xc}))
double_check=(
0:
0
)

xc=solvex_iteration(=<A,=<b)=>
xc=(
-0.024999999999999984i:
0.45:
-0.025000000000000005i
)

xr=solvex_iteration(=<tA,=<tb)=>
xr=(
-0.024999999999999984i,0.45,-0.025000000000000005i
)

tb=b.
tb=(
1,2i,4
)

tA=A.
tA=(
i,4,7i:
2,5i,8:
3i,6,9i
)

b={1,2i,4}
b=(
1:
2i:
4
)

A=(i,2,3i:4,5i,6:7i,8,9i)
A=(
i,2,3i:
4,5i,6:
7i,8,9i
)

solvex_iteration(A,b)=<[out=<x_solved,init=<last{sizeA=size(A),sizerb=sizer(b),sizecb=sizec(b),isRow=sizerb<sizecb},run=<last{isRow&&&(f=<(__x__.)*A=b)||||(f=<A*(__x__)=b),x_solved=Newton(=<f,=<{b*0},Nmax=1e3,Nmax,1e-10,1)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_iteration)

clear
local storage cleared

[A=(i,2,3i:4,5i,6:7i,8,9i),b={1,2i,4},=<solvex_no_pivotting(=<A,=<b)=>]=>
(
-0.025000000000000022i:
0.44999999999999996:
-0.02500000000000001i
)

solvex_no_pivotting(A,b)=<[out=<x,init=<last{sizeA=size(A),x=zeros(sizeA,1)},run=<last{forward=<last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k*A[ic],b[ir]=b[ir]-k*b[ic]},backward=<x[ir]=(b[ir]-A[ir]*x)/A[ir][ir],_s((ic)=<_s((ir)=<forward=>,ic+1,sizeA-1),0,sizeA-2),_s((ir)=<backward=>,sizeA-1,0)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_no_pivotting)

clear
local storage cleared

[A=(i,2,3i:4,5i,6:7i,8,9i),b={1,2i,4},=<solvex_pivotting(=<A,=<b)=>]=>
(
-0.024999999999999974i:
0.45:
-0.025000000000000005i
)

solvex_pivotting(A,b)=<[out=<x,init=<last{sizeA=size(A),x=zeros(sizeA,1)},run=<last{compare=<switch(abs(A[ir][ir])<abs(A[ir_comp][ir]),=<ir_pivot=ir_comp),proc=<{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w},pivotting=<last{ir_pivot=ir,compare=>,switch(ir<>ir_pivot,=<proc)},forward=<last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k*A[ic],b[ir]=b[ir]-k*b[ic]},backward=<x[ir]=(b[ir]-A[ir]*x)/A[ir][ir],_s((ir)=<_s((ir_comp)=<pivotting=>,ir+1,sizeA-1),0,sizeA-2),_s((ic)=<_s((ir)=<forward=>,ic+1,sizeA-1),0,sizeA-2),_s((ir)=<backward=>,sizeA-1,0)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_pivotting)

clear
local storage cleared

[aA=(1,1,1,1,1,1,1,-1,2,3,1,-1,3,1,1,3),mA=(1,1,1,2,2,2,3,3,3,3,4,4,4,5,6,6),nA=(1,3,5,2,4,6,1,2,3,5,3,4,5,3,4,6),b={2,-1,0,0,0,0},coo=(aA:mA:nA),A=coo2mat(coo),=<Gauss(A,b)-Gauss_coo(coo:trans(b))]=>
(
0:
0:
0:
0:
0:
0
)

[aA=(1,1,-2,1+i,3i,1,1-i,-1,-i),mA=(1,1,2,2,2,3,3,4,4),nA=(1,2,1,2,3,1,3,3,4),b={4,5,6,7i},coo=(aA:mA:nA),A=coo2mat(coo),=<Gauss(A,b)-Gauss_coo(coo:trans(b))]=>
(
0:
0:
0:
0
)

clear
local storage cleared

[rand_Ab=<last{N=5,A=zeros(N,N),b=vectorc(N),gen_rand=<rand()+rand()*i,_s((ir)=<last{_s((ic)=<A[ir][ic]=gen_rand=>,0,N-1),b[ir]=gen_rand=>},0,N-1)},rand_Ab=>,=<Gauss(A,b)-solvex_Gauss(=<A,=<b)=>]=>
(
0:
0:
0:
0:
0
)

solvex_Gauss(A,b)=<[out=<x,init=<last{sizeA=size(A),x=zeros(sizeA,1)},run=<last{compare=<last{absA_comp=abs(A[ir_comp][ir]),switch(absA_pivot<absA_comp,=<last{ir_pivot=ir_comp,absA_pivot=absA_comp})},proc=<{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w},pivotting=<last{ir_pivot=ir,absA_pivot=abs(A[ir][ir]),_s((ir_comp)=<compare=>,ir+1,sizeA-1),switch(ir<>ir_pivot,=<proc)},forward=<last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k*A[ic],b[ir]=b[ir]-k*b[ic]},backward=<last{r=b[ir],_s((ic)=<r=r-A[ir][ic]*x[ic],ir+1,sizeA-1),x[ir]=r/A[ir][ir]},_s((ir)=<pivotting=>,0,sizeA-2),_s((ic)=<_s((ir)=<forward=>,ic+1,sizeA-1),0,sizeA-2),x[sizeA-1]=b[sizeA-1]/A[sizeA-1][sizeA-1],_s((ir)=<backward=>,sizeA-2,0)},init=>,run=>,return=out=>,=<return]=>
stored_eqn(solvex_Gauss)

clear
local storage cleared

=sqrt(q1_times_cq1[][0])
5.477225575051661

norm_q1=qnorm_(=<q1)=>
norm_q1=5.477225575051661

cq1_times_q1=qmul_(=<cq1,=<q1)=>
cq1_times_q1=(
30,0,0,0
)

q1_times_cq1=qmul_(=<q1,=<cq1)=>
q1_times_cq1=(
30,0,0,0
)

=m2q_(q2m_(q1)=>')=>
(
1,-2,-3,-4
)

cq1=qconjugate_(=<q1)=>
cq1=(
1,-2,-3,-4
)

norm_nq1=qnorm_(=<nq1)=>
norm_nq1=0.9999999999999999

nq1=qnormalize_(=<q1)=>
nq1=(
0.18257418583505536,0.3651483716701107,0.5477225575051661,0.7302967433402214
)

=qmul_(=<qconjugate_(=<q2)=>,=<qconjugate_(=<q1)=>)=>
(
-12,-24,6,12
)

conj_q1_times_q2=qconjugate_(=<q1_times_q2)=>
conj_q1_times_q2=(
-12,-24,6,12
)

q1_times_q2=qmul_(=<q1,=<q2)=>
q1_times_q2=(
-12,24,-6,-12
)

q2=(-1,2,-3,4)
q2=(
-1,2,-3,4
)

q1=(1,2,3,4)
q1=(
1,2,3,4
)

qnormalize_(=<i4[0]*3)=>
(
1,0,0,0
)

_r((arr)=<(arr,qnorm_(=<i4[__n__-1])=>),=<[],#i4)
(
1,1,1,1
)

check_table=>
(
1,0,0,0:
0,1,0,0:
0,0,1,0:
0,0,0,1:
0,1,0,0:
-1,0,0,0:
0,0,0,1:
0,0,-1,0:
0,0,1,0:
0,0,0,-1:
-1,0,0,0:
0,1,0,0:
0,0,0,1:
0,0,1,0:
0,-1,0,0:
-1,0,0,0
)

check_table=<[arr=[],_s((m)=<_s((n)=<arr=(arr:qmul_(=<i4[m-1],=<i4[n-1])=>),1,4),1,4),=<arr]=>
stored_eqn(check_table)

i4=identity(4)
i4=(
1,0,0,0:
0,1,0,0:
0,0,1,0:
0,0,0,1
)

qconjugate_(q)=<[cq=-q,cq[][0]=-cq[][0],=<cq]=>
stored_eqn(qconjugate_)

qnormalize_(q)=<q/qnorm_(=<q)=>
stored_eqn(qnormalize_)

qnorm_(q)=<sqrt(sum(q*q))
stored_eqn(qnorm_)

qmul_(q1,q2)=<m2q_(q2m_(q1)=>*q2m_(q2)=>)=>
stored_eqn(qmul_)

m2q_(a,b:c,d)=<((a+d)/2,(a-d)/2i,(b-c)/2,(b+c)/2i)
stored_eqn(m2q_)

q2m_(a,b,c,d)=<(a+(b)i,c+(d)i:-c+(d)i,a-(b)i)
stored_eqn(q2m_)

clear
local storage cleared

[t=pi/4,=<[rotx_LHS(t)=>,roty_LHS(t)=>,rotz_LHS(t)=>]]=>
(
1,0,0,0.7071067811865476,0,-0.7071067811865475,0.7071067811865476,0.7071067811865475,0:
0,0.7071067811865476,0.7071067811865475,0,1,0,-0.7071067811865475,0.7071067811865476,0:
0,-0.7071067811865475,0.7071067811865476,0.7071067811865475,0,0.7071067811865476,0,0,1
)

rotz_LHS(psi)=<[rt=real(psi),=<(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)]=>
stored_eqn(rotz_LHS)

roty_LHS(theta)=<[rt=real(theta),=<(cos(rt),,-sin(rt):,1,:sin(rt),,cos(rt))]=>
stored_eqn(roty_LHS)

rotx_LHS(phi)=<[rt=real(phi),=<(1,,:,cos(rt),sin(rt):,-sin(rt),cos(rt))]=>
stored_eqn(rotx_LHS)

clear
local storage cleared

[t=pi/4,=<[rotx(t)=>,roty(t)=>,rotz(t)=>]]=>
(
1,0,0,0.7071067811865476,0,0.7071067811865475,0.7071067811865476,-0.7071067811865475,0:
0,0.7071067811865476,-0.7071067811865475,0,1,0,0.7071067811865475,0.7071067811865476,0:
0,0.7071067811865475,0.7071067811865476,-0.7071067811865475,0,0.7071067811865476,0,0,1
)

rotz(psi)=<[rt=real(psi),=<(cos(rt),-sin(rt),:sin(rt),cos(rt),:,,1)]=>
stored_eqn(rotz)

roty(theta)=<[rt=real(theta),=<(cos(rt),,sin(rt):,1,:-sin(rt),,cos(rt))]=>
stored_eqn(roty)

rotx(phi)=<[rt=real(phi),=<(1,,:,cos(rt),-sin(rt):,sin(rt),cos(rt))]=>
stored_eqn(rotx)

clear
local storage cleared

[L=(1,2:3:4,5:6),R=(1,2:3,4,5),=<LpR(=<L,=<R)=>]=>
(
7,10,10:
3,6,0:
19,28,25:
6,12,0
)

LpR(L,R)=<[product=<LR[ir][ic]=ttL[ir]*(ttR.)[ic].,ttL=L..,ttR=R..,LR=zeros(sizer(ttL),sizec(ttR)),_s((ir)=<_s((ic)=<product=>,0,sizec(ttR)-1),0,sizer(ttL)-1),=<LR]=>
stored_eqn(LpR)

clear
local storage cleared

1.2020569031595942
1.2020569031595942

globalS((z)=<globalS((y)=<globalS((x)=<1/(1-x*y*z))==>)==>)==>
1.1615148886593514+O(5e-2)

globalS(=<f)=<_o1((t,x)=<f(t)=>,,0,1,NI)
stored_eqn(globalS)

globalS((z)=<globalS((y)=<globalS((x)=<1/(1-x*y*z))==>)==>)==>
1.1615148886593514+O(5e-2)

globalS(=<f)=<(_t1((t,x)=<f(t)=>,=<{0,},1,NI))[1]
stored_eqn(globalS)

globalS((z)=<globalS((y)=<globalS((x)=<1/(1-x*y*z))==>)==>)==>
infoLost[r ] Infinity

globalS(=<f)=<_i(=<f,0,1,NI)
stored_eqn(globalS)

1.2020569031595942
1.2020569031595942

globalS((z)=<globalS((y)=<globalS((x)=<1/(1-x*y*z))==>)==>)==>
infoLost[r ] 1.2020710432994668+O(2e-99)

globalS(=<f)=<_i0(=<f,0,1,NI)
stored_eqn(globalS)

globalS((z)=<globalS((y)=<globalS((x)=<1/(1-x*y*z))==>)==>)==>
infoLost[r ] 1.2020710432994668+O(2e-99)

globalS(=<f)=<integral_DE_quadrature(=<f,0,1,NI,10/NI,)==>
stored_eqn(globalS)

NI=20
NI=20

check((x)=<x,-inf,-inf,NI,)=>:NaN
(
NaN:
NaN:
NaN
)

check((x)=<x,inf,inf,NI,)=>:NaN
(
NaN:
NaN:
NaN
)

check((x)=<1/x,inf,inf,NI,)=>:0
(
0:
0:
0
)

check((x)=<1/x,0,0,NI,)=>:0
(
0:
0:
0
)

NI=100
NI=100

check((x)=<pow(x,2)*exp(x),1+i,0,NI,)=>:2
(
infoLost[ri] 1.9999999999999998-5.0460859343162915e-17i+O(1e-99):
infoLost[ri] 2-5.2147947305780067e-17i+O(1e-99):
2
)

check((x)=<pow(x,2)*exp(x),0,1+i,NI,)=>:-2
(
infoLost[ri] -2.000000000000001+5.1392964789844994e-17i+O(1e-99):
infoLost[ri] -2.000000000000001+5.015155297144277e-17i+O(1e-99):
-2
)

NI=100
NI=100

check((x)=<sqrt(tan(x)),pi/4,0,NI,)=>:-0.48749549439936104836
(
infoLost[r ] -0.487495494399361+O(1e-100):
infoLost[r ] -0.487495494399361+O(1e-100):
-0.4874954943993611
)

check((x)=<sqrt(tan(x)),0,pi/4,NI,)=>:0.48749549439936104836
(
infoLost[r ] 0.48749549439936124+O(1e-100):
infoLost[r ] 0.48749549439936113+O(1e-100):
0.4874954943993611
)

NI=100
NI=100

check((x)=<exp(-x)/sqrt(x),0,0,NI,)=>:0
(
0:
0:
0
)

check((x)=<exp(-x)/sqrt(x),,inf,NI,)=>:1.7724538509055
(
infoLost[r ] 1.7724538509043857+O(6e-25):
infoLost[r ] 1.7724538509043857+O(6e-25):
1.7724538509055
)

check((x)=<exp(-x)/sqrt(x),1/2,inf,NI,)=>:0.5624182315944
(
infoLost[r ] 0.5624182315937307+O(2e-50):
infoLost[r ] 0.5624182315937307+O(2e-50):
0.5624182315944
)

check((x)=<exp(-x)/sqrt(x),0,1/2,NI,)=>:1.210035619311
(
infoLost[r ] 1.2100356049018488+O(6e-101):
infoLost[r ] 1.2100356029265327+O(6e-101):
1.210035619311
)

NI=100
NI=100

check((x)=<sin(1/sqrt(x))/sqrt(x),1,0,NI,)=>:-1.008134123813856743979
(
-1.0050274103409738+O(1e-101):
-1.0050276358687178+O(1e-101):
-1.0081341238138568
)

check((x)=<sin(1/sqrt(x))/sqrt(x),0,1,NI,)=>:1.008134123813856743979
(
infoLost[r ] 1.0050274103409746+O(1e-101):
infoLost[r ] 1.0050276358687185+O(1e-101):
1.0081341238138568
)

NI=1000
NI=1000

check((x)=<1/(1+25*x^2),inf,inf,NI,)=>:0
(
0:
0:
0
)

check((x)=<1/(1+25*x^2),-inf,-inf,NI,)=>:0
(
0:
0:
0
)

check((x)=<1/(1+25*x^2),inf,-inf,NI,)=>:-0.6283185307179586476925
(
infoLost[r ] -0.6283185307179582+O(4e-52):
infoLost[r ] -0.6283185307179581+O(4e-52):
-0.6283185307179586
)

check((x)=<1/(1+25*x^2),-inf,inf,NI,)=>:0.6283185307179586476925
(
infoLost[r ] 0.6283185307179582+O(4e-52):
infoLost[r ] 0.6283185307179581+O(4e-52):
0.6283185307179586
)

NI=1000
NI=1000

check((x)=<1/(1-x^3),1+i,-inf,NI,)=>:0.01853195524822145602092+0.2259704060343700453459i
(
infoLost[ri] 0.018531955248222754+0.22597040603436896i+O(6e-52):
infoLost[ri] 0.018531955248222647+0.22597040603436874i+O(6e-52):
0.018531955248221457+0.22597040603437005i
)

check((x)=<1/(1-x^3),-inf,1+i,NI,)=>:-0.01853195524822145602092-0.2259704060343700453459i
(
infoLost[ri] -0.018531955248222754-0.22597040603436896i+O(6e-52):
infoLost[ri] -0.018531955248222647-0.22597040603436874i+O(6e-52):
-0.018531955248221457-0.22597040603437005i
)

NI=1000
NI=1000

check((x)=<1/(1+(sqrt(x))^3),inf,1+i,NI,)=>:-1.500781043410964539996+0.4383480058647808280315i
(
infoLost[ri] -1.5007810434109645+0.438348005864781i+O(6e-25):
infoLost[ri] -1.5007810434109645+0.438348005864781i+O(6e-25):
-1.5007810434109645+0.43834800586478084i
)

check((x)=<1/(1+(sqrt(x))^3),1+i,inf,NI,)=>:1.500781043410964539996-0.4383480058647808280315i
(
infoLost[ri] 1.5007810434109645-0.438348005864781i+O(6e-25):
infoLost[ri] 1.5007810434109645-0.438348005864781i+O(6e-25):
1.5007810434109645-0.43834800586478084i
)

NI=100
NI=100

check((x)=<x**(z-1)*exp(-x),1,inf,NI,)=>:0.2788055852806619764993
(
infoLost[r ] 0.2788055852802575+O(1e-50):
infoLost[r ] 0.2788055852802575+O(1e-50):
0.27880558528066196
)

check((x)=<x**(z-1)*exp(-x),inf,0,NI,)=>:-1.772453850905516027298
(
infoLost[r ] -1.7724538509043866+O(6e-25):
infoLost[r ] -1.7724538509043866+O(6e-25):
-1.772453850905516
)

check(args,)=>:_i0(args):1.772453850905516027298
(
infoLost[r ] 1.7724538509043866+O(6e-25):
infoLost[r ] 1.7724538509043866+O(6e-25):
infoLost[r ] 1.7724538509043866+O(6e-25):
1.772453850905516
)

check(args,1)=>:1.772453850905516027298
(
infoLost[r ] 0:
0:
1.772453850905516
)

check(args,2)=>:1.772453850905516027298
(
infoLost[r ] 1.7724538509055159+O(7e-33):
infoLost[r ] 1.7724538509055159+O(7e-33):
1.772453850905516
)

check(args,3)=>:1.772453850905516027298
(
infoLost[r ] 1.7724538509043866+O(6e-25):
infoLost[r ] 1.7724538509043866+O(6e-25):
1.772453850905516
)

check(args,4)=>:1.772453850905516027298
(
infoLost[r ] 1.2063270495144227:
infoLost[r ] 1.2063270495144225:
1.772453850905516
)

args=((x)=<x**(z-1)*exp(-x),0,inf,NI)
args=(
eqn(x),0,Infinity,100
)

NI=100
NI=100

z=1/2
z=0.5

check(=<f,a,b,NI,type)=<(integral_DE_quadrature(=<f,a,b,NI,10/NI,type)=>:_i0(=<f,a,b,NI,type))
stored_eqn(check)

integral_DE_quadrature(==<f,a,b,N,h,opt_type)=<[arr_x=[:(t)=<tanh((pi/2)*sinh(t)),(t)=<(pi/2)*cosh(t)/cosh((pi/2)*sinh(t))**2:(t)=<exp(t-exp(-t)),(t)=<exp(t-exp(-t))*(1+exp(-t)):(t)=<exp((pi/2)*sinh(t)),(t)=<exp((pi/2)*sinh(t))*(pi/2)*cosh(t):(t)=<sinh((pi/2)*sinh(t)),(t)=<cosh((pi/2)*sinh(t))*(pi/2)*cosh(t)],isFinite_(x)=<abs(x)<inf,isInfinite_(x)=<x===inf,isNaN_(x)=<~~isFinite_(x)=>&&&~~isFinite_(f(x)=>)=>,isFF(a,b)=<isFinite_(a)=>&&isFinite_(b)=>,isFI(a,b)=<isFinite_(a)=>&&isInfinite_(b)=>,isFIm(a,b)=<isFinite_(b)=>&&isInfinite_(a)=>,isIF(a,b)=<isInfinite_(-a)=>&&isFinite_(b)=>,isIFm(a,b)=<isInfinite_(-b)=>&&isFinite_(a)=>,isII(a,b)=<isInfinite_(-a)=>&&isInfinite_(b)=>,isIIm(a,b)=<isInfinite_(-b)=>&&isInfinite_(a)=>,hasMinus(a,b)=<isFIm(a,b)=>||isIFm(a,b)=>||isIIm(a,b)=>,hasM=hasMinus(a,b)=>,hasM&&&(w=a,a=b,b=w),type=opt_type|||isFI(a,b)=>||isIF(a,b)=>&&&3|||isII(a,b)=>&&&4|||1,x=arr_x[type][0],xd=arr_x[type][1],abw=(isIF(a,b)=>&&&[-1,b,1]|||type===2||type===3&&&[1,a,1]|||type===4&&&[1,,1]|||[(b-a)/2,(b+a)/2,(b-a)/2]),phi(t,a,b,w)=<[y=f(a*x(t)=>+b)=>*xd(t)=>*w,=<isFinite_(y)=>&&&y]=>,S(a,N,h)=<_s((k)=<phi(k*h,abw)=>,-N/2,N/2)*h,err=(false===0)*(phi((-N/2)*h,abw)=>+phi((N/2)*h,abw)=>)*h,=<cne(a,b)&&&(hasM&&-1||1)*S(a,N,h)=>+err||||~~isNaN_(a)=>&&&0||||NaN+(NaN)i]=>
stored_eqn(integral_DE_quadrature)

clear
local storage cleared

check((x)=<x,-inf,-inf,NI,)=>:NaN
(
NaN:
NaN:
NaN:
NaN
)

check((x)=<x,inf,inf,NI,)=>:NaN
(
NaN:
NaN:
NaN:
NaN
)

check((x)=<1/x,inf,inf,NI,)=>:0
(
NaN:
0:
0:
0
)

check((x)=<1/x,0,0,NI,)=>:0
(
0:
0:
0:
0
)

check((x)=<pow(x,2)*exp(x),1+i,0,NI,)=>:2
(
infoLost[ri] 1.9999999999994544+4.547635382154817e-13i:
1.9999999985172305+8.710643650822192e-9i+O(1e-8+1e-8i):
infoLost[ri] 2-5.2147947305780067e-17i+O(1e-99):
2
)

check((x)=<pow(x,2)*exp(x),0,1+i,NI,)=>:-2
(
-2.0000000000005467+4.547855148029356e-13i+O(1e-10+1e-10i):
-1.999999998517231-8.710643650822192e-9i+O(1e-8+1e-8i):
infoLost[ri] -2.000000000000001+5.015155297144277e-17i+O(1e-99):
-2
)

check((x)=<sqrt(tan(x+eps*i)),pi/4,0,NI,)=>:-0.48749549439936104836
(
-0.48749550484723747+7.819758628173463e-15i:
-0.487438986559452-2.758525750446885e-11i+O(4e-9):
infoLost[ri] -0.487495494399361-2.2204460308453677e-16i+O(1e-100):
-0.4874954943993611
)

check((x)=<sqrt(tan(x)),pi/4,eps,NI,)=>:-0.48749549439936104836
(
-0.48749550484723225:
-0.48743898657087803+O(4e-9):
infoLost[r ] -0.48749549439936096+O(1e-100):
-0.4874954943993611
)

sqrt(tan(-1.1102230246251565e-16))
NaN

check((x)=<sqrt(tan(x)),pi/4,0,NI,)=>:-0.48749549439936104836
(
NaN:
-0.487438986531867+O(4e-9):
infoLost[r ] -0.487495494399361+O(1e-100):
-0.4874954943993611
)

check((x)=<sqrt(tan(x)),0,pi/4,NI,)=>:0.48749549439936104836
(
0.4874954714281518+O(3e-11):
0.487438986531867+O(4e-9):
infoLost[r ] 0.48749549439936113+O(1e-100):
0.4874954943993611
)

check((x)=<exp(-x)/sqrt(x),0,0,NI,)=>:0
(
0:
0:
0:
0
)

check((x)=<exp(-x)/sqrt(x),,inf,NI,)=>:1.7724538509055
(
infoLost[r ] NaN:
Infinity:
infoLost[r ] 1.7724538509043857+O(6e-25):
1.7724538509055
)

check((x)=<exp(-x)/sqrt(x),1/2,inf,NI,)=>:0.5624182315944
(
infoLost[r ] NaN:
Infinity:
infoLost[r ] 0.5624182315937307+O(2e-50):
0.5624182315944
)

check((x)=<exp(-x)/sqrt(x),0,1/2,NI,)=>:1.210035619311
(
infoLost[r ] Infinity:
infoLost[r ] Infinity:
infoLost[r ] 1.2100356029265327+O(6e-101):
1.210035619311
)

check((x)=<cosh(10*(x-0.2))**(-2)+cosh(100*(x-0.4))**(-4)+cosh(1000*(x-0.6))**(-6),0,1,NI,)=>:0.2108027355005492773756
(
infoLost[r ] 0.21080262405339478+O(1e-10):
infoLost[r ] 0.21450864467266795+O(1e-8):
infoLost[r ] 0.1965819226475792+O(9e-102):
0.2108027355005493
)

check((x)=<1/(x**2+1.005),-1,1,NI,)=>:1.564396444069049773091
(
infoLost[r ] 1.5643964440690494+O(3e-9):
1.5643964440809939+O(2e-7):
infoLost[r ] 1.5643964440690792+O(3e-100):
1.5643964440690499
)

check((x)=<cos(cos(x)+3*sin(x)+2*cos(2*x)+3*sin(2*x)+3*cos(3*x)),0,pi,NI,)=>:0.8386763426944296
(
infoLost[r ] 0.838676348408424+O(3e-8):
infoLost[r ] 0.8386724234009028+O(1e-6):
infoLost[r ] 0.8386525074925864+O(2e-100):
0.8386763426944296
)

check((x)=<50*(sin(50*3.14159*x)/(50*3.14159*x))**2,eps,1,NI,)=>:0.4989872301695
(
0.4989869389186507+O(1e-10):
0.4986496567259153+O(1e-8):
infoLost[r ] 0.47845535595990374+O(7e-99):
0.4989872301695
)

check((x)=<sqrt(50)*exp(-50*3.14159*x**2),0,10,NI,)=>:0.500000211166100039341
(
infoLost[r ] 0.49999529944230237+O(1e-5):
infoLost[r ] 0.43257427369775214+O(1e-4):
infoLost[r ] 0.4999341136905619+O(9e-99):
0.5000002111661
)

check((x)=<sin(314.159*x)/(3.14159*x),0.1,1,NI,)=>:0.0090986452565692970698
(
0.0090986314194809+O(6e-11):
0.026095361062273205+O(7e-9):
infoLost[r ] -0.0532149487595143+O(2e-104):
0.009098645256569298
)

check((x)=<2/(2+sin(31.4159*x)),0,1,NI,)=>:1.15470066904371304341
(
1.1547006690437396+O(1e-10):
1.154702137651221+O(1e-8):
infoLost[r ] 1.1512505379575928+O(3e-100):
1.154700669043713
)

check((x)=<1/(x**4+x**2+0.9),-1,1,NI,)=>:1.58223296372967293312
(
infoLost[r ] 1.5822329637296684+O(3e-9):
1.582232962812424+O(2e-7):
infoLost[r ] 1.5822329637296706+O(2e-100):
1.582232963729673
)

check((x)=<sqrt(x),0,1,NI,)=>:2/3
(
0.6666666336640303+O(1e-10):
0.6665854820667237+O(1e-8):
infoLost[r ] 0.6666666666666669+O(1e-100):
0.6666666666666666
)

check((x)=<floor(min(x/0.3,1)),0,1,NI,)=>:0.7
(
0.7000000000000004+O(1e-10):
0.7033333333333334+O(1e-8):
infoLost[r ] 0.6888887393098645+O(1e-100):
0.7
)

NI=100
NI=100

check(=<f,a,b,NI,type)=<(_o45((t,x)=<f(t)=>,,a,b,NI):_i(=<f,a,b,NI):_i0(=<f,a,b,NI,type))
stored_eqn(check)

clear
local storage cleared

integral_C((z)=<1/(z-0.5i),0,1,10)=>
infoLost[r ] -5.551115123125783e-17+6.28318530742849i+O(5e-10+4e-10i)

integral_C(=<f,z,r,n)=<_r((s)=<s+last[dt=2*pi/n,t=(__n__-1)*dt,a=z+r*e**(i*t),b=z+r*e**(i*(t+dt)),_i(==<f,a,b)],,n)
stored_eqn(integral_C)

clear
local storage cleared

_r((arr)=<(arr:f(arr_integral[__n__-1])=>),=<[],#arr_integral)
(
0,0.00003928256069279495,0.9946076738694891+O(6e-6),0.999977907714616+O(1e-4):
0,0.00003928256069279495,infoLost[r ] 0.9946076972947921,infoLost[r ] 0.9999779624499597:
0,0.00003928256069279495,0.9946076968406204+O(3e-7),0.9999779097192455+O(2e-5)
)

f(==<integral_)=<[cP_z(z)=<integral_((y)=<integral_((x)=<cSND(x+(y)i)=>,0,real(z))=>*2,0,imag(z))=>*2,cP_r(r)=<integral_((t)=<integral_((r)=<cSND(r*e^(i*t))=>,0,r)=>,0,2*pi)=>/sqrt(pi),=<(z=3*(1+i)/sqrt2,cSND(z)=>,cP_z(z)=>,cP_r(abs(z))=>)]=>
stored_eqn(f)

arr_integral=[(=<f,a,b)=<_i(=<f,a,b,NI):(=<f,a,b)=<_i0(=<f,a,b,NI):(=<f,a,b)=<_o45((t,x)=<f(t)=>,,a,b,NI)]
arr_integral=(
eqn(@f,a,b):
eqn(@f,a,b):
eqn(@f,a,b)
)

cSND(z)=<exp(-abs(z)^2)/pi
stored_eqn(cSND)

NI=50
NI=50

clear
local storage cleared

_r((arr)=<(arr:f(arr_args[__n__-1])=>),=<[],#arr_args)
(
0,0.0044318484119380075,0.9973002032188572+O(2e-6),0.9999779093904622+O(6e-6),0.000022090609537839256+O(6e-6):
0,0.0044318484119380075,infoLost[r ] 0.9973002039367396,infoLost[r ] 0.9999779095030018,infoLost[r ] 0.000022090496998194986:
0,0.0044318484119380075,0.9973002039378098+O(5e-8),0.9999779095097531+O(3e-7),0.000022090490246928773+O(3e-7)
)

f(=<P,=<erf,=<erfc)=<[x=3,SND(x)=>,P(x)=>,erf(x)=>,erfc(x)==>]
stored_eqn(f)

arr_args=[(x)=<_i((t)=<SND(t)=>,[0,x],NI)*2,(x)=<_i((t)=<SND(t)=>,[0,x*sqrt2],NI)*2,(x)=<1-erf(x)=>:(x)=<_i0((t)=<SND(t)=>,[0,x],NI)*2,(x)=<_i0((t)=<SND(t)=>,[0,x*sqrt2],NI)*2,(x)=<1-erf(x)=>:(x)=<_o45((t,x)=<SND(t)=>,,[0,x],NI)*2,(x)=<_o45((t,x)=<SND(t)=>,,[0,x*sqrt2],NI)*2,(x)=<1-erf(x)=>]
arr_args=(
eqn(x),eqn(x),eqn(x):
eqn(x),eqn(x),eqn(x):
eqn(x),eqn(x),eqn(x)
)

SND(t)=<exp(-t^2/2)/sqrt(2*pi)
stored_eqn(SND)

NI=100
NI=100

clear
local storage cleared

plot2d_bspline(=<{0,1,2,3,2},=<{1,4,2,4,4}*(1+2i))=>
(
0,0.5,1.5,2.5,1+2i,2.5+5i,3+6i,3+6i:
1,0.75,1.75,2.6875,4+8i,3.09375+6.1875i,2.625+5.25i,3.4375+6.875i:
2,1,2,2.75,2+4i,3.375+6.75i,2.5+5i,3.75+7.5i:
3,1.25,2.25,2.6875,4+8i,3.34375+6.6875i,2.625+5.25i,3.9375+7.875i:
2,1.5,2.5,2.5,4+8i,3+6i,3+6i,4+8i
)

plot2d_bspline(x,y)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{N=min(sizer(x),sizer(y))-1,M=N-1,xt=zeros(N+1,M),yt=zeros(N+1,M)},run=<last{_s((m)=<_s((n)=<last{($xnm,$ynm)=bspline2d(=<x,=<y,m,n/N)=>,xt[n][m-1]=xnm,yt[n][m-1]=ynm},0,N),1,M),xt=(x,xt),yt=(y,yt)},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_bspline)

bspline2d(x,y,i_,t)=<[out=<(xy),init=<last{Si(i_,t)=<0.5*(t^2,t,1)*(1,-2,1:-2,2,0:1,1,0)*{(x[i_-1],y[i_-1]),(x[i_],y[i_]),(x[i_+1],y[i_+1])}},run=<last{xy=Si(i_,t)=>},init=>,run=>,return=out=>,=<return]=>
stored_eqn(bspline2d)

clear
local storage cleared

plot2d_nspline(=<{0,1,2,3,4,5,6,7,8,9},=<{1,3,2,5,0,-3,-2,-5,-1,-1}*(1+2i))=>
(
0,0.5,1+2i,2.4677950425460384+4.935590085092077i,2.4677950425460384+4.935590085092077i:
1,1.5,3+6i,2.2216148723638467+4.443229744727693i,2.2216148723638467+4.443229744727693i:
2,2.5,2+4i,3.7707454679985726+7.541490935997145i,3.7707454679985726+7.541490935997145i:
3,3.5,5+10i,3.195403255641865+6.39080651128373i,3.195403255641865+6.39080651128373i:
4,4.5,0,-2.302358490566034-4.604716981132068i,-2.302358490566034-4.604716981132068i:
5,5.5,-3-6i,-2.2359692933777295-4.471938586755459i,-2.2359692933777295-4.471938586755459i:
6,6.5,-2-4i,-3.7537643359230484-7.507528671846097i,-3.7537643359230484-7.507528671846097i:
7,7.5,-5-10i,-3.3739733629300774-6.747946725860155i,-3.3739733629300774-6.747946725860155i:
8,8.5,-1-2i,-0.3753422123566409-0.7506844247132818i,-0.3753422123566409-0.7506844247132818i:
9,-1-2i
)

plot2d_nspline(x,y)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{N=min(sizer(x),sizer(y))-1,dx=x[1][0][N][1]-x,xt=(x+dx/2)[0][0][N][1],yt=zeros(N,1)},run=<last{u=nspline3d(=<x,=<y)=>,b=u[0][0][N][1],c=u[N][0][N][1],d=u[2*N][0][N][1],_s((i_)=<last{dxi=xt[i_]-x[i_],yt[i_]=y[i_]+b[i_]*dxi+c[i_]*dxi**2+d[i_]*dxi**3},0,N-1),yinterp=interp3(trans(xt):trans(x,y)),xt=(x,xt),yt=(y,yt,trans(yinterp))},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_nspline)

nspline3d(x,y)=<[out=<(u),init=<last{N=min(sizer(x),sizer(y))-1,dx=x[1][0][N][1]-x,dy=y[1][0][N][1]-y,r=vectorc(3*N),coo=zeros(3,10*N-4)},run=<last{_s((j)=<last{n=j+1,j0=3*j,dxi=dx[j],dyi=dy[j],coo[0][j0][1][3]=(dxi,dxi**2,dxi**3),coo[1][j0][1][3]=(n,n,n),coo[2][j0][1][3]=(n,N+n,2*N+n),r[j]=dyi},0,N-1),_s((j)=<last{n=j+1,j0=3*N+4*j,dxi=dx[j],coo[0][j0][1][4]=(1,-1,2*dxi,3*dxi**2),coo[1][j0][1][4]=(N+n,N+n,N+n,N+n),coo[2][j0][1][4]=(n,n+1,N+n,2*N+n)},0,N-2),_s((j)=<last{n=j+1,j0=7*N+3*j-4,dxi=dx[j],coo[0][j0][1][3]=(1,-1,3*dxi),coo[1][j0][1][3]=(2*N+n-1,2*N+n-1,2*N+n-1),coo[2][j0][1][3]=(N+n,N+n+1,2*N+n)},0,N-2),j0=10*N-4-3,coo[0][j0][1][3]=(1,1,3*dx[N-1]),coo[1][j0][1][3]=(3*N-1,3*N,3*N),coo[2][j0][1][3]=(N+1,2*N,3*N),u=Gauss_coo(coo:trans(r))},init=>,run=>,return=out=>,=<return]=>
stored_eqn(nspline3d)

clear
local storage cleared

plot2d_Lagrange(=<{0,1,2,3,4,5,6,7,8,9},=<{1,3,2,5,0,-3,-2,-5,-1,-1}*(1+2i))=>
(
0,0.5,1+2i,8.8966064453125+17.793212890625i,8.8966064453125+17.793212890625i:
1,1.5,3+6i,0.3187255859375001+0.6374511718750002i,0.3187255859375001+0.6374511718750002i:
2,2.5,2+4i,4.498657226562501+8.997314453125002i,4.498657226562501+8.997314453125002i:
3,3.5,5+10i,3.0457763671875+6.091552734375i,3.0457763671875+6.091552734375i:
4,4.5,0,-2.3367919921875-4.673583984375i,-2.3367919921875-4.673583984375i:
5,5.5,-3-6i,-2.4146728515625-4.829345703125i,-2.4146728515625-4.829345703125i:
6,6.5,-2-4i,-2.9847412109375-5.969482421875i,-2.9847412109375-5.969482421875i:
7,7.5,-5-10i,-5.437622070312498-10.875244140624996i,-5.437622070312498-10.875244140624996i:
8,8.5,-1-2i,6.679809570312498+13.359619140624996i,6.679809570312498+13.359619140624996i:
9,-1-2i
)

plot2d_Lagrange(x,y)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{N=min(sizer(x),sizer(y))-1,dx=x[1][0][N][1]-x,xt=(x+dx/2)[0][0][N][1],yt=zeros(N,1)},run=<last{ljx(j,x_)=<_p((m)=<m==j&&&1|||(x_-x[m])/(x[j]-x[m]),0,N),Lkx(x_)=<_s((j)=<y[j]*ljx(j,x_)=>,0,N),_s((i_)=<yt[i_]=Lkx(xt[i_])=>,0,N-1),yinterp=interp2(trans(xt):trans(x,y)),xt=(x,xt),yt=(y,yt,trans(yinterp))},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_Lagrange)

clear
local storage cleared

plot2d_evolution(0,5,0.5,0,20+20i,0,1,1)=>
(
0,0:
7.869386805735531+O(2e-10),6.825386340545934:
12.642411176556832+O(2e-10),9.037192653069676:
15.537396797018381+O(2e-10),8.450721227557374:
17.293294335257226+O(2e-10),6.167008559533234:
18.358300027514034+O(2e-10),2.853867040995907:
19.004258632636912+O(2e-10),-1.0836546373710145:
19.39605233154952+O(2e-10),-5.3998820259912295:
19.633687222222452+O(2e-10),-9.945806038888538:
19.777820069233208+O(2e-10),-14.631048096842525:
19.86524106001697+O(2e-10),-19.400790820574706
)

plot2d_evolution(t0,t1,dt,z_x0,z_v0,z_u,m,kCdA_sphere)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{g=-9.8,z_a=0+g*i,t=0,x_initial=<{z_x0,z_v0},f(t,z_x,z_v)=<{z_v,z_a+(kCdA_sphere/m)*(z_u-z_v)},N=round((t1-t0)/dt),M=0,xt=zeros(N+1,M+1),yt=zeros(N+1,M+1)},run=<last{dtn=<n<=0&&0||||dt,x_next=x_initial=>,step=<last{dt0=dtn=>,x_next=_o(=<f,=<{x_next},t+[,dt0]),t=t+dt0},stepnm=<last{step=>,z_x=x_next[0],xt[n][mdummy]=real(z_x),yt[n][mdummy]=imag(z_x)},casesM=<_s((mdummy)=<stepnm=>,0,M),evolutionN=<_s((n)=<casesM=>,0,N),evolutionN=>},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_evolution)

clear
local storage cleared

plot2d_circle(0,2*pi,10,3)=>
(
0,1,2,3,0,0,0,0:
0,0.8090169943749475,1.618033988749895,2.4270509831248424,0,0.5877852522924731,1.1755705045849463,1.7633557568774194:
0,0.30901699437494745,0.6180339887498949,0.9270509831248424,0,0.9510565162951535,1.902113032590307,2.8531695488854605:
0,-0.30901699437494734,-0.6180339887498947,-0.927050983124842,0,0.9510565162951536,1.9021130325903073,2.853169548885461:
0,-0.8090169943749473,-1.6180339887498947,-2.427050983124842,0,0.5877852522924732,1.1755705045849465,1.7633557568774196:
0,-1,-2,-3,0,1.2246467991473532e-16,2.4492935982947064e-16,3.6739403974420594e-16:
0,-0.8090169943749476,-1.6180339887498951,-2.427050983124843,0,-0.587785252292473,-1.175570504584946,-1.7633557568774192:
0,-0.30901699437494756,-0.6180339887498951,-0.9270509831248427,0,-0.9510565162951535,-1.902113032590307,-2.8531695488854605:
0,0.30901699437494723,0.6180339887498945,0.9270509831248417,0,-0.9510565162951536,-1.9021130325903073,-2.853169548885461:
0,0.8090169943749473,1.6180339887498947,2.427050983124842,0,-0.5877852522924734,-1.1755705045849467,-1.76335575687742:
0,1,2,3,0,-2.4492935982947064e-16,-4.898587196589413e-16,-7.347880794884119e-16
)

plot2d_circle(t0,t1,N,M)=<[out=<(xt,yt),scope2storage=<last{add__(xt),add__(yt)},init=<last{tn=<t0+(t1-t0)*n/N,xt=zeros(N+1,M+1),yt=zeros(N+1,M+1)},run=<last{stepnm=<last{tn=tn=>,xt[n][m]=cos(tn)*m,yt[n][m]=sin(tn)*m},casesM=<_s((m)=<stepnm=>,0,M),evolutionN=<_s((n)=<casesM=>,0,N),evolutionN=>},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_circle)

clear
local storage cleared

trans(ans)
(
1+2i,2+4i,3+6i,4+8i,5+10i,NaN,NaN,NaN,NaN,NaN:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
2+4i,4+8i,6+12i,8+16i,10+20i,NaN,NaN,NaN,NaN,NaN:
4+8i,8+16i,12+24i,16+32i,20+40i,NaN,NaN,NaN,NaN,NaN:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i:
8+16i,16+32i,24+48i,32+64i,40+80i,NaN,NaN,NaN,NaN,NaN:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i
)

(xt,yt)
(
1+2i,1+2i,1+2i,2+4i,4+8i,2+4i,8+16i,2+4i:
2+4i,2+4i,2+4i,4+8i,8+16i,4+8i,16+32i,4+8i:
3+6i,3+6i,3+6i,6+12i,12+24i,6+12i,24+48i,6+12i:
4+8i,4+8i,4+8i,8+16i,16+32i,8+16i,32+64i,8+16i:
5+10i,5+10i,5+10i,10+20i,20+40i,10+20i,40+80i,10+20i:
NaN,6+12i,6+12i,NaN,NaN,12+24i,NaN,12+24i:
NaN,7+14i,7+14i,NaN,NaN,14+28i,NaN,14+28i:
NaN,8+16i,8+16i,NaN,NaN,16+32i,NaN,16+32i:
NaN,9+18i,9+18i,NaN,NaN,18+36i,NaN,18+36i:
NaN,10+20i,10+20i,NaN,NaN,20+40i,NaN,20+40i
)

yt=(y_short_mod,y_long,y_short_mod*2,y_long)
yt=(
4+8i,2+4i,8+16i,2+4i:
8+16i,4+8i,16+32i,4+8i:
12+24i,6+12i,24+48i,6+12i:
16+32i,8+16i,32+64i,8+16i:
20+40i,10+20i,40+80i,10+20i:
NaN,12+24i,NaN,12+24i:
NaN,14+28i,NaN,14+28i:
NaN,16+32i,NaN,16+32i:
NaN,18+36i,NaN,18+36i:
NaN,20+40i,NaN,20+40i
)

xt=(x_short_mod,x_long,x_long,x_short_mod*2)
xt=(
1+2i,1+2i,1+2i,2+4i:
2+4i,2+4i,2+4i,4+8i:
3+6i,3+6i,3+6i,6+12i:
4+8i,4+8i,4+8i,8+16i:
5+10i,5+10i,5+10i,10+20i:
NaN,6+12i,6+12i,NaN:
NaN,7+14i,7+14i,NaN:
NaN,8+16i,8+16i,NaN:
NaN,9+18i,9+18i,NaN:
NaN,10+20i,10+20i,NaN
)

yt_OK=(y_short_mod,y_long)
yt_OK=(
4+8i,2+4i:
8+16i,4+8i:
12+24i,6+12i:
16+32i,8+16i:
20+40i,10+20i:
NaN,12+24i:
NaN,14+28i:
NaN,16+32i:
NaN,18+36i:
NaN,20+40i
)

xt_OK=(x_short_mod,x_long)
xt_OK=(
1+2i,1+2i:
2+4i,2+4i:
3+6i,3+6i:
4+8i,4+8i:
5+10i,5+10i:
NaN,6+12i:
NaN,7+14i:
NaN,8+16i:
NaN,9+18i:
NaN,10+20i
)

y_short_mod=x_short_mod*4
y_short_mod=(
4+8i:
8+16i:
12+24i:
16+32i:
20+40i:
NaN:
NaN:
NaN:
NaN:
NaN
)

x_short_mod={1,2,3,4,5,NaN,NaN,NaN,NaN,NaN}*(1+2i)
x_short_mod=(
1+2i:
2+4i:
3+6i:
4+8i:
5+10i:
NaN:
NaN:
NaN:
NaN:
NaN
)

yt_NG=(y_short,y_long)
yt_NG=(
4+8i,2+4i:
8+16i,4+8i:
12+24i,6+12i:
16+32i,8+16i:
20+40i,10+20i:
12+24i:
14+28i:
16+32i:
18+36i:
20+40i
)

xt_NG=(x_short,x_long)
xt_NG=(
1+2i,1+2i:
2+4i,2+4i:
3+6i,3+6i:
4+8i,4+8i:
5+10i,5+10i:
6+12i:
7+14i:
8+16i:
9+18i:
10+20i
)

yt_OK=(y_long,y_short)
yt_OK=(
2+4i,4+8i:
4+8i,8+16i:
6+12i,12+24i:
8+16i,16+32i:
10+20i,20+40i:
12+24i:
14+28i:
16+32i:
18+36i:
20+40i
)

xt_OK=(x_long,x_short)
xt_OK=(
1+2i,1+2i:
2+4i,2+4i:
3+6i,3+6i:
4+8i,4+8i:
5+10i,5+10i:
6+12i:
7+14i:
8+16i:
9+18i:
10+20i
)

y_short=x_short*4
y_short=(
4+8i:
8+16i:
12+24i:
16+32i:
20+40i
)

x_short={1,2,3,4,5}*(1+2i)
x_short=(
1+2i:
2+4i:
3+6i:
4+8i:
5+10i
)

y_long=x_long*2
y_long=(
2+4i:
4+8i:
6+12i:
8+16i:
10+20i:
12+24i:
14+28i:
16+32i:
18+36i:
20+40i
)

x_long={1,2,3,4,5,6,7,8,9,10}*(1+2i)
x_long=(
1+2i:
2+4i:
3+6i:
4+8i:
5+10i:
6+12i:
7+14i:
8+16i:
9+18i:
10+20i
)

clear
local storage cleared

yt=((f_samples:f_IDFT:f_IFFT):(F_DFT:F_FFT)/N)
yt=(
1.6666666666666667+2.5i,-2.2357022603955157-0.0285954792089681i,1.1102230246251565e-16+0.16666666666666657i,-0.47140452079103223-1.735702260395516i,1.333333333333334+1.4999999999999996i,-1.7642977396044848-0.9714045207910307i,1.0000000000000002-0.1666666666666673i,0.4714045207910306-1.2642977396044839i,1.666666666666668+2.4999999999999987i,-2.2357022603955166-0.0285954792089666i,7.216449660063518e-16+0.16666666666666594i,-0.47140452079103806-1.7357022603955128i,1.3333333333333353+1.4999999999999982i,-1.7642977396044823-0.9714045207910346i,1.0000000000000009-0.1666666666666681i,0.47140452079102535-1.264297739604482i:
infoLost[ri] 1.6666666666666656+2.4999999999999964i,infoLost[ri] -2.235702260395519-0.028595479208967538i,infoLost[ri] -1.2848632429542406e-15+0.16666666666666588i,infoLost[ri] -0.4714045207910319-1.735702260395516i,infoLost[ri] 1.3333333333333337+1.4999999999999993i,infoLost[ri] -1.7642977396044863-0.9714045207910302i,infoLost[ri] 0.9999999999999972-0.1666666666666685i,infoLost[ri] 0.471404520791029-1.2642977396044814i,infoLost[ri] 1.6666666666666683+2.5000000000000027i,infoLost[ri] -2.2357022603955135-0.028595479208964894i,infoLost[ri] 1.8677303308824443e-15+0.16666666666666297i,infoLost[ri] -0.471404520791043-1.7357022603955095i,infoLost[ri] 1.3333333333333381+1.500000000000002i,infoLost[ri] -1.7642977396044752-0.971404520791043i,infoLost[ri] 0.9999999999999981-0.1666666666666702i,infoLost[ri] 0.4714045207910225-1.2642977396044797i:
1.6666666666666667+2.4999999999999996i,-2.235702260395516-0.028595479208968017i,4.1633363423443212e-16+0.16666666666666674i,-0.47140452079103273-1.735702260395516i,1.3333333333333341+1.4999999999999998i,-1.7642977396044854-0.9714045207910299i,1.0000000000000002-0.16666666666666738i,0.4714045207910293-1.2642977396044843i,1.666666666666668+2.4999999999999987i,-2.235702260395517-0.02859547920896433i,1.108599417721428e-15+0.16666666666666613i,-0.47140452079104117-1.7357022603955121i,1.333333333333336+1.4999999999999982i,-1.7642977396044839-0.9714045207910316i,1.0000000000000009-0.16666666666666893i,0.4714045207910218-1.2642977396044834i:
-4.718447854656915e-16-6.938893903907228e-17i,-4.163336342344337e-17-1.5265566588595902e-16i,infoLost[ i] 0.16666666666666663+0.5000000000000002i,-7.494005416219807e-16+3.5388358909926865e-16i,infoLost[r ] 0.49999999999999956+0.9999999999999998i,4.718447854656915e-16-1.0894063429134349e-15i,infoLost[ i] 4.0939474033052647e-16-1.249000902703301e-16i,3.677613769070831e-16-5.551115123125783e-17i,infoLost[r ] 0.9999999999999999+0.9999999999999997i,-4.2327252813834093e-16-1.0408340855860843e-16i,infoLost[ i] -4.0245584642661925e-16-1.3322676295501878e-15i,1.6514567491299204e-15-1.5126788710517758e-15i,infoLost[r ] 1.2628786905111156e-15+1.582067810090848e-15i,-1.096345236817342e-15-4.163336342344337e-17i,infoLost[ i] -7.771561172376096e-16+4.440892098500626e-16i,-3.8510861166685117e-16-1.4988010832439613e-15i:
-5.551115123125783e-16-5.551115123125783e-17i,-2.261655310371449e-17-2.785656832545842e-16i,0.16666666666666674+0.5000000000000002i,-8.953908185818557e-16+1.9949346284150756e-16i,0.4999999999999998+0.999999999999999i,3.0854380834204737e-16-5.678489366794271e-16i,1.734723475976807e-16-4.857225732735053e-17i,-2.0592911729335107e-16-2.5542267596517406e-16i,1.0000000000000013+0.9999999999999993i,1.5509310430515732e-16+7.097633693098673e-16i,-5.5511151231257716e-17-2.2204460492503136e-16i,6.849873845289786e-16-7.192345057344983e-17i,4.718447854656913e-16+8.881784197001254e-16i,-4.4102035954349196e-16+8.027850653992376e-16i,-4.371503159461555e-16+1.0408340855860798e-16i,-2.498012634288658e-16+1.2785266369711643e-16i
)

xt=arr_n
xt=(
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
)

arr_n.map((n)=<f_IDFT.push(IDFT(n)=>))
(
NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN
)

arr_n.map((n)=<F_DFT.push(DFT(n)=>))
(
NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN
)

IDFT(t)=<_s((n)=<F_DFT[][n]*e^((i*n*t)*2*pi/N),0,N-1)/N
stored_eqn(IDFT)

DFT(n)=<_s((t)=<f(t)=>*e^((-i*n*t)*2*pi/N),0,N-1)
stored_eqn(DFT)

f_IDFT=[]
f_IDFT=(
infoLost[ri] 1.6666666666666656+2.4999999999999964i,infoLost[ri] -2.235702260395519-0.028595479208967538i,infoLost[ri] -1.2848632429542406e-15+0.16666666666666588i,infoLost[ri] -0.4714045207910319-1.735702260395516i,infoLost[ri] 1.3333333333333337+1.4999999999999993i,infoLost[ri] -1.7642977396044863-0.9714045207910302i,infoLost[ri] 0.9999999999999972-0.1666666666666685i,infoLost[ri] 0.471404520791029-1.2642977396044814i,infoLost[ri] 1.6666666666666683+2.5000000000000027i,infoLost[ri] -2.2357022603955135-0.028595479208964894i,infoLost[ri] 1.8677303308824443e-15+0.16666666666666297i,infoLost[ri] -0.471404520791043-1.7357022603955095i,infoLost[ri] 1.3333333333333381+1.500000000000002i,infoLost[ri] -1.7642977396044752-0.971404520791043i,infoLost[ri] 0.9999999999999981-0.1666666666666702i,infoLost[ri] 0.4714045207910225-1.2642977396044797i
)

F_DFT=[]
F_DFT=(
-7.549516567451064e-15-1.1102230246251565e-15i,-6.661338147750939e-16-2.4424906541753444e-15i,infoLost[ i] 2.666666666666666+8.000000000000004i,-1.199040866595169e-14+5.662137425588298e-15i,infoLost[r ] 7.999999999999993+15.999999999999996i,7.549516567451064e-15-1.7430501486614958e-14i,infoLost[ i] 6.5503158452884236e-15-1.9984014443252818e-15i,5.88418203051333e-15-8.881784197001252e-16i,infoLost[r ] 15.999999999999998+15.999999999999995i,-6.772360450213455e-15-1.6653345369377348e-15i,infoLost[ i] -6.439293542825908e-15-2.1316282072803006e-14i,2.6423307986078726e-14-2.4202861936828413e-14i,infoLost[r ] 2.020605904817785e-14+2.531308496145357e-14i,-1.7541523789077473e-14-6.661338147750939e-16i,infoLost[ i] -1.2434497875801753e-14+7.105427357601002e-15i,-6.161737786669619e-15-2.398081733190338e-14i
)

f_IFFT=ifft1d(F_FFT)
f_IFFT=(
1.6666666666666667+2.4999999999999996i,-2.235702260395516-0.028595479208968017i,4.1633363423443212e-16+0.16666666666666674i,-0.47140452079103273-1.735702260395516i,1.3333333333333341+1.4999999999999998i,-1.7642977396044854-0.9714045207910299i,1.0000000000000002-0.16666666666666738i,0.4714045207910293-1.2642977396044843i,1.666666666666668+2.4999999999999987i,-2.235702260395517-0.02859547920896433i,1.108599417721428e-15+0.16666666666666613i,-0.47140452079104117-1.7357022603955121i,1.333333333333336+1.4999999999999982i,-1.7642977396044839-0.9714045207910316i,1.0000000000000009-0.16666666666666893i,0.4714045207910218-1.2642977396044834i
)

F_FFT=fft1d(f_samples)
F_FFT=(
-8.881784197001252e-15-8.881784197001252e-16i,-3.6186484965943183e-16-4.457050932073347e-15i,2.666666666666668+8.000000000000004i,-1.432625309730969e-14+3.191895405464121e-15i,7.9999999999999964+15.999999999999984i,4.936700933472758e-15-9.085582986870834e-15i,2.7755575615628914e-15-7.771561172376085e-16i,-3.294865876693617e-15-4.086762815442785e-15i,16.00000000000002+15.99999999999999i,2.481489668882517e-15+1.1356213908957877e-14i,-8.881784197001235e-16-3.552713678800502e-15i,1.0959798152463658e-14-1.1507752091751972e-15i,7.549516567451061e-15+1.4210854715202007e-14i,-7.0563257526958714e-15+1.2844561046387802e-14i,-6.994405055138488e-15+1.6653345369377277e-15i,-3.996820214861853e-15+2.045642619153863e-15i
)

f_samples=f(=<arr_n)=>
f_samples=(
1.6666666666666667+2.5i,-2.2357022603955157-0.0285954792089681i,1.1102230246251565e-16+0.16666666666666657i,-0.47140452079103223-1.735702260395516i,1.333333333333334+1.4999999999999996i,-1.7642977396044848-0.9714045207910307i,1.0000000000000002-0.1666666666666673i,0.4714045207910306-1.2642977396044839i,1.666666666666668+2.4999999999999987i,-2.2357022603955166-0.0285954792089666i,7.216449660063518e-16+0.16666666666666594i,-0.47140452079103806-1.7357022603955128i,1.3333333333333353+1.4999999999999982i,-1.7642977396044823-0.9714045207910346i,1.0000000000000009-0.1666666666666681i,0.47140452079102535-1.264297739604482i
)

f(t)=<(A0,A1,A2)*{e^((i*n0*t)*2*pi/N),e^((i*n1*t)*2*pi/N),e^((i*n2*t)*2*pi/N)/2}
stored_eqn(f)

($A0,$A1,$A2)=1/(1,2,3)+i
stored_var(A0) stored_var(A1) stored_var(A2) 

($n0,$n1,$n2)=N/(2,4,8)
stored_var(n0) stored_var(n1) stored_var(n2) 

arr_n=linspace(0,N-1,N)
arr_n=(
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
)

N=radix**deg
N=16

deg=4
deg=4

$radix=2
const radix=2

clear
local storage cleared

plot2d_interp(last{Nx=21,Nx},Nx>>1)=>
(
0,0.6283185307179586,1.2566370614359172,1.8849555921538759,2.5132741228718345,3.141592653589793,3.7699111843077517,4.39822971502571,5.026548245743669,5.654866776461628,6.283185307179586:
0,0.2991993003418851,0.5983986006837702,0.8975979010256552,1.1967972013675403,1.4959965017094254,1.7951958020513104,2.0943951023931957,2.3935944027350806,2.6927937030769655,2.991993003418851,3.291192303760736,3.5903916041026207,3.889590904444506,4.188790204786391,4.487989505128276,4.787188805470161,5.086388105812047,5.385587406153931,5.684786706495816,5.983986006837702,6.283185307179586:
0,0.5877852522924731+1.1755705045849463i,0.9510565162951535+1.902113032590307i,0.9510565162951536+1.9021130325903073i,0.5877852522924732+1.1755705045849465i,1.2246467991473532e-16+2.4492935982947064e-16i,-0.587785252292473-1.175570504584946i,-0.9510565162951535-1.902113032590307i,-0.9510565162951536-1.9021130325903073i,-0.5877852522924734-1.1755705045849467i,-2.4492935982947064e-16-4.898587196589413e-16i:
0,0,0.5877852522924731+1.1755705045849463i,0.5877852522924731+1.1755705045849463i,0.9510565162951535+1.902113032590307i,0.9510565162951535+1.902113032590307i,0.9510565162951536+1.9021130325903073i,0.9510565162951536+1.9021130325903073i,0.5877852522924732+1.1755705045849465i,0.5877852522924732+1.1755705045849465i,1.2246467991473532e-16+2.4492935982947064e-16i,1.2246467991473532e-16+2.4492935982947064e-16i,-0.587785252292473-1.175570504584946i,-0.587785252292473-1.175570504584946i,-0.9510565162951535-1.902113032590307i,-0.9510565162951535-1.902113032590307i,-0.9510565162951536-1.9021130325903073i,-0.9510565162951536-1.9021130325903073i,-0.5877852522924734-1.1755705045849467i,-0.5877852522924734-1.1755705045849467i,-2.4492935982947064e-16-4.898587196589413e-16i,-2.4492935982947064e-16-4.898587196589413e-16i:
0,0.279897739186892+0.559795478373784i,0.559795478373784+1.119590956747568i,0.7434729368650504+1.486945873730101i,0.916459253056803+1.832918506113606i,0.9510565162951535+1.902113032590307i,0.9510565162951536+1.9021130325903073i,0.8299660949609267+1.6599321899218533i,0.6569797787691742+1.3139595575383485i,0.4198466087803381+0.8396932175606762i,0.13994886959344577+0.27989773918689154i,-0.13994886959344602-0.27989773918689204i,-0.41984660878033786-0.8396932175606757i,-0.6569797787691742-1.3139595575383485i,-0.8299660949609271-1.6599321899218542i,-0.9510565162951535-1.902113032590307i,-0.9510565162951536-1.9021130325903073i,-0.9164592530568028-1.8329185061136055i,-0.7434729368650507-1.4869458737301013i,-0.5597954783737839-1.1195909567475677i,-0.27989773918689165-0.5597954783737833i,-2.220446049250313e-16-4.440892098500626e-16i:
0,0.2947132603928304+0.5894265207856608i,0.5633176924463468+1.1266353848926935i,0.7818384486205128+1.5636768972410255i,0.9308748393455317+1.8617496786910634i,0.9972017882949729+1.9944035765899457i,0.9749273056170769+1.9498546112341537i,0.8660262668814726+1.732052533762945i,0.6801731754335338+1.3603463508670677i,0.4338832234859207+0.8677664469718414i,0.14904185261646904+0.2980837052329381i,-0.1490418526164693-0.2980837052329386i,-0.4338832234859203-0.8677664469718406i,-0.6801731754335341-1.3603463508670681i,-0.8660262668814729-1.7320525337629458i,-0.9749273056170771-1.9498546112341542i,-0.997201788294973-1.994403576589946i,-0.9308748393455316-1.8617496786910632i,-0.7818384486205131-1.5636768972410262i,-0.563317692446347-1.126635384892694i,-0.294713260392828-0.589426520785656i,-2.4492935982947064e-16-4.898587196589413e-16i:
0,0.29461257895141185+0.5892251579028237i,0.5633339442408832+1.1266678884817665i,0.7814744641857628+1.5629489283715257i,0.9308435986544845+1.861687197308969i,0.9968035234713143+1.9936070469426286i,0.9748097700212337+1.9496195400424674i,0.8657557637655615+1.731511527531123i,0.6799999061718449+1.3599998123436898i,0.4338278641575913+0.8676557283151826i,0.14892449032945992+0.29784898065891985i,-0.14892449032946015-0.2978489806589203i,-0.4338278641575904-0.8676557283151808i,-0.6799999061718462-1.3599998123436925i,-0.8657557637655657-1.7315115275311315i,infoLost[ri] -0.9748097700212295-1.949619540042459i,infoLost[ri] -0.9968035234713-1.9936070469426i,-0.9308435986544925-1.861687197308985i,-0.7814744641858149-1.5629489283716298i,-0.5633339442408662-1.1266678884817325i,-0.2946125789512221-0.5892251579024442i,-1.942890293094024e-16-3.885780586188048e-16i
)

plot2d_interp(Nx,Nt)=<[out=<{xt,yt},scope2storage=<last{add__(xt),add__(yt)},init=<last{x=linspace(0,2*pi,Nx+1),xn=linspace(0,2*pi,Nt+1),table=(xn:trans(sin(trans(xn))))},run=<last{table[1]=(1+2i)*table[1],table_sorted_key0=sort0(table),xt=(table[0]:x),yt=(table[1]:interp0(x:table_sorted_key0):interp1(x:table_sorted_key0):interp2(x:table_sorted_key0):interp3(x:table_sorted_key0))},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(plot2d_interp)

clear
local storage cleared

trans(ans)
(
1+2i,1+2i,1+2i,2+4i,4+8i,2+4i,8+16i,2+4i:
2+4i,2+4i,2+4i,4+8i,8+16i,4+8i,16+32i,4+8i:
3+6i,3+6i,3+6i,6+12i,12+24i,6+12i,24+48i,6+12i:
4+8i,4+8i,4+8i,8+16i,16+32i,8+16i,32+64i,8+16i:
5+10i,5+10i,5+10i,10+20i,20+40i,10+20i,40+80i,10+20i:
0,6+12i,6+12i,0,0,12+24i,0,12+24i:
0,7+14i,7+14i,0,0,14+28i,0,14+28i:
0,8+16i,8+16i,0,0,16+32i,0,16+32i:
0,9+18i,9+18i,0,0,18+36i,0,18+36i:
0,10+20i,10+20i,0,0,20+40i,0,20+40i
)

{xt,yt}
(
1+2i,2+4i,3+6i,4+8i,5+10i:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
2+4i,4+8i,6+12i,8+16i,10+20i:
4+8i,8+16i,12+24i,16+32i,20+40i:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i:
8+16i,16+32i,24+48i,32+64i,40+80i:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i
)

yt={y_short,y_long,2*y_short,y_long}
yt=(
4+8i,8+16i,12+24i,16+32i,20+40i:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i:
8+16i,16+32i,24+48i,32+64i,40+80i:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i
)

xt={x_short,x_long,x_long,2*x_short}
xt=(
1+2i,2+4i,3+6i,4+8i,5+10i:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
2+4i,4+8i,6+12i,8+16i,10+20i
)

yt_OK={y_short,y_long}
yt_OK=(
4+8i,8+16i,12+24i,16+32i,20+40i:
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i
)

xt_OK={x_short,x_long}
xt_OK=(
1+2i,2+4i,3+6i,4+8i,5+10i:
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i
)

yt_OK={y_long,y_short}
yt_OK=(
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i:
4+8i,8+16i,12+24i,16+32i,20+40i
)

xt_OK={x_long,x_short}
xt_OK=(
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i:
1+2i,2+4i,3+6i,4+8i,5+10i
)

y_short=4*x_short
y_short=(
4+8i,8+16i,12+24i,16+32i,20+40i
)

x_short=(1+2i)*(1,2,3,4,5)
x_short=(
1+2i,2+4i,3+6i,4+8i,5+10i
)

y_long=2*x_long
y_long=(
2+4i,4+8i,6+12i,8+16i,10+20i,12+24i,14+28i,16+32i,18+36i,20+40i
)

x_long=(1+2i)*(1,2,3,4,5,6,7,8,9,10)
x_long=(
1+2i,2+4i,3+6i,4+8i,5+10i,6+12i,7+14i,8+16i,9+18i,10+20i
)

clear
local storage cleared

[isStrict=0,N=3,N2=int(N/2),filter=vectorc(N*N),Nbit=N-1,wmax=2**Nbit,calc_w(s2)=<switch(isStrict==0,round(wmax*exp(-0.5*s2)):1,exp(-0.5*s2)),_s((ir)=<{_s((ic)=<filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=>,-N2,N2)},-N2,N2),=<trans(filter)]=>
(
1,2,1,2,4,2,1,2,1
)

clear
local storage cleared

[isSquare=0,N=13,N2=int(N/2),filter=vectorc(N*N),x=1,y=2,k=3,rad=pi/4,rotz_LHS(psi)=<{rt=real(psi),=<(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)}=>,Rz=rotz_LHS(rad)=>,isOutOfArea(x)=<switch(isSquare==0,x[0]**2+(x[1]*k)**2>N2**2:1,(x[0]**2>N2**2)|((x[1]*k)**2>N2**2)),calc_w(ir,ic)=<switch(isOutOfArea(=<Rz*{ic-x,ir-y,1})=>,0:1,1),_s((ir)=<{_s((ic)=<filter[(ir+N2)*N+(ic+N2)]=calc_w(ir,ic)=>,-N2,N2)},-N2,N2),=<trans(filter)]=>
(
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0
)

clear
local storage cleared

[isSquare=0,N=3,N2=int(N/2),filter=vectorc(N*N),calc_w(s2)=<switch(isSquare==0,switch(s2>N2**2,0:1,1):1,1),_s((ir)=<{_s((ic)=<filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=>,-N2,N2)},-N2,N2),=<trans(filter)]=>
(
0,1,0,1,1,1,0,1,0
)

clear
local storage cleared

[Pinv_y=(-0.999999427,-0.999936657,-0.997300203,-0.954499736,-0.682689492,0,0.682689492,0.954499736,0.997300203,0.999936657,0.999999427:-5,-4,-3,-2,-1,0,1,2,3,4,5),N=1,arr=[],_r((n)=<arr.push(rand_table(=<Pinv_y)=>),,N),=<arr.]=>
-1.5547896595060426

rand_table(csv)=<last[table=sort0(csv),ymin=min(table)[0],ymax=max(table)[0],y=ymin+(ymax-ymin)*rand(),x=interp(y:table),x]
stored_eqn(rand_table)

clear
local storage cleared

[(N)=<[tarr=linspace(0,N-1,N).,shuffle_FY(?tarr)=>,=<tarr.]=>](2)=>
(
0,1
)

shuffle_FY(?tarr)=<last[len=sizer(tarr),switch_arr=(i1)=<last{i0=floor(rand()*(i1+1)),w=tarr[i1],tarr[i1]=tarr[i0],tarr[i0]=w},_s((i_)=<switch_arr(i_)=>,len-1,1)]
stored_eqn(shuffle_FY)

clear
local storage cleared

[PRNG_LCG(16807,0,m,x0,N)=>:PRNG_LCG(48271,0,m,x0,N)=>:PRNG_LCG(0x7FFFFFED,0x7FFFFFC3,m,x0,N)=>]
(
1,16807,282475249,1622650073,984943658,1144108930,470211272,101027544,1457850878,1458777923,2007237709:
1,48271,182605794,1291394886,1914720637,2078669041,407355683,1105902161,854716505,564586691,1596680831:
1,2147483569,1440,2147457667,467570,2139067327,151493550,1568083309,1839271264,1252855633,1070918471
)

($m,$x0,$N)=(0x7fffffff,1,10)
stored_var(m) stored_var(x0) stored_var(N) 

PRNG_LCG(6,0,11,1,10)=>
(
1,6,3,7,9,10,5,8,4,2,1
)

PRNG_LCG(a,b,m,x0,N)=<[arr=(x0),[x=x0,eqn=<last{x=(a*x+b)%m,x},=<eqn]=>gen_rand,_r(=<arr.push(gen_rand=>),,min(N,m-1)),=<arr]=>
stored_eqn(PRNG_LCG)

clear
local storage cleared

[gcd(111,222,333,444,555),gcd_(111,gcd_(222,gcd_(333,gcd_(444,555)=>)=>)=>)=>:lcm(111,222,333,444,555),lcm_(111,lcm_(222,lcm_(333,lcm_(444,555)=>)=>)=>)=>]
(
111,111:
6660,6660
)

lcm_(a,b)=<a*(b/gcd_(a,b)=>)
stored_eqn(lcm_)

gcd_(a0,b0)=<last[a=a0,b=b0,_r((n)=<last{ia=round(a),ib=round(b),a=ia<0||ib===0&&&ia|||ib,b=ia%(ib||1)},isBreak_a=<isNaN(a)|||a<0&&&~~(a=false),1e6,=<{isBreak_a=>|||b==0}),a]
stored_eqn(gcd_)

clear
local storage cleared

[fact_sw0(n)=<n<=1|||n*fact_sw1(n-1)=>,fact_sw1(n)=<n*fact_sw0(n-1)=>,(N)=<((N/2)!,fact(N/2),N!,fact(N):fact_(N)=>,fact_sw0(N)=>,fact_sw1(N)=>:A=linspace(1,N,N).map((n)=<fact_(n)=>):mat2coo(A)::A.map((x)=<-x).map((x)=<abs(x)).filter((x)=<x>fact(N/2)))](10)=>
(
120,120,3628800,3628800:
3628800,3628800,3628800:
0:
true,2,6,24,120,720,5040,40320,362880,3628800:
1,1,1,1,1,1,1,1,1,1:
1,2,3,4,5,6,7,8,9,10:
0:
720,5040,40320,362880,3628800:
0,0,0,0,0:
5,6,7,8,9
)

fact_(n)=<n<=1|||n*fact_(n-1)=>
stored_eqn(fact_)

clear
local storage cleared

[fibon_se(N,n0,k,ns_,ne_)=<[arr=[],_s((n)=<arr=(arr,fibok(n,n0,k)=>),ns_,ne_),=<arr]=>,fibonk_se(N,n0,ks,ke)=<[arr=[],_s((k)=<arr=(arr:fibon_se(N,n0,k,0,N)=>),ks,ke),=<arr]=>,fibok_se(N,n0,ks,ke)=<[arr=[],_s((k)=<arr=(arr,fibok(N,n0,k)=>),ks,ke),=<arr]=>,fibok_fill_n0(N,n0,ks,ke)=<(fibonk_se(N,n0,ks,ke)=>:fibok_se(N,n0,2,N)=>:[arr=[],_s((k)=<arr=(arr,fibok(N,n0,k)=>),ks,ke),=<arr]=>),(N)=<[(N,n0s,n0e,ks,ke)=<[arr=[],_s((n0)=<arr=(arr:n0:fibok_fill_n0(N,n0,ks,ke)=>),n0s,n0e),=<arr]=>](N,0,3,2,N)=>](10)=>
(
0:
0,true,1,2,3,5,8,13,21,34,55:
0,0,true,1,2,4,7,13,24,44,81:
0,0,0,true,1,2,4,8,15,29,56:
0,0,0,0,true,1,2,4,8,16,31:
0,0,0,0,0,true,1,2,4,8,16:
0,0,0,0,0,0,true,1,2,4,8:
0,0,0,0,0,0,0,true,1,2,4:
0,0,0,0,0,0,0,0,true,1,2:
0,0,0,0,0,0,0,0,0,true,1:
55,81,56,31,16,8,4,2,1:
55,81,56,31,16,8,4,2,1:
1:
1,true,2,3,5,8,13,21,34,55,89:
1,1,true,3,5,9,17,31,57,105,193:
1,1,1,true,4,7,13,25,49,94,181:
1,1,1,1,true,5,9,17,33,65,129:
1,1,1,1,1,true,6,11,21,41,81:
1,1,1,1,1,1,true,7,13,25,49:
1,1,1,1,1,1,1,true,8,15,29:
1,1,1,1,1,1,1,1,true,9,17:
1,1,1,1,1,1,1,1,1,true,10:
89,193,181,129,81,49,29,17,10:
89,193,181,129,81,49,29,17,10:
2:
2,true,3,4,7,11,18,29,47,76,123:
2,2,true,5,8,14,27,49,90,166,305:
2,2,2,true,7,12,22,42,83,159,306:
2,2,2,2,true,9,16,30,58,114,227:
2,2,2,2,2,true,11,20,38,74,146:
2,2,2,2,2,2,true,13,24,46,90:
2,2,2,2,2,2,2,true,15,28,54:
2,2,2,2,2,2,2,2,true,17,32:
2,2,2,2,2,2,2,2,2,true,19:
123,305,306,227,146,90,54,32,19:
123,305,306,227,146,90,54,32,19:
3:
3,true,4,5,9,14,23,37,60,97,157:
3,3,true,7,11,19,37,67,123,227,417:
3,3,3,true,10,17,31,59,117,224,431:
3,3,3,3,true,13,23,43,83,163,325:
3,3,3,3,3,true,16,29,55,107,211:
3,3,3,3,3,3,true,19,35,67,131:
3,3,3,3,3,3,3,true,22,41,79:
3,3,3,3,3,3,3,3,true,25,47:
3,3,3,3,3,3,3,3,3,true,28:
157,417,431,325,211,131,79,47,28:
157,417,431,325,211,131,79,47,28
)

luca2(n)=<fibok(n,2,2)=>
stored_eqn(luca2)

fibok(n,n0,k)=<n<k-1&&n0||||n<k|||_s((m)=<fibok(n-m,n0,k)=>,1,k)
stored_eqn(fibok)

clear
local storage cleared

[F0=0,F1=1,arr=[F0,F1],[F0=F0,F1=F1,eqn=()=<last{F2=F0+F1,F0=F1,F1=F2,F2},=<eqn]=>generator_fibo2,_s((n)=<arr.push(generator_fibo2=>),2,10),=<arr]=>
(
0,1,1,2,3,5,8,13,21,34,55
)

clear
local storage cleared

[polynomial=<333.75*b**6+a**2*(11*(a*b)**2-b**6-121*b**4-2)+5.5*b**8+a/(2*b),polynomial_expanded=<333.75*b**6+a**2*11*(a*b)**2-a**2*b**6-a**2*121*b**4-a**2*2+5.5*b**8+a/(2*b),Rump_s_example(a,b)=<(polynomial=>,polynomial_expanded=>,sum(terms.),ans_correct),get_terms_normalized=<[term_min=min(abs(terms).),=<abs(terms)./term_min]=>,calc_decimal_digits(vecr,=<callback)=<round(log10(callback(=<vecr)=>)+1),=<(Rump_s_example(a,b)=>.:nvecr=get_terms_normalized=>,decimal_digits_min=calc_decimal_digits(=<nvecr,(vecr)=<min(vecr))=>,decimal_digits_max=calc_decimal_digits(=<nvecr,(vecr)=<max(vecr))=>,decimal_digits_needed=decimal_digits_max-decimal_digits_min:decimal_digits_min,decimal_digits_max,decimal_digits_needed)]=>
(
infoLost[r ] -1.1805916207174113e+21:
infoLost[r ] 1.1726039400531787:
infoLost[r ] 1.1726039400531787:
-0.8273960599468214:
0,0,0,0:
1,38,37
)

check_last=(last(terms)=sum(terms.))
check_last=infoLost[r ] 0

terms=get_terms(a,b)=>
terms=(
4.386057508463932e+29:
4.372915764571955e+29:
-7.917111341983136e+36:
-8.745831527692174e+29:
-12048797378:
7.917111340668962e+36:
1.1726039400531787
)

get_terms(a,b)=<{333.75*b**6,a**2*11*(a*b)**2,-a**2*b**6,-a**2*121*b**4,-a**2*2,5.5*b**8,a/(2*b)}
stored_eqn(get_terms)

($a,$b,$ans_correct)=(77617.0,33096.0,-0.8273960599468214)
stored_var(a) stored_var(b) stored_var(ans_correct) 

clear
local storage cleared

=trans(reshapez(trans(x0):Nx*Ny))
(
1,7,13,19,2,8,14,20,3,9,15,21,4,10,16,22,5,11,17,23,6,12,18,24
)

x1=trans(reshapez_(=<trans(x0):Nx*Ny)=>)
x1=(
1,7,13,19,2,8,14,20,3,9,15,21,4,10,16,22,5,11,17,23,6,12,18,24
)

x1=_r((arr)=<(arr,reshapec(get_x1yj(__n__-1)=>:[1,Nz*Nx])),=<[],Ny)
x1=(
1,7,13,19,2,8,14,20,3,9,15,21,4,10,16,22,5,11,17,23,6,12,18,24
)

x1y2=get_x1yj(2)=>
x1y2=(
5,6:
11,12:
17,18:
23,24
)

x1y1=get_x1yj(1)=>
x1y1=(
3,4:
9,10:
15,16:
21,22
)

x1y0=get_x1yj(0)=>
x1y0=(
1,2:
7,8:
13,14:
19,20
)

get_x1yj(j)=<reshapec(x1y[][j]:[Nz,Nx])
stored_eqn(get_x1yj)

x1y=reshapec(x1:Nz*Nx,Ny)
x1y=(
1,3,5:
7,9,11:
13,15,17:
19,21,23:
2,4,6:
8,10,12:
14,16,18:
20,22,24
)

=reshapez(x1:Nz)
(
1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
)

x0=reshapez_(=<x1:Nz)=>
x0=(
1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
)

=reshapez(x0:Nx*Ny)
(
1,7,13,19,2,8,14,20,3,9,15,21,4,10,16,22,5,11,17,23,6,12,18,24
)

x1=reshapez_(=<x0:Nx*Ny)=>
x1=(
1,7,13,19,2,8,14,20,3,9,15,21,4,10,16,22,5,11,17,23,6,12,18,24
)

x0=linspace(1,Nxyz,Nxyz)
x0=(
1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
)

Nxyz=Nx*Ny*Nz
Nxyz=24

($Nx,$Ny,$Nz)=(2,3,4)
stored_var(Nx) stored_var(Ny) stored_var(Nz) 

reshapez_(x:Nxy)=<[arr=[],isRow=(#x===1),isCol=(##x===1),Nz=(isRow||isCol)&&&###x/Nxy,isRow&&&(x=x.),push_arr(dj)=<_r(=<arr.push(x[(__n__-1)*Nxy+dj]),,Nz),Nz%1===0&&&_r(=<push_arr(__n__-1)=>,,Nxy),isCol&&&(arr=arr.),=<arr]=>
stored_eqn(reshapez_)

clear
local storage cleared

((((([=<1,=<[2,3].,=<[4,=<[5,=<x].].].)[2])=>)[1])=>)[1]
($x)

((((tA_lazy[2])=>)[1])=>)[1]
($x)

(((([=<1,=<[2,3].,=<[4,=<[5,=<x].].].)[2])=>)[1])=>
(
5:
$x
)

(((tA_lazy[2])=>)[1])=>
(
5:
$x
)

tA_lazy=[=<1,=<[2,3].,=<[4,=<[5,=<x].].].
tA_lazy=(
eqn:
eqn:
eqn
)

(((([=<1,=<[2,3],=<[4,=<[5,=<x]]][][2])=>)[][1])=>)[][1]
($x)

((((A_lazy[][2])=>)[][1])=>)[][1]
($x)

((([=<1,=<[2,3],=<[4,=<[5,=<x]]][][2])=>)[][1])=>
(
5,$x
)

(((A_lazy[][2])=>)[][1])=>
(
5,$x
)

A_lazy=[=<1,=<[2,3],=<[4,=<[5,=<x]]]
A_lazy=(
eqn,eqn,eqn
)

clear
local storage cleared

[$a=2:A.map((=<f)=<f(3)=>):A.map((=<f)=<f(3)==>):[arr=[],A.map((=<f)=<arr=(arr,f(3)=>,f(3)==>)),=<arr]=>]
(
0:
3,-3,9:
6,-6,18:
3,6,-3,-6,9,18
)

$A=((x)=<a*x,(x)=<-a*x,(x)=<a*x*x)
const A=(
eqn(x),eqn(x),eqn(x)
)

$a=1
const a=1

clear
local storage cleared

f(=<(=<1,=<2:=<3,=<4)[][0])=>,f(=<(=<1,=<2:=<3,=<4)[][1])=>
(
1,2:
3,4
)

f(=<(=<1,=<2:=<3,=<4)[0])=>:f(=<(=<1,=<2:=<3,=<4)[1])=>
(
1,2:
3,4
)

f(=<(=<1,=<2:=<3,=<4))=>
(
1,2:
3,4
)

f(=<A_lazy[][0])=>,f(=<A_lazy[][1])=>
(
1,2:
3,4
)

f(=<A_lazy[0])=>:f(=<A_lazy[1])=>
(
1,2:
3,4
)

f(=<A_lazy)=>
(
1,2:
3,4
)

f=(A_iterable)=<[=<A_iterable.map((=<f)=<f=>)]=>
stored_eqn(f)

$A=((A_lazy[0][0])=>,(A_lazy[0][1])=>:(A_lazy[1][0])=>,(A_lazy[1][1])=>)
const A=(
1,2:
3,4
)

anonymous_call=(A_lazy)=>
anonymous_call=4

$A_lazy=(=<1,=<2:=<3,=<4)
const A_lazy=(
eqn,eqn:
eqn,eqn
)

clear
local storage cleared

f=(A)=<A,f(=<(1,2))=>,f(=<(1))=>,f((1))=>:A_not_iterable=(x)=<x,A_not_iterable(2)=>:A_iterable=((x)=<x),(A_iterable[0][0])(2)=>,(A_iterable)(2)=>:A_iterable=((x)=<x,(x)=<-x,(x)=<x*x),(A_iterable[0][0])(2)=>,(A_iterable)(2)=>:A_lazy=((x)=<x,(x)=<-x,(x)=<x*x),f(A)=<((A[0][0])(2)=>,(A)(2)=>),f(=<A_lazy)=>
(
0,1,2,1,1:
0,2:
0,2,2:
0,2,4:
0,0,2,4
)

clear
local storage cleared

[[=<f,=<g,=<h].map((=<f)=<f(3)=>):[(x)=<x,(x)=<-x,(x)=<x*x].map((=<f)=<f(3)=>):A.map((=<f)=<f(3)=>):A.filter((=<f)=<(lt(f(3)=>,0))):A.filter0((=<f)=<(gt(f(3)=>,0))).map((=<g)=<g(3)=>)]
(
3,-3,9:
3,-3,9:
3,-3,9:
eqn(x):
0:
1:
3,9
)

A=ans
A=(
eqn(x),eqn(x),eqn(x)
)

(x)=<x,(x)=<-x,(x)=<x*x
(
eqn(x),eqn(x),eqn(x)
)

$f(x)=<x,$g(x)=<-x,$h(x)=<x*x
(
0,0,0
)

clear
local storage cleared

0:call_fgh(a*1,=<make_f0)=>:call_fgh(a*2,=<make_f1)=>:call_fgh(a*3,=<make_f2)=>:1:[arr=[],(=<make_f0,=<make_f1,=<make_f2).map(==<push_arr4vecr),=<arr]=>:2:[arr=[],{=<make_f0,=<make_f1,=<make_f2}.map(==<push_arr4vecc).,=<arr]=>:3:[arr=[],temp={=<make_f0,=<make_f1,=<make_f2}.map(==<push_arr4vecc),=<arr]=>
(
0:
3,-3,9:
6,-6,36:
9,-9,81:
1:
3,-3,9:
6,-6,36:
9,-9,81:
2:
3,-3,9:
6,-6,36:
9,-9,81:
3:
3,-3,9:
6,-6,36:
9,-9,81
)

push_arr4vecc(=<f_,i_)=<arr=[arr:call_fgh(a*(i_+1),=<f_)=>]
stored_eqn(push_arr4vecc)

push_arr4vecr(=<f_,i_,j_)=<arr=[arr:call_fgh(a*(j_+1),=<f_)=>]
stored_eqn(push_arr4vecr)

make_f2($eqnName)=<[($eqnName)=<eqnName]($eqnName)=>
stored_eqn(make_f2)

make_f1($eqnName)=<[($eqnName)=<()=<eqnName]($eqnName)=>
stored_eqn(make_f1)

make_f0($eqnName)=<[($eqnName)=<(x)=<eqnName(x)=>]($eqnName)=>
stored_eqn(make_f0)

call_fgh(a,=<fgh)=<[fgh($f)=>f,fgh($g)=>g,fgh($h)=>h,=<[f(a)=>,g(a)=>,h(a)=>]]=>
stored_eqn(call_fgh)

restore
local storage restored

[call_f(=<f_)=<f_(a)=>,call_sw(sw,=<fgh)=<[fgh(sw)=>f,call_f(=<f)=>,call_f((a)=<(fgh(sw)=>)(a)=>)=>],(=<list_eqn)=<[arr=[],(list_eqn=>).map((=<fgh)=<(0,1,2).map((sw)=<arr=(arr:call_sw(sw,=<fgh)=>))),=<arr]=>](=<(=<fgh0_strict,=<fgh1_strict,=<fgh2_strict,=<fgh3,=<fgh4))=>
(
0,3,3:
0,-3,-3:
0,9,9:
0,3,3:
0,-3,-3:
0,9,9:
0,3,3:
0,-3,-3:
0,9,9:
0,3,3:
0,-3,-3:
0,9,9:
0,3,3:
0,-3,-3:
0,9,9
)

restore
local storage restored

[call_f(=<f_)=<(f_=>)(a)=>,callback(=<f_)=<call_f(=<f_)=>,call_map(=<list_eqn,=<callback)=<(list_eqn=>).map(=<callback),call_filter(=<list_eqn,=<callback)=<(list_eqn=>).filter(=<callback),call_filter0(=<list_eqn,=<callback)=<(list_eqn=>).filter0(=<callback),(=<list_eqn)=<(((list_eqn=>)=>)(a)=>:(0,1,2).map((sw)=<call_f(=<(list_eqn[sw]=>)=>)=>):(0,1,2).map((sw)=<call_f(=<(list_eqn=>)[sw]=>)=>):call_map(=<list_eqn,=<callback)=>.:call_filter(=<list_eqn,(=<f_)=<abs(call_f(=<f_)=>)==3)=>list_eqn_filtered:call_map(=<list_eqn_filtered[0]=>,=<callback)=>:call_filter0(=<list_eqn,(=<f_)=<abs(call_f(=<f_)=>)==3)=>list_eqn_filtered0:call_map(=<list_eqn_filtered0=>,=<callback)=>)](=<(=<(x)=<f(x)=>:=<(x)=<g(x)=>:=<(x)=<h(x)=>))=>
(
9:
3,-3,9:
3,-3,9:
3,-3,9:
0:
3,-3:
0:
3,-3
)

store
local storage stored

fgh4(sw)=<(sw==0&&&(=<f)|||sw==1&&&(=<g)|||sw==2&&&(=<h))=>
stored_eqn(fgh4)

fgh3(sw)=<(=<f:=<g:=<h)[sw]=>
stored_eqn(fgh3)

fgh2_strict(sw)=<(=<sw==0&&&(=<f)|||sw==1&&&(=<g)|||sw==2&&&(=<h))=>
stored_eqn(fgh2_strict)

fgh1_strict(sw)=<(=<=<f:=<=<g:=<=<h)[sw]=>
stored_eqn(fgh1_strict)

fgh0_strict(sw)=<(=<(x)=<f(x)=>:=<(x)=<g(x)=>:=<(x)=<h(x)=>)[sw]=>
stored_eqn(fgh0_strict)

$f(x)=<x,$g(x)=<-x,$h(x)=<x*x
(
0,0,0
)

$a=3
const a=3

clear
local storage cleared

(=<=<=<f0_p0).map(=<call_f_pipe2)
1

(=<=<f0_p1,=<=<f1_p1,=<=<f2_p1).map(=<call_f_pipe2)
(
1,1,1
)

(=<=<(x)=<x,=<=<=<f,=<(=<=<f):=<f0_p2,=<f1_p2,=<f2_p2).map(=<call_f_pipe2)
(
1,1,1:
1,1,1
)

((f2_p2=>)=>)(a)=>
1

((f1_p2=>)=>)(a)=>
1

((f0_p2=>)=>)(a)=>
1

f2_p2=<(=<=<f)
stored_eqn(f2_p2)

f1_p2=<=<=<f
stored_eqn(f1_p2)

f0_p2=<=<(x)=<x
stored_eqn(f0_p2)

(=<=<f0_p0).map(=<call_f_pipe1)
1

(=<(x)=<x,=<=<f,=<(=<f):=<f0_p1,=<f1_p1,=<f2_p1).map(=<call_f_pipe1)
(
1,1,1:
1,1,1
)

(f2_p1=>)(a)=>
1

(f1_p1=>)(a)=>
1

(f0_p1=>)(a)=>
1

f2_p1=<(=<f)
stored_eqn(f2_p1)

f1_p1=<=<f
stored_eqn(f1_p1)

f0_p1=<(x)=<x
stored_eqn(f0_p1)

((x)=<x:=<f0_p0).map(=<call_f_pipe0)
(
1:
1
)

call_f_pipe2(=<=<=<f0_p0)=>
1

call_f_pipe1(=<=<f0_p0)=>
1

call_f_pipe0(=<f0_p0)=>
1

f0_p0(a)=>
1

f0_p0(x)=<x
stored_eqn(f0_p0)

([=<{=<=<(x)=<(x)}]=>,[=<{=<=<=<f}]=>).map(=<call_f_pipe2)
(
1,1
)

([=<{=<(x)=<(x)}]=>,[=<{=<=<f}]=>).map(=<call_f_pipe1)
(
1,1
)

([=<{(x)=<(x)}]=>,[=<{=<f}]=>,[=<f]=>).map(=<call_f_pipe0)
(
1,1,1
)

[=<{=<=<=<f}]=>g,call_f_pipe2(=<g)=>
(
0,1
)

[=<{=<=<f}]=>g,call_f_pipe1(=<g)=>
(
0,1
)

[=<{=<f}]=>g,call_f_pipe0(=<g)=>
(
0,1
)

[=<f]=>g,call_f_pipe0(=<g)=>
(
0,1
)

call_f_pipe2(=<f_)=<((f_=>)=>)(a)=>
stored_eqn(call_f_pipe2)

call_f_pipe1(=<f_)=<(f_=>)(a)=>
stored_eqn(call_f_pipe1)

call_f_pipe0(=<f_)=<f_(a)=>
stored_eqn(call_f_pipe0)

f(x)=<x
stored_eqn(f)

a=1
a=1

clear
local storage cleared

A.map(=<f0).map(=<f1).filter0(=<cond0).filter0(=<cond1)
(
-3,-3
)

((A.map(=<f0).map(=<f1).filter(=<cond0))[0].filter(=<cond1))[0]
(
-3,-3
)

(A.map(=<f0).map(=<f1).filter(=<cond0))[0].filter(=<cond1)
(
-3,-3:
0,0:
1,4
)

A.map(=<f0).map(=<f1).filter(=<cond1)
(
-3,-3:
0,2:
2,2
)

A.map(=<f0).map(=<f1).filter(=<cond0)
(
-1,-3,-5,-1,-3,-5:
0,0,1,2,2,3:
0,2,1,0,2,1
)

arr_j=A_filtered[2]
arr_j=(
0,2,1,0,2,1
)

arr_i=A_filtered[1]
arr_i=(
0,0,1,2,2,3
)

Aij=A_filtered[0]
Aij=(
-1,-3,-5,-1,-3,-5
)

A_filter0_4chain=A_mapped.filter0((x)=<x<0)
A_filter0_4chain=(
-1,-3,-5,-1,-3,-5
)

A_filtered=A_mapped.filter((x)=<x<0)
A_filtered=(
-1,-3,-5,-1,-3,-5:
0,0,1,2,2,3:
0,2,1,0,2,1
)

A_mapped=A.map((x)=<abs(x)).map((x,i_,j_,self)=<x%2&&&-x|||self[i_][j_])
A_mapped=(
-1,2,-3:
4,-5,6:
-1,2,-3:
4,-5,6
)

cond1(x)=<abs(x)==3
stored_eqn(cond1)

cond0(x)=<x<0
stored_eqn(cond0)

f1(x,i_,j_,self)=<x%2&&&-x|||self[i_][j_]
stored_eqn(f1)

f0(x)=<abs(x)
stored_eqn(f0)

arr_n=cooA[2]
arr_n=(
1,2,3,1,2,3,1,2,3,1,2,3
)

arr_m=cooA[1]
arr_m=(
1,1,1,2,2,2,3,3,3,4,4,4
)

Amn=cooA[0]
Amn=(
1,2,3,4,5,6,-1,-2,-3,-4,-5,-6
)

cooA=mat2coo(A)
cooA=(
1,2,3,4,5,6,-1,-2,-3,-4,-5,-6:
1,1,1,2,2,2,3,3,3,4,4,4:
1,2,3,1,2,3,1,2,3,1,2,3
)

A=(A0:-A0)
A=(
1,2,3:
4,5,6:
-1,-2,-3:
-4,-5,-6
)

A0=(1,2,3:4,5,6)
A0=(
1,2,3:
4,5,6
)

clear
local storage cleared

v
(
5:
4,3:
2,1
)

v.flip()
NaN

v
(
1,2:
3,4:
5
)

v[#v].push((3,4:5))
NaN

v
(
1,2
)

v.shift()
(eqn(x))

v.unshift((x)=<x*x),(v.)[0](3)=>
(
NaN,9
)

v.pop()
(eqn(x))

v.push(=<g),(v.)[2](3)=>
(
NaN,9
)

v.pop()
(eqn(x))

v.push((x)=<x),(v)[][2](3)=>
(
NaN,3
)

v.shift()
(eqn(x))

v.unshift(=<f),(v)[][0](3)=>
(
NaN,3
)

check(8)=>
(
1,2:
3,4,1,2,5:
0,3,4,1,2,5:
0,3,4,1,2,5:
0,3,4:
0
)

check(7)=>
(
1,2,5:
3,4,1,2,5:
0,3,4,1,2,5:
0,3,4:
0
)

check(6)=>
(
1,2,5:
3,4:
0:
1,2,5:
3,4:
0:
1,2,5:
3,4:
0
)

check(5)=>
(
1,2:
3,4:
0,-1,-2:
-3,-1,-2:
-3,-1,-2:
-3
)

check(4)=>
(
1,2:
3,4:
0,-1,-2:
-3,-1,-2:
-3,-1,-2:
-3
)

check(3)=>
(
-1,-2:
-3,-1,-2:
-3,-1,-2:
-3,1,2:
3,4:
0
)

check(2)=>
(
1,2:
3,4:
-1,-2,0:
-1,-2,-3:
-1,-2,-3:
-3
)

check(1)=>
(
-1,-2,-1,-2,-1,-2,1,2:
-3,-3,-3,3,4:
0
)

check(n)=<[(arr_f[n-1])==>,=<arr]=>
stored_eqn(check)

arr_f=[()=<_r(=<arr.unshift(B),arr=A,N):()=<_r(=<arr[-1].unshift(B),arr=A,N):()=<_r(=<arr[-#arr-1].unshift(B),arr=A,N):()=<_r(=<arr.push(B),arr=A,N):()=<_r(=<arr[-1].push(B),arr=A,N):()=<_r(=<arr[#arr].push(C),arr=[],N):()=<_r(=<arr[__n__-1].push(C),arr=[],N):()=<_r(=<arr[__n__].push(C),arr=A,N)]
arr_f=(
eqn():
eqn():
eqn():
eqn():
eqn():
eqn():
eqn():
eqn()
)

N=3
N=3

g(x)=<x*x
stored_eqn(g)

f(x)=<x
stored_eqn(f)

v=(1,2)
v=(
5:
4,3:
2,1
)

C=(A,5)
C=(
1,2,5:
3,4:
0
)

B={-1:-2,-3}
B=(
-1,-2:
-3
)

A=(1,2:3,4:)
A=(
1,2:
3,4:
0
)

clear
local storage cleared

[c0=-1:make_counter=(c0,dc0)=<[c=c0,dc=dc0,=<()=<last(c=c+dc,c)]()=>:make_counter(0,1)=>count0:count0=>,count0=>,count0=>:make_counter(100,3)=>count1:count1=>,count1=>,count1=>,count0=>,count0=>,count0=>:make_counter_closed_1st_call=(c0,dc0)=<[c=c0,(dc)=<()=<last(c=c+dc,c)](dc0)=>:make_counter_closed_1st_call(0,1)=>count0:count0=>,count0=>,count0=>:make_counter_closed_1st_call(100,3)=>count1:count1=>,count1=>,count1=>,count0=>,count0=>,count0=>:make_counter_closed_1st_call=(c0,dc0)=<[(c,dc)=<()=<last(c=c+dc,c)](c0,dc0)=>:make_counter_closed_1st_call(0,1)=>count0:count0=>,count0=>,count0=>:make_counter_closed_1st_call(100,3)=>count1:count1=>,count1=>,count1=>,count0=>,count0=>,count0=>:make_counter_closed_1st_call=(c0,dc0)=<[c=c0,(dc)=<()=<last[c=c+dc,c]](dc0)=>:make_counter_closed_1st_call(0,1)=>count0:count0=>,count0=>,count0=>:make_counter_closed_1st_call(100,3)=>count1:count1=>,count1=>,count1=>,count0=>,count0=>,count0=>:[arr=[],_r(=<arr=(arr,count0=>),,10),=<arr]=>:c0]
(
0:
0:
0:
1,2,3:
0:
103,106,109,4,5,6:
0:
0:
1,2,3:
0:
103,106,109,4,5,6:
0:
0:
1,2,3:
0:
103,106,109,4,5,6:
0:
0:
1,1,1:
0:
103,103,103,1,1,1:
1,1,1,1,1,1,1,1,1,1:
-1
)

clear
local storage cleared

[call_f(0,()=<f)=>:[call_f(0,()=<-x*2)=>:[call_f(f=()=<-x*3,=<f)=>]:[call_f(f=()=<last{not(hass(x))&&&(x=NaN),-x*3},=<f)=>:[call_f(f=()=<last[not(hass(x))&&&(x=NaN),-x*4],=<f)=>]]]]
(
0:
0,0,i:
0,0,i:
0,0,1:
0,0,2:
0,0,3:
0,0,4:
0:
0,0,-2i:
0,0,-2i:
0,0,-2:
0,0,-4:
0,0,-6:
0,0,-8:
0:
0,0,-3i:
0,0,-3i:
0,0,-3:
0,0,-6:
0,0,-9:
0,0,-12:
0:
0,0,NaN:
0,0,NaN:
0,0,-3:
0,0,-6:
0,0,-9:
0,0,-12:
0:
0,0,NaN:
0,0,NaN:
0,0,NaN:
0,0,NaN:
0,0,NaN:
0,0,NaN
)

x=i
x=i

call_f=(x0,=<f)=<[x0:g=<f,x=x0+1,(g=>)=>:g=()=<f,x=x0+2,(g=>)=>:g=<f,x=x0+1,(g==>)=>:g=()=<f,x=x0+2,(g==>)=>:g==<f,x=x0+3,(g=>)=>:g=()==<f,x=x0+4,(g=>)=>]
stored_eqn(call_f)

f=()=<x
stored_eqn(f)

clear
local storage cleared

call_f=>
(
false,3,2,1,i
)

a=i,f=[a=1,f=[a=2,f=[a=3,(a)==<=<call_f](a)=>,=<==<call_f]=>,==<call_f]=>
(
0,0
)

call_f=<(hass(=<f)&&&f=>||||false,a)
stored_eqn(call_f)

clear
local storage cleared

[wrapper_closed(1)==>:[wrapper_closed(2)==>:[wrapper_closed(3)==>]]]
(
1:
0,i,1:
0,i,1:
0,i,-1:
0,i,-1:
2:
0,i,2:
0,i,2:
0,i,-2:
0,i,-2:
3:
0,i,3:
0,i,3:
0,i,-3:
0,i,-3
)

[wrapper(1)==>:[wrapper(2)==>:[wrapper(3)==>]]]
(
1:
0,i,1:
0,i,1:
0,i,-1:
0,i,-1:
2:
0,i,2:
0,i,2:
0,i,-2:
0,i,-2:
3:
0,i,3:
0,i,3:
0,i,-3:
0,i,-3
)

wrapper(0)==>:wrapper_closed(0)==>
(
0:
0,0,0:
0,0,0:
0,0,0:
0,0,0:
0:
0,i,0:
0,i,0:
0,i,0:
0,i,0
)

wrapper_closed(x)=<[x:call_a(x)==>:call_a(-x)==>]
stored_eqn(wrapper_closed)

wrapper(x)=<(x:call_a(x)==>:call_a(-x)==>)
stored_eqn(wrapper)

call_a(x0)=<[x=x0,call_f==>:($a)=(=<call_f==>),a]
stored_eqn(call_a)

call_f=<(f=>,f==>)
stored_eqn(call_f)

f=<x
stored_eqn(f)

x=i
x=i

clear
local storage cleared

a=-1,b=0,x=1:[a=1,[(a)=<(x)=<a*x+b](-3)=>f,=<f]=>f,f(x)=>,f(x)==>:[a=1,[(a)=<(x)==<a*x+b](-3)=>f,=<f]=>f,f(x)=>,f(x)==>:[a=1,[(a)=<(x)=<a*x+b](-3)==>f,=<f]=>f,f(x)=>,f(x)==>:[a=1,[(a)=<(x)=<a*x+b](-3)=>f,==<f]=>f,f(x)=>,f(x)==>:[a=1,[(a)=<(x)=<a*x+b](-3)=>f,=<f]==>f,f(x)=>,f(x)==>:[a=1,[a=2,(a)=<(x)=<a*x+b](-3)=>f,=<f]=>f,f(x)=>,f(x)==>:[a=1,[a=2,(a)=<[(x)=<a*x+b]](-3)=>f,=<f]=>f,f(x)=>,f(x)==>:[a=1,[a=2,[(a)=<(x)=<a*x+b]](-3)=>f,=<f]=>f,f(x)=>,f(x)==>
(
0,0,0:
0,-3,-1:
0,-3,-1:
0,1,-1:
0,1,-1:
0,-1,-1:
0,2,-1:
0,-3,-1:
0,-3,-1
)

clear
local storage cleared

f=<[x=1,f(x)=<x,(a)=<(x)=<f(a*x)=>](2)=>,f=>g,g(3)=>:f(a0)=<[x=1,f(x)=<x,(a)=<(x)=<f(a*x)=>](a0)=>,f(2)=>g,g(3)=>:f(a0)=<[x=1,f(x)=<x,(a)=<(x)=<f(a*x)=>](a0)=>g,f(2)=>,g(3)=>:f(a0)=<[x=1,f(x)=<x,(a)=<(x)=<f(a*x)=>](a0)=>,f(2)=>g,g(3)=>:1,f(-3)=>h,h(3)=>:f(a0)=<[x=1,f(x)=<x,a=-2,(a)=<(x)=<f(a*x)=>](a0)=>g,f(2)=>,g(3)=>:1,f(-3)=>,g(3)=>:f(a0)=<[x=1,f(x)=<x,a=-2,(a)=<[(x)=<f(a*x)=>]](a0)=>g,f(2)=>,g(3)=>:f(a0)=<[x=1,f(x)=<x,a=-2,[(a)=<(x)=<f(a*x)=>]](a0)=>g,f(2)=>,g(3)=>:1,f(-3)=>,g(3)=>:f(a0)=<[x=1,f(x)=<x,a=-2,(a)=<(x)=<f(a*x)=>](a0)=>,f(2)=>g,g(3)=>:1,f(-3)=>h,h(3)=>:f(a0)=<[x=1,f(x)=<x,a=-2,(a)=<[(x)=<f(a*x)=>]](a0)=>,f(2)=>g,g(3)=>:f(a0)=<[x=1,f(x)=<x,a=-2,[(a)=<(x)=<f(a*x)=>]](a0)=>,f(2)=>g,g(3)=>:1,f(-3)=>h,h(3)=>
(
0,0,6:
0,0,6:
0,0,6:
0,0,6:
1,0,-9:
0,0,-6:
1,0,-6:
0,0,6:
0,0,6:
1,0,-9:
0,0,-6:
1,0,-6:
0,0,6:
0,0,6:
1,0,-9
)

clear
local storage cleared

a=1:[()=<a]()=>,[()=<[()=<a]()=>]()=>,[()=<[(a)=<a](2)=>]()=>,[()=<[a=1,(a)=<a](2)=>]()=>:[=<a]=>,[=<[=<a]=>]=>,[=<[(a)=<a](2)=>]=>,[=<[a=1,(a)=<a](2)=>]=>:[=<[(a)=<last[,a]](3)=>]=>:[=<[a=2,(a)=<last[,a]](3)=>]=>:[[(a)=<=<last[,a]](3)=>]=>:[[a=2,(a)=<=<last[,a]](3)=>]=>:[[a=2,(a)=<[=<last[,a]]](3)=>]=>:[[a=2,[(a)=<=<last[,a]]](3)=>]=>:[(a)=<=<last[,a]](3)=>f,f=>,f==>:[a=2,(a)=<=<last[,a]](3)=>f,f=>,f==>:[(a)=<()=<last[,a]](3)=>f,f()=>,f()==>:[a=2,(a)=<()=<last[,a]](3)=>f,f()=>,f()==>:[[(a)=<(x,y)=<(a,x,y)](a)=>](2,3)=>:[[a=2,(a)=<(x,y)=<(a,x,y)](a)=>](2,3)=>:[[a=2,(a)=<[(x,y)=<(a,x,y)]](a)=>](2,3)=>:[[a=2,[(a)=<(x,y)=<(a,x,y)]](a)=>](2,3)=>:[[(a)=<(x,y)=<(a,x,y)](a)=>](2,3)=>f,f=>,f==>:[[a=2,(a)=<(x,y)=<(a,x,y)](a)=>](2,3)=>f,f=>,f==>
(
0:
1,1,2,2:
1,1,2,2:
3:
3:
3:
2:
3:
3:
0,3,1:
0,2,1:
0,3,1:
0,2,1:
1,2,3:
2,2,3:
1,2,3:
1,2,3:
0,1,2,3,1,2,3:
0,2,2,3,2,2,3
)

clear
local storage cleared

xy_z(3)=>:xy_z(4)=>:xy_z(5)=>
(
1,2,3:
1,2,4:
1,2,5
)

xy_z=(f(1)=>)(2)=>
stored_eqn(xy_z)

f=(x)=<[(y)=<(z)=<(x,y,z)]
stored_eqn(f)

clear
local storage cleared

(1/linspace(1,10,10):linspace(1,10,10)).map((x)=<inv_y_applied_partially(x)=>).
(
1,1:
2,0.5:
3,0.3333333333333333:
4,0.25:
5,0.2:
6,0.16666666666666666:
7,0.14285714285714285:
8,0.125:
9,0.1111111111111111:
10,0.1
)

inv_y_applied_partially=div_curried_closed_1st_call(1)=>
stored_eqn(inv_y_applied_partially)

div_curried_closed_1st_call=(x)=<[(x)=<(y)=<div(x,y)=>](x)=>
stored_eqn(div_curried_closed_1st_call)

(div_curried_closed_1st_call(5)=>)(1)=>
5

(div_curried_not_closed(4)=>)(1)=>
3

x=3
x=3

(div_curried_closed_1st_call(2)=>)(1)=>
2

(div_curried_not_closed(1)=>)(1)=>
1

div_curried_closed_1st_call=(x)=<[(y)=<div(x,y)=>]
stored_eqn(div_curried_closed_1st_call)

div_curried_not_closed=(x)=<(y)=<div(x,y)=>
stored_eqn(div_curried_not_closed)

div=(x,y)=<x/y
stored_eqn(div)

clear
local storage cleared

f((x)=<x)=>,f(=<g)=>
(
3,3
)

g=(x)=<x
stored_eqn(g)

f((x)=<(1,2)*x)=>
(
3,6
)

f=(=<h)=<h(3)=>
stored_eqn(f)

clear
local storage cleared

call_g(1)=>,call_g(2)=>,call_g(3)=>,call_g(4)=>,call_g(5)=>,call_g(6)=>,call_g(7)=>
(
1,2,3,4,5,6,6
)

call_f(1)=>,call_f(2)=>
(
1,1.0031944722741184+O(1e-3)
)

call_g(x0)=<Newton(make_args(=<g,x0)=>)
stored_eqn(call_g)

call_f(x0)=<Newton(make_args(=<f,x0)=>)
stored_eqn(call_f)

make_args(=<f,x0)=<[=<f,=<{x0},h,Nmax]
stored_eqn(make_args)

Newton(args_g):Newton(=<g,=<{x0})
(
0.967670240143069-0.000005961806036478617i:
0.967670240143069-0.000005961806036478617i
)

Newton(args_f):Newton(=<f,=<{x0})
(
1.0750062940976461+0.000005720445277214097i:
1.0750062940976461+0.000005720445277214097i
)

args_g=(=<g,=<{x0})
args_g=(
eqn(x),eqn
)

args_f=(=<f,=<{x0})
args_f=(
eqn(x),eqn
)

x0=1.1
x0=1.1

g(x)=<(x-1)*(x-2)*(x-3)*(x-4)*(x-5)*(x-6)=0
stored_eqn(g)

f(x)=<(x-1)**4=0
stored_eqn(f)

Nmax=20
Nmax=20

h=false
h=false

clear
local storage cleared

k=1,x=3,A=linspace(1,2,2:3,4,2),f(x)=<x+1,g(x)=<x-2,h(x)=<x*x,compose_x(x)=<h(g(f(x)=>*k)=>*k)=>*k,compose_A(A)=<h(=<g(=<f(=<A)=>*k)=>*k)=>*k,fgh_pipe_x(x,=<f,=<g,=<h)=<[[[(=<F)=<(=<G)=<(=<H)=<H(G(F(x)=>*k)=>*k)=>*k](=<f)=>](=<g)=>](=<h)=>,fgh_nest_x(x,=<f,=<g,=<h)=<[(=<H)=<[(=<G)=<[(=<F)=<H(G(F(x)=>*k)=>*k)=>*k](=<f)=>*k](=<g)=>*k](=<h)=>*k,fgh_pipe_A(A,=<f,=<g,=<h)=<[[[(=<F)=<(=<G)=<(=<H)=<H(=<G(=<F(=<A)=>*k)=>*k)=>*k](=<f)=>](=<g)=>](=<h)=>,fgh_nest_A(A,=<f,=<g,=<h)=<[(=<H)=<[(=<G)=<[(=<F)=<H(=<G(=<F(=<A)=>*k)=>*k)=>*k](=<f)=>*k](=<g)=>*k](=<h)=>*k,A_map_fgh(A,=<f,=<g,=<h)=<A.map((x)=<f(x)=>*k).map((x)=<g(x)=>*k).map((x)=<h(x)=>*k),compose_pipe_x(x)=<fgh_pipe_x(x,=<f,=<g,=<h)=>,compose_nest_x(x)=<fgh_nest_x(x,=<f,=<g,=<h)=>,compose_pipe_A(A)=<fgh_pipe_A(=<A,=<f,=<g,=<h)=>,compose_nest_A(A)=<fgh_nest_A(=<A,=<f,=<g,=<h)=>,pipe_A(A)=<A_map_fgh(=<A,=<f,=<g,=<h)=>:[[[(=<F)=<(=<G)=<(=<H)=<H(G(F(x)=>*k)=>*k)=>*k](=<f)=>](=<g)=>](=<h)=>,[(=<H)=<[(=<G)=<[(=<F)=<H(G(F(x)=>*k)=>*k)=>*k](=<f)=>*k](=<g)=>*k](=<h)=>*k,compose_pipe_x(x)=>,compose_nest_x(x)=>,compose_x(x)=>,compose_A(x)=>,pipe_A(x)=>:[[[(=<F)=<(=<G)=<(=<H)=<H(=<G(=<F(=<A)=>*k)=>*k)=>*k](=<f)=>](=<g)=>](=<h)=>,[(=<H)=<[(=<G)=<[(=<F)=<H(=<G(=<F(=<A)=>*k)=>*k)=>*k](=<f)=>*k](=<g)=>*k](=<h)=>*k,compose_pipe_A(=<A)=>,compose_nest_A(=<A)=>,compose_A(=<A)=>,pipe_A(=<A)=>
(
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0:
4,4,4,4,4,4,4:
2,3,2,3,2,3,2,3,2,3,0,1:
6,11,6,11,6,11,6,11,6,11,4,9
)

clear
local storage cleared

a=-1,b=-2,c=-3:[[[(a)=<(b)=<(c)=<(x,y)=<(a,b,c,x,y)](1)=>](2)=>](3)=>f:f(4,5)=>:f(6,7)=>:f(4,5)==>:f(6,7)==>:[(c)=<[(b)=<[(a)=<(x,y)=<(a,b,c,x,y)](1)=>](2)=>](3)=>f:f(4,5)=>:f(6,7)=>:f(4,5)==>:f(6,7)==>
(
0,0,0:
0:
1,2,3,4,5:
1,2,3,6,7:
-1,-2,-3,4,5:
-1,-2,-3,6,7:
0:
1,2,3,4,5:
1,2,3,6,7:
-1,-2,-3,4,5:
-1,-2,-3,6,7
)

clear
local storage cleared

a=-1,b=-2,c=-3:[[[(a)=<(b)=<(c)=<(a,b,c)](1)=>](2)=>](3)=>:[[[(a)=<(b)=<(c)=<(a,b,c)](1)==>](2)=>](3)=>:[[[(a)=<(b)=<(c)=<(a,b,c)](1)=>](2)==>](3)=>:[[[(a)=<(b)=<(c)=<(a,b,c)](1)=>](2)=>](3)==>:[(c)=<[(b)=<[(a)=<(a,b,c)](1)=>](2)=>](3)=>:[(c)=<[(b)=<[(a)=<(a,b,c)](1)==>](2)=>](3)=>:[(c)=<[(b)=<[(a)=<(a,b,c)](1)=>](2)==>](3)=>:[(c)=<[(b)=<[(a)=<(a,b,c)](1)=>](2)=>](3)==>
(
0,0,0:
1,2,3:
1,2,3:
-1,2,3:
-1,-2,3:
1,2,3:
1,2,3:
1,2,3:
1,2,3
)

clear
local storage cleared

[$f=<0,$a=1,$b=2,=<(c)=<f=>+a+b+c]=>$f,call_f=>:[[$f=<0,$a=2,$b=3,=<(c)=<f=>+a+b+c]=>$f,call_f==>]
(
0,6,7,8:
0,8,9,10
)

restore
local storage restored

$f(c)=<[a=1,b=2,=<a+b+c]=>,call_f=>:[$f(c)=<[a=2,b=3,=<a+b+c]=>,call_f==>]
(
0,6,7,8:
0,8,9,10
)

restore
local storage restored

[[(a,b)=<(c)=<a+b+c](1,2)=>f,call_f==>:[a=1,b=2,=<(c)=<a+b+c]=>f,call_f==>:f(c)=<[a=1,b=2,=<a+b+c]=>,call_f==>:f(c)=<last[a=1,b=2,a+b+c],call_f==>:[$f=<0,$a=1,$b=2,=<(c)=<f=>+a+b+c]=>f,call_f==>:f(c)=<[$f=<0,$a=1,$b=2,=<f=>+a+b+c]=>,call_f==>:f(c)=<last[$f=<0,$a=1,$b=2,f=>+a+b+c],call_f==>]
(
0,6,7,8:
0,6,7,8:
0,6,7,8:
0,6,7,8:
0,6,7,8:
0,6,7,8:
0,6,7,8
)

store
local storage stored

call_f=<(f(c0)=>,f(c1)=>,f(c2)=>)
stored_eqn(call_f)

($c0,$c1,$c2)=(3,4,5)
stored_var(c0) stored_var(c1) stored_var(c2) 

clear
local storage cleared

[A=(1,2:3,4):A::f(?A)=>::A]
(
0:
1,2:
3,4:
0:
1,2:
3,4:
1,2:
3,4:
0:
1,2:
3,4:
0:
1,1:
1,1:
0:
1,1:
1,1
)

A=(1,2:3,4):A::f(?A)=>::A
(
0:
1,2:
3,4:
0:
1,2:
3,4:
1,2:
3,4:
0:
1,2:
3,4:
0:
1,1:
1,1:
0:
1,1:
1,1
)

f=(?A)=<[(A[0]:A[1]):(A[0][0],A[0][1]:A[1][0],A[1][1]):last{A[0][0][sizer(A)][sizec(A)]=A}:A:last{A[1]=A[0],A[][1]=A[][0]}:A]
stored_eqn(f)

clear
local storage cleared

a=1,wrapper(a)=>,wrapper(a)==>:[a=2,wrapper(a)=>,wrapper(a)==>:[a=3,wrapper(a)=>,wrapper(a)==>]:[a=4,wrapper(a)=>,wrapper(a)==>]]
(
0,1,1:
0,1,1,0,2,2,0,3,1,0,1,1,0,2,2,0,3,1:
0,1,1,0,2,2,0,3,3,0,1,1,0,2,2,0,3,3:
0,2,2:
0,2,2,0,3,3,0,4,2,0,2,2,0,3,3,0,4,2:
0,2,2,0,3,3,0,4,4,0,2,2,0,3,3,0,4,4:
0,3,3:
0,3,3,0,4,4,0,5,3,0,3,3,0,4,4,0,5,3:
0,3,3,0,4,4,0,5,5,0,3,3,0,4,4,0,5,5:
0,4,4:
0,4,4,0,5,5,0,6,4,0,4,4,0,5,5,0,6,4:
0,4,4,0,5,5,0,6,6,0,4,4,0,5,5,0,6,6
)

wrapper=(a0)=<[a0:a=a0,call_f0(a)==>,a:a=a0,call_f1(?a)==>,a]
stored_eqn(wrapper)

call_f1=(?a)=<[a,f(?a)=>,a,f(?a)==>,a]
stored_eqn(call_f1)

call_f0=(a)=<[a,f(?a)=>,a,f(?a)==>,a]
stored_eqn(call_f0)

f=(?a)=<[a,a=a+1]
stored_eqn(f)

clear
local storage cleared

call_f(=<[(?f)=<f=<1](?f)=>)=>:call_f(=<[(?f)=<[(?f)=<f=<2](?f)=>](?f)=>)=>:call_f(=<[(?g)=<[(?h)=<h=<3](?g)=>](?f)=>)=>:call_f(=<([(?g)=<(?h)=<recursive_call(?g,?h)==>](?f)=>)(?f)=>)=>:call_f(=<([(?g)=<(?h)=<recursive_call(?g,?h)==>](?f)=>)(?f)=>)=>:call_f(=<([(?g)=<(?h)=<recursive_call(?g,?h)==>](?f)=>)(?f)=>)=>:call_f(=<([(?g)=<(?h)=<recursive_call(?g,?h)==>](?f)=>)(?f)=>)=>:f=>
(
1:
2:
3:
4:
5:
6:
7:
7
)

call_f=(=<callback)=<[callback=>,=<f=>]=>
stored_eqn(call_f)

recursive_call=(?g,?h)=<h=<g=>+1
stored_eqn(recursive_call)

f=<false
stored_eqn(f)

clear
local storage cleared

show_A(=<[A=false,(?B)=<B.push(A)](?A)=>)=>:show_A(=<(A=(1,2:3,4),(?B)=<push0(?B)=>)(?A)=>)=>:show_A(=<((?A)=<push1(?A)=>)(?A)=>)=>:show_A(=<[(?A)=<push1(?A)=>](?A)=>)=>:show_A(=<[(?A)=<push1(?A)=>](?A)=>)=>:show_A(=<[(?A)=<[(?A)=<push1(?A)=>](?A)=>](?A)=>)=>:show_A(=<[(?B)=<[(?C)=<push1(?C)=>](?B)=>](?A)=>)=>:show_A(=<[(?B)=<((?C)=<push2(?B,?C)=>)(?B)=>](?A)=>)=>:show_A(=<([(?B)=<(?C)=<push2(?B,?C)=>](?A)=>)(?A)=>)=>:show_A(=<([run=<push2(?B,?C)=>,(?B)=<(?C)=<run=>](?A)=>)(?A)=>)=>:show_A(=<([run(?D,?F)=<push2(?D,?F)=>,(?B)=<(?C)=<run(?B,?C)=>](?A)=>)(?A)=>)=>:A
(
false,false:
NaN:
NaN,2:
NaN,2,3:
NaN,2,3,4:
NaN,2,3,4,5:
NaN,2,3,4,5,6:
NaN,2,3,4,5,6,7,8:
NaN,2,3,4,5,6,7,8,9,10:
NaN,2,3,4,5,6,7,8,9,10,11,12:
NaN,2,3,4,5,6,7,8,9,10,11,12,13,14:
NaN,2,3,4,5,6,7,8,9,10,11,12,13,14
)

push2=(?A,?B)=<last[A.push(count=>),B.push(count=>)]
stored_eqn(push2)

push1=(?A)=<A.push(count=>)
stored_eqn(push1)

push0=(?A)=<($A)=(=<push1(?A)=>)
stored_eqn(push0)

[n=0,f=()=<last(n=n+1,n),=<f]=>count
0

show_A=(=<callback)=<[callback=>,=<A]=>
stored_eqn(show_A)

A=false
A=(
false,false
)

clear
local storage cleared

[x=1,x:f(x)=<x,f(x)=>:CbE_g(=<f)=>f,f(x)=>:CbR_g(?f)=>f,f(x)=>:step_CbE(=<f)==>,f(x)=>:step_CbR(?f)=>,f(x)=>]
(
0,1:
0,1:
0,2:
0,3:
0,4:
0,5
)

step_CbR=(?f)=<CbR_g(?f)=>f
stored_eqn(step_CbR)

step_CbE=(=<fdummy)=<CbE_g(=<fdummy)=>f
stored_eqn(step_CbE)

CbR_g=(?f)=<[g(x)=<f(x)=>+1,=<g]=>
stored_eqn(CbR_g)

CbE_g=(=<f)=<[g(x)=<f(x)=>+1,=<g]=>
stored_eqn(CbE_g)

clear
local storage cleared

[arr=(1,2),f=(?arr)=<[arr1=arr,arr1[][1]=-1,],f(?arr)=>,arr:arr=(1,2),f=(?arr)=<[arr1=arr,arr1[][1]=-1,arr=arr1],f(?arr)=>,arr:arr=(1,2),f=(?arr)=<[arr1=arr+0,arr1[][1]=-1,arr=arr1],f(?arr)=>,arr:arr=(1,2),f=(?arr)=<[($arr1)=(=<arr),arr1[][1]=-1,],f(?arr)=>,arr:arr=(1,2),f=(?arr)=<[($arr1)=(=<arr),arr1[][1]=-1,arr=arr1],f(?arr)=>,arr:g=<(1,2),f=(?g)=<[,,g=<(1,-1)],f(?g)=>,g=>]
(
0,0,0,0,0,1,2:
0,0,0,0,0,1,-1:
0,0,0,0,0,1,-1:
0,0,0,0,0,1,2:
0,0,0,0,0,1,-1:
0,0,0,0,0,1,-1
)

clear
local storage cleared

[make_NG(1)==>,f=>,[make_NG(2)==>,f=>,make_NG(3)==>,f=>]]
(
0,1,0,2,0,3
)

make_NG=(x)=<[f=<0,set_f(?f)==>,=<f]=>f
stored_eqn(make_NG)

set_f(?f)=<[,f=<x]
stored_eqn(set_f)

clear
local storage cleared

call_f0=()=<[make_f(1)=>,f=>,make_f(2)=>,f=>,make_f(3)=>,f=>]:call_f1=()=<[make_f(1)=>f,f=>,make_f(2)=>f,f=>,make_f(3)=>f,f=>]:make_f=(x)=<[a=1,=<()=<a*x]=>f,call_f0=>:make_f=(x)=<[a=1,=<[a=2,=<()=<a*x]=>]=>f,call_f0=>:make_f=(x)=<[a=1,[a=2,=<()=<a*x]=>f,=<f]=>f,call_f0=>:make_f=(x)=<[a=1,[a=2,=<()=<a*x]=>f,=<f]=>,call_f1=>
(
0:
0:
0,0,1,0,2,0,3:
0,0,2,0,4,0,6:
0,0,2,0,4,0,6:
0,0,2,0,4,0,6
)

clear
local storage cleared

f=<-1,f=1:[=<f]=>:[f=2,=<f]=>:[f=<-3,=<f]=>:[f=<-4,f=4,=<f]=>:[f=5,f=<-5,=<f]=>:[f=<-6,=<[=<f]]=>
(
0,0:
1:
2:
eqn:
4:
5:
eqn
)

clear
local storage cleared

double_check=ans1-ans0
double_check=(
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0:
0,0,0,0,0,0,0,0
)

set_ans($ans1)=>
0

[wrapper1(n,=<f0,=<f1)=<(f0==>,f1==>:wrapper0(n)==>),=<(wrapper1(0,=<0,=<0)==>:[wrapper1(1,=<a=1,=<f=<1)==>:[wrapper1(2,=<a=1,=<0)==>:[wrapper1(3,=<0,=<f=<1)==>:[wrapper1(4,=<del__(a),=<del__(=<f))==>]:[wrapper1(5,=<last{a=1,add__(a)},=<add__(=<f))==>]:[wrapper1(6,=<add__(a),=<last{f=<1,add__(=<f)})==>]:[wrapper1(7,=<del__(a),=<del__(=<f))==>]]]])]=>
(
0,0:
0,false,false,false,0,false,false,false:
0,false,false,false,0,false,false,false:
0,0:
1,false,false,false,1,true,true,false:
1,false,false,false,1,true,true,false:
0,0:
2,false,false,false,2,true,true,false:
2,false,false,false,2,false,true,false:
0,0:
3,false,false,false,3,false,true,false:
3,false,false,false,3,true,true,false:
false,false:
4,false,false,false,4,false,true,false:
4,false,false,false,4,false,true,false:
true,false:
5,true,true,true,5,true,true,true:
5,false,false,false,5,false,true,false:
false,true:
6,true,true,true,6,false,true,true:
6,true,true,true,6,true,true,true:
true,true:
7,false,false,false,7,false,true,false:
7,false,false,false,7,false,true,false
)

set_ans($ans0)=>
0

(,:wrapper0(0)==>:[a=1,f=<1:wrapper0(1)==>:[a=1,:wrapper0(2)==>:[,f=<1:wrapper0(3)==>:[del__(a),del__(=<f):wrapper0(4)==>]:[last{a=1,add__(a)},add__(=<f):wrapper0(5)==>]:[add__(a),last{f=<1,add__(=<f)}:wrapper0(6)==>]:[del__(a),del__(=<f):wrapper0(7)==>]]]])
(
0,0:
0,false,false,false,0,false,false,false:
0,false,false,false,0,false,false,false:
0,0:
1,false,false,false,1,true,true,false:
1,false,false,false,1,true,true,false:
0,0:
2,false,false,false,2,true,true,false:
2,false,false,false,2,false,true,false:
0,0:
3,false,false,false,3,false,true,false:
3,false,false,false,3,true,true,false:
false,false:
4,false,false,false,4,false,true,false:
4,false,false,false,4,false,true,false:
true,false:
5,true,true,true,5,true,true,true:
5,false,false,false,5,false,true,false:
false,true:
6,true,true,true,6,false,true,true:
6,true,true,true,6,true,true,true:
true,true:
7,false,false,false,7,false,true,false:
7,false,false,false,7,false,true,false
)

wrapper0(n)=<({n,n},check($a,$f)=>,{n,n},check($a,$f)==>)
stored_eqn(wrapper0)

check($varName,$eqnName)=<(checkV($varName)==>:checkE($eqnName)==>)
stored_eqn(check)

checkE($eqnName)=<(hass(=<eqnName),has(=<eqnName),has__(=<eqnName))
stored_eqn(checkE)

checkV($varName)=<(hass(varName),has(varName),has__(varName))
stored_eqn(checkV)

set_ans($varName)=<varName=ans
stored_eqn(set_ans)

clear
local storage cleared

{xt,yt}
(
false:
false
)

{$xt,$yt}=call_xy_eqn1(=<xy_eqn)=>
stored_var(xt) stored_var(yt) 

restore
local storage restored

{xt,yt}
(
false:
false
)

{$xt,$yt}=call_xy_eqn0(=<xy_eqn)=>
stored_var(xt) stored_var(yt) 

store
local storage stored

undefined2var=>xy_eqn
0

restore
local storage restored

{xt,yt}
(
2,4,6:
8,10,12:
2i,4i,6i:
8i,10i,12i
)

{$xt,$yt}=call_xy_eqn1(=<xy_eqn)=>
stored_var(xt) stored_var(yt) 

restore
local storage restored

{xt,yt}
(
2,4,6:
8,10,12:
2i,4i,6i:
8i,10i,12i
)

{$xt,$yt}=call_xy_eqn0(=<xy_eqn)=>
stored_var(xt) stored_var(yt) 

store
local storage stored

eqn2var=>xy_eqn
0

restore
local storage restored

{xt,yt}
(
1,2,3:
4,5,6:
i,2i,3i:
4i,5i,6i
)

{$xt,$yt}=call_xy_var1(=<xy_var)=>
stored_var(xt) stored_var(yt) 

restore
local storage restored

{xt,yt}
(
1,2,3:
4,5,6:
i,2i,3i:
4i,5i,6i
)

{$xt,$yt}=call_xy_var0(=<xy_var)=>
stored_var(xt) stored_var(yt) 

store
local storage stored

var2var=>xy_var
0

undefined2var=<[out_lazy=<{=<xt,=<yt},=<out_lazy]=>
stored_eqn(undefined2var)

eqn2var=<[xt=<t0*2,yt=<(t0*2)i,out_lazy=<{=<xt,=<yt},=<out_lazy]=>
stored_eqn(eqn2var)

var2var=<[xt=t0,yt=(t0)i,out_lazy=<{=<xt,=<yt},=<out_lazy]=>
stored_eqn(var2var)

call_xy_eqn1(=<xy)=<{=<((xy=>)[0]=>)=>,=<((xy=>)[1]=>)=>}
stored_eqn(call_xy_eqn1)

call_xy_eqn0(=<xy)=<{=<(xy[0]=>)=>,=<(xy[1]=>)=>}
stored_eqn(call_xy_eqn0)

call_xy_var1(=<xy)=<{=<(xy=>)[0]=>,=<(xy=>)[1]=>}
stored_eqn(call_xy_var1)

call_xy_var0(=<xy)=<{=<xy[0]=>,=<xy[1]=>}
stored_eqn(call_xy_var0)

yt=<false
stored_eqn(yt)

xt=<false
stored_eqn(xt)

t0=(1,2,3:4,5,6)
t0=(
1,2,3:
4,5,6
)

clear
local storage cleared

_r((arr)=<(arr,{(list_f[__n__-1])(1)=>,(list_f[__n__-1])(2)=>,(list_f[__n__-1])(3)=>}),=<[],N)
(
1,4,9,16,25,36:
2,8,18,32,50,72:
3,12,27,48,75,108
)

list_f=_r((arr)=<(arr:make_f(__n__)=>),=<[],N)
list_f=(
eqn(x):
eqn(x):
eqn(x):
eqn(x):
eqn(x):
eqn(x)
)

make_f(a)=<[aa=a*a,=<(x)=<aa*x]=>
stored_eqn(make_f)

N=6
N=6

clear
local storage cleared

switch_NG4lazy=>:switch_OK=>
(
false:
4,4:
4,4:
true:
4,3:
2,1
)

switch_OK=<[A=(1,2:3,4),B=A,($A[0],$A[1])=(=<B[1],=<B[0]),B=A,($A[][0],$A[][1])=(=<B[][1],=<B[][0]),=<(true:A)]=>
stored_eqn(switch_OK)

switch_NG4lazy=<[A=(1,2:3,4),($A[0],$A[1])=(=<A[1],=<A[0]),($A[][0],$A[][1])=(=<A[][1],=<A[][0]),=<(false:A)]=>
stored_eqn(switch_NG4lazy)

clear
local storage cleared

[a=1,($a,$b)=(-1,a),(a,b):a=1,($a,a)=(-1,$b),(a,b):a=1,(-1,$b)=($a,a),(a,b):a=1,(-1,a)=($a,$b),(a,b)]
(
0,0,-1,1:
0,0,-1,1:
0,0,-1,1:
0,0,-1,1
)

clear
local storage cleared

sw_eqn_OK3(sw)=<[switch(sw,=<f=<1:1,=<f=<-1),=<f=>]=>,sw_eqn_OK3(false)=>,sw_eqn_OK3(true)=>
(
0,-1,1
)

sw_eqn_OK2(sw)=<[sw&&&(,f=<1)|||(,f=<-1),=<f=>]=>,sw_eqn_OK2(false)=>,sw_eqn_OK2(true)=>
(
0,-1,1
)

sw_eqn_OK1(sw)=<[sw&&&(f=<1)||||(f=<-1),=<f=>]=>,sw_eqn_OK1(false)=>,sw_eqn_OK1(true)=>
(
0,-1,1
)

sw_eqn_NG3(sw)=<[sw&&(f=<1)||(f=<-1),=<f=>]=>,sw_eqn_NG3(false)=>,sw_eqn_NG3(true)=>
(
0,-1,-1
)

sw_eqn_NG2(sw)=<[sw&&&(f=<1)|||(f=<-1),=<f=>]=>,sw_eqn_NG2(false)=>,sw_eqn_NG2(true)=>
(
0,-1,-1
)

sw_eqn_NG1(sw)=<[sw&&&f=<1||||f=<-1,=<f=>]=>,sw_eqn_NG1(false)=>,sw_eqn_NG1(true)=>
(
0,1,1
)

sw_var_OK3(sw)=<[x=0,switch(sw,=<x=1:1,=<x=-1),=<x]=>,sw_var_OK3(false)=>,sw_var_OK3(true)=>
(
0,-1,1
)

sw_var_OK2(sw)=<[x=0,sw&&&(,x=1)|||(,x=-1),=<x]=>,sw_var_OK2(false)=>,sw_var_OK2(true)=>
(
0,-1,1
)

sw_var_OK1(sw)=<[x=0,sw&&&(x=1)||||(x=-1),=<x]=>,sw_var_OK1(false)=>,sw_var_OK1(true)=>
(
0,-1,1
)

sw_var_NG3(sw)=<[x=0,sw&&(x=1)||(x=-1),=<x]=>,sw_var_NG3(false)=>,sw_var_NG3(true)=>
(
0,-1,-1
)

sw_var_NG2(sw)=<[x=0,sw&&&(x=1)|||(x=-1),=<x]=>,sw_var_NG2(false)=>,sw_var_NG2(true)=>
(
0,-1,-1
)

sw_var_NG1(sw)=<[x=0,sw&&&x=1||||x=-1,=<x]=>,sw_var_NG1(false)=>,sw_var_NG1(true)=>
(
0,0,0
)

clear
local storage cleared

check_all(-1)=>
(
0,-1,-1,-1:
0,-2,-2,-2:
0,-3,-3,-3:
0,-4,-4,-4
)

restore
local storage restored

check_all(1)=>
(
0,1,1,1:
0,2,2,2:
0,3,3,3:
0,4,4,4
)

restore
local storage restored

check_all(-1)=>
(
0,-1,-1,-1:
0,-2,-2,-2:
0,-3,-3,-3:
0,-4,-4,-4
)

check_all(1)=>
(
0,1,1,1:
0,2,2,2:
0,3,3,3:
0,4,4,4
)

restore
local storage restored

scope_NG4(1)=>:scope_NG4(-1)=>
(
0,4,4,4:
0,-4,-4,-4
)

scope_NG3(1)=>:scope_NG3(-1)=>
(
0,3,3,3:
0,-3,-3,-3
)

scope_NG2(1)=>:scope_NG2(-1)=>
(
0,2,2,2:
0,-2,-2,-2
)

scope_NG1(1)=>:scope_NG1(-1)=>
(
0,1,1,1:
0,-1,-1,-1
)

store
local storage stored

check_all(x)=<(scope_NG1(x)=>:scope_NG2(x)=>:scope_NG3(x)=>:scope_NG4(x)=>)
stored_eqn(check_all)

scope_NG4(x)=<last[x=4,x]*[x=x,x,last[x=x,x],x]
stored_eqn(scope_NG4)

scope_NG3(x)=<last[,3]*[x=x,x,last[x=x,x],x]
stored_eqn(scope_NG3)

scope_NG2(x)=<2*[x=x,x,last[x=x,x],x]
stored_eqn(scope_NG2)

scope_NG1(x)=<[x=x,x,last[x=x,x],x]
stored_eqn(scope_NG1)

clear
local storage cleared

make_f(a)=<[g(x)=<a*x,=<g]=>f,make_f(a0)=>,call_f(1)=>,call_f(2)=>:make_f(a0)=<[a=a0,g(x)=<a*x,=<g]=>f,make_f(a0)=>,call_f(1)=>,call_f(2)=>:make_f(a)=<[g(x)=<a*x,=<g]=>,make_f(a0)=>f,call_f(1)=>,call_f(2)=>:,make_f(a0)==>f,call_f(1)=>,call_f(2)=>:make_f(a0)=<[a=a0,g(x)=<a*x,=<g]=>,make_f(a0)=>f,call_f(1)=>,call_f(2)=>:,make_f(a0)==>f,call_f(1)=>,call_f(2)=>
(
0,0,0,-3,3,0,-3,6:
0,0,0,-3,3,0,-3,6:
0,0,0,-3,3,0,-3,6:
0,0,0,3,3,0,6,6:
0,0,0,-3,3,0,-3,6:
0,0,0,3,3,0,6,6
)

call_f(a0)=<(a=a0,f(3)=>,f(3)==>)
stored_eqn(call_f)

a0=-1
a0=-1

clear
local storage cleared

B=-1,[B=10,=<[B=20,g=<B,=<[B=30,=<g]=>]=>]=>g,g=>,g==>:B=-1,[B=10,=<[B=20,g=<B,=<[B=30,==<g]=>]=>]=>g,g=>,g==>:B=-1,[B=10,=<[B=20,g=<B,g=-B,=<[B=30,=<g]=>]=>]=>:B=-1,[B=10,=<[B=20,g=<B,=<[B=30,=<g=>]=>]=>]=>:B=-1,[B=10,=<[B=20,g=<B,=<[B=30,=<g==>]=>]=>]=>:B=-1,[B=10,=<[B=20,g=<B,=<[B=30,==<g=>]=>]=>]=>:B=-1,[B=10,=<[B=20,g=<B,=<[B=30,==<g==>]=>]=>]=>
(
0,0,20,-1:
0,0,30,-1:
0,-20:
0,20:
0,30:
0,20:
0,30
)

clear
local storage cleared

B=-1,g=<B,[B=10,[B=20,[B=30,f=<g=>,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,g=<B,[B=10,[B=20,[B=30,f=<g==>,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,g=<B,[B=10,[B=20,[B=30,f==<g=>,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,g=<B,[B=10,[B=20,[B=30,f==<g==>,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,g=>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,g==>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[=<g]=>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[=<=<g]=>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[==<g]=>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[==<=<g]=>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[=<==<g]=>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[=<g]==>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,[==<g]==>f,=<f]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,g=<B,[B=20,[B=30,=<g]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<g]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,==<g]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,==<=<g]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<==<g]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]==>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]=>f,==<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]=>f,=<==<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]=>f,=<f]==>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]=>f,=<f]=>f,==<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]=>f,=<f]=>f,=<==<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,=<=<g]=>f,=<f]=>f,=<f]==>f,f=>,f==>:B=-1,[B=10,[B=20,g=<B,[B=30,==<==<g]=>f,=<f]=>f,=<f]==>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,==<=<B]=>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,=<=<B]==>f,=<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,=<=<B]=>f,==<f]=>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,=<=<B]=>f,=<f]==>f,=<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,=<=<B]=>f,=<f]=>f,==<f]=>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,=<=<B]=>f,=<f]=>f,=<f]==>f,f=>,f==>:B=-1,[B=10,[B=20,[B=30,=<B]=>f,=<f]=>f,=<f]==>f,f=>,f==>
(
0,0,0,-1,-1:
0,0,0,30,-1:
0,0,0,-1,-1:
0,0,0,30,-1:
0,0,20,20:
0,0,30,30:
0,0,20,-1:
0,0,20,-1:
0,0,30,-1:
0,0,30,-1:
0,0,30,-1:
0,0,30,-1:
0,0,30,-1:
0,0,10,-1:
0,0,20,-1:
0,0,30,-1:
0,0,30,-1:
0,0,30,-1:
0,0,20,-1:
0,0,20,-1:
0,0,20,-1:
0,0,10,-1:
0,0,10,-1:
0,0,10,-1:
0,0,-1,-1:
0,0,-1,-1:
0,0,30,-1:
0,0,20,-1:
0,0,20,-1:
0,0,10,-1:
0,0,10,-1:
0,0,-1,-1:
0,0,-1,-1
)

clear
local storage cleared

[f(=<A)=<A=>+B,B=-1,C=-2,g=<B,[B=10,C=11,g=<C,h=<g=>+B,[B=20,f(=<h)=>,f(==<h)=>,f(=<h)==>,f(==<h)==>]]]:f(=<A)=<A=>+B,B=-1,C=-2,g=<B,[B=10,C=11,g=<C,h=<g=>+B,[B=20,f(=<h)=>,f(==<h)=>,f(=<h)==>,f(==<h)==>]]:f(==<A)=<A=>+B,B=-1,C=-2,g=<B,[B=10,C=11,g=<C,h=<g=>+B,[B=20,f(=<h)=>,f(==<h)=>,f(=<h)==>,f(==<h)==>]]:f(=<A)=<A==>+B,B=-1,C=-2,g=<B,[B=10,C=11,g=<C,h=<g=>+B,[B=20,f(=<h)=>,f(==<h)=>,f(=<h)==>,f(==<h)==>]]
(
0,0,0,0,0,0,0,0,0,20,30,41,51:
0,0,0,0,0,0,0,0,0,20,30,41,51:
0,0,0,0,0,0,0,0,0,-3,-3,51,51:
0,0,0,0,0,0,0,0,0,-3,-3,51,51
)

clear
local storage cleared

[x=1,y=2,f=3,f=<[x:y],=<template(x,=<last(f=>),=<f,=<[x:y],=<f,=<[x:y])=>]=>
(
1,1,1,1:
2,2,2,2
)

[x=1,y=2,f=3,f=<(x:y),=<template(x,=<last(f=>),=<f,=<(x:y),=<f,=<(x:y))=>]=>
(
1,1,1,1:
2,2,2,2
)

[x=1,y=2,f=3,f=<[x:y],=<template(x,=<last(f),=<f,=<[x:y],=<f,=<[x:y])=>]=>
(
1,1,1,1:
2,2,3,3
)

[x=1,y=2,f=3,f=<(x:y),=<template(x,=<last(f),=<f,=<(x:y),=<f,=<(x:y))=>]=>
(
1,1,1,1:
2,2,3,3
)

[x=1,y=2,f=3,f=<[x:y],=<template(x,last(f),=<f,=<[x:y],=<f,=<[x:y])=>]=>
(
1,1,1,1:
2,2,3,3
)

[x=1,y=2,f=3,f=<(x:y),=<template(x,last(f),=<f,=<(x:y),=<f,=<(x:y))=>]=>
(
1,1,1,1:
2,2,3,3
)

[x=1,y=2,f=3,f=<{x,y},=<template(x,f,=<f,=<{x,y},=<f,=<{x,y})=>]=>
(
1,1,1,1:
2,2,3,3
)

template(x,y,=<symbol_eqn_,=<eqn_,==<symbol__eqn__,==<eqn__)=<[out=<[=<(symbol_eqn_=>,eqn_=>,symbol__eqn__=>,eqn__=>)]=>,scope2storage=<last{0},init=<last{0},run=<last{0},init=>,run=>,return=out=>,scope2storage=>,=<return]=>
stored_eqn(template)

clear
local storage cleared

--------------------------------
center=true&wheel=true&drag=false&test-case=false&plot-all=true&relzooming=true&snap=true&legend=true&axis-t=false&axis-x=true&log-x=false&imag-x=false&axis-y=true&log-y=false&imag-y=false&axis-z=true&axis-v=true&config-plot=false&useMatrix=true&useStrict=true&sharedStorage=false&checkError=true&equation-list=false&config=false&isRightAssociativityBR=false&isDIVprior2OMUL=false&useComma=false&use$let=false&useMutex=false&useWorker=true&plot2d-Ver=2&decDigit=1&roundDigit-y=0&rows-y=5&roundDigit-x=0&rows-x=5&n_thread=4&canvas-background=black&grid-line-width=0.5&marker-size=5&marker-line-width=0&plot-line-width=2&font-size=12&grid-x-Ni=0&grid-y-Nj=0&kx-adjust=2.5&marker-colors=Ver.1&legend-kx=0.25&legend-ky=0.1&canvas-globalCompositeOperationLayer=source-over&canvas-globalCompositeOperation=source-over&useComplex=-1&expDigit=-1&useFunc=0&useScopeWith=0&N=0&matSizeMax=1024&depthMax=300&makeLog=2
--------------------------------
--------------------------------

online-simulator.github.io.6.504.677.25.177 @ Fri Jun 06 2025 06:17:51 GMT+0900 () @ Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36