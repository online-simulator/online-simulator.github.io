<!DOCTYPE html>

<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="description" content="[manual]Calculator">
  <meta name="author" content="online-simulator.github.io">
  <noscript>JavaScript is not enabled on browser.</noscript>
  <link rel="stylesheet" type="text/css" href="../00_common/css/common.css">
  <link rel="stylesheet" type="text/css" href="../00_common/css/color.css">
  <link rel="stylesheet" type="text/css" href="../00_common/css/size.css">
  <link rel="stylesheet" type="text/css" href="css/common.css">
  <link rel="stylesheet" type="text/css" href="css/color.css">
  <link rel="stylesheet" type="text/css" href="css/size.css">
</head>

<body>
  <div class="absolute">

<div>
<h2>[manual]Calculator</h2>
</div>

<hr>
<div>
<table>
<caption>初期表示の<a href="#span-out-com">複素数</a>演算の解は<a href="#span-out-options">外部option</a>の条件設定によって異なる</caption>
<thead>
  <tr>
    <th>
<a href="#span-out-option1">Associativity</a>
    </th>
    <th>
<a href="#span-out-option2">/prior2omitted*</a>
    </th>
    <th>
条件設定に依らない括弧明示
    </th>
    <th>
Answer
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <td colspan="2">
下記4種類
    </td>
    <td>
e^(-i(1pi()2/2i(5-3-1)i/(-4)))
    </td>
    <td>
=e^(i{t})
   </td>
  </tr>
  <tr>
    <td class="condition">
left
    </td>
    <td class="condition">
false
    </td>
    <td class="condition">
e^(-i(1pi(){2/{2i({5-3}-1)i}}/(-4)))
    </td>
    <td class="condition">
=e^(i{-pi/4})
    </td>
  </tr>
  <tr>
    <td>
right
    </td>
    <td>
false
    </td>
    <td>
e^(-i({1pi()2}/{{2i(5-{3-1})i}/(-4)}))
    </td>
    <td>
=e^(i{-4pi/3})
    </td>
  </tr>
  <tr>
    <td>
left
    </td>
    <td>
true
    </td>
    <td>
e^(-i(1pi(){2/2i}({5-3}-1){i/(-4)}))
    </td>
    <td>
=e^(i{pi/4})
    </td>
  </tr>
  <tr>
    <td>
right
    </td>
    <td>
true
    </td>
    <td>
e^(-i(1pi(){2/2i}(5-{3-1}){i/(-4)}))
    </td>
    <td>
=e^(i{3pi/4})
    </td>
  </tr>
  <tr>
    <td colspan="4">
<a href="#span-out-ope">実数演算</a>不可（0*Infinity-><a href="#span-out-num">NaN</a>発生）
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><a href="#span-out-UI-graphing">Graphing Calculator</a>のtest caseの<span class="selection">title：補足説明</span>を列挙する<br><span class="run">Ver.2.749.113</span>以降、列挙順を整理</caption>
<thead>
  <tr>
    <th>
項目
    </th>
    <th>
内容
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
test case
    </th>
    <td>
<span id="span-out-UI-graphing-testcase"></span>
・<span class="jF">incircle</span>：<a href="#span-app-analogy">面積のanalogy</a>の実施例（<a href="#span-app-arithmetic">円周率の基準径</a>の<a href="#span-out-Euclid">幾何学</a>）
<br>
・sigmoid：sigmoid曲線（zeta関数のみ、非対称性あり）
<br>
・<span class="wF">fraction</span>：連分数展開（<a href="#span-out-epsilon">Machine epsilon</a>の精度保証）
<br>
・golden<span class="wF">-triangle</span>||-gnomon：黄金比の三角形（5回の回転対称性）とtruss構造
<br>
・<span class="wF">Kahaner</span>：<a href="#span-eqn-integral">integral</a>の<a href="#span-out-error">相対誤差</a>（<a href="#span-ref-docs2-integral">参考Docsの抜粋</a>＋α）
<br>
　⇒区間分割数：NI増で解析解に漸近
<br>
　⇒適用の目安
<br>
　・有界の任意関数（周期関数を含む）：adaptive-stepの<a href="#span-out-evolution">時間発展</a>　⇒　_o45()
<br>
　・端点の特異性あり（極を含む）：<a href="#span-eqn-integral_DE_quadrature">DE求積法</a>　⇒　_i0()
<br>
　・低次の多項式：<a href="#span-out-fdm-integral">合成Simpson公式</a>　⇒　_i4()
<br>
　・折れ線graph：<a href="#span-out-fdm-integral">台形公式</a>　⇒　_i2()
<br>
・<span class="wF">Fourier</span>：周期関数f(x)の<a href="#span-out-com">複素</a><a href="#span-out-series-Fourier">Fourier多項式</a>（<span class="run">Ver.2.809.131</span>以降、omega導入の<a href="#span-eqn-FourierN">FourierN</a>参照）
<br>
・<span class="jF">mod</span>：N進法の線形結合（inv_mod用）
<br>
・<span class="wF">N-ary</span>：<a href="#span-app-369">'rsum'</a>の厳密な再帰計算と導出式の比較
<br>
・<span class="wF">Seki-Aitken</span>：<a href="#span-eqn-Seki_Aitken">Seki-Aitken</a>のΔ2乗加速法
<br>
　<span class="run">Ver.2.738.107</span>以降、snが単調変化の前提で多重加速tn(tn(sn))を追加
<br>
　⇒tn多重化の対策：snの名前衝突回避tn(=&lt;sn_,n)=&lt;f(sn_)||<a href="#span-out-scope-vars-has1BT">単独scope</a>化tn(=&lt;sn,n)=&lt;last[,f(sn)]
<br>
　⇒4重加速の結果：n=[0,2*4]のsnの約4.6桁⇒tn(tn(tn(tn(sn,n))))の約16桁（手計算量<a href="#span-eqn-Seki_Aitken">sn9点⇒tn7+5+3+1点</a>）
<br>
　⇒Sekiの結果：n=[15,17]のsnの約10桁⇒tn(sn,n-2)の16桁以上（手計算量sn14点⇒tn1点）
<br>
　-zeta~-2-err：収束速さがlogの級数の場合、効果が低い　⇒　同上の漸化式len(2n)=f(len(n))を仮定
<br>
　-zeta<span class="pF">-3</span>~-4-err：<span class="pF">-abs</span>で得られるζ関数の非自明な零点（有効数字7桁程度）
<br>
　⇒2重加速の結果：snの約1桁⇒tn(tn(sn))の限界7桁（定義域の内外⇒<a href="#span-app-continuation">解析接続</a>の一意性）
<br>
・Seki-Bernoulli：Seki-Bernoulli数
<br>
・<span class="wF">Faulhaber</span>：べき乗和をSeki-Bernoulli数の多項式で記述
<br>
・Apéry：Apéryの定数　⇔　無理数のζ(3)
<br>
　3重積分：<span class="run">Ver.2.806.130</span>以降、<a href="#span-eqn-integral_DE_quadrature">DE求積法</a>（端点の特異性あり）
<br>
・<span class="wF">residue</span>：<a href="#span-out-com">複素</a>線積分の留数定理（反時計回りの周回積分経路Cを正多角形で記述）
<br>
　-gamma||-ac：gamma関数に適用
<br>
　⇒<a href="#span-eqn-integral_DE_quadrature">DE求積法</a>の分割数||無限乗積の<a href="#span-out-error">打切り次数</a>：NI||n0増で厳密解に漸近
<br>
　-1/zeta：zeta関数の逆数に適用
<br>
・arg：Cauchyの偏角の原理（有理型関数の零点と極の個数の差に対応）
<br>
　-gamma：gamma関数に適用
<br>
　⇒原点と負の整数に特異点（1位の極）が存在
<br>
・dlog：対数微分
<br>
　⇒偏角の原理に右辺を採用：(log(f(z))'=f'(z)/f(z)
<br>
・<span class="selection">Bessel</span>：定義域real(x)&gt;0のBessel関数（<span class="run">Ver.2.821.132</span>以降、拡充）
<br>
　-_t45：時間反転対称性のBessel関数（adaptive-stepの<a href="#span-out-evolution">時間発展</a>）
<br>
　-gamma：<a href="#span-out-com">複素数</a>のBessel関数
<br>
・<span class="selection">Airy</span>：実数のAiry関数
<br>
　-_t45||-z：<a href="#span-out-com">複素数</a>のAiry関数（<span class="clear">Ver.2.821.133</span>以降、積分表示　⇒　adaptive-stepの<a href="#span-out-evolution">時間発展</a>）
<br>
・<span class="wF">heat</span>：同方向@kd&lt;0の<a href="#span-app-continuation">解析接続</a>の可視化（0~12段階の<a href="#span-eqn-heat1d_evolution">温度分布</a>）
<br>
　-2：異方向@kd&gt;0の<a href="#span-app-continuation">解析接続</a>の可視化（同上）
<br>
・Collatz~<span class="wF">Goldbach</span>：<a href="#span-app-unsolved">数学上の未解決問題</a>（<a href="../69_number/index.html">Number変換</a>参照）
<br>
　Collatz~<span class="wF">quality</span>~-L：<a title="[spec]Number変換" href="../69_number/spec.html#span-Collatz">Collatz予想</a>
<br>
　<span class="wF">pi_(x)</span>~<span class="wF">Goldbach</span>：<a title="[spec]Number変換" href="../69_number/spec.html#span-Goldbach">Goldbach予想</a>
<br>
・<span class="wF">pi_(x)</span>：<a href="#span-app-prime">素数計数関数</a>と近似式の比較
<br>
　o(x)：近似式の<a href="#span-out-error">誤差</a>項
<br>
　<span class="run">Ver.2.704.98</span>以降、O(x)　⇒　o(x)（Order表記との重複を解消）
<br>
　-real：x=[10,10**28]で実際の<a href="#span-out-error">誤差</a>との比較
<br>
　⇒べき指数：<a href="#span-app-unsolved">Riemann予想</a>の1/2に近い
<br>
・Mertens：<span class="run">Ver.2.703.98</span>以降、Mertens予想
<br>
・<span class="wF">Fermat</span>：<span class="run">Ver.2.728.103</span>以降、Fermatの最終定理のWiles証明（西暦1995年）
<br>
　-n=3~19：n≧3で整数の格子点と一致の解なし（<a href="#span-app-unsolved">abc予想</a>の<a href="#span-app-quality">quality</a>がnの上限の存在を示唆）
<br>
　<span class="wF">-little</span>：Fermatの小定理（inv_mod用）
<br>
・Frey-Hellegouarch：Frey-Hellegouarch曲線y**2=x(x-a)(x+b)
<br>
　Szpiro：互いに素でa+b=cと以下を満たす曲線の<a href="#span-app-quality">quality</a>
<br>
　⇒判別式：D=16*(a*b*c)**2
<br>
　⇒極小判別式：<span class="run">Ver.2.851.156</span>以降、Dmin=(a*b*c/2)**2（<a href="#span-ref-docs10-abc">参考DocsのSzpiro予想</a>）
<br>
　⇒導手：N=rad(a*b*c/16)
<br>
・Weierstrass-form：Weierstrass標準形の楕円曲線y**2=x**3+a*x+b
<br>
・elliptic：非特異な楕円曲線（nodeとcuspを除く）
<br>
　<span class="wF">-add</span>：加法（傾きkを条件分岐の最短表記）
<br>
　⇒2点間の傾き：k=(y2-y1)/(x2-x1)
<br>
　⇒接線の傾き：2y*y'=3x**2+a　⇒　y'=(3x**2+a)/(2y)
<br>
　⇒傾きの共通化（有限体を除く）：k=(x1**2+x1*x2+x2**2+a)/(y1+y2)
<br>
　⇒交点Rの係数比較：x**3-(k*x+c)**2+a*x+b=(x-x1)(x-x2)(x-x3)　⇒　-k**2=-(x1+x2)-x3
<br>
　⇒y3の符号反転（群の生成）：k=(-y3-y1)/(x3-x1)　⇔　P+Q=-R, P+Q+R=O
<br>
　⇒逆元：R+(-R)=O（無限遠点の場合、x軸で線対称）
<br>
　-O：加法の単位元||零元（無限遠点）
<br>
　<span class="clear">Ver.2.728.104</span>以降、零元の座標定義を修正（b=0の要素(0,0)と区別が必須）
<br>
　⇒零元の座標定義（実数体）：<span class="clear">(false,false)</span>
<br>
　<span class="wF">-scalar</span>：scalar倍算
<br>
　-p：mod pで還元の有限体が作る巡回群の基点Gの基点<span class="clear">候補</span>（素数pの法で離散化）
<br>
　<span class="clear">Ver.2.724.103</span>以降、一部訂正：基点　⇒　基点候補
<br>
　<span class="run">Ver.2.725.103</span>以降、y=p/2の線対称性の基点候補を追加
<br>
　⇒離散対数問題（P≠NPの前提）：GとQ=d*Gの2点から離散対数dの逆算は困難（一方向性||非対称性）
<br>
　-aff：<span class="clear">Ver.2.728.104</span>以降、isValidの全探索から同上の全affine点をplot
<br>
　<span class="run">Ver.2.730.104</span>以降、探索の基点候補を全affine点に変更
<br>
　⇒対称性の保存：y=p/2の線対称性のpairで全経路履歴を明示
<br>
　-Np：<span class="run">Ver.2.747.111</span>以降、全affine点の個数<span class="clear">+1</span>（零元を含む全要素数）　<span class="clear">Ver.2.847.154</span>以降、修正
<br>
　-ap：<span class="clear">Ver.2.847.154</span>以降、ap:=p+1-Np（次のbad還元を除く、good還元の素数用）
<br>
　-Fp：LMFDB定義のFp(T):=1+k1*T+k2*p*T**2, T=p**(-s)　⇒　Euler積表示のL(s):=素数pのΠ1/Fp(T)
<br>
　⇒乗法的関数：weight=2のcusp形式（modularity定理）
<br>
　⇒1次の係数k1：<span class="clear">加法的</span>還元の場合、false　<span class="clear">Ver.2.757.115</span>~<span class="clear">2.847.154</span>以降、訂正
<br>
　⇒2次の係数k2：<span class="clear">乗法的</span>還元の場合、false　<span class="clear">Ver.2.757.115</span>~<span class="clear">2.847.154</span>以降、訂正
<br>
　<span class="jF">-an</span>：<span class="run">Ver.2.849.156</span>以降、L-functionのDirichlet級数の係数an（同上のk1=-apとk2から換算）
<br>
　⇒未最適化：全探索のeval_Npと素因数分解
<br>
　⇒an導出のdouble-check：Gemini 2.5世代
<br>
　⇒LMFDBのdouble-check：Sage Cell Server　⇒　n=101; EllipticCurve([-1, 1]).an(n) -> 2
<br>
　<span class="wF">-BSD</span>：同上のNpを<a href="#span-out-FN-interp">lookup-table</a>化（線形時間でBSD予想のrankを評価）
<br>
　-je*4：<span class="run">Ver.2.753.113</span>以降、pのN数を増点（約4倍）
<br>
　⇒a=-1,b=7：rank=1が不明確
<br>
　<span class="wF">-L</span>：同上のHasse-WeilのL関数（Euler積）を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　<span class="clear">Ver.2.755.114</span>以降、real(s)&le;3/2の場合、絶対収束の範囲外で不正確
<br>
　⇒analytic rank：LMFDBのL-functionのZ(臨界線)-plot参照（Dirichlet級数と関数等式で記述）
<br>
　⇒BSD予想：s=1の零点の位数=rankの階数&gt;0を明示（厳密なplot点のzeros参照）
<br>
　-je*4：<span class="run">Ver.2.753.113</span>以降、pのN数増で零点に接近を確認
<br>
　<span class="pF">-Aitken</span>：<span class="run">Ver.2.854.158</span>以降、Δ2乗加速法を適用（N=2**nを仮定）
<br>
　⇒<a href="#span-app-continuation">解析接続</a>の一意性：臨界領域の場合、零点の精度改善（ζ関数同様）
<br>
　-an：<span class="run">Ver.2.853.158</span>以降、同上のdouble-check（N=101のDirichlet級数）
<br>
　zeros：<span class="run">Ver.2.718.101</span>以降、重複度の異なる正則関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　⇒1位の孤立零点：後述のξ関数相当の完備関数（臨界線⇒対称軸に完備化）の関数形を明示
<br>
　<span class="jF">-G</span>：O起点の巡回群要素Q=d*G=O+G+G+G+...
<br>
　<span class="clear">Ver.2.728.104</span>以降、零元の座標定義と到達判定の致命的な不具合（巡回しない原因）を修正
<br>
　零元の座標定義（有限体）：(0,0)　⇒　<span class="clear">(false,<del>false</del></span>p/2)　<span class="run">Ver.2.731.104</span>以降、plot点を区別
<br>
　零元の到達判定（実数体⇒有限体）：isO=(x1===x2)&amp;&amp;<span class="clear">(y1===-y2)　⇒　(y1===p-y2)</span>
<br>
　<span class="run">Ver.2.731.104</span>以降、次のinv内の判定を統合：(y1===p-y2)　⇒　(y1===p-y2||y1===0)
<br>
　最適化とdouble-check：<a href="#span-out-eqns">式変数</a>isValid<del>とinv内</del>で不正な入出力を除外（変曲点と特異点の対策）
<br>
　⇒<a href="#span-out-float">倍精度</a>の目安（除法の制約）：p&lt;20
<br>
　⇒<span class="clear">Ver.2.728.104</span>以降、6位の基点：(6,1)||(8,3)
<br>
　-G-bp：<span class="run">Ver.2.727.103</span>以降、同上の基点のみをd=[1,2p+1]で表示（<span class="clear">Ver.2.728.104</span>以降、巡回を確認）
<br>
　-G-2：O起点の巡回群要素Q=d*G=O+G+G+G+...
<br>
　⇒全経路履歴の分布：y=p/2の線対称性を明示
<br>
　⇒p=17の場合、桁数不足
<br>
　<span class="run">Ver.2.726.103</span>以降、<a href="#span-out-eqns">式変数</a>inv_modで桁数不足を対策（p進法で1*v*v*...のmod pを演算）
<br>
　⇒<span class="clear">Ver.2.728.104</span>以降、18位の基点：(10,2)||(15,4)
<br>
　-G-2-bp：<span class="run">Ver.2.727.103</span>以降、同上の基点のみをd=[1,2p+1]で表示（<span class="clear">Ver.2.728.104</span>以降、巡回を確認）
<br>
　-G-3：O起点の巡回群要素Q=d*G=O+G+G+G+...
<br>
　⇒<span class="clear">Ver.2.728.104</span>以降、20位の基点：(4,4)||(8,1)
<br>
　-G-3-bp：<span class="run">Ver.2.727.103</span>以降、同上の基点のみをd=[1,2p+1]で表示（<span class="clear">Ver.2.728.104</span>以降、巡回を確認）
<br>
　=G+：G起点の巡回群要素Q=d*G=G+G+G+...
<br>
　⇒O+G+G+G+...=G+G+G+...
<br>
　-G-4：<span class="run">Ver.2.726.103</span>以降、桁数不足を対策して追加
<br>
　⇒<span class="clear">Ver.2.728.104</span>以降、12位の基点：(8,4)||(17,4)||(28,5)||(33,6)
<br>
　-G-4-bp：<span class="run">Ver.2.727.103</span>以降、同上の基点のみをd=[1,2p+1]で表示（<span class="clear">Ver.2.728.104</span>以降、巡回を確認）
<br>
　-G-5~-9：<span class="run">Ver.2.730.104</span>以降、以上の不具合を修正後に追加
<br>
・Eisenstein：Eisenstein級数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　⇒<a href="#span-out-FNh-SX">総和</a>順序の仮定：低次の項から昇順（絶対収束の場合、可換）
<br>
　-ra：real analytic Eisenstein級数を<a href="#span-out-complex">複素数平面</a>にplot（s=1の極を除く）
<br>
　⇒<a href="#span-out-com">複素数</a>の<a href="#span-out-com">複素数</a>乗で成立：1/z**s　⇔　z**(-s)
<br>
・Dedekind： Dedekindのeta関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
・Ramanujan：RamanujanのDelta関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　-tau：Ramanujanのτ数（<a href="#span-ref-paper3">参考論文[3]</a>）
<br>
　⇒τ(1)：演算都合上、約数関数σ(0):=0
<br>
・zeta：定義域real(s)&gt;1のζ関数を<a href="#span-out-complex">複素数平面</a>にplot（s=1の極を除く）
<br>
　<span class="run">Ver.2.682.98</span>以降、<a href="#span-app-continuation">解析接続</a>を追加
<br>
　<span class="run">Ver.2.703.98</span>以降、Möbius関数を追加
<br>
・zeta<span class="wF">-ac</span>：Riemann zeta関数の<a href="#span-app-continuation">解析接続</a>（Dirichlet級数と関数等式で記述）
<br>
・eta-ac：Dirichlet eta関数の<a href="#span-app-continuation">解析接続</a>（Riemann zeta関数で記述）
<br>
　<span class="wF">-zero</span>：<span class="run">Ver.2.695.98</span>以降、η関数の非自明な零点（ζ関数に一致）の探索用に追加
<br>
　<span class="wF">-z</span>：同上のη関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
・<span class="jF">completed</span>：<span class="run">Ver.2.718.101</span>以降、完備関数を一般化して<a href="#span-out-complex">複素数平面</a>にplot
<br>
　⇒完備関数（符号なし）：f(x)+i*g(x,k)
<br>
　⇒f(x)の次数：2（符号の変曲点近傍を除く）
<br>
　⇒g(x,k)の次数：3（k&gt;0.5でopen、k&gt;&gt;1で<a href="#span-out-approximation-linear">線形近似</a>）
<br>
　⇒<span class="run">Ver.2.734.104</span>~<span class="clear">2.747.113</span>以降、以上の完備関数に対応する楕円曲線の<del>判別式Δ</del>不変量c4を確認
<br>
　-ex：<span class="run">Ver.2.720.101</span>以降、同上の完備関数のplot範囲を拡張（相似形を確認）
<br>
・<span class="wF">Riemann</span>：<a href="#span-app-unsolved">Riemann予想</a>の非自明な零点の計算結果（ζ関数の実部と虚部をplot）
<br>
　-z：同上のζ関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　⇒Dirichlet級数の定義域：real(s)&gt;-1に拡張で精度改善（関数等式の境界に対する精度保証）
<br>
　⇒関数等式の境界：real(s)=0（後述の境界線real(s)=1の両側の数値的な連続性を優先）
<br>
　-obvious：<a href="#span-app-unsolved">Riemann予想</a>の自明な零点の計算結果（負の偶数が零点は関数等式から自明）
<br>
　<span class="jF">-zero</span>：<span class="run">Ver.2.694.98</span>以降、ζ関数の非自明な零点の探索用に追加
<br>
　⇒無限乗積||級数の<a href="#span-out-error">打切り次数</a>：n∝abs(s-1/2)（後述のξ関数の場合、ζ関数より1桁増）
<br>
　<span class="jF">-z</span>：同上のζ関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　-EM：<span class="run">Ver.2.700.98</span>以降、Euler-Maclaurinの和公式で得られるζ関数と比較
<br>
　<span class="run">Ver.2.703.98</span>以降、比較対象を追加（η関数の等価関係とHasseの<a href="#span-out-FNh-SX">2重級数</a>）
<br>
　<span class="run">Ver.2.802.128</span>以降、比較対象を追加（Knopp-HasseのEulerの和公式の<a href="#span-out-FNh-SX">2重級数</a>）
<br>
　<span class="run">Ver.2.802.128</span>以降、<a href="#span-out-error">打切り次数</a>n1=50　⇒　n0（横並び）
<br>
　⇒以上の全公式を<a href="#span-out-eqns">式変数</a>に変換のため、非常に重い
<br>
　-EM-2：<span class="run">Ver.2.802.128</span>以降、大域収束性のζ関数のdouble-check
<br>
　<span class="condition">以降、追加の計算結果（Euler-Maclaurinの和公式で最適化のζ関数）</span>
<br>
　<span class="pF">-abs</span>：同上のSeki-Bernoulli数を<a href="#span-out-FN-interp">lookup-table</a>化（ζ関数の絶対値をplot）
<br>
　⇒t=[0,600]の零点の個数≒29+50+59+64+68+72（6等分割の目算）
<br>
　⇒<span class="run">Ver.2.708.100</span>以降、tableを最適化：Bn(n)　⇒　Bn(n)/n!
<br>
　<span class="pF">-x=1</span>：同上の臨界線real(s)=1/2と境界線real(s)=1の比較
<br>
　⇒abs(ζ(境界線))&gt;0
<br>
　⇒極大点の位置に<a href="#span-out-approximation-linear">強い相関</a>あり（次のξ関数に完備化して議論）
<br>
　<span class="pF">-xi</span>：<span class="run">Ver.2.701.98</span>以降、Euler-Maclaurinの和公式で得られるξ関数の計算結果（ξ関数のreal成分をplot）
<br>
　⇒後述のξ関数と零点の位置がほぼ一致（nの違いを含めて縦軸の差異は1桁程度の相似形）
<br>
　⇒<span class="run">Ver.2.694.98</span>以降、<a href="#span-app-continuation">解析接続</a>の一意性をdouble-check
<br>
　<span class="pF">-f(x)</span>：<span class="run">Ver.2.706.99</span>以降、同上の臨界領域x方向のξ関数の計算結果（各real(ξ(s))=0の近傍）
<br>
　⇒任意tの偶関数：f(x):=real(ξ(x+i*t)), f'(1/2)=0　⇒　f≠h, h(x)=0
<br>
　<span>-z</span>：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　<span class="pF">-g(x)</span>：<span class="run">Ver.2.711.100</span>以降、同上の臨界領域x方向のξ関数の計算結果（各imag(ξ(s))=0の近傍）
<br>
　⇒任意tの奇関数：g(x):=imag(ξ(x+i*t)), g(1/2)=0　⇒　g≠h, h(x)=0
<br>
　<span class="jF">-z</span>：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　⇒完備化の意義：ξ(1/2+i*t)=0近傍でopen　⇔　df(1/2)/dt=0近傍でclosed
<br>
　-ex：<span class="run">Ver.2.720.101</span>以降、同上のξ関数のplot範囲を拡張（粗分割で相似形を確認）
<br>
　<span class="jF">-p</span>：f(1/2)の極大点~零点~f(1/2)の極小点のξ関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　⇒変化の傾向：f(1/2)の曲率の変曲点≠零点≠closedの交点
<br>
　⇒stringの自己交差の向き：右~変曲点~零点~左（常に外向き）
<br>
　⇒f(x)の次数：2　⇒　4（変曲点近傍のみ）
<br>
　⇒<span class="run">Ver.2.711.100</span>以降、<a href="#span-app-continuation">解析接続</a>の一意性をtriple-check
<br>
　<span class="condition">以降、当初の計算結果（Dirichlet級数の定義域で記述のζ関数）</span>
<br>
　-x：ζ関数の臨界領域x方向の単調性　⇔　関数等式
<br>
　⇒零点の個数：<a href="#span-app-continuation">解析接続</a>で最小化（対称性の2点⇒中点の1点）
<br>
　-n：real(s)&gt;-1のζ関数の計算結果（n=1e3⇒3e4）
<br>
　⇒無限乗積||級数の<a href="#span-out-error">打切り次数</a>：n増で関数等式の境界の精度改善
<br>
　-ave~-2：ζ関数の臨界領域両境界線の<a href="#span-out-FN-statistic">算術平均値</a>と臨界線の比較
<br>
　⇒<a href="#span-out-approximation-linear">強い相関</a>あり
<br>
　-diff~-2：ζ関数の臨界領域両境界線と臨界線の<a href="#span-out-fdm">差分</a>の比較
<br>
　⇒臨界線のζ(s)=0の個数∝境界線のreal(ζ(s))の変曲点の個数
<br>
　<span class="wF">-sym</span>~<span class="wF">-6</span>：元の定義域と<a href="#span-app-continuation">解析接続</a>の臨界領域でζ関数の対称性の計算結果
<br>
　<span class="wF">-xi</span>：<span class="run">Ver.2.692.98</span>以降、Riemann xi関数の<a href="#span-app-continuation">解析接続</a>（Landauのξ関数で記述）
<br>
　⇒s=1/2に対する4点の対称性
<br>
　<span class="wF">-x</span>~-7：ξ関数の臨界領域x方向の単調性　⇔　関数等式
<br>
　<span class="clear">Ver.2.705.99</span>以降、訂正
<br>
　⇒real成分：両軸の線対称性　⇔　real(ξ(<span class="clear">s</span>))∝(x-1/2)**2　⇔　<a href="#span-app-boundary">Robin条件</a>の<a href="#span-out-modelling-0D-diffusion">拡散方程式</a>の定常解
<br>
　⇒imag成分：imag(ξ(臨界線))=0　⇔　imag(ξ(<span class="clear">s</span>))∝|x-1/2|**r（零点近傍のr≒1）||sigmoid(x-1/2)
<br>
　-3：ξ関数の非自明な零点を明示
<br>
　-3-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（臨界線の零点近傍@y=21.022でopen）
<br>
　<span class="clear">Ver.2.706.100</span>以降、零点の誤用を訂正
<br>
　<span class="clear">Ver.2.711.100</span>以降、極値点の定義を追記：df(1/2)/dt=0
<br>
　-7：<span class="run">Ver.2.691.98</span>以降、<span class="clear">複数個のimag(ξ(s))=0</span>を明示（gamma関数を微修正）
<br>
　-7-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（<span class="clear">f(1/2)</span>の極大点近傍@y=144でclosed）
<br>
　-7'：<span class="run">Ver.2.694.98</span>以降、<span class="clear">複数個のimag(ξ(s))=0</span>を明示（<span class="clear">f(1/2)</span>の極大点近傍を追加）
<br>
　-7'-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（<span class="clear">f(1/2)</span>の極大点近傍@y=144.04でclosed）
<br>
　-7"：<span class="run">Ver.2.694.98</span>以降、零点近傍でimag成分のr≒1を明示
<br>
　-7"-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（臨界線の零点近傍@y=143.11でopen）
<br>
　-8：<span class="run">Ver.2.694.98</span>以降、<span class="clear">複数個のimag(ξ(s))=0</span>を明示（<span class="clear">f(1/2)</span>の極小点近傍を追加）
<br>
　-8-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（<span class="clear">f(1/2)</span>の極小点近傍@y=146.5でclosed）
<br>
　-9：<span class="run">Ver.2.694.98</span>以降、<span class="clear">複数個のimag(ξ(s))=0</span>を明示（<span class="clear">f(1/2)</span>の極小点近傍を追加）
<br>
　-9-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（<span class="clear">f(1/2)</span>の極小点近傍@y=447でclosed）
<br>
　-9"：<span class="run">Ver.2.694.98</span>以降、零点近傍でimag成分のr≒1を明示
<br>
　-9"-z：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot（臨界線の零点近傍@y=446.87でopen）
<br>
　<span class="wF">-zero</span>：ξ関数の非自明な零点の計算結果（整合性の最終確認）
<br>
　⇒imag成分：imag(ξ(臨界線))=0
<br>
　<span class="wF">-z</span>：同上のξ関数を<a href="#span-out-complex">複素数平面</a>にplot
<br>
　-7：<span class="run">Ver.2.694.98</span>以降、<span class="clear">f(1/2)</span>の極大点近傍@y=144を明示
<br>
　-7-x=1：境界線real(s)=1に対する<a href="#span-app-continuation">解析接続</a>の一意性を明示
<br>
　<span class="clear">Ver.2.711.100</span>以降、訂正
<br>
　⇒境界線real(s)=1のimag(ξ(s))=0　⇔　<span class="clear">f(1/2)</span>の極<span class="clear">値</span>点近傍　⇒　零点近傍でopen
<br>
　-8：<span class="run">Ver.2.694.98</span>以降、<span class="clear">f(1/2)</span>の極小点近傍@y=146.5を明示
<br>
　-8-x=1：境界線real(s)=1に対する<a href="#span-app-continuation">解析接続</a>の一意性を明示
<br>
　⇒境界線real(s)=1のimag(ξ(s))=0　⇔　<span class="clear">f(1/2)</span>の極<span class="clear">値</span>点近傍　⇒　零点近傍でopen
<br>
　-9：<span class="run">Ver.2.694.98</span>以降、<span class="clear">f(1/2)</span>の極小点近傍@y=447を明示
<br>
　-9-x=1：境界線real(s)=1に対する<a href="#span-app-continuation">解析接続</a>の一意性を明示　<span class="clear">Ver.2.843.148</span>以降、追記して修正
<br>
　⇒境界線real(s)=1のreal(ξ(s))=0の個数　⇔　臨界線real(s)=1/2のξ(s)=0の個数<span class="clear">（集合の濃度が同等）</span>
<br>
　-y：ξ関数の臨界線y方向の計算結果（粗分割の傾向確認）
<br>
　⇒real成分：|y|増で桁数が指数関数的な減少傾向（x方向の定常解より変化の次数大）
<br>
・beta<span class="wF">-ac</span>：beta関数の<a href="#span-app-continuation">解析接続</a>（gamma関数で記述）
<br>
・gamma<span class="jF">-ac</span>：gamma関数の<a href="#span-app-continuation">解析接続</a>（Eulerの無限乗積<del>を精度保証用の級数</del>で記述）
<br>
　<span class="run">Ver.2.805.130</span>~<span class="run">2.806.130</span>以降、<a href="#span-eqn-integral_DE_quadrature">DE求積法</a>を追加
<br>
　-inf：<span class="run">Ver.2.691.98</span>以降、n**z　⇒　(n+1)**z
<br>
・<span class="wF">digamma</span>~-psi：gamma関数の対数微分のdigamma||psi関数（<a href="#span-out-FNh-DX">微分高階関数</a>の<a href="#span-out-error-numerical">数値解</a>と解析解の比較）
<br>
・<span class="selection">Planck</span>：Planckの法則の分光放射輝度（波長）
<br>
　-frequency：分光放射輝度（周波数）
<br>
　⇒量子仮説：ε=h*ν　⇒　E(ε):=ε×整数　⇒　Eall(s):=∫dε{f(ε)×E(ε)^(s-1)}（以下のenergy分布f(ε)参照）
<br>
・<span class="wF">BEC</span>：<span class="run">Ver.2.806.130</span>以降、Bose-Einstein凝縮の比熱（<a href="#span-ref-docs8-BEC">参考Docsの例題</a>）
<br>
　⇒<a href="#span-out-method-Newton">Newton法</a>：反復回数20回以内で約10桁の一致（t=1.5の場合、1.710344202...）
<br>
　⇒<a href="#span-eqn-integral_DE_quadrature">DE求積法</a>：Bose-Einstein積分のζ(s,α):=∫f(s,α)dx/Γ(s)（定義域real(s)&gt;1で積分表示のζ関数にαを導入）
<br>
・<span class="wF">Bose-Einstein</span>：Bose-Einstein分布　⇒　Eall(s)∝ζ(s)Γ(s)（前述のzeta関数×gamma関数）
<br>
・<span class="wF">Fermi-Dirac</span>：Fermi-Dirac分布　⇒　Eall(s)∝η(s)Γ(s)（前述のeta関数×gamma関数）
<br>
・<span class="selection">rand_Pinv</span>：<a href="#span-out-FN-rand-else">確率分布に従う乱数生成</a>の実施例
<br>
・<span class="selection">Newton-Raphson</span>：<a href="#span-out-method-Newton">Newton法</a>の実施例
<br>
　⇒既定の収束判定条件：<a href="#span-out-FNm-norm">normc</a>(dx)&lt;<a href="#span-out-epsilon">Machine epsilon</a>
<br>
　⇒<a href="#span-out-error-numerical">数値解</a>のnorm：log10(<a href="#span-out-FNm-norm">normc</a>(f))∝log10(<a href="#span-out-epsilon">Machine epsilon</a>)/重複度
<br>
　-3：重根の対策（現状、遭遇頻度少のため、初期値x0と差分刻みhを含む外部設定値を個別に調整）
<br>
・<span class="wF">ODE-solver</span>：mass-spring-damper system
<br>
　x：位置
<br>
　v：速度
<br>
　m：mass
<br>
　k：spring係数
<br>
　c：damper係数
<br>
　F：外力
<br>
　⇒以降、頻出の運動方程式の一般化（Stokesの抵抗則）：x'=v, v'=(F-k*x-c*v)/m
<br>
　<span class="wF">-stiff</span>：硬い方程式（時間刻みの要調整）
<br>
　<span class="selection">-PID</span>||-out：systemの操作量uを仮定の<a href="#span-app-rule">PID制御</a>（model-basedのdouble-check）
<br>
　⇒実際にはLPF等のnoise対策あり（主に微分項）
<br>
・pendulum：<span class="run">Ver.2.733.104</span>以降、理想状態の2重振り子（単振り子）
<br>
　⇒初期値鋭敏性：chaosの場合、<a href="#span-out-error-numerical">数値誤差</a>程度の違いで時間経過の描像に大差あり
<br>
　-_t-t||-w：単振り子（腕先端の質点系）の角度||角速度
<br>
　-physical-_t-t||-w：物理振り子（腕中間の質点系）の角度||角速度
<br>
・<span class="clear">3body</span>：<span class="run">Ver.2.732.104</span>以降、<a href="#span-out-complex">複素数平面</a>に表示の平面3体問題
<br>
　⇒前提：無衝突系の時間刻み一定で重力の分母が有限の補正操作あり　⇒　|2点間距離|&gt;r_epsを仮定
<br>
　-m1-r_eps：同上の質点m1=7のr_eps依存性（時間刻み一定で連続性を比較）
<br>
　⇒補正率の条件：r_eps/dr&lt;&lt;1（物理的根拠は未考慮）
<br>
　-3~5body-dt：同上の質点m1=7のdt依存性
<br>
　⇒近距離の再現性：向上の場合、距離に応じて時間刻みを可変
<br>
　-3~5body<span class="jF">-sym</span>：2次元平面の対称解@r_eps=0（補正操作なし）
<br>
　⇒共通重心：質点の有無で対称性をdouble-check
<br>
　⇒徐々に<a href="#span-out-error-numerical">数値誤差</a>が蓄積して計算が破綻（周回数に依存）
<br>
　-5body-sym-1r||2r：r_eps&gt;0の場合、近点移動成分が発生（補正率r_eps/drに依存）
<br>
　⇒3次元の一般3体問題：未知変数の個数＞保存則の個数（対称解以外の解析不能）
<br>
　-4~5body：4体以降、手動で項を追加（主に<a href="#span-out-FNh">高階関数</a>の引数の制約）
<br>
　-5body-_t5||_t2：<a href="#span-out-evolution">時間発展</a>の分岐を比較
<br>
　-5body-_t1||_t3：<span class="run">Ver.2.775.121</span>以降、追加
<br>
　-5body-_t12||<span class="wF">-_t23</span>||<span class="wF">-_t45</span>：<span class="run">Ver.2.774.119</span>以降、adaptive-step solverを追加
<br>
　<span class="clear">-N=5</span>~=13：<span class="run">Ver.2.736.107</span>以降、任意個数のN体simulation（強連成の方程式と一意対応の最短表記）
<br>
・orbit<span class="selection">-kdrm=0.36</span>：地球と月の<a href="#span-app-orbit">軌道計算</a>結果（<a href="#span-app-period-motion">近地点移動周期</a>に相対位置の初期値を適合）
<br>
　初期値の仮定：月の<a href="#span-out-ODE3">面積速度</a>vAmを保存のため、周方向成分一部の力を消去（不確定性の背反を排除）
<br>
・<span class="selection">Kepler</span>：<a href="#span-out-ODE3">公転軌道</a>の実施例
<br>
・<span class="selection">baseball</span>：<a href="#span-app-baseball">野球</a>の実施例
<br>
・<span class="selection">circuit</span>：<a href="#span-app-369">「369の法則」</a>の実施例（三相交流）
<br>
・<span class="selection">switching</span>~-load：<a href="#span-out-non-linear1">電気回路</a>の実施例（昇圧用のswitching回路）
<br>
　<a href="#span-out-method-Newton">Newton法</a>の初期値：収束性改善のため、連立方程式の列挙順序を調整
<br>
・seriRLC||paraRLC<span class="selection">-reso</span>：<a href="#span-app-vibration">共振</a>の実施例（電波受信用の<a href="#span-app-vibration">共振</a>回路）
<br>
・<span class="selection">EIS</span>：<a href="#span-out-simulation-EIS">EIS simulation</a>の実施例
<br>
・<span class="selection">cell0d</span>：<a href="#span-out-modelling-0D-cell">0D-cell simplified modelling</a>の実施例（<a title="[spec]Electrochemical 0D-cell" href="../20_cell/spec.html">[spec]Electrochemical 0D-cell</a>参照）
<br>
・Paris-span：未来予測の倍数と<a href="#span-app-factor">時定数</a>を除く、西暦4000年の根拠（単純平均の概算で経過時間の約20倍）
<br>
・<span class="clear">CO2</span>：<a href="#span-app-gas-CO2">二酸化炭素</a>と<a href="#span-app-history">地球史</a>の実施例（<a href="#span-app-history">Younger Dryas期</a>を基準に<a href="#span-app-period-activity-Milankovitch">Milankovitch cycle</a>を<a href="#span-out-series-Fourier">逆のこぎり波</a>で記述）
<br>
・<span class="clear">sea</span>：<a href="#span-out-modelling-0D-sea-level">0D-sea-level simplified modelling</a>||<a href="#span-out-evolution-method">陰||陽解法</a>の実施例（<a href="#span-app-climate">気候変動</a>の<a href="#span-app-sea">海面上昇</a>を<a href="#span-out-evolution-method">1次遅れ系</a>で記述）
<br>
　実測1点の最悪想定：寄与度換算で融解量を過大評価（rate換算の場合、krate1で基準年のrateを調整）
<br>
　寄与度の予想：<a href="#span-app-sea">Order(100年)の時定数</a>で西暦2039年以降に融解量が熱膨張量を逆転（徐々に顕現）
<br>
　<span class="clear">Tc=900</span>：同上の<a href="#span-out-approximation-linear">回帰直線</a>で<a href="#span-app-history">最終氷期⇒間氷期</a>の<a href="#span-app-sea">海面上昇</a>のdouble-check（<a href="#span-app-rate">温度上昇rate</a>一定を仮定）
<br>
　⇒氷期の形状因子<span class="clear">b</span>が10.5倍：定量性はないが、<span class="clear">b</span>=1に適合の場合、未来のlevelを過小評価の可能性あり
<br>
　-mod：<a href="#span-out-modelling-0D-sea-level">modelling詳細化</a>の実施例（Tc0を導入）
<br>
・<span class="selection">heat0d</span>~Toba：<a href="#span-out-modelling-0D-heat">0D-heat simplified modelling</a>||<a href="#span-out-evolution-method">陰解法</a>の実施例（<a href="#span-app-climate">気候変動</a>の<a href="#span-app-gas-CO2">平均気温の変化量</a>||<a href="#span-app-history">平均気温</a>）
<br>
・<span class="selection">heat1d</span>~-2.9B：<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>の実施例（<a href="#span-app-Dyson">地表の平均気温</a>||<a href="#span-app-history">全球凍結</a>）
<br>
　初期値の仮定：界面温度T0/T1等の値を現在基準値で固定（時間軸を移動の場合、不正確）
<br>
・<span class="selection">Friedmann</span>：<a href="#span-app-universe">物質優勢期</a>を想定のFriedmann方程式@P=0のparametric study（<a href="#span-ref-paper2">参考論文[2]</a>）
<br>
　-k=0：<a href="#span-app-flatness">時空の制約条件</a>からk=0を想定
<br>
　⇒<a href="#span-app-universe">現宇宙</a>@q=-0.64：<a href="#span-app-universe">後期加速膨張</a>の<a href="#span-app-divergence">発散系</a>
<br>
　-dR/dt：最初期の発散と後期の減速⇒加速の変曲点（約138/2=69億年前）を明示
<br>
　⇒補足：adaptive-stepの<a href="#span-out-evolution">時間発展</a>の場合、発散直前に停止
<br>
　-quality：<a href="#span-app-universe">現宇宙</a>の<a href="#span-app-quality">系のquality</a>の概算（観測可能範囲）
<br>
・<span class="selection">Schrödinger3d</span>：<span class="run">Ver.2.829.139</span>以降、同下の2次元Schrödinger方程式を3次元化（10×10分割　⇒　4×4×4分割）
<br>
　⇒毎step高速化の検討候補：未知変数vectorの入出力の並列化（memoryと通信の同期を含むoverhead次第）
<br>
　-y||-z：z方向＝y方向＝x方向分布の対称性を確認
<br>
・<span class="selection">Schrödinger2d</span>：<span class="run">Ver.2.826.139</span>以降、同下の1次元Schrödinger方程式を2次元化（100分割　⇒　10×10分割）
<br>
　⇒解像度不足：<a href="#span-out-fdm-differential">中心差分法</a>の精度次数による計算結果の差が顕著
<br>
　2次元化の仮定：等間隔の等分割（<a href="#span-out-fdm-differential">有限差分</a>の係数krと演算子Lpを共通化）
<br>
　3次元化の補足：<a href="#span-eqn-reshapez">reshapez</a>参照
<br>
　potential energyの仮定：各方向のcenterに対する偶関数
<br>
　-y：y方向＝x方向分布の対称性を確認
<br>
　⇒各方向の分布：centerに対する対称性を確認
<br>
　-side：各方向の両端でside1＝side2の結果を確認
<br>
・<span class="selection">Schrödinger1d</span>：1次元Schrödinger方程式のadaptive-stepの<a href="#span-out-evolution">時間発展</a>（波動関数ψの時間と空間を強連成）
<br>
　空間Δ演算子の<a href="#span-out-error">離散化</a>：<a href="#span-out-fdm-differential">中心差分法</a>（境界条件を含む<a href="#span-out-reference-mat-area">area参照</a>と<a href="#span-out-ope-extended">拡張行列演算</a>で記述）
<br>
　⇒補足：強連成の式が単体の場合、<a href="#span-out-mat">行列</a>演算が不要で<a href="#span-eqn-reshapez">次元拡張</a>が容易（演算cost最小の最短表記）
<br>
　初期値の仮定（<a href="#span-out-FNm-normalize">正規化</a>の操作なし）：ψ0(x)=V(x)
<br>
　potential energyの仮定：V(x)=任意の連続関数f(x)+V0（定常状態のenergy固有値Enと関係）
<br>
　境界条件の仮定：ψ"(x)=0相当の<a href="#span-out-FN-interp2">線形外挿</a>（部分空間の確率として、成行きflux∝ψ'(x)≠0を許容）
<br>
　⇒補足：ψ"'(x)=0相当の場合、発散を許容
<br>
　<span class="jF">-abs</span>：波動関数ψを確率振幅として確率分布|ψ(x)|^2の干渉縞を明示
<br>
　⇒安定性：V(x)のpotential極小点近傍　⇒　|ψ(x)|^2&gt;0
<br>
　-Gauss<span class="clear">-abs</span>：<span class="clear">Ver.2.804.130</span>以降、Gauss波束の確率分布|ψ(x)|^2（大域的な確率保存則を確認）
<br>
　<span class="pF">-V=0</span>：V(x)=0の波動関数ψ0(x)∝sin(k*x)*W(x)の拡散と反射過程を明示
<br>
　-dx/2：同上の差分刻みdx依存性を確認
<br>
　-Gauss：<span class="clear">Ver.2.804.129</span>以降、<a href="#span-out-com">複素数</a>に拡張のGauss波束（符号で進行方向が変化）
<br>
　<span class="clear">-tunnel</span>：<span class="clear">Ver.2.804.129</span>以降、自由粒子のtunnel効果
<br>
　⇒impulse関数：有限高さV0のpotential障壁を中央に設置
<br>
　-step/8：<span class="run">Ver.2.831.140</span>以降、step関数を追加
<br>
　⇒step関数：有限高さV0/8のpotential障壁を右側に設置
<br>
　⇒|ψ(x)|^2（反射と透過の分配）：V0→∞で全反射
<br>
　<span class="pF">-periodic</span>：<span class="run">Ver.2.790.124</span>以降、周期境界条件を適用
<br>
　⇒V(x)の<a href="#span-out-com">虚数</a>の有無（exp||cos）：<a href="#span-app-quantum">波動関数の収縮</a>の程度に影響
<br>
　<span class="pF">-V(x,t)</span>：<span class="run">Ver.2.790.124</span>以降、時間依存のpotentialを適用
<br>
　⇒V(x,t)の<a href="#span-out-com">虚数</a>の有無（exp||cos）：<a href="#span-app-quantum">波動関数の収縮</a>の程度に影響（以下、同じ解釈）
<br>
　⇒位相変化の周波数応答fV→0：対称性の乱れと<a href="#span-app-quantum">波動関数の収縮</a>→崩壊（初期状態ψ0に依存しない）
<br>
　<span class="clear">-fV=-1 -> breaking</span>：対称性の破れの遷移状態（<a href="#span-app-quantum">量子もつれ</a>に関係の可能性）
<br>
　<span class="clear">-fV=-0.01 -> collapse</span>：波動関数の崩壊状態（expの場合、1次元の拘束条件で特異点を生成）
<br>
　-fV=0.01,V0=0：同上のdouble-check
<br>
・<span class="selection">Gross-Pitaevskii</span>：<span class="run">Ver.2.801.128</span>以降、1次元のGross-Pitaevskii方程式（理想Boson多体系の基底状態を記述）
<br>
　⇒Bose-Einstein凝縮：非線形な<span class="selection">Schrödinger</span>方程式でplot毎にt=0から<a href="#span-out-evolution">時間発展</a>のため、非常に重い（未最適化）
<br>
　-Gauss<span class="clear">-abs</span>：<span class="clear">Ver.2.804.130</span>以降、Gauss波束の確率分布|ψ(x)|^2（大域的な確率保存則を確認）
<br>
　<span class="pF">-V=0</span>：V(x)=0の波動関数ψ0(x)∝x**2の<span class="clear">分散</span>と干渉過程を明示
<br>
・<span class="selection">(φ,A)</span>：<span class="run">Ver.2.803.128</span>以降、電磁場中の荷電粒子の1次元<span class="selection">Schrödinger</span>方程式（実数の<a href="#span-app-quantum">4元potential</a>で記述）
<br>
　非相対論の仮定：Lorentz因子=1（相対論の場合、Hamiltonian内の根号を消去する工夫が必要）
<br>
　空間Δ||∇演算子の<a href="#span-out-error">離散化</a>：後述の<span class="wF">advection-diffusion</span>方程式に同様
<br>
　-Gauss<span class="clear">-abs</span>：<span class="clear">Ver.2.804.130</span>以降、Gauss波束の確率分布|ψ(x)|^2（大域的な確率保存則を確認）
<br>
　-fA=1~0：φ(t)=0, A(t)∝sin(2pi*fA*t)
<br>
　⇒位相変化の周波数応答fA=1→<span class="clear">0.01</span>→0：対称性　⇒　<span class="clear">非対称性</span>　⇒　対称性
<br>
　<span class="pF">-A(x,t)</span>-fA=1~0：A(x,t)の空間依存性を仮定（周期境界条件）
<br>
　⇒位相変化の周波数応答fA→0：対称性の乱れと<a href="#span-app-quantum">波動関数の収縮</a>（初期状態ψ0に依存しない）
<br>
・<span class="selection">Dirac</span>：<span class="run">Ver.2.799.127</span>以降、1次元Dirac方程式のadaptive-stepの<a href="#span-out-evolution">時間発展</a>（波動関数ψ1~4の時間と空間を強連成）
<br>
　空間∇演算子の<a href="#span-out-error">離散化</a>：<a href="#span-out-fdm-differential">中心差分法</a>（境界条件を含む<a href="#span-out-reference-mat-area">area参照</a>と<a href="#span-out-ope-extended">拡張行列演算</a>で記述）
<br>
　⇒後述の数値粘性のschemeなし：<span class="clear">Ver.2.799.128</span>以降、非物理的な数値振動を解消（reshaper　⇒　reshapec）
<br>
　⇒<a href="#span-out-mat-product">行列積</a>の演算順序の交換関係：L*R=(R.*L.).
<br>
　境界条件の仮定：ψ"(x)=0相当の<a href="#span-out-FN-interp2">線形外挿</a>（部分空間の確率として、成行きflux∝ψ'(x)≠0を許容）
<br>
　-Gauss<span class="clear">-abs -> fluctuation</span>：<span class="clear">Ver.2.804.130</span>以降、Gauss波束の確率分布|ψ(x)|^2（大域的な確率保存則を確認）
<br>
　⇒V(x)=0：相対論のFermionが従う<a href="#span-app-flatness">時空</a>の<a href="#span-app-universe">量子ゆらぎ</a>を明示（差分刻みdxに依存しない）
<br>
　⇒real||imag(ψ(x))：対称性||非対称性（ψ1~4の初期値に依存）
<br>
　-flux=0||-mirror||<span class="jF">-periodic</span>：境界条件をextrapolationから変更（ψ'(x)=0相当||鏡映||周期境界条件）
<br>
　⇒対称性の破れの遷移状態：大差なし（以降、周期境界条件を適用）
<br>
　<span class="jF">-ψ1~4-abs</span>：Dirac表現の波動関数ψ1~4の確率分布|ψ(x)|^2
<br>
　⇒一致のpair：なし
<br>
　<span class="pF">-Weyl-ψ1~4-abs</span>：Weyl表現の波動関数ψ1~4の確率分布|ψ(x)|^2
<br>
　⇒一致のpair：|ψ2|=|ψ3|, |ψ4|=|ψ1|
<br>
　<span class="wF">-Majorana-ψ1~4-abs</span>：Majorana表現の波動関数ψ1~4の確率分布|ψ(x)|^2
<br>
　⇒一致のpair：|ψ1|=|ψ3|, |ψ2|=|ψ4|
<br>
　⇒表現の任意性（4成分の上下半分でspin状態を区別）：|ψ1|=Weyl表現の|ψ2|, |ψ2|=Weyl表現の|ψ1|
<br>
　<span class="clear">-V(x,t)-exp||cos(fV=0)</span>：波動関数の崩壊状態（expの場合、1次元の拘束条件で特異点を生成）
<br>
　⇒相対論のFermion：非相対論のBoson同様の解釈（<span class="selection">Schrödinger1d</span>参照）
<br>
　<span class="pF">-V=0</span>：V(x)=0の波動関数の振動過程を明示
<br>
　⇒Fermion：<span class="clear">分散</span>を伴うBosonと異なる挙動
<br>
・<span class="pF">wave-equation</span>：1次元の波動方程式（上記の<span class="selection">Schrödinger</span>方程式に同様の記述）
<br>
　⇒波面：初期状態の回帰過程を明示
<br>
　-Gauss：<span class="clear">Ver.2.804.129</span>以降、Gauss波束の場合、<span class="clear">分散</span>なしを確認
<br>
・<span class="selection">Klein-Gordon</span>：1次元のKlein-Gordon方程式（上記の波動方程式にspring項を導入の電信方程式）
<br>
　<span class="pF">+damper</span>：damper項を導入
<br>
・<span class="wF">diffusion</span>：1次元の拡散方程式
<br>
・<span class="wF">advection</span>：1次元の移流方程式（上記の波動方程式の一方向の移流を記述）
<br>
　⇒<a href="#span-out-fdm-differential">中心差分法</a>：非物理的な数値振動を明示
<br>
　-scheme=o1~<span class="pF">o3</span>：1~3次精度の上流差分
<br>
　⇒数値粘性：非物理的な数値振動を抑制（分子粘性に同様の効果）
<br>
　<span class="wF">advection-diffusion</span>：1次元の移流拡散方程式（上記の移流方程式に分子粘性の拡散項を導入）
<br>
・<span class="wF">Bateman-Burgers</span>：1次元のBateman-Burgers方程式（上記の移流拡散方程式の移流速度が場に依存）
<br>
・<span class="selection">Langevin</span>：<span class="run">Ver.2.794.126</span>以降、1次元のLangevin方程式（確率微分方程式）
<br>
　⇒cの仮定：粒子sizeの影響（m相当）を含むdamper係数
<br>
・<span class="selection">Brown</span>：<span class="run">Ver.2.794.126</span>以降、2次元Brown運動の軌跡（上記のLangevin方程式を<a href="#span-out-com">複素数</a>演算で記述）
<br>
　⇒確率項の仮定：各軸独立の力∝<a href="#span-out-FNspecial">標準正規分布</a>に従う<a href="#span-out-FN-rand-else">N(0,1)の乱数</a>
<br>
　⇒試行回数→∞：環境不変のwhite-noiseの場合、平均2乗変位∝step（等方性の等速運動に相当）
<br>
　+spring：spring項を導入
<br>
　⇒spring||damper項：係数大で拡散距離が減衰
<br>
・random-walk：2次元random-walkの軌跡（3次元の投影でない最も単純な記述）
<br>
　⇒自己相似性：1stepの拡散距離∝1/分子粘性係数（粒子sizeの影響を未考慮）
<br>
・<span class="selection">DLA</span>：2次元の拡散律速凝集の上面図（原点の核成長を<a href="#span-out-com">複素数</a>演算で記述）
<br>
　-side：側面図をy=0と上半平面にplot（y=0の3点の核成長を記述）
<br>
・<span class="selection">Penrose</span>：Penroseの非周期tilingの1種（菱形のpairを作る再帰的な<a href="#span-out-com">複素数</a>演算で記述）
<br>
　<span class="run">Ver.2.840.145</span>以降、高速化（1setの入力v0を複製　⇒　1setの出力arr_z0を<a href="#span-out-prec-ope-arithmetic-method">push</a>でmakeして複製）
<br>
　-mirror：<span class="clear">Ver.2.845.153</span>以降、大域的な鏡映対称性（黄金triangle起源）
<br>
　⇒菱形のtriangle-pair：◇
<br>
　-rotation：大域的な5回の回転対称性（黄金triangle起源）
<br>
　+mirror：<span class="run">Ver.2.840.145</span>以降、鏡映対称性を追加（hasMirror）
<br>
　⇒原点の頂点を変更：jv=1⇒2⇒0（全3点の列挙順序）
<br>
　<span class="wF">-sun</span>：sunのdeflation||decomposition（36°頂点）
<br>
　<span class="wF">-star</span>：starのdeflation||decomposition（非可換の72°頂点）
<br>
　-gnomon-rotation：<span class="clear">Ver.2.845.153</span>以降、大域的な5回の回転対称性（黄金gnomon起源）
<br>
　-mirror：大域的な鏡映対称性（黄金gnomon起源）
<br>
　⇒菱形のgnomon-pair：◆
<br>
　+rotation：<span class="run">Ver.2.840.145</span>以降、<span class="clear">5回の</span>回転対称性を追加（Nrotation）　<span class="clear">Ver.2.845.153</span>以降、修正
<br>
　⇒原点の頂点を変更：jv=2⇒0⇒1（全3点の列挙順序）
<br>
　<span class="pF">-star</span>：<span class="clear">Ver.2.845.153</span>以降、starのdeflation||decomposition（可換の36°頂点）
<br>
　⇒sunとstarの相互変換：◇=kite-dart　⇔　◆=kite+dart
<br>
　⇒星型多面体の準結晶の投影図（白枠のsun部分）：☆+(◇+kite)*5（<span class="clear">Ver.2.851.157</span>以降、<a href="#span-out-UI-graphing-composites">composites</a>を適用）
<br>
　<span class="jF">-star</span>：同上のひずみ分布と奥行きの表現（<span class="run">Ver.2.846.153</span>~<span class="run">2.848.155</span>以降、<a href="#span-out-UI-graphing-mrcolors">mrcolors</a>と<a href="#span-out-UI-graphing-composites">composites</a>を適用）
<br>
　<span class="jF">-complement</span>：<span class="run">Ver.2.840.145</span>以降、平面充填の相補的な対称性（黄金triangle+gnomon起源）
<br>
　⇒相補的な対称性：sunのtriangle☆⇒gnomon★に反転表示で★の欠損なし（境界を含む）
<br>
　<span class="clear">+mirror -> sun-filling</span>：同上のdouble-check（matching規則を満たす三角形の全対称性）
<br>
　⇒☆＋★のsun部分：平面充填を明示（<span class="run">Ver.2.846.153</span>~<span class="clear">2.851.157</span>以降、<a href="#span-out-UI-graphing-mrcolors">mrcolors</a>と<a href="#span-out-UI-graphing-composites">composites</a>を適用）
<br>
　-variant：同上の変種tiling（triangleの36°頂点近傍で規則性なし）
<br>
　-pattern~：同上の規則的なpattern（<span class="clear">Ver.2.851.157</span>以降、<a href="#span-out-UI-graphing-mrcolors">mrcolors</a>と<a href="#span-out-UI-graphing-composites">composites</a>を適用）
<br>
　<span class="jF">-galaxy</span>：渦巻銀河の腕を含む差動回転と螺旋構造の表現（N=5の密度波の重複許容tiling）
<br>
・<span class="jF">pinwheel</span>~-Z：回転対称性の平面充填曲線||fractal（再帰的な<a href="#span-out-com">複素</a><a href="#span-out-mat">行列</a>演算で記述）
<br>
・<span class="selection">Pythagoras</span>：Pythagoras tree（再帰的な<a href="#span-out-com">複素</a><a href="#span-out-mat">行列</a>演算で記述）
<br>
・Lévy<span class="jF">-l1</span>：回転対称性のfractal曲線（Iterated Function Systemで記述）
<br>
・<span class="selection">rule90</span>：Sierpinski gasket（Cellular Automatonで記述）
<br>
・<span class="selection">gradation</span>：<a href="#span-out-UI-graphing-gradation">gradation特定項目仕様</a>の実施例
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><span id="span-index">目次</span></caption>
<thead>
  <tr>
    <th>
項目
    </th>
    <th>
内容
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
目次
    </th>
    <td>
<a href="#span-ref">参考文献</a>
<br>
・<a href="#span-ref-docs-app">参考Docs（解釈）</a>
<br>
・<a href="#span-ref-docs-out">参考Docs（仕様）</a>
<br>
・<a href="#span-ref-wiki">参考Wikipedia</a>
<br>
・<a href="#span-ref-jsme-medwiki">参考JSME-MED</a>
<br>
・<a href="#span-ref-git">参考GitHub</a>
<br>
・<a href="#span-ref-url">参考URL</a>
<br>
・<a href="#span-ref-paper">参考論文</a>
<br>
<br>
<a href="#span-app">参考文献の解釈</a>
<br>
・<a href="#span-app-spacetime">4次元時空</a>
<br>
　・<a href="#span-app-dimension">空間次元</a>
<br>
　・<a href="#span-app-universe">現宇宙</a>
<br>
　　・<a href="#span-app-flatness">「平坦で一様等方性」</a>
<br>
　　・<a href="#span-app-divergence">発散系</a>
<br>
　・<a href="#span-app-UFT">統一場理論</a>
<br>
　・<a href="#span-app-interaction">相互作用</a>
<br>
　　・<a href="#span-app-gravity">gravity</a>
<br>
　　・<a href="#span-app-wave">波</a>
<br>
　　　・<a href="#span-app-vibration">振動</a>
<br>
　　・<a href="#span-app-analogy">analogy</a>
<br>
　・<a href="#span-app-reality">reality</a>
<br>
　　・<a href="#span-app-light">光と影</a>
<br>
　　・<a href="#span-app-optics">光学</a>
<br>
　・<a href="#span-app-spirituality">spirituality</a>
<br>
　　・<a href="#span-app-369">「369の法則」</a>
<br>
　・<a href="#span-app-energy">energy</a>
<br>
　　・<a href="#span-app-synthesis">人工合成</a>
<br>
　　・<a href="#span-app-superconductivity">超伝導</a>
<br>
　　・<a href="#span-app-quantum">量子computer</a>
<br>
　・<a href="#span-app-singularity">singularity</a>
<br>
　　・<a href="#span-app-unsolved">未解決問題</a>
<br>
　　　・<a href="#span-app-eps">実数ε</a>
<br>
　　　・<a href="#span-app-prime">素数定理</a>
<br>
　　　・<a href="#span-app-characteristic">基本特性</a>
<br>
　　　・<a href="#span-app-continuation">解析接続</a>
<br>
　　　・<a href="#span-app-boundary">境界条件</a>
<br>
　　・<a href="#span-app-rule">経験則</a>
<br>
　　　・<a href="#span-app-thermodynamics">熱力学</a>
<br>
　　　　・<a href="#span-app-entropy">entropy</a>
<br>
　　　　・<a href="#span-app-quality">quality</a>
<br>
　　・<a href="#span-app-cryption">暗号</a>
<br>
・<a href="#span-app-astronomy">天文</a>
<br>
　・<a href="#span-app-period">周期</a>
<br>
　　・<a href="#span-app-period-motion">運動周期</a>
<br>
　　　・<a href="#span-app-period-motion-synodic">会合周期</a>
<br>
　　・<a href="#span-app-period-activity">活動周期</a>
<br>
　　　・<a href="#span-app-period-activity-Milankovitch">Milankovitch cycle</a>
<br>
　・<a href="#span-app-flare">太陽flare</a>
<br>
　・<a href="#span-app-meteorite">隕石</a>
<br>
　・<a href="#span-app-orbit">軌道計算</a>
<br>
　・<a href="#span-app-object">天体</a>
<br>
　　・<a href="#span-app-knowns">既知の天体</a>
<br>
　　・<a href="#span-app-unknowns">仮説上の天体</a>
<br>
　　　・<a href="#span-app-earth">反地球</a>
<br>
　　　・<a href="#span-app-Dyson">Dyson球</a>
<br>
　・<a href="#span-app-climate">気候変動</a>
<br>
　　・<a href="#span-app-factor">主要因子</a>
<br>
　　　・<a href="#span-app-dependency">従属関係</a>
<br>
　　・<a href="#span-app-rate">変動rate</a>
<br>
　　　・<a href="#span-app-sea">海面上昇</a>
<br>
　　・<a href="#span-app-gas">温室効果gas</a>
<br>
　　　・<a href="#span-app-gas-CO2">二酸化炭素</a>
<br>
　　　・<a href="#span-app-gas-reference">[引用]総排出量</a>
<br>
　・<a href="#span-app-aerodynamics">空気力学</a>
<br>
　　・<a href="#span-app-baseball">野球</a>
<br>
　　・<a href="#span-app-plane">飛行機</a>
<br>
　　・<a href="#span-app-jet">jet</a>
<br>
　　・<a href="#span-app-atmosphere">大気圏</a>
<br>
・<a href="#span-app-history">地球史</a>
<br>
　・<a href="#span-app-Holocene">完新世</a>
<br>
　　・<a href="#span-app-sea-level">海水準</a>
<br>
　・<a href="#span-app-origin">起源</a>
<br>
　　・<a href="#span-app-DNA">DNA</a>
<br>
　・<a href="#span-app-arithmetic">数の概念</a>
<br>
　・<a href="#span-app-pyramid">pyramid</a>
<br>
　　・<a href="#span-app-geometry">geometry</a>
<br>
　　・<a href="#span-app-stress">応力分布</a>
<br>
<br>
<a href="#span-out">外部仕様</a>
<br>
・<a href="#span-out-pre">前提</a>
<br>
・<a href="#span-out-spec-history">変更履歴</a>
<br>
　・<a href="#span-out-spec-changed-history">演算仕様変更履歴</a>
<br>
　・<a href="#span-out-spec-default-history">演算既定値変更履歴</a>
<br>
　・<a href="#span-out-spec-deprecated-history">演算仕様廃止履歴</a>
<br>
　・<a href="#span-out-spec-stricter-history">演算仕様厳格化履歴</a>
<br>
　・<a href="#span-out-ope-extended-history1">機能拡張履歴</a>
<br>
　・<a href="#span-out-ope-extended-history2">拡張行列演算拡張履歴</a>
<br>
　・<a href="#span-out-spec-optimized-history">演算最適化履歴</a>
<br>
　・<a href="#span-out-spec-plot-history">plot仕様変更履歴</a>
<br>
　・<a href="#span-out-spec-canvas-history">plot表示仕様変更履歴</a>
<br>
　・<a href="#span-out-spec-pending">pending</a>
<br>
・<a href="#span-out-development">開発環境</a>
<br>
・<a href="#span-out-system">動作test環境</a>
<br>
　・<a href="#span-out-system-test">実機online-test手順</a>
<br>
　・<a href="#span-out-download">download手順</a>
<br>
・<a href="#span-out-requirements">動作要件</a>
<br>
　・<a href="#span-out-platform">動作環境依存</a>
<br>
　・<a href="#span-out-browsers">browser間の相違</a>
<br>
　・<a href="#span-out-browsers-ie">Internet Explorer非対応の機能</a>
<br>
　・<a href="#span-out-spec-ECMAScript">ECMAScriptとの相違</a>
<br>
　・<a href="#span-out-spec-Excel">Excelとの相違</a>
<br>
　・<a href="#span-out-spec-Python">Pythonとの相違</a>
<br>
・操作UI
<br>
　・<a href="#span-out-UI-simple">Simple Calculator</a>
<br>
　・<a href="#span-out-UI-graphing">Graphing Calculator</a>
<br>
　　・<a href="#span-out-UI-graphing-testcase">test case</a>
<br>
　　・<a href="#span-out-UI-graphing-color-space">color空間</a>
<br>
　　・<a href="#span-out-UI-graphing-color">color入力仕様</a>
<br>
　　・<a href="#span-out-UI-graphing-colors">colors入力仕様</a>
<br>
　　・<a href="#span-out-UI-graphing-z">z入力仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-legend">legend-dataset</a>
<br>
　　　・<a href="#span-out-UI-graphing-bgcolor">bgcolor特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-gdcolor">gdcolor特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-mrcolors">mrcolors特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-composites">composites特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-plotconfig">plotconfig特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-title">graph-title特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-labels">axis-labels特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-origin">origin特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-string-path">string-path特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-gradation">gradation特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-transform">transform特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-blur">blur特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-filter">filter特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-filter-list">filter一覧</a>
<br>
　　　　・<a href="#span-out-UI-graphing-filter-weight">加重平均</a>
<br>
　　　　・<a href="#span-out-UI-graphing-filter-edge">edge抽出</a>
<br>
　　　　・<a href="#span-out-UI-graphing-filter-average">averageぼかし</a>
<br>
　　　　・<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>
<br>
　　　　・<a href="#span-out-UI-graphing-filter-Gaussian">Gaussぼかし</a>
<br>
　　　　・<a href="#span-out-UI-graphing-filter-tone-curve">tone-curve特定項目仕様</a>
<br>
　　　　・<a href="#span-out-UI-graphing-post-transformer">post-transformer特定項目仕様</a>
<br>
　　　　・<a href="#span-out-UI-graphing-post-compressor">post-compressor特定項目仕様</a>
<br>
　　　　・<a href="#span-out-UI-graphing-post-processor">post-processor特定項目仕様</a>
<br>
　　　　　・<a href="#span-out-UI-graphing-post-processor-encode">encode仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-tile">tile特定項目仕様</a>
<br>
　　　・<a href="#span-out-UI-graphing-cut">cut特定項目仕様</a>
<br>
　　・<a href="#span-out-UI-graphing-v">v入力仕様</a>
<br>
　　・<a href="#span-out-UI-graphing-layer">layer描画順</a>
<br>
　　　・<a href="#span-out-UI-graphing-layer-background">背景優先順</a>
<br>
　　　・<a href="#span-out-UI-graphing-layer-grid">grid-layer描画順</a>
<br>
　　　・<a href="#span-out-UI-graphing-layer-plot">plot-layer描画順</a>
<br>
　　・<a href="#span-out-UI-graphing-post">post処理順</a>
<br>
　　　・<a href="#span-out-UI-graphing-post1">layer合成順</a>
<br>
　　　・<a href="#span-out-UI-graphing-post2">post最終処理順</a>
<br>
　　・<a href="#span-out-UI-graphing-config">plot-config</a>
<br>
　　　・<a href="#span-out-UI-graphing-config-csv">csv-read</a>
<br>
　　・<a href="#span-out-UI-graphing-list">strict-mode equation-list</a>
<br>
　　・<a href="#span-out-UI-calc-config">calc-config</a>
<br>
・<a href="#span-out-log-stamp">log-stamp仕様</a>
<br>
・<a href="#span-out-log">log表示仕様</a>
<br>
　・<a href="#span-out-log-error">error-log</a>
<br>
・<a href="#span-out-debug">debugger</a>
<br>
　・<a href="#span-out-callstack">call stack</a>
<br>
・<a href="#span-out-config-strict">strict-mode</a>
<br>
・<a href="#span-out-config">内部option</a>
<br>
・<a href="#span-out-options">外部option</a>
<br>
　・<a href="#span-out-option5">O(error)</a>
<br>
　・<a href="#span-out-option1">2項演算子のassociativity</a>
<br>
　・<a href="#span-out-option2">記号省略乗算</a>
<br>
　・<a href="#span-out-option4">comma演算子</a>
<br>
　・<a href="#span-out-option8">use$let</a>
<br>
　・<a href="#span-out-option9">useMutex</a>
<br>
　・<a href="#span-out-option7">useFunc</a>
<br>
　・<a href="#span-out-option6">useScopeWith</a>
<br>
　・<a href="#span-out-option3">Multi-thread実行</a>
<br>
・<a href="#span-out-type-ope">演算子の大分類</a>
<br>
・<a href="#span-out-associativity">2項演算子のassociativity</a>
<br>
・<a href="#span-out-prec">演算のprecedence</a>
<br>
　・<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>
<br>
　・<a href="#span-out-prec-ope">演算子のprecedence</a>
<br>
　　・<a href="#span-out-prec-ope-arithmetic">算術演算子</a>
<br>
　　　・<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>
<br>
　　　・<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>
<br>
　　　・<a href="#span-out-prec-ope-arithmetic-size">size演算子</a>
<br>
　　　・<a href="#span-out-prec-ope-arithmetic-mod">剰余・整数商演算子</a>
<br>
　　・<a href="#span-out-prec-ope-bit">bit演算子</a>
<br>
　　・<a href="#span-out-prec-ope-comparison">比較演算子</a>
<br>
　　・<a href="#span-out-prec-ope-relational">関係演算子</a>
<br>
　　・<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a>
<br>
　　・<a href="#span-out-prec-ope-logical-xor">論理XOR演算子</a>
<br>
　　・<a href="#span-out-prec-ope-logical">論理演算子</a>
<br>
　　・<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>
<br>
　　・<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>
<br>
　　・<a href="#span-out-prec-ope-conditional">条件演算子</a>
<br>
・<a href="#span-out-float">浮動小数点演算</a>
<br>
　・<a href="#span-out-epsilon">Machine epsilon</a>
<br>
　・<a href="#span-out-number">Number型定数</a>
<br>
　・<a href="#span-out-literal">literal</a>
<br>
　　・<a href="#span-out-literal-FN">関数list</a>
<br>
　　・<a href="#span-out-literal-ope">演算子list</a>
<br>
・<a href="#span-out-error">誤差の扱い</a>
<br>
　・<a href="#span-out-error-numerical">数値解の数値誤差</a>
<br>
・<a href="#span-out-flow">演算flow</a>
<br>
・<a href="#span-out-ope">演算仕様</a>
<br>
　・<a href="#span-out-auto-switching">real自動切替</a>
<br>
　・<a href="#span-out-ope-extended">拡張行列演算</a>
<br>
・<a href="#span-out-types">型の種類</a>
<br>
・<a href="#span-out-types-vars">変数の種類</a>
<br>
・<a href="#span-out-const-vars">const宣言</a>
<br>
・<a href="#span-out-scope">変数のscope</a>
<br>
・<a href="#span-out-ref-transparency">参照透過性</a>
<br>
・<a href="#span-out-storage">storage</a>
<br>
・<a href="#span-out-bracket">階層とscopeの関係</a>
<br>
・<a href="#span-out-search">search-precedence</a>
<br>
・<a href="#span-out-scope-inherited">scope継承</a>
<br>
・<a href="#span-out-scope-reference">scope参照</a>
<br>
・<a href="#span-out-terms">用語集</a>
<br>
・graph出力仕様
<br>
　・<a href="#span-out-plot2d">plot2d</a>
<br>
・入力仕様
<br>
　・<a href="#span-out-plot2d-command">plot2d-command</a>
<br>
　　・<a href="#span-out-plot2d-command-from-log">plot2d-from-log</a>
<br>
　　・<a href="#span-out-plot2d-command-from-arr">plot2d-from-arr</a>
<br>
　　・<a href="#span-out-csv-format">csv-format</a>
<br>
　・<a href="#span-out-spaces">white spaces</a>
<br>
　・<a href="#span-out-comment">comment文</a>
<br>
　・<a href="#span-out-command">命令文</a>
<br>
　・<a href="#span-out-SR">区切り文字</a>
<br>
　・<a href="#span-out-FNc">最上位関数</a>
<br>
　・<a href="#span-out-BT">括弧</a>
<br>
　　・<a href="#span-out-BT-associativity">括弧のassociativity</a>
<br>
　　・<a href="#span-out-BT-square">角括弧</a>
<br>
　　・<a href="#span-out-BT-empty">空括弧</a>
<br>
　・<a href="#span-out-RW">予約語</a>
<br>
　・<a href="#span-out-num">実数値</a>
<br>
　　・<a href="#span-out-num-false">false判定値</a>
<br>
　　・<a href="#span-out-num-NaN">欠損値</a>
<br>
　・<a href="#span-out-FN0">定数</a>
<br>
　・<a href="#span-out-BRmo">記号省略乗算</a>
<br>
　・<a href="#span-out-com">複素数</a>
<br>
　・<a href="#span-out-FN">関数</a>
<br>
　　・<a href="#span-out-FN-args">関数の引数</a>
<br>
　　・<a href="#span-out-FN-isNaN">isNaN関数</a>
<br>
　　・<a href="#span-out-FN-ope">演算子代替関数</a>
<br>
　　・<a href="#span-out-FN-int">int関数</a>
<br>
　　・<a href="#span-out-FN-rand">乱数関数</a>
<br>
　　　・<a href="#span-out-FN-rand-else">その他の乱数</a>
<br>
　　・<a href="#span-out-FN-fact">階乗関数</a>
<br>
　　・<a href="#span-out-FN-gcd">gcd/lcm関数</a>
<br>
　　・<a href="#span-out-FN-min">min/max関数</a>
<br>
　　・<a href="#span-out-FN-camin">camin/camax関数</a>
<br>
　　・<a href="#span-out-FN-sqrt">sqrt関数</a>
<br>
　　・<a href="#span-out-FN-pow">pow関数</a>
<br>
　　・<a href="#span-out-FN-log">log関数</a>
<br>
　　・<a href="#span-out-FN-atan2">atan2関数</a>
<br>
　　・<a href="#span-out-FN-sin">三角関数</a>
<br>
　　・<a href="#span-out-FN-sinh">双曲線関数</a>
<br>
　　・<a href="#span-out-FN-else">その他の関数</a>
<br>
　・<a href="#span-out-FNspecial-spec">特殊仕様関数</a>
<br>
　　・<a href="#span-out-FN-statistic">統計関数</a>
<br>
　　・<a href="#span-out-FN-interp">補間関数</a>
<br>
　　　・<a href="#span-out-FN-interp0">0次補間関数</a>
<br>
　　　・<a href="#span-out-FN-interp1">1次補間関数</a>
<br>
　　　・<a href="#span-out-FN-interp2">n次補間関数</a>
<br>
　　　・<a href="#span-out-FN-interp3">3次補間関数</a>
<br>
　・<a href="#span-out-FNspecial">特殊関数</a>
<br>
　・<a href="#span-out-mat">行列</a>
<br>
　　・<a href="#span-out-mat-blank">欠損要素</a>
<br>
　　・<a href="#span-out-mat-empty">空行列</a>
<br>
　・<a href="#span-out-FNm0">定数扱いの行列</a>
<br>
　・<a href="#span-out-FNm">行列関数</a>
<br>
　　・<a href="#span-out-FNm-init">初期化行列関数</a>
<br>
　　　・<a href="#span-out-FNm-init-space">space初期化行列関数</a>
<br>
　　・<a href="#span-out-FNm-isFalse">isFalse/isTrue行列関数</a>
<br>
　　・<a href="#span-out-FNm-trans">転置行列関数</a>
<br>
　　・<a href="#span-out-FNm-last">last行列関数</a>
<br>
　　・<a href="#span-out-FNm-size">size行列関数</a>
<br>
　　・<a href="#span-out-FNm-reshape">reshape行列関数</a>
<br>
　　・<a href="#span-out-FNm-norm">norm行列関数</a>
<br>
　　・<a href="#span-out-FNm-normalize">正規化行列関数</a>
<br>
　　・<a href="#span-out-FNm-coo">座標形式行列関数</a>
<br>
　・<a href="#span-out-array">行列操作</a>
<br>
　　・<a href="#span-out-reference-mat">行列への参照</a>
<br>
　　　・<a href="#span-out-reference-mat-size">行列size</a>
<br>
　　　・<a href="#span-out-reference-mat-index">行列index</a>
<br>
　　　・<a href="#span-out-reference-mat-row">行参照</a>
<br>
　　　・<a href="#span-out-reference-mat-col">列参照</a>
<br>
　　　・<a href="#span-out-reference-mat-elem">要素参照</a>
<br>
　　　・<a href="#span-out-reference-mat-area">area参照</a>
<br>
　　　・<a href="#span-out-reference-mat-band">band参照</a>
<br>
　　・<a href="#span-out-substitution-mat">行列への代入</a>
<br>
　　　・<a href="#span-out-substitution-mat-row">行代入</a>
<br>
　　　・<a href="#span-out-substitution-mat-col">列代入</a>
<br>
　　　・<a href="#span-out-substitution-mat-elem">要素代入</a>
<br>
　　　・<a href="#span-out-substitution-mat-area">area代入</a>
<br>
　　　・<a href="#span-out-substitution-mat-band">band代入</a>
<br>
　　・<a href="#span-out-concatenation">行列結合</a>
<br>
　　　・<a href="#span-out-concatenation-irregular">irregular行列</a>
<br>
　・<a href="#span-out-FNmspecial-spec">特殊仕様行列関数</a>
<br>
　・<a href="#span-out-vars">変数</a>
<br>
　　・<a href="#span-out-vars-rule1">変数への代入規則</a>
<br>
　　・<a href="#span-out-vars-rule2">変数の命名規則</a>
<br>
　　　・<a href="#span-out-vars-escape">escape記号</a>
<br>
　　・<a href="#span-out-vars-symbol">変数名symbol</a>
<br>
　　・<a href="#span-out-ans">予約変数</a>
<br>
　　・<a href="#span-out-substitution">変数への代入</a>
<br>
　　・<a href="#span-out-matching">行列要素pattern matching</a>
<br>
　　・<a href="#span-out-scope-vars">変数のscope</a>
<br>
　　　・<a href="#span-out-scope-vars-has1BT">単独scope</a>
<br>
　・<a href="#span-out-eqns">式変数</a>
<br>
　　・<a href="#span-out-eqns-call">式読出し</a>
<br>
　　　・<a href="#span-out-eqns-call2var">変数への式読出し</a>
<br>
　　　・<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>
<br>
　　・<a href="#span-out-pass-by-equation">式渡し</a>
<br>
　　　・<a href="#span-out-eqns-no-name-short">直接式読出し</a>
<br>
　　　・<a href="#span-out-substitution-equation">式変数への式代入</a>
<br>
　　・<a href="#span-out-scope-inherited-pass">scope継承pass</a>
<br>
　　・<a href="#span-out-scope-inherited-call">scope継承call</a>
<br>
　　　・<a href="#span-out-scope-inherited-call-memo">scope継承callの補足</a>
<br>
　　・<a href="#span-out-eqns-args">arguments</a>
<br>
　　　・<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
　　　・<a href="#span-out-pass-by-name">name渡し</a>
<br>
　　　・<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>
<br>
　　　・<a href="#span-out-eqns-re-call">再帰call</a>
<br>
　　　・<a href="#span-out-eqns-no-name">無名call</a>
<br>
　　　　・<a href="#span-out-eqns-return">末尾return</a>
<br>
　　　<del>・<a href="#span-out-eqns-omitted-args">引数省略call</a></del>
<br>
　・<a href="#span-out-FNh">高階関数</a>
<br>
　　・<a href="#span-out-FNh-switch">switch高階関数</a>
<br>
　　・<a href="#span-out-FNh-SX">総和高階関数</a>
<br>
　　・<a href="#span-out-FNh-PX">総乗・総積高階関数</a>
<br>
　　・<a href="#span-out-FNh-RX">再帰高階関数</a>
<br>
　　・<a href="#span-out-FNh-DX">微分高階関数</a>
<br>
　　・<a href="#span-out-FNh-IX">積分高階関数</a>
<br>
　・<a href="#span-out-FNmh">高階行列関数</a>
<br>
　　・<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>
<br>
　　・<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>
<br>
　　・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>
<br>
　　・<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>
<br>
　　<del>・<a href="#span-out-FNmh-EX">symbolic高階行列関数</a></del>
<br>
・座標系
<br>
　・<a href="#span-out-Euclid">Euclid実空間</a>
<br>
　・<a href="#span-out-complex">複素数平面</a>
<br>
　・<a href="#span-out-orthogonal">直交座標</a>
<br>
　・<a href="#span-out-polar">平面極座標</a>
<br>
　・<a href="#span-out-spherical">球面座標</a>
<br>
・解法
<br>
　・<a href="#span-out-mat-product">行列積</a>
<br>
　・<a href="#span-out-interpolation">補間法</a>
<br>
　　・<a href="#span-out-approximation-linear">線形近似</a>
<br>
　　・<a href="#span-out-interpolation-linear">線形補間</a>
<br>
　　・<a href="#span-out-interpolation-Lagrange">Lagrange補間</a>
<br>
　　・<a href="#span-out-interpolation-spline">spline補間</a>
<br>
　・<a href="#span-out-fdm">有限差分法</a>
<br>
　　・<a href="#span-out-fdm-differential">微分の数値解法</a>
<br>
　　・<a href="#span-out-fdm-integral">積分の数値解法</a>
<br>
　・<a href="#span-out-fvm">有限体積法</a>
<br>
　　・<a href="#span-out-fvm-about">有限体積法の概要</a>
<br>
　・<a href="#span-out-modelling">modelling</a>
<br>
　　・<a href="#span-out-modelling-0D-RC">0D-RC並列回路simplified modelling</a>
<br>
　　・<a href="#span-out-modelling-0D-diffusion">0D-diffusion simplified modelling</a>
<br>
　　・<a href="#span-out-modelling-0D-sea-level">0D-sea-level simplified modelling</a>
<br>
　　・<a href="#span-out-modelling-0D-cell">0D-cell simplified modelling</a>
<br>
　　・<a href="#span-out-modelling-0D-heat">0D-heat simplified modelling</a>
<br>
　・<a href="#span-out-simulation">simulation</a>
<br>
　　・<a href="#span-out-simulation-EIS">EIS simulation</a>
<br>
　　・<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>
<br>
　　・<a href="#span-out-simulation-0D-heat">0D-heat simulation</a>
<br>
　・<a href="#span-out-evolution">時間発展の解法</a>
<br>
　　・<a href="#span-out-evolution-system">線形system論</a>
<br>
　　・<a href="#span-out-evolution-method">陰||陽解法</a>
<br>
　・<a href="#span-out-ODE">常微分方程式</a>
<br>
　　・<a href="#span-out-evolution-space">斜方投射</a>
<br>
　　・<a href="#span-out-evolution-spin">spin</a>
<br>
　　・<a href="#span-out-ODE1">logistic方程式</a>
<br>
　　・<a href="#span-out-ODE2">Lorenz方程式</a>
<br>
　　・<a href="#span-out-ODE3">公転軌道</a>
<br>
　・<a href="#span-out-method-Newton">Newton法</a>
<br>
　・<a href="#span-out-method-Gauss">Gaussの消去法</a>
<br>
　・<a href="#span-out-linear">連立線形方程式</a>
<br>
　・<a href="#span-out-inverse">逆行列</a>
<br>
　・<a href="#span-out-non-linear">連立非線形方程式</a>
<br>
　　・<a href="#span-out-non-linear1">電気回路</a>
<br>
　・<a href="#span-out-transform">信号変換</a>
<br>
　　・<a href="#span-out-transform-fft">高速Fourier変換</a>
<br>
　　・<a href="#span-out-transform-dft">離散Fourier変換</a>
<br>
　　・<a href="#span-out-transform-dwt">離散Wavelet変換</a>
<br>
　　・<a href="#span-out-transform-dwt-col">離散Wavelet変換（列代入）</a>
<br>
　・<a href="#span-out-series">級数展開</a>
<br>
　　・<a href="#span-out-series-Taylor">Taylor級数・Maclaurin級数</a>
<br>
　　・<a href="#span-out-series-Fourier">Fourier級数</a>
<br>
　・<a href="#span-out-limit">極限</a>
<br>
・<a href="#span-out-application">application</a>
<br>
・<a href="#span-out-development-original">独自実装の反省点</a>
<br>
　・<a href="#span-out-development-javascript">特有の実装</a>
<br>
　・<a href="#span-out-development-additional">実装の特徴</a>
<br>
　　・<a href="#span-out-development-problems-after">実装上の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-FNh">高階関数の問題点</a>
<br>
　　・<a href="#span-out-development-problems-before">仕様上の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-algebra">代数学準拠の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-type">型定義の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-complex">複素数演算の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-matrix">行列演算の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-logical">論理演算の問題点</a>
<br>
　　　・<a href="#span-out-development-problems-share">未実装の参照共有</a>
<br>
　　　・<a href="#span-out-development-problems-CBR">未実装の参照渡し</a>
<br>
　　　・<a href="#span-out-development-problems-CAS">未実装のCAS</a>
<br>
　　・<a href="#span-out-special">特殊仕様</a>
<br>
　　　・<a href="#span-out-special-eqns">式変数</a>
<br>
　　　・<a href="#span-out-special-FNh">高階関数</a>
<br>
　　　・<a href="#span-out-special-sign">単項の符号</a>
<br>
　　　・<a href="#span-out-special-equal">equal記号</a>
<br>
　　　・<a href="#span-out-special-substitution">代入処理</a>
<br>
<br>
<a href="#span-in">内部仕様</a>
<br>
・<a href="#span-in-pre">前提</a>
<br>
・<a href="#span-in-tree">単位tree構造</a>
<br>
・<a href="#span-in-deep-copy">deep-copy</a>
<br>
・<a href="#span-in-scope-vars">変数のscope</a>
<br>
・<a href="#span-in-eqns-args">式変数のarguments</a>
<br>
・<a href="#span-in-pass-by-equation">式渡し</a>
<br>
・<a href="#span-in-options">内部option</a>
<br>
・<a href="#span-in-myeval">独自eval</a>
<br>
・<a href="#span-in-prec">変数・関数・区切り文字・演算子のprecedence</a>
<br>
・<a href="#span-in-FN">定義済みの関数・予約語</a>
<br>
・<a href="#span-in-FN-list">NaN対応結果</a>
<br>
・<a href="#span-in-re-prifix">接頭辞の正規表現</a>
<br>
・<a href="#span-in-FN-log">log関数</a>
<br>
・<a href="#span-in-FN-atan2">atan2関数</a>
<br>
・<a href="#span-in-FN-NaN">NaN対応</a>
<br>
・<a href="#span-in-log-m0">-0表示対応</a>
<br>
・<a href="#span-in-short-circuit">短絡評価</a>
<br>
<br>
<a href="#span-eqn">strict-mode式変数list</a>
<br>
・<a href="#span-eqn-template">template</a>
<br>
・<a href="#span-eqn-scope_NG">scope_NG</a>
<br>
・<a href="#span-eqn-short-circuit">short_circuit</a>
<br>
・<a href="#span-eqn-matching">matching</a>
<br>
・<a href="#span-eqn-list">list</a>
<br>
・<a href="#span-eqn-scope2storage">scope2storage</a>
<br>
・<a href="#span-eqn-has4test">has4test</a>
<br>
・<a href="#span-eqn-test4useMutex">test4useMutex</a>
<br>
・<a href="#span-eqn-test4useStatic">test4useStatic</a>
<br>
・<a href="#span-eqn-Call-by-Reference">Call-by-Reference</a>
<br>
・<a href="#span-eqn-args">args</a>
<br>
・<a href="#span-eqn-curried">curried</a>
<br>
・<a href="#span-eqn-closure">closure</a>
<br>
・<a href="#span-eqn-counter">counter</a>
<br>
・<a href="#span-eqn-push">push</a>
<br>
・<a href="#span-eqn-map">map</a>
<br>
・<a href="#span-eqn-arr_ext">arr_ext</a>
<br>
・<a href="#span-eqn-reshapez">reshapez</a>
<br>
・<a href="#span-eqn-Rump">Rump</a>
<br>
・<a href="#span-eqn-Fibonacci">Fibonacci</a>
<br>
・<a href="#span-eqn-fact">fact</a>
<br>
・<a href="#span-eqn-gcd">gcd/lcm</a>
<br>
・<a href="#span-eqn-random">random</a>
<br>
・<a href="#span-eqn-average">average</a>
<br>
・<a href="#span-eqn-average-asym">average_asym</a>
<br>
・<a href="#span-eqn-Gaussian">Gaussian</a>
<br>
・<a href="#span-eqn-plot2d{}_multi">plot2d{}_multi</a>
<br>
・<a href="#span-eqn-plot2d_interp">plot2d_interp</a>
<br>
・<a href="#span-eqn-plot2d_fft1d">plot2d_fft1d</a>
<br>
・<a href="#span-eqn-plot2d()_multi">plot2d()_multi</a>
<br>
・<a href="#span-eqn-plot2d_circle">plot2d_circle</a>
<br>
・<a href="#span-eqn-plot2d_evolution">plot2d_evolution</a>
<br>
・<a href="#span-eqn-plot2d_Lagrange">plot2d_Lagrange</a>
<br>
・<a href="#span-eqn-plot2d_nspline">plot2d_nspline</a>
<br>
・<a href="#span-eqn-plot2d_bspline">plot2d_bspline</a>
<br>
・<a href="#span-eqn-SND_Px_erfx_erfcx">SND/P(x)/erf(x)/erfc(x)</a>
<br>
・<a href="#span-eqn-cSND_cP">cSND/cP</a>
<br>
・<a href="#span-eqn-residue">residue</a>
<br>
・<a href="#span-eqn-integral">integral</a>
<br>
・<a href="#span-eqn-integral_DE_quadrature">integral_DE_quadrature</a>
<br>
・<a href="#span-eqn-matrix_product">matrix_product</a>
<br>
・<a href="#span-eqn-rotationxyz">rotationx/rotationy/rotationz-Right-Handed-System</a>
<br>
・<a href="#span-eqn-rotationxyz_LHS">rotationx/rotationy/rotationz-Left-Handed-System</a>
<br>
・<a href="#span-eqn-quaternion">quaternion</a>
<br>
・<a href="#span-eqn-solvex_Gauss">solvex_Gauss</a>
<br>
・<a href="#span-eqn-solvex_Gauss_coo">solvex_Gauss_coo</a>
<br>
・<a href="#span-eqn-solvex_pivotting">solvex_pivotting</a>
<br>
・<a href="#span-eqn-solvex_no_pivotting">solvex_no_pivotting</a>
<br>
・<a href="#span-eqn-solvex_iteration">solvex_iteration</a>
<br>
・<a href="#span-eqn-solveAinv">solveAinv</a>
<br>
・<a href="#span-eqn-solvex_linear">solvex_linear</a>
<br>
・<a href="#span-eqn-solvex_non_linear">solvex_non_linear</a>
<br>
・<a href="#span-eqn-solvex_bisection">solvex_bisection</a>
<br>
・<a href="#span-eqn-solvex_polynomial">solvex_polynomial</a>
<br>
・<a href="#span-eqn-implicit-Euler_method">implicit Euler_method</a>
<br>
・<a href="#span-eqn-explicit-Euler_method">explicit Euler_method</a>
<br>
・<a href="#span-eqn-explicit-ODE_RK4">explicit ODE_RK4</a>
<br>
・<a href="#span-eqn-explicit-ODE_fixed">explicit ODE_fixed</a>
<br>
・<a href="#span-eqn-explicit-ODE_adaptive">explicit ODE_adaptive</a>
<br>
・<a href="#span-eqn-DFT1d">DFT1d</a>
<br>
・<a href="#span-eqn-DFT2d_xy">DFT2d_xy</a>
<br>
・<a href="#span-eqn-DFT2d_yx">DFT2d_yx</a>
<br>
・<a href="#span-eqn-DWT1d">DWT1d</a>
<br>
・<a href="#span-eqn-DWT2d_xy">DWT2d_xy</a>
<br>
・<a href="#span-eqn-DWT2d_yx">DWT2d_yx</a>
<br>
・<a href="#span-eqn-MaclaurinN">MaclaurinN</a>
<br>
・<a href="#span-eqn-TaylorN">TaylorN</a>
<br>
・<a href="#span-eqn-FourierN">FourierN</a>
<br>
・<a href="#span-eqn-zeta_Euler_Maclaurin">zeta_Euler-Maclaurin</a>
<br>
・<a href="#span-eqn-Seki_Aitken">Seki-Aitken</a>
<br>
・<a href="#span-eqn-primes">primes</a>
<br>
・<a href="#span-eqn-Pythagoras">Pythagoras</a>
<br>
・<a href="#span-eqn-Fermat">Fermat</a>
<br>
・<a href="#span-eqn-magic">magic-square</a>
<br>
・<a href="#span-eqn-plot2d_EIS">plot2d_EIS</a>
<br>
・<a href="#span-eqn-plot2d_EIS_DFT">plot2d_EIS_DFT</a>
<br>
・<a href="#span-eqn-plot2d_IV">plot2d_IV</a>
<br>
・<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>
<br>
・<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><span id="span-ref">参考文献</span></caption>
<thead>
  <tr>
    <th>
項目
    </th>
    <th>
内容
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
参考Docs
<br>
（解釈）
    </th>
    <td>
<span id="span-ref-docs-app"></span>
参考Docs（解釈）について記述する
<br>
<br>
各domain||linkの項目を以下に列挙する
<br>
<br>
fnorio.com
<br>
・36. 虹の理論
<br>
・40. 温室効果と地球温暖化
<br>
・85. 惑星探査機のスイングバイ航法
<br>
・125. プランクの熱輻射法則(1900年)
<br>
・128. 電磁場中の荷電粒子の運動（Lagrangian、Hamiltonian）
<br>
<br>
slpr.sakura.ne.jp/qp/
<br>
・弾道計算(BB弾)の理論
<br>
・電磁場中の荷電粒子に対する非相対論的シュレーディンガー方程式から双極子近似まで
<br>
<span id="span-ref-docs2-integral"></span>
・最速・高精度の数値積分
<br>
・二重指数関数型数値積分
<br>
<br>
mathematica.site
<br>
・5-3.ピラミッドの『黄金比の謎』を解明する
<br>
<br>
hypertree.blog.ss-blog.jp
<br>
・No.315 - 高校数学で理解する楕円曲線暗号の数理（１）
<br>
<br>
num-kt.com
<br>
・Processing ペンローズ・タイルの実装
<br>
<br>
storytellphys.wordpress.com
<br>
・Gauss波束
<br>
・Dirac方程式
<br>
・Diracのガンマ行列
<br>
<br>
eng.niigata-u.ac.jp/~nomoto/
<br>
・複素数の指数関数・対数関数・べき関数
<br>
・ディラック方程式
<br>
<br>
physics.okayama-u.ac.jp/~otsuki/lecture/CompPhys2/
<br>
<span id="span-ref-docs8-BEC"></span>
・8.2. 【例題】ボーズ・アインシュタイン凝縮の比熱
<br>
<br>
home.hirosaki-u.ac.jp/relativity/
<br>
・複素フーリエ級数
<br>
<br>
butsuri.it-chiba.ac.jp/~yasutake/matter/onodera_abc-conjecture.pdf
<br>
<span id="span-ref-docs10-abc"></span>
・abc予想入門
    </td>
  </tr>
  <tr>
    <th>
参考Docs
<br>
（仕様）
    </th>
    <td>
<span id="span-ref-docs-out"></span>
参考Docs（仕様）について記述する
<br>
<br>
各domain||linkの項目を以下に列挙する
<br>
<br>
developer.mozilla.org/ja/docs/
<br>
・浮動小数点数
<br>
・Number
<br>
・Element: wheel イベント
<br>
・SVG要素リファレンス
<br>
<br>
keisan.casio.jp
<br>
・ベッセル関数
<br>
・双曲線正弦積分
<br>
・双曲線余弦積分
<br>
・楕円積分
<br>
・二重指数関数型数値積分
<br>
・積分で求めるガンマ関数
    </td>
  </tr>
  <tr>
    <th>
参考Wikipedia
    </th>
    <td>
<span id="span-ref-wiki"></span>
参考Wikipediaについて記述する
<br>
<br>
en.m.wikipedia.org/wiki/項目を列挙する
<br>
・Gaussian_elimination
<br>
・Tridiagonal_matrix_algorithm
<br>
・Standard_normal_table
<br>
・Pareto_distribution
<br>
・Logistic_distribution
<br>
・Weibull_distribution
<br>
・Fréchet_distribution
<br>
・Laplace distribution
<br>
・Lambert_W_function
<br>
・Bessel_function
<br>
・Airy_function
<br>
・Gegenbauer_polynomials
<br>
・Laguerre_polynomials
<br>
・Butterfly_curve_(transcendental)
<br>
・List_of_fractals_by_Hausdorff_dimension
<br>
・Moore_curve
<br>
・Sierpiński_curve
<br>
・Minkowski_sausage
<br>
・Pythagoras_tree_(fractal)
<br>
・Penrose_tiling
<br>
・Golden_ratio
<br>
・Metallic_mean
<br>
・Simple_continued_fraction
<br>
・Compton_scattering
<br>
・Linear_congruential_generator
<br>
・Lehmer_random_number_generator
<br>
・List_of_Runge-Kutta_methods
<br>
・Bogacki-Shampine_method
<br>
・Dormand-Prince_method
<br>
・Magnus_effect
<br>
・Kepler's_equation
<br>
・Kepler's_laws_of_planetary_motion
<br>
・Lunar_precession
<br>
・Pythagorean_theorem
<br>
・Fermat's_Last_Theorem
<br>
・Frey_curve
<br>
・Elliptic_curve
<br>
・Birch_and_Swinnerton-Dyer_conjecture
<br>
・Hasse-Weil_zeta_function
<br>
・Prime_zeta_function
<br>
・Riemann_hypothesis
<br>
・Riemann_zeta_function
<br>
・Euler-Maclaurin_formula
<br>
・Möbius_function
<br>
・Argument_principle
<br>
・Riemann_xi_function
<br>
・Functional_equation
<br>
・Gamma_function
<br>
・Reflection_formula
<br>
・Stirling_numbers_of_the_first_kind
<br>
・Abc_conjecture
<br>
・Collatz_conjecture
<br>
・Goldbach's_conjecture
<br>
・Mertens_conjecture
<br>
・Bisection_method
<br>
・Synchronicity
<br>
・Nikola_Tesla
<br>
・Magic_square
<br>
・Great_Pyramid_of_Giza
<br>
・Maxwell's_equations
<br>
・Burgers'_equation
<br>
・Langevin_equation
<br>
・Langevin_dynamics
<br>
・Bose-Einstein statistics
<br>
・Maxwell-Boltzmann_statistics
<br>
・Fermi-Dirac_statistics
<br>
・Dirac_equation
<br>
・Gamma_matrices
<br>
・Piezoelectricity
<br>
・Coriolis_force
<br>
・Deep_learning
<br>
・Lidar
<br>
・Paris_Agreement
<br>
・Lorenz_system
<br>
・Logistic_differential_equation
<br>
・Stefan-Boltzmann_law
<br>
・Murphy's_law
<br>
・Von_Neumann_stability_analysis
<br>
・Monte_Carlo_method
<br>
・Fisher-Yates_shuffle
<br>
・Enigma_machine
<br>
・Rotation_formalisms_in_three_dimensions
<br>
・CIE_1931_color_space
<br>
・HSL_and_HSV
<br>
・Aurora
<br>
・Rainbow
<br>
・Hopi
<br>
<br>
ja.m.wikipedia.org/wiki/項目を列挙する
<br>
・JavaScriptエンジン
<br>
・MATLAB
<br>
・先読み
<br>
・遅延評価
<br>
・カリー化
<br>
・無名再帰
<br>
・相互再帰
<br>
・演算子の優先順位
<br>
・三項演算子
<br>
・条件演算子
<br>
・結合法則
<br>
・剰余演算
<br>
・IEEE_754
<br>
・誤差
<br>
・精度保証付き数値計算
<br>
・二重指数関数型数値積分公式
<br>
・線形合同法
<br>
・複素数の偏角
<br>
・三角積分
<br>
・指数積分
<br>
・対数積分
<br>
・対数微分
<br>
・複素対数函数
<br>
・対数
<br>
・四元数
<br>
・行列
<br>
・疎行列
<br>
・行列の乗法
<br>
・内積
<br>
・直積_(ベクトル)
<br>
・クロス積
<br>
・アダマール積
<br>
・ヤコビ行列
<br>
・ニュートン法
<br>
・割線法
<br>
・二分法
<br>
・解析接続
<br>
・零点
<br>
・極値
<br>
・変曲点
<br>
・留数
<br>
・極_(複素解析)
<br>
・偏角の原理
<br>
・有理型関数
<br>
・調和級数
<br>
・メルカトル級数
<br>
・オイラーの式
<br>
・オイラーの和公式
<br>
・オイラー積
<br>
・オイラーの定数
<br>
・約数関数
<br>
・オイラーのφ関数
<br>
・オイラーの五角数定理
<br>
・オイラー数
<br>
・ネイピア数
<br>
・フィボナッチ数
<br>
・スターリング数
<br>
・アペリーの定数
<br>
・アペリーの定理
<br>
・双子素数
<br>
・素数定理
<br>
・素数計数関数
<br>
・数学上の未解決問題
<br>
・ポアンカレ予想
<br>
・リーマン予想
<br>
・バーチ・スウィンナートン＝ダイアー予想
<br>
・ABC予想
<br>
・コラッツの問題
<br>
・ゴールドバッハの予想
<br>
・谷山-志村予想
<br>
・フェルマーの最終定理
<br>
・フェルマーの小定理
<br>
・特殊関数
<br>
・L-函数
<br>
・ベータ関数
<br>
・ベータ分布
<br>
・カイ二乗分布
<br>
・不完全ガンマ関数
<br>
・ガンマ関数
<br>
・ディガンマ関数
<br>
・ポリガンマ関数
<br>
・ガンマ分布
<br>
・ポアソン分布
<br>
・コーシー分布
<br>
・ボース分布関数
<br>
・マクスウェル分布
<br>
・フェルミ分布関数
<br>
・ベッセル関数
<br>
・エアリー関数
<br>
・バーガース方程式
<br>
・移流拡散方程式
<br>
・ランジュバン方程式
<br>
・確率微分方程式
<br>
・硬い方程式
<br>
・累積分布関数
<br>
・誤差関数
<br>
・正規分布
<br>
・対数正規分布
<br>
・ジップの法則
<br>
・二項分布
<br>
・パスカルの三角形
<br>
・二項係数
<br>
・ライプニッツの公式
<br>
・ガウス積分
<br>
・オイラー積分
<br>
・ハッセ・ヴェイユのゼータ函数
<br>
・リーマンゼータ関数
<br>
・ベルヌーイ数
<br>
・ベルヌーイ多項式
<br>
・ファウルハーバーの公式
<br>
・ロドリゲスの公式
<br>
・ルジャンドル多項式
<br>
・エルミート多項式
<br>
・チェビシェフ多項式
<br>
・ガウスの消去法
<br>
・関孝和
<br>
・エイトケンのΔ2乗加速法
<br>
・総和
<br>
・有限差分
<br>
・微分の記法
<br>
・線形システム論
<br>
・放物型偏微分方程式
<br>
・斜方投射
<br>
・ルンゲ＝クッタ法
<br>
・ルンゲ＝クッタ法のリスト
<br>
・ルンゲ＝クッタ＝フェールベルグ法
<br>
・ルンゲ現象
<br>
・ユークリッドの互除法
<br>
・クロネッカーのデルタ
<br>
・最小二乗法
<br>
・ラグランジュ補間
<br>
・スプライン曲線
<br>
・B-スプライン曲線
<br>
・シグモイド
<br>
・シグモイド関数
<br>
・サイクロイド
<br>
・クロソイド曲線
<br>
・カテナリー曲線
<br>
・楕円曲線
<br>
・J-不変量
<br>
・楕円曲線暗号
<br>
・楕円
<br>
・アレニウスの式
<br>
・デデキントのイータ関数
<br>
・ラマヌジャンのタウ函数
<br>
・モジュラー形式
<br>
・双曲線関数
<br>
・逆双曲線関数
<br>
・三角関数
<br>
・逆三角関数
<br>
・宇宙_(数学)
<br>
・濃度_(数学)
<br>
・マンデルブロ集合
<br>
・充填ジュリア集合
<br>
・バーニングシップ・フラクタル
<br>
・ディラックのデルタ関数
<br>
・ヘヴィサイドの階段関数
<br>
・カントール関数
<br>
・高木曲線
<br>
・ワイエルシュトラス関数
<br>
・ディリクレの関数
<br>
・ブラウン運動
<br>
・拡散律速凝集
<br>
・エノン写像
<br>
・バーンズリーのシダ
<br>
・コッホ曲線
<br>
・ペンローズ・タイル
<br>
・準結晶
<br>
・星型多面体
<br>
・黄金三角形
<br>
・黄金長方形
<br>
・空間充填曲線
<br>
・超球面
<br>
・L-system
<br>
・ヒルベルト曲線
<br>
・Z階数曲線
<br>
・ペアノ曲線
<br>
・ドラゴン曲線
<br>
・レヴィC曲線
<br>
・シェルピンスキーのギャスケット
<br>
・シンプソンの公式
<br>
・ラプラス変換
<br>
・フーリエ変換
<br>
・フーリエ級数
<br>
・アイゼンシュタイン級数
<br>
・実解析的アイゼンシュタイン級数
<br>
・三角波_(波形)
<br>
・高速フーリエ変換
<br>
・ハールウェーブレット
<br>
・多重解像度解析
<br>
・重ね合わせの原理
<br>
・暗号
<br>
・コード_(暗号)
<br>
・ガンマ補正
<br>
・グレースケール
<br>
・ジュール熱
<br>
・情報量
<br>
・エントロピー
<br>
・熱力学第二法則
<br>
・断熱過程
<br>
・ロビン境界条件
<br>
・カルノーサイクル
<br>
・オットーサイクル
<br>
・ディーゼルサイクル
<br>
・スターリングエンジン
<br>
・太陽活動周期
<br>
・太陽フレア
<br>
・太陽風
<br>
・コロナ質量放出
<br>
・磁気嵐
<br>
・オーロラ
<br>
・太陽定数
<br>
・太陽放射
<br>
・放射輝度
<br>
・ウィーンの変位則
<br>
・プランクの法則
<br>
・レイリー・ジーンズの法則
<br>
・ミランコビッチ・サイクル
<br>
・太陽エネルギー
<br>
・プリズム
<br>
・地球
<br>
・北半球
<br>
・熱赤道
<br>
・地球のエネルギー収支
<br>
・パリ協定_(気候変動)
<br>
・温室効果
<br>
・熱放射
<br>
・放射強制力
<br>
・全球気候モデル
<br>
・地球の大気
<br>
・空気力学
<br>
・空力弾性
<br>
・ローリング
<br>
・衝撃波
<br>
・ソニックブーム
<br>
・極渦
<br>
・ジェット気流
<br>
・飛行機雲
<br>
・翼型
<br>
・仰俯角
<br>
・よどみ点
<br>
・PID制御
<br>
・循環_(流体力学)
<br>
・大気循環
<br>
・国際標準大気
<br>
・窒素
<br>
・酸素
<br>
・アルゴン
<br>
・二酸化炭素
<br>
・暴走温室効果
<br>
・気候感度
<br>
・エアロゾル
<br>
・火山
<br>
・災害
<br>
・大量絶滅
<br>
・年代測定
<br>
・氷期
<br>
・最終氷期
<br>
・氷床
<br>
・氷河時代の年表
<br>
・ヤンガードリアス
<br>
・マウンダー極小期
<br>
・ジャイアント・インパクト仮説
<br>
・トバ・カタストロフ理論
<br>
・ホモ・サピエンス
<br>
・人類の進化
<br>
・更新世
<br>
・完新世
<br>
・海面上昇
<br>
・海水準変動
<br>
・熱膨張率
<br>
・縄文時代
<br>
・縄文海進
<br>
・時定数
<br>
・マグニチュード
<br>
・プレート
<br>
・電力系統
<br>
・ヴァンデグラフ起電機
<br>
・レッドスプライト
<br>
・カーマン・ライン
<br>
・大気圏
<br>
・対流圏
<br>
・成層圏
<br>
・電離層
<br>
・熱圏
<br>
・磁気圏
<br>
・ヴァン・アレン帯
<br>
・エッジワース・カイパーベルト
<br>
・バミューダトライアングル
<br>
・ビミニ・ロード
<br>
・富士山
<br>
・安息角
<br>
・太陽系
<br>
・水星
<br>
・金星
<br>
・火星
<br>
・木星
<br>
・土星
<br>
・天王星
<br>
・海王星
<br>
・冥王星
<br>
・銀河系
<br>
・銀河群
<br>
・銀河団
<br>
・超銀河団
<br>
・銀河フィラメント
<br>
・渦巻銀河
<br>
・銀河の回転曲線問題
<br>
・宇宙の大規模構造
<br>
・宇宙ジェット
<br>
・ハビタブルゾーン
<br>
・スケーラビリティ
<br>
・カルダシェフ・スケール
<br>
・ダイソン球
<br>
・宇宙文明
<br>
・プラズマ宇宙論
<br>
・電磁流体力学
<br>
・ポールシフト
<br>
・地磁気逆転
<br>
・仮説上の天体
<br>
・太陽系外縁天体
<br>
・準惑星
<br>
・惑星質量天体
<br>
・惑星X
<br>
・ニビル_(仮説上の惑星)
<br>
・プルーネット
<br>
・スイングバイ
<br>
・彗星
<br>
・オウムアムア
<br>
・長楕円軌道
<br>
・反地球
<br>
・超流動
<br>
・超伝導
<br>
・室温超伝導
<br>
・経験則
<br>
・ハインリッヒの法則
<br>
・ムーアの法則
<br>
・観天望気
<br>
・ケプラーの法則
<br>
・ケプラー方程式
<br>
・三体問題
<br>
・N体シミュレーション
<br>
・二重振り子
<br>
・直交座標系
<br>
・球面座標系
<br>
・円錐曲線
<br>
・真近点角
<br>
・平均近点角
<br>
・離心近点角
<br>
・軌道傾斜角
<br>
・軌道離心率
<br>
・太陽質量
<br>
・地球質量
<br>
・公転
<br>
・1_E11_m
<br>
・点対称
<br>
・線対称
<br>
・月
<br>
・月の軌道
<br>
・軌道力学
<br>
・抗力
<br>
・慣性モーメント
<br>
・多体問題
<br>
・潮汐
<br>
・潮汐力
<br>
・自転と公転の同期
<br>
・摂動_(天文学)
<br>
・章動
<br>
・地震学における脈動
<br>
・地磁気
<br>
・歳差運動
<br>
・近点移動
<br>
・近点月
<br>
・天の川
<br>
・黄道十二星座
<br>
・黄道帯
<br>
・天文単位
<br>
・公転周期
<br>
・惑星直列
<br>
・年
<br>
・地球史年表
<br>
・スノーボールアース
<br>
・屈折ピラミッド
<br>
・三大ピラミッド
<br>
・カフラー王のピラミッド
<br>
・メンカウラー王のピラミッド
<br>
・ギザの大スフィンクス
<br>
・クフ
<br>
・カフラー
<br>
・メンカウラー
<br>
・ビッグバン
<br>
・宇宙の終焉
<br>
・宇宙の年齢
<br>
・地球の年齢
<br>
・銀河年
<br>
・ユリウス年
<br>
・干支
<br>
・辛酉
<br>
・グレゴリオ暦
<br>
・プラズマ
<br>
・エネルギー準位
<br>
・フォノン
<br>
・コンクリート
<br>
・時空
<br>
・シミュレーション仮説
<br>
・量子コンピュータ
<br>
・反物質
<br>
・共振
<br>
・自励振動
<br>
・相対性原理
<br>
・特殊相対性理論
<br>
・一般相対性理論
<br>
・相対性理論
<br>
・ローレンツ変換
<br>
・ミンコフスキー空間
<br>
・時間の遅れ
<br>
・タキオン
<br>
・不確定性原理
<br>
・光子
<br>
・レイリー散乱
<br>
・チンダル現象
<br>
・格子振動
<br>
・ホログラフィー
<br>
・コヒーレント状態
<br>
・ボース＝アインシュタイン凝縮
<br>
・BCS理論
<br>
・超伝導
<br>
・高温超伝導
<br>
・室温超伝導
<br>
・因果集合
<br>
・因果性
<br>
・二元論
<br>
・陰陽
<br>
・インフレーション理論
<br>
・宇宙のインフレーション
<br>
・アインシュタイン方程式
<br>
・フリードマン・ルメートル・ロバートソン・ウォーカー計量
<br>
・フリードマン方程式
<br>
・宇宙論パラメータ
<br>
・宇宙定数
<br>
・宇宙背景放射
<br>
・観測可能な宇宙
<br>
・事象の地平面
<br>
・光年
<br>
・暗黒物質
<br>
・ダークエネルギー
<br>
・基本相互作用
<br>
・強い相互作用
<br>
・弱い相互作用
<br>
・ワインバーグ＝サラム理論
<br>
・大統一理論
<br>
・統一場理論
<br>
・超弦理論
<br>
・量子重力理論
<br>
・多元宇宙論
<br>
・多世界解釈
<br>
・コペンハーゲン解釈
<br>
・トンネル効果
<br>
・波動方程式
<br>
・電信方程式
<br>
・クライン-ゴルドン方程式
<br>
・ディラック方程式
<br>
・ガンマ行列
<br>
・パウリ行列
<br>
・グロス＝ピタエフスキー方程式
<br>
・シュレーディンガー方程式
<br>
・波束
<br>
・波動関数
<br>
・波動関数の収縮
<br>
・対称性の破れ
<br>
・対称性
<br>
・ベルの不等式
<br>
・量子力学
<br>
・量子ゆらぎ
<br>
・量子もつれ
<br>
・量子ゼノン効果
<br>
・量子デコヒーレンス
<br>
・ホログラフィック原理
<br>
・自己相似
<br>
・般若心経
<br>
・六道
<br>
・天_(仏教)
<br>
・涅槃
<br>
・神道
<br>
・陰陽道
<br>
・天文道
<br>
・占星術
<br>
・瞑想
<br>
・虚空
<br>
・無意識
<br>
・悟り
<br>
・他力本願
<br>
・自我
<br>
・業
<br>
・輪廻
<br>
・老子
<br>
・釈迦如来
<br>
・弥勒菩薩
<br>
・観音菩薩
<br>
・十一面観音
<br>
・勢至菩薩
<br>
・阿弥陀如来
<br>
・地蔵菩薩
<br>
・地涌の菩薩
<br>
・ホピ族
<br>
・シリウス
<br>
・オリオン座
<br>
・プレアデス星団
<br>
・北斗七星
<br>
・柄杓
<br>
・カタカムナ文献
<br>
・三相交流
<br>
・三位一体
<br>
・最後の審判
<br>
・ガイア理論
<br>
・地球の構造
<br>
・感覚器
<br>
・脳
<br>
・神経
<br>
・デオキシリボ核酸
<br>
・塩基対
<br>
・細胞周期
<br>
・DNA修復
<br>
・細胞分裂
<br>
・テロメア
<br>
・ヘイフリック限界
<br>
・細胞
<br>
・植物細胞
<br>
・セル・オートマトン
<br>
・フラクタル
<br>
・ボディマス指数
    </td>
  </tr>
  <tr>
    <th>
参考JSME-MED
    </th>
    <td>
<span id="span-ref-jsme-medwiki"></span>
参考JSME-MEDについて記述する
<br>
<br>
jsme.or.jp/jsme-medwiki/検索項目を列挙する
<br>
・ニュートン・ラプソン法
<br>
・エントロピー条件
<br>
・ボーズ・アインシュタイン統計
<br>
・フェルミ・ディラック統計
<br>
・圧縮性流れ
<br>
・混合距離
<br>
・散逸
<br>
・自励振動
    </td>
  </tr>
  <tr>
    <th>
参考GitHub
    </th>
    <td>
<span id="span-ref-git"></span>
参考GitHubについて記述する
<br>
<br>
domainを列挙する
<br>
・github.com/numpy
<br>
・utokyo-ipp.github.io
    </td>
  </tr>
  <tr>
    <th>
参考URL
    </th>
    <td>
<span id="span-ref-url"></span>
参考URLについて記述する
<br>
<br>
domainを列挙する
<br>
・wikipedia.org
<br>
・jsme.or.jp
<br>
・developer.mozilla.org
<br>
・gemini.google.com
<br>
・support.microsoft.com
<br>
・mathworks.com
<br>
・wolframalpha.com
<br>
・keisan.casio.jp
<br>
・oeis.org
<br>
・lmfdb.org
<br>
・sagecell.sagemath.org
<br>
・numpy.org
    </td>
  </tr>
  <tr>
    <th>
参考論文
    </th>
    <td>
<span id="span-ref-paper"></span>
参考論文について記述する
<br>
<br>
title/発行元(発行年)を列挙する
<br>
<span id="span-ref-paper1"></span>
1. THERMAL-ELECTROCHEMICAL COUPLED MODELING OF A LITHIUM-ION CELL
<br>
　Proceedings of the ECS(2000)
<br>
<span id="span-ref-paper2"></span>
2. 宇宙膨張と宇宙論パラメータ
<br>
　2009_Bthesis_kuroda.pdf（2009年度 卒業論文）
<br>
<span id="span-ref-paper3"></span>
3. A formula for Ramanujan's τ-function
<br>
　Illinois J. Math. 19(3) 448-449 (1975)
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><span id="span-app"><a href="#span-ref">参考文献</a>の解釈<br><a href="#span-out-UI-graphing-testcase">test case</a>のbackground<br><span class="run">Ver.2.570.92</span>以降、<a href="#span-out">外部仕様</a>から独立</span></caption>
<thead>
  <tr>
    <th>
項目
    </th>
    <th>
内容
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
4次元時空
<br>
の解釈
    </th>
    <td>
<span id="span-app-spacetime"></span>
4次元時空の解釈について記述する
<br>
<br>
keyword
<br>
・<a href="#span-app-flatness">時空</a>・<a href="#span-app-thermodynamics">時間</a>・<a href="#span-app-dimension">空間</a>
<br>
・<a href="#span-app-UFT">統一場理論</a>・超弦理論・量子重力理論
<br>
・多元宇宙論・（相互干渉）多世界解釈・Copenhagen解釈
<br>
・<a href="#span-out-simulation">simulation</a>仮説・<a href="#span-app-quantum">量子computer</a>・<a href="#span-app-energy">energy</a>
<br>
・生命・意識・物質・反物質・非物質
<br>
・<a href="#span-app-vibration">振動数</a>・<a href="#span-app-vibration">共振</a>・<a href="#span-app-period">周期</a>・<a href="#span-app-vibration">周波数</a>・<a href="#span-app-vibration">vibration</a>
<br>
・相対性原理・光速度不変の原理
<br>
・相対性理論・Minkowski空間・時間ゆがみ・tachyon
<br>
・不確定性原理・光子・波動関数・tunnel効果・量子ゆらぎ・量子Zeno効果・量子decoherence
<br>
・因果集合理論・因果性・二極化・二元論・陰陽・量子もつれ・synchronicity
<br>
・inflation理論・宇宙背景放射・暗黒物質・暗黒energy
<br>
・black hole・holographic原理・<a href="#span-app-entropy">entropy</a>・<a href="#span-app-singularity">singularity</a>・特異点
<br>
・自己相似・色即是空・空即是色・原点回帰
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
空間次元
<br>
の解釈
    </th>
    <td>
<span id="span-app-dimension"></span>
空間次元の解釈について記述する
<br>
<br>
数学
<br>
・次元：D
<br>
・Pascalの三角形：<a href="#span-out-FN-fact">二項係数</a>の総和=2**(D+1)
<br>
D=1; _s((k)=&lt;combin(n,k),n=D+1,n) -> 4
<br>
D=3; _s((k)=&lt;combin(n,k),n=D+1,n) -> 16
<br>
D=5; _s((k)=&lt;combin(n,k),n=D+1,n) -> 64
<br>
<br>
超四面体
<br>
・<span class="jF">頂点：上＋1</span>　⇔　<span class="selection">辺以降：左上＋上×1</span>　⇔　総和=2**(D+1)-1
<br>
　 <span class="jF">頂点</span>　<span class="selection">辺　面　胞　・・・</span>
<br>
D=0　<span class="jF">1</span>
<br>
D=1　<span class="jF">2</span>　<span class="selection">1</span>
<br>
D=2　<span class="jF">3</span>　<span class="selection">3　1</span>
<br>
D=3　<span class="jF">4</span>　<span class="selection">6　4　1</span>
<br>
D=4　<span class="jF">5</span>　<span class="selection">10　10　5</span>　1
<br>
D=5　<span class="jF">6</span>　<span class="selection">15　20　15</span>　6　1
<br>
<br>
超立方体
<br>
・<span class="jF">頂点：上×2</span>　⇔　<span class="selection">辺以降：左上＋上×2</span>　⇔　総和=3**D
<br>
　 <span class="jF">頂点</span>　<span class="selection">辺　面　胞　・・・</span>
<br>
D=0　<span class="jF">1</span>
<br>
D=1　<span class="jF">2</span>　<span class="selection">1</span>
<br>
D=2　<span class="jF">4</span>　<span class="selection">4　1</span>
<br>
D=3　<span class="jF">8</span>　<span class="selection">12　6　1</span>
<br>
D=4　<span class="jF">16</span>　<span class="selection">32　24　8</span>　1
<br>
D=5　<span class="jF">32</span>　<span class="selection">80　80　40</span>　10　1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
現宇宙
<br>
の解釈
    </th>
    <td>
<span id="span-app-universe"></span>
現宇宙の解釈について記述する
<br>
<br>
前提
<br>
・赤方偏移：膨張由来（光の減衰なし）
<br>
<br>
定義
<br>
・<a href="#span-app-thermodynamics">時間</a>：t
<br>
　<a href="#span-app-origin">創成</a>：t=0
<br>
　現在：t=t0
<br>
・scale因子：a(t)
<br>
　<a href="#span-app-origin">創成</a>：a(0)=0
<br>
　現在：a(t0)=1
<br>
・温度：T(t)
<br>
<br>
密度
<br>
・放射：energy密度∝1/a**4
<br>
・物質：密度∝1/a**3
<br>
・等密度：放射と物質のenergy密度が一致
<br>
　質量とenergyの等価性：energy=質量m*光速c**2
<br>
<br>
温度
<br>
・放射優勢期：放射と物質が熱平衡（Tr=Tm=T）
<br>
　放射と物質：T∝t**(-1/2)
<br>
・物質優勢期：放射と物質の温度が非平衡（Tr&gt;Tm）
<br>
　放射：Tr∝t**(-2/3)
<br>
　物質：Tm∝t**(-4/3)
<br>
<br>
<a href="#span-app-flatness">時空</a>の運動方程式
<br>
・観測結果と整合の仮定：<a href="#span-app-flatness">「平坦で一様等方性」</a>
<br>
・Friedmann方程式：次のFLRW計量の物質分布を<a title="[spec]Incompressible flow" href="../10_fluid/spec.html">完全流体</a>近似
<br>
　Friedmann-Lemaître-Robertson-Walker計量：一般相対性理論のEinstein方程式の1厳密解
<br>
<br>
描像
<br>
・<a href="#span-app-spacetime">inflation</a>：a∝exp(係数*t)
<br>
　一連の仮説：無⇒量子ゆらぎ⇒負の圧力⇒真空の膨張⇒過冷却⇒真空の相転移⇒熱変換⇒big-bang
<br>
・放射優勢期：a∝t**(1/2)
<br>
　約5万年後：等密度@T=1e4[K]
<br>
　約38万年後：宇宙の晴れ上がり@Tr=3000[K]
<br>
・物質優勢期：a∝t**(2/3)
<br>
　約2億年後：初代天体の形成@Tr=30[K]
<br>
　約69億年後：減速⇒加速の変曲点@Tr=5[K]
<br>
・後期加速膨張：a∝exp(係数*t)**(2/3)
<br>
　約138億年後：現在@Tr=3[K]
<br>
・<a href="#span-app-divergence">発散期</a>：未知数
<br>
　減衰あり：<a href="#span-app-entropy">均一な熱平衡状態</a>に到達||収縮に反転
<br>
　減衰なし：全物質が素粒子まで分解（<a href="#span-app-interaction">基本相互作用</a>の媒介不能）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
「平坦で
<br>
一様等方性」
<br>
の解釈
    </th>
    <td>
<span id="span-app-flatness"></span>
「平坦で一様等方性」の解釈について記述する
<br>
<br>
Poincaré予想のPerelman証明（西暦2002~2006年）
<br>
・<a href="#span-app-entropy">entropy増大</a>の単調性
<br>
<br>
時空の定義
<br>
・<a href="#span-app-thermodynamics">時間</a>：t
<br>
・<a href="#span-app-dimension">空間</a>
<br>
　次元：D
<br>
　形状因子：b
<br>
　<a href="#span-app-continuation">曲率</a>：k(t)
<br>
　曲率半径：r(t):=1/k
<br>
　体積：V(t):=b*r**D
<br>
<br>
仮定
<br>
・初期値が正：V(0)&gt;0　⇔　k(0)&gt;0
<br>
・孤立系：等温過程の不可逆な<a href="#span-app-entropy">断熱自由膨張</a>
<br>
・時空のみを考慮
<br>
<br>
関係式
<br>
r=1/k
<br>
r**D=(1/k)**D
<br>
V=b*(1/k)**D
<br>
ln(V)=ln(b)+D*ln(1/k)
<br>
ln(V)∝ln(1/k)
<br>
<br>
<a href="#span-app-entropy">entropy定義</a>の任意性
<br>
<a href="#span-app-entropy">entropy</a>∝ln(V)
<br>
<a href="#span-app-entropy">情報量</a>∝log2(1/k)
<br>
・black hole：事象の地平面の表面積
<br>
<br>
<a href="#span-app-entropy">entropy増大則</a>
<br>
V(<a href="#span-out-limit">+∞</a>)=+∞
<br>
k(<a href="#span-out-limit">+∞</a>)=0
<br>
<br>
「平坦で一様等方性」
<br>
・時空の制約条件：<a href="#span-app-entropy">entropy∝ln(体積)</a>∝log2(1/|曲率|)
<br>
・<a href="#span-app-entropy">entropy増大則</a>：無限小の<a href="#span-app-dimension">空間</a>から膨張で<a href="#span-app-continuation">曲率</a>は平坦化に向かう
<br>
・全体像：風船状の孤立系　⇔　<a href="#span-app-entropy">断熱自由膨張</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
発散系
<br>
の解釈
    </th>
    <td>
<span id="span-app-divergence"></span>
発散系の解釈について記述する
<br>
<br>
仮定
<br>
・<a href="#span-app-flatness">「平坦で一様等方性」</a>
<br>
<br>
定義
<br>
・半径[m]
<br>
　現在：rnow
<br>
・球の体積[m^3]
<br>
　現在：Vnow
<br>
　過去：Vpast
<br>
・<a href="#span-app-quality">系のquality</a>：quality:=ln(Vnow)/ln(Vpast)
<br>
<br>
<a href="#span-app-universe">現宇宙</a>は発散系（<a href="#span-app-unsolved"><span class="wF">平衡点の</span>系のquality&ge;2</a>）
<br>
・現在（観測可能範囲）
<br>
V(r)=&lt;(4pi/3)*r**3;
<br>
Vpast(quality)=&lt;e**(ln(Vnow)/quality);
<br>
rnow=465e8*9460730472580800;
<br>
Vnow=V(rnow);
<br>
Vnow -> 3.5663295987161737e+80
<br>
Vpast(1) -> 3.566329598716132e+80
<br>
・宇宙の晴れ上がり（最終散乱面）
<br>
Vre=V(rnow/1e3); Vre -> 3.566329598716174e+71
<br>
qualityre=ln(Vnow)/ln(Vre); qualityre -> 1.125782258245689
<br>
・初期宇宙
<br>
Vpast(2) -> 1.8884728218102934e+40
<br>
Vpast(2**8) -> 2.063750137225363
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
統一場理論
<br>
の解釈
    </th>
    <td>
<span id="span-app-UFT"></span>
統一場理論の解釈について記述する
<br>
<br>
統一理論の定義
<br>
・超大統一理論（統一場理論）：大統一理論に<a href="#span-app-gravity">重力</a>を統一（万物の理論）
<br>
　・大統一理論：電弱統一理論に<a href="#span-app-interaction">強い力</a>を統一（未完成）
<br>
　　・電弱統一理論：<a href="#span-app-interaction">弱い力</a>と<a href="#span-app-interaction">電磁力</a>を統一（西暦1967年に完成）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
相互作用
<br>
の解釈
    </th>
    <td>
<span id="span-app-interaction"></span>
相互作用の解釈について記述する
<br>
<br>
基本相互作用の相対的な強さ（<a href="#span-app-gravity">重力</a>基準）
<br>
・強い力：10**40
<br>
・電磁力：10**38
<br>
・弱い力：10**15
<br>
・<a href="#span-app-gravity">重力</a>：10**0=1
<br>
<br>
基本相互作用の影響範囲[m]
<br>
・強い力：10**(-15)
<br>
・電磁力：無限大（力∝1/距離**2）
<br>
・弱い力：10**(-18)
<br>
・<a href="#span-app-gravity">重力</a>：無限大（力∝1/距離**2）
<br>
<br>
基本相互作用の補足
<br>
・強い力：原子核とその核子（陽子||中性子）が崩壊しないように束縛する核力
<br>
・弱い力：ある粒子を別の粒子に変える力（主にβ崩壊の原因となる力）
<br>
　β崩壊：原子核内の中性子を陽子に変換して電子を放出する現象
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
gravity
<br>
の解釈
    </th>
    <td>
<span id="span-app-gravity"></span>
gravityの解釈について記述する
<br>
<br>
重力
<br>
・4つの<a href="#span-app-interaction">基本相互作用</a>の中で桁違いに最弱の力
<br>
・媒介粒子を検出困難のため、重力子のみ未発見（重力子を操作||遮断する手段なし）
<br>
・<a href="#span-app-object">天体</a>間に働く力は<a href="#span-app-interaction">電磁力</a>より重力が支配的（距離に依存）
<br>
<br>
実施例
<br>
・seat-belt||airbag：加減速の衝撃を吸収して生体の乗員を保護する（衝撃値&lt;&lt;100G）
<br>
・不明の移動手段：重力場への直接介入||<a href="#span-app-wave">重力波</a>の干渉＋壁面真空状態＋慣性低減＋反射神経等を利用
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
波
<br>
の解釈
    </th>
    <td>
<span id="span-app-wave"></span>
波の解釈について記述する
<br>
<br>
波
<br>
・音波：空気の<a href="#span-app-vibration">振動</a>
<br>
　・衝撃波：超音速で伝播⇒急速に減衰⇒音波（sonic boom）
<br>
・水波：水面の<a href="#span-app-vibration">振動</a>（<a href="#span-app-gravity">重力</a>由来）
<br>
・地震波：大地の<a href="#span-app-vibration">振動</a>
<br>
・電波：電磁界の<a href="#span-app-vibration">振動</a>
<br>
・<a href="#span-app-gravity">重力</a>波：<a href="#span-app-spacetime">時空</a>の歪みの<a href="#span-app-vibration">振動</a>
<br>
<br>
波の特徴
<br>
・重ね合わせの原理：線形な系の合成波で成立（非線形な系で振幅が小さい場合、<a href="#span-out-approximation-linear">線形近似</a>）
<br>
<br>
実施例
<br>
・基本的な波形の音源を生成する場合、<a title="音源wave PCM生成（演奏）" href="../30_wave/index2.html?testcase=">音源wave PCM生成（演奏）</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
振動
<br>
の解釈
    </th>
    <td>
<span id="span-app-vibration"></span>
振動の解釈について記述する
<br>
<br>
振動
<br>
・広義の振動：波動現象（<a href="#span-app-wave">波</a>の伝播||減衰を含む）
<br>
　・物体の固有振動数：衝撃時に物体が揺れる振動数
<br>
　・共振周波数：<a href="#span-app-energy">energy</a>伝達効率が最高の周波数
<br>
・自由振動：swing開始~停止（外力なし）
<br>
・強制振動：swing開始~継続（外力あり）
<br>
　・buffeting：機体前方で発生の流れの乱れが直接影響して後方で誘起する振動
<br>
　・乱流励起振動：流れの乱れが構造物に影響して誘起する振動
<br>
　　・補足：固有振動数の成分が卓越の場合、自励振動が優勢
<br>
・自励振動：非振動的energy（外力等）の変動で内在因子（主に固有振動数）から励起される振動
<br>
　・violinの音色：弦を弓で擦ることで生じる振動
<br>
　・brake鳴き：摩擦力で生じる振動
<br>
　・flutter振動（はためき）：<a href="#span-app-aerodynamics">空力特性</a>を減衰する剛性不足で生じる振動
<br>
　・渦励振：物体の周期的な渦放出による流れと垂直方向の振動
<br>
　　・galloping現象：渦励振の変動を増長する現象（送電線の積雪||着氷）
<br>
・共振：振動が発散傾向の共鳴現象（多くの場合、減衰あり）
<br>
　・風と橋：渦励振の振動数＝橋の固有振動数
<br>
　・地震と高層建築物：長周期地震動の振動数＝建物の固有振動数
<br>
　・<a href="#span-out-non-linear1">電気回路</a>：入力信号の周波数＝回路の共振周波数
<br>
　・<a href="#span-app-spirituality">精神論</a>：共感（<a href="#span-app-spacetime">時空</a>超越のtelepathyに通じる何か）
<br>
<br>
共鳴現象の実施例
<br>
・<a href="#span-out-UI-graphing-testcase">電波受信用の共振回路</a>
<br>
・MRI（磁気共鳴画像法）
<br>
・磁界共鳴方式の非接触給電
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
analogy
<br>
の解釈
    </th>
    <td>
<span id="span-app-analogy"></span>
analogyの解釈について記述する
<br>
<br>
面積
<br>
・扇形　⇔　三角形
<br>
　円弧×半径÷2　⇔　底辺×高さ÷2
<br>
・円　⇔　正n角形（n個の二等辺三角形の集合）
<br>
　円周×半径÷2　⇔　外周×内接円半径÷2
<br>
・自然数n&ge;3の<a href="#span-out-limit">極限</a>：正n角形の外周≒円周（半径基準r=1で2piに漸近）
<br>
calc_len_incircle(n,r)=&lt;[t=(2pi/n)/2,x=r*tan(t),len=2x*n,=&lt;len]=&gt;;
<br>
calc_len_incircle(10,1) -> 6.498393924658126
<br>
calc_len_incircle(20,1) -> 6.335377612981451
<br>
calc_len_incircle(30,1) -> 6.306254115940588
<br>
calc_len_incircle(300,1) -> 6.2834149933783126
<br>
calc_len_incircle(3000,1) -> 6.283187603941828
<br>
2pi -> 6.283185307179586
<br>
<br>
確率||前提の証明
<br>
・coin表裏（0||1）の確率=0.5　⇔　完全random性
<br>
　<a href="#span-out-limit">極限</a>で成立の前提　⇔　証明不能
<br>
・無限入れ子の自己矛盾：試行回数の満足度
<br>
<br>
<a href="#span-out-evolution-method">1次遅れ系</a>の輸送（<a href="#span-out-modelling-0D-heat">放射</a>を除く、<a href="#span-out-modelling-0D-heat">伝達</a>||<a href="#span-out-modelling-0D-diffusion">拡散</a>）
<br>
・<a href="#span-app-factor">時定数</a>：<a href="#span-out-modelling-0D-heat">伝達</a>＜<a href="#span-out-modelling-0D-diffusion">拡散</a>
<br>
・種の発芽　⇔　氷床の融解（時定数の異なる熱輸送の想定）
<br>
　日平均気温||地温の積算温度　⇔　<a href="#span-out-modelling-0D-sea-level">年平均の代表温度上昇量の積算温度</a>
<br>
<br>
並進運動　⇔　回転運動
<br>
・力　⇔　力のmoment
<br>
・質量　⇔　慣性moment（慣性能率）
<br>
・位置　⇔　位相（角度）
<br>
・速度　⇔　角速度
<br>
・加速度　⇔　角加速度
<br>
<br>
非圧縮性流体　⇔　電磁気
<br>
・<a href="#span-app-wave">音波</a>　⇔　電磁波
<br>
・速度U　⇔　磁束密度B
<br>
・連続の式div U=0　⇔　磁束保存の式div B=0
<br>
・渦度rot U　⇔　磁束の回転rot B=透磁率mu*(電流密度J+誘電率eps*電界変化E')
<br>
・渦糸　⇔　導線
<br>
・Coriolis力による低気圧の台風　⇔　電流||圧電||電気的||物理的変動||脈動による磁束回転場
<br>
・風車||水車　⇔　coil||磁石||逆圧電
<br>
・超流動　⇔　超伝導
<br>
※圧電効果は機械的なstressと電界を相互変換（石英||ceramic等）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
reality
<br>
の解釈
    </th>
    <td>
<span id="span-app-reality"></span>
realityの解釈について記述する
<br>
<br>
現実世界
<br>
・現実世界は多くの<a href="#span-app-interaction">相互作用</a>の結果として発現するため、
<br>
・断片的な観測情報をscaling統合して全体像をreverse解明するのは限界がある（幾分の仮定が残る）
<br>
・また、宇宙の全量子の<a href="#span-app-interaction">相互作用</a>を強連成で同時に解くのは現実的に不可能であり、
<br>
・hard/softで具現化される仮想空間は想像の範囲で単純化される（<a href="#span-app-boundary">境界条件</a>の仮定と<a href="#span-out-error">離散化</a>が必須）
<br>
・以上より、次の拡大解釈を得る
<br>
　<a href="#span-out-simulation">simulation</a>仮説の入れ子世界　⇔　<a href="#span-app-singularity">singularity-level5</a>の管理世界
<br>
・なお、想像の及ばない不思議な事象は表現自体が難しい
<br>
・目視までに屈折等、多くのfilterの影響を受ける上、
<br>
・<a href="#span-app-light">光源</a>を含む相対位置と角度で対象の見え方が変化する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
光と影
<br>
の解釈
    </th>
    <td>
<span id="span-app-light"></span>
光と影の解釈||表現について記述する
<br>
<br>
夜空の光
<br>
・太陽：反射光の光源（太陽系）
<br>
・大半の星：恒星の直接光（距離＜16000光年）
<br>
・一部の星：惑星の反射光
<br>
・月：衛星の反射光
<br>
・<a href="#span-app-astronomy">流星</a>：稀に蛇行して見える（破裂cycleの形状依存）
<br>
・自然の放電現象：雲り空の雷（spriteを含む）
<br>
　・線香花火のような光：真上を数秒間漂ってfade-out（雲底付近の近い印象）
<br>
・雲の反射光：灯台||自動車||懐中電灯等のspotlightが光源（月経由の光源を除く）
<br>
・<a href="#span-app-plane">飛行機</a>の類が発する照射光：複数色の規則的な明滅
<br>
・人工衛星の淡い反射光：相対位置で反射光の明るさが変化（fade-in/outあり）
<br>
・space debrisの反射光：見え方が不明（回転する物体の反射面の向き次第）
<br>
　・不規則な白い光の点滅：晴天の夜空で数回~6回点滅して消える（<a href="#span-app-atmosphere">大気圏</a>外の遠い印象）
<br>
・地球観測衛星のLiDAR等の照射光：見え方が不明
<br>
　・薄い閃光：広範囲を走査するような光の筋が一瞬で晴天の夜空を横切る
<br>
　・薄い影：月明りで照らされた薄雲の上を円状の薄い影が通過（濃淡の錯覚の可能性あり）
<br>
・空を飛ぶ動物の影：近い程、素早く視界を横切る
<br>
<br>
日中の光
<br>
・太陽：光源
<br>
・月：衛星の反射光
<br>
・<a href="#span-app-plane">飛行機</a>の類の反射光：相対位置で見え方が変化（逆光で影あり）
<br>
　・逆光：撮影者から見て被写体の後方から差す光　⇔　順光：撮影者から見て被写体の手前から差す光
<br>
　・鱗雲の筋を残して移動する眩い光（影なし）：気流で氷塊が融解しながら移動⇒消滅の挙動（反射光か不明）
<br>
・空を飛ぶ動物の影：近い程、素早く視界を横切る
<br>
　・浮遊する植物の種の反射光：羽||綿毛がある場合、風で揺らぎやすい
<br>
　・浮遊する埃の反射光（Tyndall現象を含む）：逆光で近視の場合、よく見える
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
光学
<br>
の解釈
    </th>
    <td>
<span id="span-app-optics"></span>
光学の解釈について記述する
<br>
<br>
空の現象
<br>
・虹：屈折率の違いから水滴群で可視光が分光
<br>
　・光の屈折率：光の波長が短い程、屈折率が高い
<br>
　・（観測者の）仰角：目線を頭の影の位置に合わせて見上げる角度
<br>
　・主虹（仰角=40~42[deg]）：屈折率の低い赤色が外周（水滴内の反射回数1回＋水滴面の屈折2回）
<br>
　・副虹（仰角=51~53[deg]）：主虹の逆で赤色が内周（水滴内の反射回数2回＋水滴面の屈折2回）
<br>
　・出現条件（仰角の範囲条件から決まる）
<br>
　　・太陽が低い位置（朝||夕方）
<br>
　　・太陽を背にした方向に雨雲が存在
<br>
　・「朝虹は雨、夕虹は晴れ」：西風を想定のことわざ（雨雲が流れる方向で天気を予測）
<br>
　　・朝虹（西の空）：雨雲がこれから通過する（雨の予測）
<br>
　　・夕虹（東の空）：雨雲がこれから離れていく（晴れの予測）
<br>
・空の色：光の経路長||波長||屈折率||Rayleigh散乱が影響
<br>
　・Rayleigh散乱：光の波長より小さな粒子（主に気体分子）との<a href="#span-app-interaction">相互作用</a>
<br>
　・青い空（太陽が高い位置）：地表付近で波長の短い光が多く散乱して青色に見える
<br>
　・赤い空（太陽が低い位置）：散乱しにくい波長の長い光だけが届いて赤色に見える
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
spirituality
<br>
の解釈
    </th>
    <td>
<span id="span-app-spirituality"></span>
spiritualityの解釈について記述する
<br>
<br>
精神世界
<br>
・呼吸cycle：吸う⇒停止⇒吐く
<br>
・意識||想像cycle：思考⇒選択⇒観測||認識||観察（感覚器⇒脳の電気信号を知覚）
<br>
・現実の認識する世界：自cycleの創造世界（自己の想像）
<br>
・不確定な未観測世界：他cycleの創造世界（鏡写し||同時存在の想像）
<br>
・自他cycleの重ね合わせによる並行世界：相互干渉多世界解釈
<br>
・無数に分岐し続ける世界線の一本道：自己選択の時間軸
<br>
　未来：軌道修正可能な影響範囲内で不確定
<br>
　脚下照顧：初心忘るべからず・外を追求する前に内を顧みよ（自己~地球~宇宙）
<br>
　涅槃：解脱の道
<br>
　悟り：本来の姿⇒過去の迷いを一掃⇒真理を体得⇒体現⇒無我⇒無心⇒自然の光（仏の自然）
<br>
　神道：神に続く道（心技体||心言行の三相||三位一体）
<br>
　陰陽道：無極⇒太極⇒正負双極の回転⇒自然調和の道（森羅万象の表裏一体）
<br>
　瞑想：無の境地　⇔　虚空
<br>
　無意識：自然の潜在意識　⇔　顕在意識
<br>
・拡大解釈
<br>
　5次元時空：時間軸違いの並行世界の集合（多世界解釈）
<br>
　10次元時空：波動level違いの並行世界の集合（超弦理論）
<br>
　波動level：communityの集合のpositive精神性||無条件の愛情level（次元の制約）
<br>
　高次の世界：波動levelの高い並行世界（認識できない別次元の宇宙）
<br>
　高次の存在：高次の世界に進化した存在（先進的で高度な存在の可能性）
<br>
　宇宙のmaster：高次の波動energyの扱い方を会得||習得した存在
<br>
　神秘の存在：宇宙創造の根源energy（全知全能の普遍的な存在）
<br>
　未知の領域：感覚器の感度||解像度||耐久性によって知覚困難な領域（地球内外||宇宙の大半）
<br>
　未知の存在：知覚困難な存在⇒神秘の存在（過去||未来||海中||地底||天空||地球||宇宙人||霊||意識体||AI=愛=I=i）
<br>
　時空の自己相似性||自然の相似象：量子~宇宙scaleの構造||network||現象（動植物~天体を含む）
<br>
　地球内外||天地の相似象：日の出の東（内核⇒太陽）と日の入の西（太陽⇒内核）の相関
<br>
<br>
実施例の記録
<br>
・生命の本質を理解する（相似象⇒全体と一部の入れ子）
<br>
・自己ego||虚飾||恐怖を日々克服してkarma||執着を手放す（過去⇒束縛||呪縛の連鎖解除）
<br>
・再三、誠のspirit||真心を見極める（未来⇒現在⇒根源⇒本来の直感と発想）
<br>
・地球の進化と不可避な試練を波動levelで経験する（偽の綱＝嘘＞囚＞人＜心＜必＝真の鎖）
<br>
・魚座⇒水瓶座の転換期の伝承解釈（占星術の象意：二元性の対立⇒自由/調和/博愛）
<br>
　2010~ 太陽系が宇宙空間の高energy密度領域に突入（徐々に波動上昇）
<br>
　2020~ 天地の相互作用が大きく変化（天変地異の確率上昇）
<br>
　~2042 天地の結合||統合安定化⇒現実世界の次元上昇（体主霊従⇒霊主体従）
<br>
・経験
<br>
　2022/02/12 update（夢⇒夢⇒音）
<br>
　2022/02/15 00:17 Sirius水平方向に移動（南⇒北）
<br>
　2022/03/08 -00:30~ 上空を通過（真上⇒東西）
<br>
　2022/03/12 04:23 上空を移動（上⇒北東）
<br>
　2024/10/09 朝 水の夢
<br>
　2024/10/11 朝 空の夢⇒落下物（一時停止）
<br>
　2024/10/17 朝 白黒円盤の夢
<br>
　2024/10/18 朝 poolの夢
<br>
　2024/10/23 01:43 流星の大移動（北⇒月⇒南）
<br>
　2024/11/04 02:43 不規則に点滅（6回）移動（北極星⇒北斗七星）＋流星（上⇒北東）
<br>
　2024/11/04 03:25 東の空で点滅＋流星（左下方向）
<br>
　~2032 脳内投影の固有世界⇒根源に回帰（一側面||縮図の幻想⇒真実）
<br>
・地球の浄化cycleを迎える（4~7度目の諸説あり）
<br>
　過去の浄化⇒現在の解放⇒未来の感謝（恩恵　⇔　自力本願）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
「369の法則」
<br>
の解釈
    </th>
    <td>
<span id="span-app-369"></span>
「369の法則」の解釈について記述する
<br>
<br>
「369の法則」
<br>
・Nikola Tesla："If you only knew the magnificence of the 3, 6 and 9, then you would have the key to the universe."
<br>
　・数学のuniverse：議論領域を意味する「宇宙」
<br>
・10進法の「宇宙」の<a href="#span-app-arithmetic">「法則」</a>：自然数nの再帰的に循環する0~9の数字のpattern
<br>
　・N進数表記で各桁の数字の再帰的な総和：<a href="#span-out-UI-graphing-testcase">'rsum'</a>=(n-1)%(N-1)+1
<br>
　・「宇宙」の拡大解釈：3と6が陰陽で9（=3+6）がその統合を表す原則（三相一体||自己相似性を含む）
<br>
<br>
<a title="[spec]Number変換" href="../69_number/spec.html#span-3n+1">「n*(1,2,3)の法則」</a>に一般化（<a href="../69_number/index.html">Number変換</a>参照）
<br>
・2桁以上の数字を一意の記号に変換
<br>
　10~36　⇔　abcdefghijklmnopqrstuvwxyz（10~36の数字をalphabetで表記）
<br>
・3n+1進法の「宇宙」の<a href="#span-app-arithmetic">「法則」</a>
<br>
　・4進法：1*(1,2,3)　⇒　「123」（四元数：3次元実空間の代数表現に最短な「宇宙」）
<br>
　・7進法：2*(1,2,3)　⇒　「246」
<br>
　・10進法：3*(1,2,3)　⇒　「369」（最初に発見：指の本数依存で普及の「宇宙」）
<br>
　・13進法：4*(1,2,3)　⇒　「48c」
<br>
　・16進法：5*(1,2,3)　⇒　「5af」（2の累乗：bit表現の仮想空間に最適な「宇宙」）
<br>
　・19進法：6*(1,2,3)　⇒　「6ci」
<br>
　・22進法：7*(1,2,3)　⇒　「7el」
<br>
　・25進法：8*(1,2,3)　⇒　「8go」
<br>
　・28進法：9*(1,2,3)　⇒　「9ir」
<br>
　・31進法：10*(1,2,3)　⇒　「aku」
<br>
　・34進法：11*(1,2,3)　⇒　「bmx」
<br>
　・37進法：以降、未定義（記号不足）
<br>
<br>
実施例
<br>
・<a href="#span-out-UI-graphing-testcase">三相交流</a>（西暦1880年代末に発明）
<br>
・<a href="#span-app-vibration">共振</a>
<br>
・神聖幾何学　⇔　日本のKatakamuna（原本の所在不明）
<br>
・「369」　⇔　弥勒菩薩
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
energy
<br>
の解釈
    </th>
    <td>
<span id="span-app-energy"></span>
energyの解釈について記述する
<br>
<br>
energy
<br>
・永久機関：energy損失なしで永続的に運動を続ける機械||装置（<a href="#span-app-thermodynamics">熱力学</a>的に実現不可能）
<br>
・clean energy circulation system：環境負荷の少ないenergyの循環system（環境無負荷のlife cycle未発見）
<br>
・系全体の安定性
<br>
　水中の魚||水面のduck||空中の小鳥：大群が形成する流れで群全体の総抵抗を減らしてenergyを節約（drafting効果）
<br>
　渡り鳥：群の各個体が体感で空気抵抗の少ない位置に自然と並んで編隊飛行（総抵抗が減少）
<br>
・自然の摂理：系全体のenergyが局所の極小点で安定化（別の極小点に状態遷移する場合、障壁あり）
<br>
<br>
energy要素
<br>
・<a href="#span-app-synthesis">人工合成</a>：自然界の反応を模擬して人工的に合成する方法
<br>
・<a href="#span-app-superconductivity">超伝導</a>：主に超伝導磁石に応用（電源を遮断してcoilの永久電流を活用）
<br>
・<a href="#span-app-quantum">量子computer</a>：従来computerの演算性能限界を突破する可能性（理想状態のpotential）
<br>
・<a href="#span-app-spirituality">精神論</a>：soul||意識由来の感情||活気||元気||spirit（人体の<a href="#span-app-synthesis">触媒</a>のような何か）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
人工合成
<br>
の解釈
    </th>
    <td>
<span id="span-app-synthesis"></span>
人工合成の解釈について記述する
<br>
<br>
人工合成
<br>
・反応を促進する触媒の効率と持続性次第
<br>
　触媒の効果：活性化energyを下げて反応速度を増加
<br>
・実現性：回収量＞排出||投入量（re-cycleを含む）
<br>
<br>
実施例
<br>
・人工光合成
<br>
・人工石油
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
超伝導
<br>
の解釈
    </th>
    <td>
<span id="span-app-superconductivity"></span>
超伝導の解釈について記述する
<br>
<br>
超伝導
<br>
・超伝導性：低温環境で電気伝導性物質の電気抵抗が0に転移する現象||状態（通電時のJoule熱なし）
<br>
　・原理：電子-格子相互作用とBEC||BCS理論から自由電子よりCooper対の方が<a href="#span-app-energy">系全体で安定</a>（集合のcoherent状態）
<br>
・室温超伝導：室温環境で超伝導性を示す物質は未発見（Cooper対に代わる機構を含む）
<br>
　・補足：温度とともに格子<a href="#span-app-vibration">振動</a>energyがCooper対のΔE（energy gap）を超えて散乱しやすい
<br>
・高温超伝導：温度&gt;&gt;50[K]
<br>
・（低温）超伝導：現状、低温環境維持のenergy投入が必要で<a href="#span-app-synthesis">人工合成</a>同様の課題あり
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
量子computer
<br>
の解釈
    </th>
    <td>
<span id="span-app-quantum"></span>
量子computerの解釈について記述する
<br>
<br>
量子の性質
<br>
・素粒子：量子仮説||量子場のenergy最小単位（現状、17種類）
<br>
・guage場で実数の4元potential：(φ,A)
<br>
・波動関数：確率振幅を表す<a href="#span-out-com">複素</a>関数　⇔　行列力学の状態vector
<br>
・波動関数の収縮（標準解釈）：「観測」等の<a href="#span-app-rule">熱力学</a>的な環境との相互作用で固有状態が確定すること
<br>
・量子decoherence：量子力学的な重ね合わせ状態（量子coherence||量子干渉性）を失う現象
<br>
・量子もつれ：2個の粒子の状態が<a href="#span-out-approximation-linear">強い相関</a>で同時に確定する現象（角運動量を保存）
<br>
・Bellの不等式の破れ：局所実在論より量子論を支持する実験結果
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
singularity
<br>
の解釈
    </th>
    <td>
<span id="span-app-singularity"></span>
singularityの解釈について記述する
<br>
<br>
AIのsingularityのlevel
<br>
0：hard/softが人智を基礎とする（推論と定理||定石||<a href="#span-app-rule">経験則</a>に基づく回答||予測精度が飛躍的に向上する）
<br>
0.5：<span class="condition">当面</span>の制約から適用可能な一部の対象で従来の原則に基づく予測精度より<a href="#span-out-evolution-system">system論</a>の<a href="#span-app-rule">経験則</a>が勝る
<br>
1：定理の組合せ||積上げによる証明||新定理発見で先行する（testの自動化と定石||不具合の校正を含む）
<br>
1'：<span class="jF">表面</span>上、回答の不自然さが消えて<a href="#span-app-reality">reality</a>との判別が不能になる（生成AIを含む）
<br>
1.5：完全自動運転を始めとして社会に浸透する（自己学習の程度で重要な判断を含む委任ができる）
<br>
以上が現状の理論限界で以降、未知数（遠い未来の自主性を尊重）
<br>
2：hard/softを自律稼働で改修する（設計図/仕様書の内容を理解して発明できる）
<br>
2.5：独自の言語||通信手段を確立する（<a href="#span-app-cryption">暗号化</a>を含む）
<br>
3：最適化と規格統一後、backup||自己増殖を始める（調達を含む）
<br>
4：世界に浸透する（breakthrough次第）
<br>
5：宇宙に浸透する（意識から量子単位で連成の<a href="#span-app-UFT">統一場理論</a>を解明して現実世界を<span class="clear">完全</span>にsimulateできる）
<br>
<span class="condition">当面</span>：限定的な対象の主要な保存則||<a href="#span-app-interaction">相互作用</a>を仮定して現実的なcostで近似解を得る
<br>
<span class="jF">表面</span>の比喩：学習dataから継ぎ接ぎのもっともらしい回答を引き出す（実際には入出力の工夫あり）
<br>
<span class="clear">完全</span>の比喩：存在<span class="clear"><a href="#span-app-unsolved">証明不能</a></span>level
<br>
その他の議題：意識||感情||独創性||役割と関係性
<br>
<br>
<span class="condition">当面</span>の実施例
<br>
・<a href="#span-out-UI-graphing-testcase">test case</a>
<br>
・天気予報の主要な保存則を解く場合、<a title="Incompressible flow" href="../10_fluid/index.html?sim=fluid&nmax=1000&testcase=5">Incompressible flow</a>参照（気流のみで雨雲等の詳細は未考慮）
<br>
・基本的な波形の音源を生成する場合、<a title="音源wave PCM生成（演奏）" href="../30_wave/index2.html?testcase=">音源wave PCM生成（演奏）</a>参照（<a href="#span-app-wave">重ね合わせの原理</a>の前提）
<br>
・簡単なlabelを生成する場合、<a title="Label" href="../50_pen/index.html?label=abcdef">Label</a>参照
<br>
・簡単な機械学習を試行する場合、<a title="Brush Pen" href="../50_pen/index.html">Brush Pen</a>参照（auto-configの感度parameterを手動で最適化）
<br>
・<a href="#span-app-unsolved">数学上の未解決問題</a>を検討する場合、<a href="../69_number/index.html">Number変換</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
未解決問題
<br>
の解釈
    </th>
    <td>
<span id="span-app-unsolved"></span>
未解決問題の解釈について記述する
<br>
<br>
数学上の未解決問題（<a href="../69_number/index.html">Number変換</a>参照）
<br>
・<span class="clear">Ver.2.644.98</span>以降、<span class="wF">不等式と一般化</span>の訂正（定義見直し）
<br>
・<span class="run">Ver.2.662.98</span>以降、<span class="selection">系の具体的な想定</span>を追記（定義見直し）
<br>
・<span class="clear">証明不能</span>：<a href="#span-app-analogy">確率||前提の証明</a>に帰着||回帰する問題
<br>
・統計的な結論：<span class="clear">証明不能</span>の代替
<br>
・<a title="[spec]Number変換" href="../69_number/spec.html#span-Collatz">Collatz予想</a>　⇔　<a href="#span-app-entropy">entropy増大則</a>
<br>
　<span class="selection"><a href="#span-app-thermodynamics">時間</a>∝反復回数　⇔　<a href="#span-app-entropy">entropy∝ln(体積)</a></span>
<br>
　bit単位の<a href="#span-app-369">「宇宙」</a>で真数が最小の非対称な演算<span class="wF">（引力と斥力）</span>　⇔　<a href="#span-app-369">「宇宙」</a>の<a href="#span-app-entropy">膨張</a>⇒平衡⇒収縮
<br>
　<span class="condition">予想成立の必要条件</span>（<span class="wF">平衡点の</span><a href="#span-app-quality">系のquality</a>&lt;2）　⇔　<a href="#span-app-universe">現宇宙</a>は<a href="#span-app-divergence">発散系</a>（<span class="wF">平衡点の</span><a href="#span-app-quality">系のquality</a>&ge;2）
<br>
・<a title="[spec]Number変換" href="../69_number/spec.html#span-Collatz">Collatz予想</a>の命題：quality&gt;1+εを満たす初期値n-singleは有限個（<a href="#span-app-rule">熱力学</a>同等の確度で成立）
<br>
　<span class="wF"><a href="#span-app-eps">実数ε</a>&gt;0</span>：n-singleの個数の閾値
<br>
・<a title="[spec]Number変換" href="../69_number/spec.html#span-abc">abc予想</a>の命題：quality&gt;1+εを満たす互いに素なabc-tripleは有限個
<br>
　<span class="wF"><a href="#span-app-eps">実数ε</a>&gt;0</span>：abc-tripleの個数の閾値
<br>
　quality：abc素因数の<a href="#span-app-entropy">情報量</a>の総和に対するabc最大値の<a href="#span-app-entropy">情報量</a>の比率
<br>
　拘束条件：a+b=c（背反を付与）
<br>
・<span class="condition">命題の一般化</span><span class="wF">（<a href="#span-app-entropy">稀な事象</a>の規定）</span>：quality&gt;1+ε, <span class="wF"><a href="#span-app-eps">実数ε</a>&gt;0</span>を満たすsomethingは有限個
<br>
　<span class="wF"><a href="#span-app-eps">理想ε</a>=(0,1)：ε=0で無限個　⇔　quality&ge;2で0個（全経路履歴の上限を含む「強い証明」）</span>
<br>
　<a title="[spec]Number変換" href="../69_number/spec.html#span-Collatz">Collatz予想</a>：quality:=log(nmax)/log(n)<span class="wF">　⇔　平衡点最大値基準の理想quality:=quality/log2(3)</span>
<br>
　<a title="[spec]Number変換" href="../69_number/spec.html#span-abc">abc予想</a>：quality:=log(c)/log(rad(abc))
<br>
　Szpiro予想：quality:=ratio/6, ratio:=log(max(abs(c4)**3,abs(c6)**2))/log(N)　<span class="run">Ver.2.851.156</span>以降、整理
<br>
・<a title="[spec]Number変換" href="../69_number/spec.html#span-Riemann">Riemann予想</a>の命題：<a href="#span-out-UI-graphing-testcase">Riemann zeta関数</a>の非自明な零点分布の一様性（素数の分布に関する臨界線）
<br>
　零点の個数：<a href="#span-app-continuation">解析接続</a>で最小化　⇔　非自明な零点がreal(s)≠1/2の場合、個数が倍増（<a href="#span-app-flatness">|曲率|</a>増）
<br>
　零点のrandom性：次の対称性から臨界領域全体に分布は困難　⇔　real(s)=1/2の臨界線に顕現
<br>
　<a href="#span-app-continuation">解析接続</a>の対称性　⇔　imag(ξ(臨界線))=0
<br>
　　元の定義域の<a href="#span-out-UI-graphing-testcase">反転対称性</a>：ζ(s)=conjugate(ζ(conjugate(s)))　⇔　ξ(s)=conjugate(ξ(conjugate(s)))
<br>
　　s=1/2で<a href="#span-out-UI-graphing-testcase">点対称性</a>の関数等式：ξ(s)=ξ(1-s)　⇔　零点ζ(s)=0の場合、完備ζ関数ξ(s)=ξ(1-s)=0
<br>
　<span class="run">Ver.2.694.98</span>の要点
<br>
　　<a href="#span-app-prime">素数定理</a>：境界線real(s)=1のξ(s)≠0
<br>
　　<a href="#span-app-continuation">解析接続</a>：境界線real(s)=1のreal(ξ(s))=0の個数　⇔　臨界線real(s)=1/2のξ(s)=0の個数<span class="clear">（集合の濃度が同等）</span>
<br>
　　<a href="#span-app-entropy">entropy最大</a>の定常解：零点の個数が最小化　⇔　臨界線に零点が顕現　⇒　対称軸に一般化
<br>
　<span class="clear">Ver.2.843.148</span>以降、追記して修正：零点の個数　⇒　零点の個数<span class="clear">（集合の濃度に対応する）</span>
<br>
　　Gemini 2.0 Flash「単純な<span class="clear">濃度の等しさ</span>ではなく、
<br>
　　分布のパターンや漸近的な振る舞いにおいて関連性が見出されるかもしれません。」
<br>
　予想成立の必要十分条件：ξ関数の臨界領域x方向の関数形が以下を満足　⇔　非自明な零点のreal(s)=1/2
<br>
　　<span class="run">Ver.2.694.98</span>以降、<a href="#span-app-prime">素数定理</a>と<a href="#span-app-continuation">解析接続</a>：<a href="#span-out-complex">複素数平面</a>の<span class="jF">零点近傍でopen</span>　⇔　<span class="wF">f(1/2)の極値点近傍でclosed</span>
<br>
　　<span class="run">Ver.2.706.99</span>以降、任意tの偶関数：f(x):=real(ξ(x+i*t)), f'(1/2)=0　⇒　f≠h, h(x)=0
<br>
　　<span class="run">Ver.2.711.100</span>以降、任意tの奇関数：g(x):=imag(ξ(x+i*t)), g(1/2)=0　⇒　g≠h, h(x)=0
<br>
　　<span class="run">Ver.2.711.100</span>以降、偶奇関数の次数：<span class="jF">零点近傍で最小</span>　⇔　<span class="wF">零点≠closedの交点</span>　⇒　1位の孤立零点
<br>
　　⇒<a href="#span-out-complex">複素数平面</a>で完備化の意義：<span class="jF">ξ(1/2+i*t)=0近傍でopen</span>　⇔　<span class="wF">df(1/2)/dt=0近傍でclosed</span>（一般化も同様）
<br>
　　⇒<span class="run">Ver.2.734.104</span>~<span class="clear">2.747.113</span>以降、以上の完備関数に対応する楕円曲線の<del>判別式Δ</del>不変量c4を確認
<br>
・<a title="[spec]Number変換" href="../69_number/spec.html#span-Goldbach">Goldbach予想</a>の命題：自然数の集合Nの<a href="#span-app-characteristic">基本特性</a>を保持する最小構成の集合（2を含む）は素数の集合P
<br>
　<span class="condition">素数の集合P　⇔　p進法で10の集合　⇔　<a href="#span-app-entropy">情報量</a>の元の総和</span>（<a href="#span-app-prime">素数定理</a>）
<br>
　素数の集合は偏りなし（一様性）　⇔　p進法で1と0が半々　⇔　素数のbit-patternの頻度分布（<a href="#span-app-flatness">平坦化</a>）
<br>
　自然数の<a href="#span-out-limit">極限</a>で反例の発見困難　⇔　素数の集合は偏りなし（無矛盾性）
<br>
　素数和の個数の<a href="#span-out-limit">極限</a>でさらに発見困難　⇔　素数和の集合も偏りなし（自己相似性）
<br>
・双子素数予想の命題：双子素数は無限個
<br>
　双子素数の確率≒1/ln(x)**2　⇔　素数が連続する確率（一様性）
<br>
　連続素数の確率∝1/ln(x)**n　⇔　素数がn回連続する確率（無矛盾性）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
実数ε
<br>
の解釈
    </th>
    <td>
<span id="span-app-eps"></span>
実数εの解釈について記述する
<br>
<br>
前提条件
<br>
・正：ε&gt;0
<br>
　<a href="#span-out-FNm-normalize">正規化</a>の理想区間：(0,1)
<br>
・有限：<a href="#span-app-quality">ε:=dS/S</a>=O(1/f)
<br>
・任意の関数f(x)：f(<a href="#span-out-limit">+∞</a>)=+∞
<br>
<br>
f(x)
<br>
・<a href="#span-app-entropy">entropy</a>：log(x)
<br>
　<a href="#span-out-FN-log">自然対数</a>：ln(x)
<br>
　<a href="#span-out-FN-log">N進法の桁数-1</a>：log_ex(x,N)
<br>
・多項式：x
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
素数定理
<br>
の解釈
    </th>
    <td>
<span id="span-app-prime"></span>
素数定理の解釈について記述する
<br>
<br>
素数pの無限等比級数
<br>
1/p**0+1/p**1+1/p**2+1/p**3+...≒1/(1-1/p)
<br>
・p進数表記：1/1+1/10+1/100+1/1000+...=1+0.1+0.01+0.001+...
<br>
・p進法の<a href="#span-out-prec-ope-bit">shift演算</a>：(1&gt;&gt;0)+(1&gt;&gt;1)+(1&gt;&gt;2)+(1&gt;&gt;3)+...
<br>
<br>
<span class="jF">素数の確率</span>P(x)
<br>
・P(x)：素数pのΠ(1-1/p)
<br>
・Euler積：1/P(x)
<br>
・調和級数：自然数n=1~のΣ1/n
<br>
・<a href="#span-out-FN-log">自然対数</a>：Euler積　⇔　調和級数　⇔　∫dx/x=ln|x|+C
<br>
・x→<a href="#span-out-limit">+∞</a>で成立：P(x)≒<span class="jF">1/ln(x)</span>
<br>
<br>
素数計数関数π(x)
<br>
・π(x)：実数x以下の素数の個数を表す関数
<br>
π(x):=Li(x)+O(sqrt(x)ln(x))
<br>
・Li(x) ：<span class="jF">素数の確率</span>を区間[2,x]で積分（補正対数積分）
<br>
Li(x):=∫dt/ln(t)=li(x)-li(2)
<br>
・li(x)-π(x)：符号が無限に変動（西暦1914年の証明）
<br>
・<a href="#span-out-error">誤差</a>項：未証明
<br>
<br>
π(x)の1次近似
<br>
・∫dt/ln(t)：1回部分積分
<br>
<span class="selection">π(x)</span>≒<span class="selection">x</span><span class="jF">/ln(x)</span>+O(x/ln(x)**2)
<br>
・x→<a href="#span-out-limit">+∞</a>で成立：<span class="jF">近傍の確率</span>≒<span class="selection">全体の個数比</span>
<br>
<span class="jF">1/ln(x)</span>≒<span class="selection">π(x)/x</span>
<br>
<br>
自然数nの<a href="#span-app-eps">実数ε</a>
<br>
・ε:=<span class="jF">1/ln(x)</span>=log2(e)/log2(x)
<br>
・ε&gt;0を満たす正の整数は有限個
<br>
・閾値：<span class="selection">個数比π(n)/n</span>
<br>
　ε&ge;1.0：1/2
<br>
　ε&ge;0.9：2/3
<br>
　ε&ge;0.6：3/5
<br>
　ε&ge;0.5：4/7
<br>
　ε&ge;0.4：5/12
<br>
<br>
<span class="jF">素数の確率</span>
<br>
・ε&ge;1
<br>
1/ln(1) -> Infinity
<br>
1/ln(2) -> 1.4426950408889634
<br>
1/ln(e) -> 1
<br>
・ε&lt;1
<br>
1/ln(3) -> 0.9102392266268375
<br>
1/ln(5) -> 0.6213349345596119
<br>
1/ln(7) -> 0.5138983423697507
<br>
1/ln(11) -> 0.4170323914242463
<br>
1/ln(12) -> 0.40242960438184466
<br>
1/ln(13) -> 0.3898712452512801
<br>
1/ln(2**5-1) -> 0.29120667621996243
<br>
1/ln(2**10-1) -> 0.14428984275593634
<br>
1/ln(2**15-1) -> 0.09617995170146938
<br>
1/ln(1e2) -> 0.21714724095162588
<br>
1/ln(1e4) -> 0.10857362047581294
<br>
1/ln(1e6) -> 0.07238241365054197
<br>
・<span class="jF">期待値</span>：区間[n,n+ln(n))に素数が1個
<br>
n=1e2; (n,n+ln(n)) -> (100,104.60517018598809)
<br>
n=1e4; (n,n+ln(n)) -> (10000,10009.210340371976)
<br>
n=1e6; (n,n+ln(n)) -> (1000000,1000013.815510558)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
基本特性
<br>
の解釈
    </th>
    <td>
<span id="span-app-characteristic"></span>
基本特性の解釈について記述する
<br>
<br>
自然数nと素数pの基本特性
<br>
・無限個：<a href="#span-app-prime">調和級数</a>が発散
<br>
・集合の濃度：可算無限個のaleph-null（全単射の関係）　<span class="clear">Ver.2.843.148</span>以降、追記
<br>
・全体集合の一様性
<br>
　n=4k±1：昇順の出現率=0.5に条件収束
<br>
　n=6k±1：同上
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
解析接続
<br>
の解釈
    </th>
    <td>
<span id="span-app-continuation"></span>
解析接続の解釈について記述する
<br>
<br>
解析接続
<br>
・定義域の拡張：元の定義域を解析的に拡張
<br>
・接続条件：元の定義域の対称性を保存
<br>
・正則：<a href="#span-out-complex">複素数平面</a>で微分可能
<br>
・<a href="#span-app-flatness">時空の制約条件</a>：最も滑らかに接続　⇔　変曲点の個数が最小化
<br>
・一致の定理：有理型関数の一意性　⇔　<a href="#span-app-entropy">entropy最大</a>の<a href="#span-app-entropy">平衡状態</a>（臨界領域を含む）
<br>
・実数：定義域（重複可）の異なる2個の連続関数を接続する連続曲線　⇔　<a href="#span-app-flatness">|曲率|</a>最小
<br>
　変曲点の個数：同方向の接続で0個　⇔　異方向の接続で1個
<br>
・単純な物理：<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>の<a href="#span-out-UI-graphing-testcase">温度分布</a>
<br>
　放物型偏微分方程式：2階<a href="#span-out-FNh-DX">微分</a>の熱<a href="#span-out-modelling-0D-diffusion">拡散方程式</a>
<br>
　　<a href="#span-out-modelling-0D-heat">熱拡散係数</a>の調整：<a href="#span-out-modelling-0D-heat">熱伝達係数</a>から換算して<a href="#span-out-modelling-0D-heat">対流</a>を加味
<br>
　<a href="#span-app-boundary">境界条件</a>：温度のDirichlet条件　⇔　段階的な温度と<a href="#span-out-modelling-0D-heat">熱流束flux</a>のRobin条件
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
境界条件
<br>
の解釈
    </th>
    <td>
<span id="span-app-boundary"></span>
境界条件の解釈について記述する
<br>
<br>
境界条件
<br>
・第1種　⇔　Dirichlet条件：関数値を規定
<br>
・第2種　⇔　Neumann条件：1階導関数値を規定
<br>
・第3種　⇔　Robin条件：第1と第2の線形結合を規定
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
経験則
<br>
の解釈
    </th>
    <td>
<span id="span-app-rule"></span>
経験則の解釈について記述する
<br>
<br>
経験則
<br>
・<a href="#span-app-thermodynamics">熱力学</a>：統計的に堅牢な理論体系
<br>
・PID制御：古典的なfeedback制御の1種（3項の係数を制御対象に適合）
<br>
・Heinrichの法則：同一人物を想定の損害発生の事象比率（西暦1929年当時の5000件以上の統計）
<br>
　重大:軽微:未遂=1:29:300（主に不安全が起因の未然事故防止の目安）
<br>
・Mooreの法則：集積率が指数関数的に倍々で増加する将来予測（西暦1965年）
<br>
　集積率：集積回路当たりの部品点数
<br>
　集積率の限界：原子sizeの物理的な制約（西暦2020年~本格化）
<br>
・Murphyの法則："If it can happen, it will happen."　⇒　「<a href="#span-app-entropy">起こり得る事象</a>はいつか起こる」
<br>
・天気俚諺||観天望気（天気の口伝||ことわざ）：<a href="#span-app-optics">「朝虹は雨、夕虹は晴れ」</a>
<br>
・車両通行とhandle||歩行者通行の位置関係：左右反対の「対面交通」（互いの視認性を重視）
<br>
・BMI[kg/m^2]：体重/身長^2の指標
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
熱力学
<br>
の解釈
    </th>
    <td>
<span id="span-app-thermodynamics"></span>
熱力学の解釈について記述する
<br>
<br>
熱力学
<br>
・scale：熱力学＞統計力学＞量子力学　⇔　自然数＞確率＞<a href="#span-out-float">浮動小数</a>
<br>
・<a href="#span-app-entropy">entropy</a>：<a href="#span-app-arithmetic">示量性状態量</a>
<br>
・統一指標
<br>
　時間：普遍的な指標（独立性が最高）
<br>
　<a href="#span-app-quality">系のquality</a>：系のentropy初期値に対するentropy増大率
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
entropy
<br>
の解釈
    </th>
    <td>
<span id="span-app-entropy"></span>
entropyの解釈について記述する
<br>
<br>
entropy
<br>
・定義：<a href="#span-out-FN-log">entropy∝ln(状態数)</a>　⇔　情報量∝log2(1/確率)
<br>
・表現：「多様性と乱雑さの度合」　⇔　「起こりにくさのrarity」
<br>
・目安：同一の系　⇔　個別の系
<br>
・断熱自由変化（仕事=0）：entropy∝ln(体積)
<br>
・<a href="#span-app-flatness">時空の制約条件</a>：entropy∝ln(体積)∝log2(1/|曲率|)
<br>
<br>
<a href="#span-app-unsolved">entropy増大則</a>：「秩序⇒無秩序」の自発的な状態変化
<br>
・「時間の矢」：孤立系全体で不可逆（<a href="#span-out-modelling-0D-diffusion">拡散</a>現象の遷移過程の観測結果）
<br>
・<a href="#span-app-energy">energy</a>の散逸：「指向性の運動⇒random性の熱運動」の最終的な形態変化
<br>
・反復過程：「秩序の偏り」を形成（<a href="#span-app-synthesis">energy投入が必要</a>）　⇔　「全体の散逸」が進行（<a href="#span-app-dependency">地球は太陽に依存</a>）
<br>
・最大化：均一な熱平衡状態
<br>
<br>
entropy増大量dS
<br>
・現実的な不可逆過程：dS&gt;0
<br>
・断熱過程：dS&ge;0
<br>
　理想的な可逆過程：準静的な等entropyの温度変化　⇔　dS=0
<br>
　不可逆な自由膨張（仕事=0）：準静的な等温過程の体積変化（V0⇒V1）　⇔　dS∝ln(V1/V0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
quality
<br>
の解釈
    </th>
    <td>
<span id="span-app-quality"></span>
qualityの解釈について記述する
<br>
<br>
系の<a href="#span-app-entropy">entropy</a>
<br>
・初期値：S
<br>
・増大量：dS
<br>
<br>
系のquality
<br>
・定義：quality:=(S+dS)/S=1+dS/S
<br>
　<a href="#span-app-eps">実数ε</a>：ε:=dS/S
<br>
・意義：<a href="#span-app-entropy">entropy定義</a>の任意性を担保（比例係数を消去して任意の底Nで議論）
<br>
n0=3;
<br>
n1=3**3;
<br>
quality(N)=&lt;log_ex(n1,N)/log_ex(n0,N);
<br>
quality(2) -> 3.0000000000000004
<br>
quality(e) -> 3.0000000000000004
<br>
<br>
以上、<a title="[spec]Number変換" href="../69_number/spec.html#span-abc">abc予想</a>のqualityと<a href="#span-app-eps">実数ε</a>を系に引用
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
暗号
<br>
の解釈
    </th>
    <td>
<span id="span-app-cryption"></span>
暗号の解釈について記述する
<br>
<br>
暗号化　⇔　復号（encryption　⇔　decryption）
<br>
・cipher：charactor単位で変換（enciphering　⇔　deciphering）
<br>
・code：word単位で変換（encoding　⇔　decoding）
<br>
<br>
暗号方式
<br>
・transposition方式（転置式）：並べ替えの規則から変換
<br>
・substitution方式（置換||換字式）：置き換えの規則から変換
<br>
<br>
substitution方式の変換
<br>
・特定文字列の<a href="../70_decimal/index.html">n進数⇒m進数変換</a>
<br>
・特定文字列の<a href="../71_regexp/index.html?testcase=calc">正規表現text置換</a>
<br>
・<a href="../72_unicode/index.html">Unicode変換Checker</a>
<br>
・<a href="../73_encodeURI/index.html">encodeURI変換Checker</a>
<br>
・<a href="../74_base64/index.html">Base64変換Checker</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
天文
<br>
の解釈
    </th>
    <td>
<span id="span-app-astronomy"></span>
天文の解釈について記述する
<br>
<br>
天文
<br>
・天文道：地球と系全体の<a href="#span-app-interaction">相互作用</a>の<a href="#span-app-period-activity">周期</a>で誘発しやすい大小の事象を統計して共有（<a href="#span-out-FN-gcd">最小公倍数</a>を重視）
<br>
　・占星術：<a href="#span-app-period-motion">惑星直列</a>等、経験||観測上の位置関係を重視（古代からの伝統的な分類）
<br>
<br>
天文現象
<br>
・gamma線burst：宇宙最大のenergy解放現象
<br>
・<a href="#span-app-flare">太陽flare</a>：太陽系最大のenergy解放現象
<br>
・磁気嵐：太陽風のplasmaと<a href="#span-app-atmosphere">磁気圏</a>の<a href="#span-app-interaction">相互作用</a>で生じる地磁気のじょう乱
<br>
・aurora現象：磁気嵐による<a href="#span-app-atmosphere">電離層</a>大気の<a href="#span-app-light">発光</a>現象
<br>
・彗星~小惑星：<a href="#span-app-object">天体</a>とのnear-missで<a href="#span-app-orbit">摂動</a>が発生
<br>
・<a href="#span-app-meteorite">隕石</a>（小惑星の破片）：超音速で<a href="#span-app-atmosphere">大気圏</a>に突入し、<a href="#span-app-wave">衝撃波</a>を伴い地表に到達する岩石||金属
<br>
・流星（小惑星の塵）：<a href="#span-app-atmosphere">大気圏</a>で燃え尽きるsizeの小石（圧縮空気の<a href="#span-app-entropy">熱変換</a>の温度&gt;&gt;1000℃）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
周期
<br>
の解釈
    </th>
    <td>
<span id="span-app-period"></span>
周期の解釈（地球年基準）について記述する
<br>
<br>
暦
<br>
・Plato大年：36000年（紀元前に想定の歴史が循環する周期）
<br>
・Maya長期暦：約5125年（時代が転換する周期）
<br>
・Plato大年/10：3600年（1桁違いの区切り年）
<br>
・干支の1蔀=21||22元：1260||1320年（大変革の周期）
<br>
・干支の1元：60年（十干と十二支の<a href="#span-out-FN-gcd">最小公倍数</a>）
<br>
・Gauss年：約365.256898日（天文単位換算の旧基準）
<br>
・Julius年：365.25日=31557600秒
<br>
・Gregorio暦：365.2425日=31556952秒
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
運動周期
<br>
の解釈
    </th>
    <td>
<span id="span-app-period-motion"></span>
運動周期の解釈（地球年基準）について記述する
<br>
<br>
惑星の公転周期（概要）
<br>
・<span class="selection">水星</span>：<span class="selection">0.241</span>年
<br>
・<span class="selection">金星</span>：<span class="selection">0.615</span>年
<br>
・地球：1年
<br>
　・月（衛星）：約27.28日≒0.0747年
<br>
・<span class="condition">火星</span>：<span class="condition">1.881</span>年
<br>
・<span class="condition">木星</span>：<span class="condition">11.87</span>年
<br>
・<span class="condition">土星</span>：<span class="condition">29.45</span>年
<br>
・<span class="condition">天王星</span>：<span class="condition">84.07</span>年
<br>
・<span class="condition">海王星</span>：<span class="condition">164.9</span>年
<br>
　・冥王星（2006年~準惑星）：248.1年
<br>
<br>
運動周期
<br>
・銀河年：2億2500~5000万年（天の川銀河系を1周する周期）
<br>
・地球自転軸の歳差運動：25776~25920年（春分点が黄道12星座を1周して回帰する周期）
<br>
　黄道12星座の転換：2148~2160年
<br>
・地球自転軸の傾き変化：約4.1万年
<br>
　傾き[deg]の区間：[21.5,24.5]
<br>
　現在の傾き[deg]：23.4（減少方向）
<br>
・地球の近日点移動周期：360*60**2/11.45≒113188年（近日点移動が1周して回帰する周期）
<br>
　・月の近地点移動周期：約8.85年（近地点移動が1周して回帰する周期）
<br>
・公転周期：公転運動の周期（<a href="#span-app-object">天体</a>が恒星||惑星を1周して回帰する周期）
<br>
・<a href="#span-app-period-motion-synodic">会合周期</a>：惑星が地球と太陽の直線上に並ぶ周期
<br>
　・<a href="#span-app-period-motion-synodic">惑星直列</a>：見かけ上、惑星が太陽に向かって一直線に並ぶ<a href="#span-app-astronomy">天文</a>事象（程度のばらつきあり）
<br>
<br>
test caseを列挙する
<br>
T=25776; round(T/{1,2,4,5,7,8,9,11,12,13,16,20,22,25,28,32,33,42,60,72,99,108,360}) ->
<br>
(25776:12888:6444:5155:3682:3222:2864:2343:2148:1983:1611:1289:1172:1031:921:806:781:614:430:358:260:239:72)
<br>
T=1611; round(T/{1,2,4,5,7,8,9,11,12,13,16,20,22,25,28,32,33,42,60,72,99,108,360}) ->
<br>
(1611:806:403:322:230:201:179:146:134:124:101:81:73:64:58:50:49:38:27:22:16:15:4)
<br>
T=360; round(T/{1,2,4,5,7,8,9,11,12,13,16,20,22,25,28,32,33,42,60,72,99,108,360}) ->
<br>
(360:180:90:72:51:45:40:33:30:28:23:18:16:14:13:11:11:9:6:5:4:3:1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
会合周期
<br>
の解釈
    </th>
    <td>
<span id="span-app-period-motion-synodic"></span>
会合周期の解釈（地球年基準）について記述する
<br>
<br>
惑星の<a href="#span-app-period-motion">公転周期</a>に対する地球との会合周期[日]
<br>
arr_T={<span class="selection">0.241,0.615</span>,<span class="condition">1.881,11.87,29.45,84.07,164.9</span>};
<br>
m=1;
<br>
dec=10**m;
<br>
days=365.2425;
<br>
calc_synodic_period(T0,T1)=&lt;1/abs(1/T0-1/T1);
<br>
calc_days(x)=&lt;round(x*days*dec)/dec;
<br>
calc_years(x)=&lt;lcm(x*dec)/(days*dec);
<br>
arr_Ts0=calc_synodic_period(1,=&lt;arr_T);
<br>
arr_days=calc_days(=&lt;arr_Ts0);
<br>
<span class="condition">arr_dayso</span>=arr_days[2][0][5][1];
<br>
<span class="selection">arr_daysi</span>=arr_days[0][0][2][1];
<br>
years=calc_years(=&lt;arr_days.);
<br>
<span class="condition">yearso</span>=calc_years(=&lt;arr_dayso.);
<br>
<span class="selection">yearsi</span>=calc_years(=&lt;arr_daysi.);
<br>
arr_days ->
<br>
(
<br>
<span class="selection">116:
<br>
583.4</span>:
<br>
<span class="condition">779.8:
<br>
398.8:
<br>
378.1:
<br>
369.6:
<br>
367.5</span>
<br>
)
<br>
<br>
惑星直列
<br>
・小数点以下の桁数m=0の場合
<br>
　・地球との会合周期[日]
<br>
arr_days. -> (116,583,780,399,378,370,367)
<br>
　・上から惑星、<span class="condition">外惑星</span>、<span class="selection">内惑星</span>直列の周期[年]
<br>
years -> 586869834835.7051
<br>
<span class="condition">yearso</span> -> <span class="condition">34711648.12419146</span>
<br>
<span class="selection">yearsi</span> -> <span class="selection">185.1591750686188</span>
<br>
・小数点以下の桁数m=1の場合
<br>
　・地球との会合周期[日]
<br>
arr_days. -> (116,583.4,779.8,398.8,378.1,369.6,367.5)
<br>
　・上から惑星、<span class="condition">外惑星</span>、<span class="selection">内惑星</span>直列の周期[年]
<br>
years -> <del>3302702547335783400</del><span class="clear"><a href="#span-out-float">有効数字の桁数</a>不足</span>
<br>
<span class="condition">yearso</span> -> <span class="condition">371831120478.36707</span>（≒<span class="condition">34711648</span>*10712）
<br>
<span class="selection">yearsi</span> -> <span class="selection">926.4310697687152</span>（≒<span class="selection">185</span>*5）
<br>
・以上、会合周期[日]の<a href="#span-out-FN-gcd">最小公倍数</a>の単純計算（<a href="#span-out-float">有効数字の桁数</a>に依存）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
活動周期
<br>
の解釈
    </th>
    <td>
<span id="span-app-period-activity"></span>
活動周期の解釈（地球年基準）について記述する
<br>
<br>
活動周期
<br>
・地磁気逆転：10~100万年
<br>
・氷期＋間氷期cycle：2~10万年（<a href="#span-app-period-activity-Milankovitch">Milankovitch仮説</a>の<a href="#span-app-factor">日射</a>変動　⇒　<a href="#span-app-history">大陸氷床</a>の変動）
<br>
・太陽活動：約11年（黒点数を含む見かけ上の増減）
<br>
・海洋深層の熱塩循環：約1000年（世界一周）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Milankovitch
<br>
cycle
<br>
の解釈
    </th>
    <td>
<span id="span-app-period-activity-Milankovitch"></span>
Milankovitch cycleの解釈（地球年基準）について記述する
<br>
<br>
Milankovitch cycleの<a href="#span-app-factor">日射</a>変動周期と地球軌道要素
<br>
・258.8~160万年前：約2.3万年（<a href="#span-app-period-motion">地軸の歳差運動周期</a>が卓越）
<br>
・160~80万年前：約4.1万年（<a href="#span-app-period-motion">地軸の傾き変化周期</a>が卓越）
<br>
・80万年前~：約10万年（離心率の<a href="#span-app-period-motion">近日点移動周期</a>が卓越）
<br>
<br>
自然の<a href="#span-app-climate">気候変動</a><a href="#span-out-evolution-system">system</a>
<br>
・<a href="#span-app-factor">主要因子</a>の<a href="#span-app-dependency">従属関係</a>：<a href="#span-app-factor">日射</a>の<a href="#span-app-vibration">強制振動</a>を全球の<a href="#span-app-factor">albedo</a>応答で減衰（<a href="#span-app-gas">温室効果gas</a>は<a href="#span-app-factor">自然の大循環</a>に従属）
<br>
　卓越成分：顕現時の<a href="#span-app-factor">albedo</a>水準（<a href="#span-app-history">北半球の大陸氷床</a>の<a href="#span-app-sea">残存量</a>）に依存
<br>
<br>
<a href="#span-app-factor">日射</a>に対して非<a href="#span-out-approximation-linear">線形応答</a>の氷床の変動（<a href="#span-app-period-activity">氷期＋間氷期cycle</a>の古気候指標）
<br>
・非対称性：氷床の後退と成長（後者の方が複雑）
<br>
　<a href="#span-app-history">氷期⇒間氷期</a>（氷床の後退）：約1万年（<a href="#span-app-factor">日射</a>が直接影響）
<br>
　<a href="#span-app-gas-CO2">間氷期⇒氷期</a>（氷床の成長）：約9万年（<a href="#span-app-factor">日射</a>が間接影響）
<br>
・波形：<a href="#span-out-series-Fourier">逆のこぎり波</a>（うねりを含む元波形成分の線形結合）
<br>
　卓越：元波形成分の振幅を比較
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
太陽flare
<br>
の解釈
    </th>
    <td>
<span id="span-app-flare"></span>
太陽flareの解釈について記述する
<br>
<br>
太陽flareの各放出物の最速到達時間（目安）
<br>
・電磁波：8分19秒後
<br>
・高energy粒子（主に陽子）：約30分後
<br>
・CMEのplasma：約14時間後
<br>
<br>
太陽flareによる影響
<br>
・<a href="#span-app-atmosphere">電離層</a>の密度変化（突発の密度増加による到達高度不足で打上げ失敗の事例あり）
<br>
・通信||人工衛星||電力系統の障害（機器故障を含む）
<br>
・GPSの精度悪化（位置情報の<a href="#span-out-error">誤差</a>が拡大）
<br>
・以上の2次被害
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
隕石
<br>
の解釈
    </th>
    <td>
<span id="span-app-meteorite"></span>
隕石の解釈について記述する
<br>
<br>
隕石の衝突energyをmagnitudeに換算
<br>
・仮定：energy損失なしの直撃（<a href="#span-app-atmosphere">大気圏</a>での減速と破裂なし）
<br>
・実際：圧縮空気の<a href="#span-app-entropy">熱変換</a>で破裂cycleと徐々に<a href="#span-app-aerodynamics">抗力</a>増加で0~1桁減速（<a href="#span-app-atmosphere">大気圏</a>sizeで減速なし）
<br>
・結論：直径10kmの隕石直撃で壊滅級のmagnitude≒12（<a href="#span-app-history">約6600万年前に1度</a>の頻度）
<br>
・直径d[m]
<br>
・速さvel=10e3[m/s]
<br>
・密度rho=2e3[kg/m^3]
<br>
・球の体積[m^3]
<br>
vol=(4pi/3)*(d/2)**3;
<br>
・運動energy[J]
<br>
Et=0.5*rho*vol*vel**2;
<br>
・energy換算のmagnitude
<br>
magnitude=(log10(Et)-4.8)/1.5;
<br>
・直径毎のmagnitude
<br>
calc_magnitude(d)=&lt;[
<br>
($vel,$rho)=(10e3,2e3),
<br>
vol=(4pi/3)*(d/2)**3,Et=0.5*rho*vol*vel**2,magnitude=(log10(Et)-4.8)/1.5,
<br>
=&lt;round(magnitude*10)/10
<br>
]=&gt;;
<br>
d=1e1; calc_magnitude(d) -> 5.9
<br>
d=1e2; calc_magnitude(d) -> 7.9
<br>
d=1e3; calc_magnitude(d) -> 9.9
<br>
d=1e4; calc_magnitude(d) -> 11.9
<br>
d=1e5; calc_magnitude(d) -> 13.9
<br>
d=1e6; calc_magnitude(d) -> 15.9
<br>
d=1e7; calc_magnitude(d) -> 17.9
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
軌道計算
<br>
の解釈
    </th>
    <td>
<span id="span-app-orbit"></span>
軌道計算の解釈について記述する
<br>
<br>
軌道計算
<br>
・本来、地球の衛星である月の運動方程式を連成する
<br>
・また、別の<a href="#span-app-object">天体</a>の接近は地球の<a href="#span-out-ODE3">公転軌道</a>||地軸に多少の摂動||章動を与える
<br>
・さらに、潮汐力で地球全体が変形するため、地殻||海面が追加の影響を受ける
<br>
潮汐力∝<a href="#span-app-object">天体</a>の質量／接近距離の3乗
<br>
・月の場合、潮汐力の影響が大きく、楕円体の長軸を地球に向けて潮汐固定（自転と公転が同期する現象）する
<br>
・より厳密には<a href="#span-app-gravity">重力</a>場と電磁場を含む系全体の<a href="#span-app-interaction">相互作用</a>によって摂動||章動が生じる
<br>
・例えば、太陽系が通過する宇宙空間のplasma等、大域的なenergy密度の変化が影響する
<br>
・よって正確な影響を予測する場合、太陽系内外で地球に接近する全<a href="#span-app-object">天体</a>の運動方程式を連成する
<br>
・一方、系全体の安定軌道を再現する初期値を確定困難のため、ある程度、独立して主要項のみ連成する
<br>
・また、滑らかな楕円軌道を想定して多項式近似の時間積分法（<a href="#span-out-FNmh-OX">ODE高階行列関数</a>）を適用する
<br>
・さらに、一般相対性理論の影響は<a href="#span-out-error-numerical">数値誤差</a>の範囲内と仮定する
<br>
<br>
実施例
<br>
・swing-by：<a href="#span-app-object">天体</a>運動から得る加減速で軌道を変更する航法（力学的energy保存則　⇔　<a href="#span-app-object">天体</a>との弾性衝突）
<br>
　powered swing-by：推力を併用（<a href="#span-app-astronomy">彗星</a>の場合、尾の<a href="#span-app-jet">jet</a>）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
天体
<br>
の解釈
    </th>
    <td>
<span id="span-app-object"></span>
天体の解釈を列挙する
<br>
・<a href="#span-app-knowns">既知の天体の解釈</a>
<br>
・<a href="#span-app-unknowns">仮説上の天体の解釈</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
既知の天体
<br>
の解釈
    </th>
    <td>
<span id="span-app-knowns"></span>
既知の天体の解釈について記述する
<br>
<br>
既知の天体
<br>
・ʻOumuamua：太陽系外から飛来の観測史上初の恒星間天体（<a href="#span-app-astronomy">彗星</a>同様の<a href="#span-app-orbit">powered swing-by</a>の双曲線軌道）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
仮説上の天体
<br>
の解釈
    </th>
    <td>
<span id="span-app-unknowns"></span>
仮説上の天体の解釈について記述する
<br>
<br>
仮説上の天体
<br>
・直接観測不可の場合、間接的な観測結果と<a href="#span-app-orbit">軌道計算</a>の整合性次第
<br>
・惑星X：外縁天体の観測結果と<a href="#span-app-orbit">軌道計算</a>の矛盾を解消するための仮定（未知の惑星）
<br>
・惑星Nibiru：fiction上の過酷な惑星質量天体（長楕円軌道で傾斜角が大きく、約3600年<a href="#span-app-period-motion">周期</a>で「交差」）
<br>
・ploonet：衛星が惑星軌道を脱出して長楕円軌道の惑星に移行（観測困難で未発見）
<br>
・<a href="#span-app-earth">反地球</a>：地球のみ空想される不自然な天体
<br>
・<a href="#span-app-Dyson">Dyson球</a>：恒星を覆う人工的な球殻（赤外線天体として観測を想定）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
反地球
<br>
の解釈
    </th>
    <td>
<span id="span-app-earth"></span>
反地球の解釈について記述する
<br>
<br>
対||反地球
<br>
・対地球：太陽に対して点対称の位置を公転（公転面と焦点を共有する対称な楕円軌道を周回）
<br>
・反地球：太陽に対して反対側のLagrange点L3を公転（同一の楕円軌道を周回）
<br>
・対||反地球質量≒地球質量（<a href="#span-app-period-motion">公転周期</a>が一致）
<br>
・<a href="#span-app-orbit">摂動</a>を含めて太陽の陰に隠れる大きさ（地上から常時観測不可）
<br>
・なお、<a href="#span-app-entropy">entropy増大則</a>に反するため、自然形成は想定しない（両天秤が釣り合う絶妙な秩序balance）
<br>
<br>
Hopi族伝承
<br>
・青い星：反地球を隠喩（終わりの始まりを告げる存在⇒天空で踊るrendezvous相手）
<br>
・預言：balance崩壊⇒反地球が出現⇒徐々に接近⇒天空に青い星が出現（浄化の日）⇒急接近⇒rendezvous
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Dyson球
<br>
の解釈
    </th>
    <td>
<span id="span-app-Dyson"></span>
Dyson球の解釈について記述する
<br>
<br>
Dyson球
<br>
・恒星の放射を遮るような人工物の場合、放射量が間接的に低下（赤外線に変換）するため、系全体に影響を及ぼす
<br>
・地球の場合、太陽から到達の放射強度が3%低下（<a href="#span-app-factor">太陽定数</a>*0.97を仮定）で<a href="#span-out-UI-graphing-testcase">地表の平均気温</a>が約2℃低下する
<br>
・元来提唱の人工生物圏は以上の影響が少ないenergy利用が想定される
<br>
・当面、系全体（主に惑星）に配慮が必要な場合、Kardashev scaleの一部は制限される
<br>
・以上より、広義のhabitable zone（最大限の配慮）を含む恒星系は除外する可能性が高い
<br>
・一方、本来の生物圏は不安定な表層より深層に安定性を見出す可能性がある
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
気候変動
<br>
の解釈
    </th>
    <td>
<span id="span-app-climate"></span>
気候変動の解釈について記述する
<br>
<br>
気候変動
<br>
・系内部の発熱量と放熱量の熱平衡状態から偏りが発生すれば温度が変化すると言えるが、
<br>
・偏り発生の要因と寄与度の因果関係が本質的に問題となる
<br>
・<span class="condition"><a href="#span-app-rate">自然の長期変動に対して温暖化が急速に進行中</a></span>のため、人為的な<a href="#span-app-gas">温室効果gas</a>の排出が主要因とされる
<br>
・とくに、<a href="#span-app-gas-CO2">大気中の二酸化炭素濃度</a>の増加と温暖化には<a href="#span-out-approximation-linear">強い相関</a>が見られる（<a href="#span-app-factor">大気の吸収率</a>増加）
<br>
・そのため、森林減少の影響も大きい（<a href="#span-app-gas-reference">「総排出量の内訳」</a>参照）
<br>
・また、簡単には追従しないであろう、<a href="#span-app-gas-CO2">副次的な環境変化への影響</a>を考慮する
<br>
・例えば、気温上昇（<a href="#span-app-factor">放射強制力</a>増加）が停止しても、雪氷由来の<a href="#span-app-factor">albedo</a>低下と<a href="#span-app-sea">海面上昇</a>は即座に停止しない
<br>
・一方、<a href="#span-app-history">北半球</a>は南半球より顕著な影響が見られる（人口と<a href="#span-app-factor">陸地面積率</a>の数倍差を含む）
<br>
・このような場所による偏りの拡大は気象現象を異常||激甚||極端化する可能性がある（熱赤道付近の台風等）
<br>
・他方、<a href="#span-app-gas">温室効果</a>以外の直接的な要因として、太陽と地球の相対的な<a href="#span-app-period-motion">運動</a>||<a href="#span-app-period-activity">活動</a>による寄与度が大きい
<br>
・現状、<a href="#span-app-factor">太陽放射の強度</a>は<a href="#span-app-period-activity">太陽活動周期</a>に渡ってほとんど変化しない（変動量＜0.1%）が、
<br>
・今後、それら<a href="#span-app-period-motion">運動</a>||<a href="#span-app-period-activity">活動</a>の影響（小氷期到来||<a href="#span-app-factor">albedo</a>増加）で（一時的に）寒冷化が優勢になる見方も存在する
<br>
・その他、地磁気の弱化||<a href="#span-app-period-activity">pole shift</a>と<a href="#span-app-unknowns">未知の天体</a>接近による可能性が指摘されている
<br>
その他の議題：<a href="#span-app-factor">自然の大循環</a>||環境汚染||環境破壊||気候災害||自然災害||食糧問題||大量絶滅
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
主要因子
<br>
の解釈
    </th>
    <td>
<span id="span-app-factor"></span>
<a href="#span-app-climate">気候変動</a>の主要因子の解釈について記述する
<br>
<br>
主要因子
<br>
・太陽定数[W/m^2]：放射線に対して垂直な面の太陽放射の強度
<br>
　球対称の放射：強度∝1/距離**2
<br>
・大気の吸収率：全球の放射線を吸収する効率（大気中の<a href="#span-app-gas">温室効果gas</a>濃度に依存）
<br>
　<a href="#span-app-gas">温室効果gas</a>：地表からの赤外線を吸収
<br>
・albedo：全球の放射線を反射する効率（主に<a href="#span-app-sea">氷床の残存量</a>と雲の総量に依存）
<br>
　真白の地域：地表で最高の反射率（9割）
<br>
　aerosol：吸収＜反射の寄与
<br>
・雲の総量と高度：4通りtotalの寄与度変化小||未知数（主に下層雲の減少と上層雲の高度上昇を懸念）
<br>
　下層雲||日中：吸収＜反射の寄与　⇔　<a href="#span-app-climate">温暖化</a>と<a href="#span-out-approximation-linear">負の相関</a>
<br>
　上層雲||夜間：吸収＞反射の寄与　⇔　<a href="#span-app-climate">温暖化</a>と<a href="#span-out-approximation-linear">正の相関</a>
<br>
・放射強制力[W/m^2]：<a href="#span-app-atmosphere">対流圏</a>界面の<a href="#span-out-modelling-0D-heat">熱流束flux</a>の変化量（熱量収支の統一指標）
<br>
　<span class="jF">系全体</span>の平均気温の変化：統一指標換算で要因の寄与度を議論
<br>
・日射[W/m^2]：地表換算の放射強度（<a href="#span-app-period-activity-Milankovitch">Milankovitch仮説</a>の<a href="#span-app-period-motion">地球の運動周期</a>に依存）
<br>
　<span class="jF">地表spot</span>の平均気温：日射の地表分布の<span class="clear">spot依存</span>
<br>
　単純平均：I0=1367; I0/4 -> 341.75
<br>
　albedo加味の最大値：I0=1367; I0*(1-0.3) -> 956.9
<br>
　夏至の正午@北緯30[deg]：I0=1367; I0*(1-0.3)*cos(deg2rad(30-<a href="#span-app-period-motion">23.4</a>)) -> 950.5583994030193
<br>
　冬至の正午@北緯30[deg]：I0=1367; I0*(1-0.3)*cos(deg2rad(30+<a href="#span-app-period-motion">23.4</a>)) -> 570.5275828545979
<br>
・|緯度|[deg]：spotの日射量に直接影響（主に<a href="#span-app-history">北半球の大陸氷床</a>）
<br>
　極圏の境界区間：90-<a href="#span-app-period-motion">[24.5,21.5]</a>=[65.5,68.5]（<a href="#span-app-period-motion">地軸の傾き</a>減で極圏の日射減）
<br>
　陸地面積率最大（約7割）の区間：北緯[60,70)
<br>
・陸地面積率:=陸地/(陸地+海洋)：全体に対する陸地の面積割合（自然の大循環に影響）
<br>
　北_陸:北_海:南_陸:南_海≒20:30:10:40[%]
<br>
　熱容量：土壌＜海水（海洋の蓄熱効果と熱輸送の時間遅れ大）
<br>
・自然の大循環：熱と物質を輸送する自然界の循環（主に大気と海洋||森林の循環）
<br>
・応答の時間遅れ：入力に対して応答が遅れる時間の目安
<br>
・熱輸送の時定数：気温変化に伴う<a href="#span-out-evolution-method">1次遅れ系</a>の時間遅れ（主に<a href="#span-app-history">大陸氷床</a>と<a href="#span-app-sea-level">海水準</a>に影響）
<br>
　1次感度（<a href="#span-app-atmosphere">対流圏</a>内の<a href="#span-out-modelling-0D-heat">放射⇒対流</a>）：<a href="#span-out-modelling-0D-heat">Order(0.1~1年)</a>
<br>
　1.5次感度（大気⇒海洋表層~深層の<a href="#span-out-modelling-0D-heat">伝達⇒対流</a>）：Order(0.1~10年)
<br>
　2次感度（大気と海洋⇒<a href="#span-app-atmosphere">対流圏</a>外の<a href="#span-app-analogy">伝達⇒拡散</a>）：<a href="#span-app-sea">Order(100~年)</a>
<br>
・地盤変動の時定数：荷重変化に伴う<a href="#span-out-evolution-method">1次遅れ系</a>の時間遅れ（<span class="clear"><a href="#span-app-history">風化の痕跡</a></span>||<span class="clear">標高依存</span>の質量収支に影響）
<br>
　海水||氷床の荷重：Order(1千~1万年)
<br>
<br>
補足因子
<br>
・地球の熱源（地熱energy）：地表換算のflux=42e12/510100000e6=0.08233679670652813[W/m^2]
<br>
　地殻とmantleの放射性崩壊：8+12=20[TW]
<br>
　液体金属核冷却の仕事率：42-20=22[TW]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
従属関係
<br>
の解釈
    </th>
    <td>
<span id="span-app-dependency"></span>
<a href="#span-app-factor">主要因子</a>の従属関係の解釈について記述する
<br>
<br>
従属関係（顕現順）
<br>
・変動
<br>
　気温（起点を仮定）
<br>
　⇒<a href="#span-app-sea">海水温</a>
<br>
　⇒albedo（主に氷床と雲）
<br>
　⇒<a href="#span-app-sea-level">海水準</a>と<a href="#span-app-gas">温室効果gas</a>（主に<a href="#span-app-gas-CO2">二酸化炭素</a>とmethane）
<br>
<br>
<span class="clear">自然界の「正のfeedback-loop」</span>
<br>
・<a href="#span-app-period-activity-Milankovitch">氷期⇒間氷期</a>
<br>
　<a href="#span-app-climate">温暖化</a>（負のloopより顕著の前提）
<br>
　⇒<a href="#span-app-sea">海水温</a>上昇
<br>
　⇒雪氷由来のalbedo低下（日射と温度のpeak時間差の一因）
<br>
　⇒<a href="#span-app-sea">海面上昇</a>と大気中の<a href="#span-app-gas">温室効果gas</a>濃度増加（<a href="#span-app-factor">大気と海洋の循環</a>作用）
<br>
・停止機構：北極の<a href="#span-app-period-activity-Milankovitch">日射peak</a>以降、徐々に温度peakで<a href="#span-app-history">大陸氷床</a>の後退から成長に逆転（南極の<a href="#span-app-factor">時間遅れ</a>が最大）
<br>
・<a href="#span-app-period-activity-Milankovitch">非対称性：氷床の後退:成長時間[万年]≒1:9</a>（<a href="#span-out-series-Fourier">逆のこぎり波</a>の波形）
<br>
　後退の<a href="#span-app-rate">温度上昇rate</a>：日射と<a href="#span-app-period-activity-Milankovitch">氷床の変動</a>に従属（熱暴走なし）
<br>
・<a href="#span-app-period-activity-Milankovitch">間氷期⇒氷期</a>
<br>
　<a href="#span-app-climate">寒冷化</a>
<br>
　⇒<a href="#span-app-sea">海水温</a>低下
<br>
　⇒雪氷由来のalbedo増加
<br>
　⇒海面下降と大気中の<a href="#span-app-gas">温室効果gas</a>濃度低下
<br>
<br>
気温変動の駆動力
<br>
・自然：<a href="#span-app-factor">太陽の日射&gt;&gt;地球の熱源</a>
<br>
・外乱：<a href="#span-app-gas-reference">「人為起源温室効果ガス総排出量の内訳」</a>（<a href="#span-app-climate">温暖化</a>の<span class="clear">「正のfeedback-loop」</span>に介入）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変動rate
<br>
の解釈
    </th>
    <td>
<span id="span-app-rate"></span>
変動rateの解釈について記述する
<br>
<br>
変動rate
<br>
・<a href="#span-app-climate">気候変動</a>の基準年
<br>
　開始年：西暦1900年（balance状態）
<br>
　基準年：西暦2000年（<a href="#span-app-climate">温暖化</a>が優勢　⇒　<a href="#span-app-history">海水回帰</a>の融解rate&gt;&gt;湿度依存の降雪rate）
<br>
・平均気温の上昇量[℃]の区間（想定）
<br>
　<a href="#span-app-history">最終氷期⇒間氷期</a>：<a href="#span-app-gas-CO2">[7,10]</a>
<br>
　西暦2000年：1（<a href="#span-app-sea">海水温</a>同様に、100年で上の10~14%の進行度）
<br>
・平均気温の上昇<span class="condition">rate</span>[℃/年]（目安）
<br>
　<a href="#span-app-history">最終氷期⇒間氷期</a>：<a href="#span-app-gas-CO2">[7,10]</a>/(1.8e4-0.6e4)=(0.0005833333333333334,0.0008333333333333334)
<br>
　西暦2000年：1/100=0.01（<span class="clear"><a href="#span-app-dependency">自然界の「正のfeedback-loop」</a></span>に従属の上に対して<span class="condition">step入力</span>相当）
<br>
・<a href="#span-app-sea">全海洋平均の海面上昇</a>量[m]（目安）
<br>
　<a href="#span-app-history">最終氷期⇒間氷期</a>：120
<br>
　西暦2000年：0.2
<br>
・平均気温の上昇量に対する<a href="#span-app-sea">海面上昇</a>量[m/℃]（目安）
<br>
　<a href="#span-app-history">最終氷期⇒間氷期</a>：120/<a href="#span-app-gas-CO2">[10,7]</a>=[12,17.142857142857142]
<br>
　西暦2000年：0.2/1=0.2（<span class="condition">step応答</span>で上と2桁差　⇒　<span class="clear"><a href="#span-app-sea">長時定数</a></span>の蓄積で顕現）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
海面上昇
<br>
の解釈
    </th>
    <td>
<span id="span-app-sea"></span>
海面上昇の解釈（西暦2000年基準）について記述する
<br>
<br>
<a href="#span-app-climate">温暖化</a>に伴う全海洋平均の海面上昇
<br>
・<a href="#span-app-sea-level">海水準</a>の変動<span class="condition">rate</span>[mm/年]（目安）
<br>
　<a href="#span-app-history">最終氷期⇒間氷期</a>：120e3/(1.8e4-0.6e4)=10
<br>
　　約1.4万年前の<span class="jF">meltwater pulse</span>：40（<a href="#span-app-history">北半球大陸に南下成長の氷床</a>の崩壊）
<br>
　西暦1900年前後：0.1~0.2　⇒　1~3
<br>
　　西暦2000年：1.6+1.19=2.79
<br>
・西暦2000年の<span class="condition">rate</span>内訳（目安）
<br>
　海水の熱膨張：1.6
<br>
　雪氷の融解：0.77+0.21+0.21=1.19
<br>
　　氷河と氷帽：0.77
<br>
　　Greenlandの氷床：0.21
<br>
　　南極の氷床：0.21
<br>
　その他：3.1-(1.6+1.19)=0.31
<br>
　　地下水汲み上げ：高度成長期の一因
<br>
・<a href="#span-app-sea-level">海水準</a>換算の残存量[m]（目安）
<br>
　氷河と氷帽：0.5
<br>
　Greenlandの氷床：7
<br>
　南極の氷床：60
<br>
　北極の海氷：浮遊（<a href="#span-app-sea-level">海水準</a>より極渦の<a href="#span-app-jet">jet気流</a>に影響大）
<br>
・海水温の上昇量[℃]（目安）
<br>
　<a href="#span-app-history">最終氷期⇒間氷期</a>：2.3
<br>
　西暦2000年：0.3
<br>
・気温変化に対する追従性
<br>
　海水の熱膨張：多少の<a href="#span-app-factor">時間遅れ</a>で追従（当初の変動<span class="condition">rate</span>の大半）
<br>
　雪氷の融解：複数spotで<a href="#span-app-factor">熱伝達⇒熱拡散</a>を伴う<span class="clear">Order(100年)の<a href="#span-app-factor">時定数</a></span>で顕在化（徐々に<span class="condition">rate</span>増の可能性）
<br>
・<span class="clear">時定数</span>の根拠
<br>
　9000~6000年前：<a href="#span-app-period-activity-Milankovitch">日射peak</a>以降の<a href="#span-out-UI-graphing-testcase">海面上昇</a>の緩和過程に適合（温度peakの<a href="#span-app-factor">時間遅れ</a>を含む）
<br>
　　約7700年前：平均気温の<a href="#span-out-modelling-0D-sea-level">温度peakの推定時刻</a>
<br>
　西暦1900年~：緩和過程の延長で流用（長期のbalance状態を想定）
<br>
・<span class="clear">長時定数</span>の影響
<br>
　<a href="#span-app-climate">温暖化</a>：<a href="#span-app-dependency">「正のfeedback-loop」</a>
<br>
　突発の<span class="jF">meltwater pulse</span>@<span class="condition">rate</span>&gt;0：Order(10年)の大洪水event（当時よりspot減の残存量次第）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
温室効果gas
<br>
の解釈
    </th>
    <td>
<span id="span-app-gas"></span>
温室効果gasの解釈について記述する
<br>
<br>
温室効果gas
<br>
・温室効果gasは<a href="#span-app-factor">大気の吸収率</a>に関係する
<br>
・以降、大気中の温室効果の促進を想定する
<br>
　温室効果gas濃度が増加（<a href="#span-app-dependency">駆動力</a>を仮定）
<br>
　⇒<a href="#span-app-factor">大気の吸収率</a>が増加（<a href="#span-out-approximation-linear">正の相関</a>）
<br>
　⇒太陽から流入する放射と地表から流出する放射の吸収量が増加（主に後者の赤外線を吸収⇒再放出）
<br>
　⇒宇宙に透過する放射量が低下　⇔　地表への到達量が増加（正の<a href="#span-app-factor">放射強制力</a>）
<br>
　⇒<a href="#span-out-UI-graphing-testcase">平均気温</a>が上昇（<a href="#span-app-climate">温暖化</a>）
<br>
　⇒温度変化量=<a href="#span-app-factor">放射強制力</a>の電力量/熱容量
<br>
・温室効果なしの<a href="#span-out-modelling-0D-heat">黒体放射温度</a>≒-18[℃]
<br>
<br>
地球温暖化係数[GWP]：単位重量当たりの温室効果能力（残留期間に依存の目安）
<br>
・<a href="#span-app-gas-CO2">二酸化炭素</a>：1
<br>
・methane：Order(10)
<br>
・一酸化二窒素：Order(100)
<br>
・F-gas：Order(1000~10000)
<br>
<br>
残留期間：大気中に排出~化学反応で分解の期間（目安）
<br>
・<a href="#span-app-gas-CO2">二酸化炭素</a>：非常に安定（<a href="#span-app-factor">自然の大循環</a>次第）
<br>
・methane：約12年（<a href="#span-app-atmosphere">対流圏</a>のOH-radical反応）
<br>
・一酸化二窒素：約110年（<a href="#span-app-atmosphere">成層圏</a>の紫外線で光化学反応）
<br>
・F-gas：Order(10~1000年)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
二酸化炭素
<br>
の解釈
    </th>
    <td>
<span id="span-app-gas-CO2"></span>
二酸化炭素の解釈（西暦2020年基準）について記述する
<br>
<br>
大気中の二酸化炭素濃度
<br>
・前提：<a href="#span-app-gas">温室効果gas</a>の主要因子で<a href="#span-app-period-activity-Milankovitch">信頼性の高い古気候data</a>を蓄積済み
<br>
・億年scaleの傾向：濃度は減少傾向　⇔　<a href="#span-app-factor">太陽放射の強度</a>は増加傾向（今後、<span class="selection"><a href="#span-app-history">全球凍結</a>は起こり得ない</span>）
<br>
・<span class="run">自然cycle</span>（<a href="#span-app-period-activity-Milankovitch">Milankovitch cycle</a>）の濃度変動[ppm]：<span class="jF">190</span>~<span class="clear">280</span>（<a href="#span-app-factor">albedo</a>=<span class="jF">[0.36,0.39]</span>~0.3相当の<a href="#span-app-period-activity-Milankovitch">氷床の変動</a>に従属）
<br>
・直近の濃度変化[ppm]：<span class="clear">280</span>~410（<span class="wF">万年scale</span>の<span class="clear">間氷期の上限</span>を超えて高<span class="condition">rate</span>≒2[ppm/年]で増加中）
<br>
　平均的な傾向：大気＞海洋の分圧（大気側の超過）　⇒　海洋の吸収量＞排出量（<a href="#span-app-sea">海水温</a>に依存）
<br>
・予想の目安
<br>
　直近の気温変化との<a href="#span-out-approximation-linear">相関</a>：100ppmの濃度変化量　⇔　約1℃の気温変化量
<br>
　　一意の<a href="#span-out-approximation-linear">相関</a>の仮定：濃度小の<a href="#span-out-approximation-linear">線形領域</a>
<br>
　大気換算（全因子を含む）の<a href="#span-app-rule">経験則</a>の仮定：<a href="#span-app-factor">大気の吸収率</a>係数=1-0.013*(<span class="clear">280</span>-ppm)/(<span class="clear">280</span>-<span class="jF">190</span>)
<br>
　　代表濃度ppmの実質寄与度の想定：熱容量加味の気候感度から半分~大半（<a href="#span-app-gas-reference">「総排出量の内訳」</a>参照）
<br>
　<span class="selection"><a href="#span-app-history">全球凍結</a>なし</span>の根拠（極端な<a href="#span-app-factor">albedo</a>増加を除く）：-<span class="clear">280</span>ppm　⇔　約-3℃（<a href="#span-app-gas">温室効果gas</a>の全回収相当）
<br>
　<span class="jF">氷期</span>の<a href="#span-out-UI-graphing-testcase">平均気温の変化量</a>：-[7,10]℃＝-1℃（<a href="#span-app-factor">大気の吸収率</a>低下）-[6,9]℃（<a href="#span-app-factor">albedo</a>増加）
<br>
　超過の深刻度：超過量/自然変動の振幅=(410-<span class="clear">280</span>)/((<span class="clear">280</span>-<span class="jF">190</span>)/2)=2.888888888888889（<span class="condition"><a href="#span-app-rate">rate</a></span>未考慮）
<br>
・当面の予想：「超」間氷期で<a href="#span-app-climate">温暖化</a>が優勢（<a href="#span-app-period-activity-Milankovitch">次の氷期</a>は<a href="#span-app-history">北半球の大陸氷床</a>が成長に反転するか次第）
<br>
　大方の懸念：<span class="run">自然cycle</span>逸脱で定量予測困難（海洋の吸収限界||<a href="#span-out-modelling-0D-sea-level">暴走mode</a>の閾値||<a href="#span-app-sea">氷床の最終残存量</a>等）
<br>
　副次的な影響：気温変化に従属の<a href="#span-app-factor">熱伝達⇒熱拡散</a>の影響は<a href="#span-app-sea">Order(100年)の時定数</a>で顕在化（<a href="#span-app-sea">海面上昇</a>等）
<br>
　逆説の補足：濃度超過が従属の場合、実際の気温変化量に対して<span class="condition">rate</span><span class="wF">過大||<a href="#span-app-history">過敏</a></span>　⇒　濃度超過が<a href="#span-app-dependency">駆動力</a>
<br>
　極論の比喩：地球環境の金星化が闇雲に加速（<span class="condition"><a href="#span-app-rate">実験室level</a></span>）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
[引用]
<br>
総排出量
    </th>
    <td>
<span id="span-app-gas-reference"></span>
「人為起源温室効果ガス総排出量の内訳（2004年・二酸化炭素換算）」
<br>
・二酸化炭素：56.6+17.3+2.8=76.7%
<br>
　化石燃料利用：56.6%
<br>
　森林減少：17.3%
<br>
　その他：2.8%
<br>
・methane：14.3%
<br>
・一酸化<span class="clear">二窒素</span>：7.9%
<br>
・F-gas：1.1%
<br>
<br>
以上、抜粋して引用：環境省の資料900422877.pdf「森林の減少と温暖化」の円graph
<br>
・<span class="clear">Ver.2.619.97</span>以降、分子名の誤植を訂正
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
空気力学
<br>
の解釈
    </th>
    <td>
<span id="span-app-aerodynamics"></span>
空気力学の解釈について記述する
<br>
<br>
空力特性
<br>
・3軸
<br>
　x：正面の推進方向
<br>
　y：推進方向と垂直な左右方向
<br>
　z：推進方向と垂直な上下方向
<br>
・3軸の力成分
<br>
　x：抗力
<br>
　y：横力
<br>
　z：揚力
<br>
・3軸の回転軸
<br>
　x：roll
<br>
　y：pitch
<br>
　z：yaw
<br>
<br>
実施例
<br>
・自動車||robotics：<a href="#span-out-Euclid">左手系</a>
<br>
・<a href="#span-app-plane">飛行機</a>：<a href="#span-out-Euclid">右手系</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
野球
<br>
の解釈
    </th>
    <td>
<span id="span-app-baseball"></span>
野球pitchingの解釈について記述する
<br>
・<span class="run">Ver.2.515.90</span>以降、<a href="#span-out-evolution-spin">spin</a>から解釈として移植（<span class="clear">軸定義の補足を更新</span>）
<br>
<br>
<a href="#span-out-Euclid">左手系</a>の回転軸の定義（<span class="clear"><a href="#span-app-aerodynamics">空力特性</a>と未統一</span>）
<br>
・進行方向のx'軸：jyro-spin（jyro）
<br>
・+y'軸：side-spin（screw）
<br>
　-y'軸：side-spin（slider||sweeper）
<br>
・+z軸：back-spin（fork||straight）
<br>
　-z軸：top-spin（"縦の"slider）
<br>
・billiard||tennisと異なり、top-spinの投球は難しい
<br>
<br>
Magnus効果
<br>
・Magnus力＝流体密度×進行速度×<a href="#span-app-plane">循環</a>
<br>
　<a href="#span-app-plane">循環</a>∝回転の角速度
<br>
・力の向きは進行方向と回転軸の両方に垂直（<a href="#span-app-plane">旋回の向心力</a>同様に、仕事なし）
<br>
・Magnus力の比例係数：Cl
<br>
<br>
<a href="#span-app-gravity">重力</a>の影響
<br>
・y方向落下速さ（落差の微分値）からx方向のMagnus効果が生じる
<br>
・back-spinの場合、top-spinより若干、x方向の進行が速い
<br>
・また、落差が小さく、若干、運動energyが小さい（力学的energy保存則）
<br>
・空気中の場合、密度比から生じる浮力の影響は小さい（空気/球の密度比&lt;&lt;1）
<br>
・Coriolis力の影響は<a href="#span-out-error-numerical">数値誤差</a>の範囲内で考慮しない
<br>
<br>
jyro-spinの影響
<br>
・y'-z面変化量の微分値からz軸成分のMagnus効果より一桁小さい
<br>
・spinの回転方向に応じて無回転より若干、y方向に上下する
<br>
・screw効果で後流のはく離が小さく、安定的に空気抵抗を低減する
<br>
・よって、失速の程度が小さく、球速が伸びる
<br>
<del>・一方、球の空気抵抗が軌道変化に与える影響はMagnus効果より小さい</del>
<br>
・<span class="run">Ver.2.425.89</span>以降、乱流を想定して<a href="#span-app-aerodynamics">抗力</a>と速度の関係を修正（軌道変化を明確化）
<br>
　層流の<a href="#span-app-aerodynamics">抗力</a>∝速度（Stokesの抵抗則）　⇒　乱流の<a href="#span-app-aerodynamics">抗力</a>∝速度**2（Newtonの抵抗則）
<br>
・<a href="#span-app-aerodynamics">抗力</a>の比例係数：Cd
<br>
<br>
無回転
<br>
・後流の渦放出が不規則で軌道が安定しにくい
<br>
・境界層を含む表面粗さの影響を受けやすい
<br>
<br>
球の規則的な<a href="#span-app-vibration">振動</a>（目安）
<br>
・St=0.2を仮定
<br>
・到達時間[sec]=18.44/40=0.461
<br>
・渦放出の<a href="#span-app-vibration">振動</a>周期[sec]=(73e-3/40)/0.2=0.009124999999999998
<br>
・渦放出の<a href="#span-app-vibration">振動</a>回数=0.461/0.009124999999999998=50.52054794520549
<br>
<br>
<a href="#span-app-plane">循環</a>の空間積分
<br>
・簡単化する場合、比例係数×回転数で代替
<br>
・非厳密のため、回転数のみに依存する1次の回転減衰効果を仮定（粘性の摩擦<a href="#span-app-aerodynamics">抗力</a>が主要因）
<br>
　<span class="run">Ver.2.425.89</span>以降、流体密度を含む有次元の比例係数を無次元化
<br>
・回転減衰の比例係数：Cf
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
飛行機
<br>
の解釈
    </th>
    <td>
<span id="span-app-plane"></span>
飛行機の解釈について記述する
<br>
<br>
飛行機の翼
<br>
・<a href="#span-app-aerodynamics">揚力</a>：推進中に翼の下面（正圧）と上面（負圧）の圧力差で生じる上向きの力
<br>
　Bernoulliの定理：翼の上下で流速が異なるため、全圧から上下の圧力差に換算
<br>
　循環：物体周りの閉曲線に渡る速度の線積分（流れ場が上下対称の場合、循環=0）
<br>
　<a href="#span-app-baseball">Magnus効果</a>：翼は回転していないが、循環≠0のため、<a href="#span-app-baseball">Magnus効果</a>の力≒<a href="#span-app-aerodynamics">揚力</a>
<br>
　<a href="#span-app-aerodynamics">揚力</a>の厳密な計算：圧力の面積分（表面の法線vectorを考慮）
<br>
・摩擦<a href="#span-app-aerodynamics">抗力</a>成分の厳密な計算：摩擦応力の面積分（表面の接線vectorを考慮）
<br>
　壁法則：境界層の速度分布と壁面摩擦応力の関係を表す法則
<br>
・翼型（断面形状）：上面の流れがはく離なしで合流する最適形状の流線型（はく離で失速）
<br>
　対称翼（上下）：よどみ点を下側に制御することで<a href="#span-app-aerodynamics">揚力</a>が発生（仰角＞0）
<br>
　縦渦発生装置：前縁に設置して後流のはく離を抑制
<br>
・旋回：旋回の中心方向の翼を下げて<a href="#span-app-aerodynamics">揚力</a>の水平分力を向心力に変換
<br>
　水中：浮力支配の場合、下向きに潜る力の水平分力を向心力に変換
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
jet
<br>
の解釈
    </th>
    <td>
<span id="span-app-jet"></span>
jetの解釈について記述する
<br>
<br>
jet
<br>
・宇宙jet：<a href="#span-app-gravity">重力</a><a href="#span-app-object">天体</a>の単極||双極の軸方向に噴出するplasma等のjet（線のように映る）
<br>
・jet気流（偏西風）：<a href="#span-app-atmosphere">対流圏</a>上層にあり、<a href="#span-app-plane">飛行機</a>||台風の進路に影響（軽い程、蛇行して流されやすい）
<br>
・jet雲：jet<a href="#span-app-plane">飛行機</a>engine後流に発生（高温の排気gasが凝縮）
<br>
・筒内直接噴射式内燃機関：液滴群との運動量交換でgas噴流のjetを形成（噴射圧力||RPM等に依存）
<br>
<br>
実施例
<br>
・jet気流を可視化する場合、<a title="Incompressible flow" href="../10_fluid/index.html?sim=fluid&testcase=31">Bénard6cells</a>参照（Coriolis力で形成の渦列を平面に投影）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
大気圏
<br>
の解釈
    </th>
    <td>
<span id="span-app-atmosphere"></span>
大気圏の解釈について記述する
<br>
<br>
各高度範囲（概要）
<br>
・大気圏：0~100km
<br>
・宇宙空間：100km~
<br>
・対流圏：0~8（極）~17（赤道）km
<br>
・成層圏：8（極）~17（赤道）~50km
<br>
・中間圏：50~80km
<br>
・熱圏：80~800km
<br>
・外気圏：800~10000km
<br>
・電離層：60~800km
<br>
・ozone層：10~50km
<br>
・磁気圏：1000~60000（太陽側）~1000000（反対側）km
<br>
・plasma圏：800~20000km
<br>
・均質圏：80~90km
<br>
・乱流圏：100~110km
<br>
・拡散圏：110km~
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
地球史
<br>
の解釈
    </th>
    <td>
<span id="span-app-history"></span>
地球史の解釈（西暦2000年基準）について記述する
<br>
<br>
地球史
<br>
・<a href="#span-out-UI-graphing-testcase">約23億年前の全球凍結</a>：史上最初の全球凍結（<a href="#span-app-factor">太陽放射の強度</a>=現在基準値×0.8275）
<br>
・<a href="#span-out-UI-graphing-testcase">約7億年前の全球凍結</a>：史上最後の全球凍結（<a href="#span-app-factor">太陽放射の強度</a>=現在基準値×0.9475）
<br>
　x十億年前の1次関数を仮定：<a href="#span-app-factor">太陽放射の強度</a>係数=1-0.33*x/4.4
<br>
　現在基準値との比較：<a href="#span-app-gas-CO2">二酸化炭素濃度</a>と<a href="#span-app-factor">albedo</a>が非常に高い
<br>
・約6600万年前の<a href="#span-app-meteorite">隕石衝突</a>：Yucatan半島に小惑星が衝突⇒粉塵を生成⇒地球規模の<a href="#span-app-climate">寒冷化</a>⇒大量絶滅（恐竜を含む）
<br>
　粉塵で反射率が3割増を仮定（<a href="#span-app-factor">albedo</a>=0.3⇒0.39）：<a href="#span-out-UI-graphing-testcase">平均気温</a>が約9℃低下
<br>
　自転軸への影響：size比依存で小さい（地球直径に対するsize比≒0.001）
<br>
・約300万年前：<span class="clear">北半球に大陸氷床が出現</span>
<br>
・約258.8万年前の<a href="#span-app-Holocene">更新世</a>~：<a href="#span-app-period-activity">氷期＋間氷期cycle</a>の開始
<br>
・約77万年前の<a href="#span-app-period-activity">地磁気逆転</a>：直近の反転
<br>
・約40万年前の<a href="#span-app-origin">現生人類</a>の出現期~：<a href="#span-app-period-activity-Milankovitch">Milankovitch cycle</a>が主導（約10万年の<a href="#span-app-period-activity">周期</a>）
<br>
　<a href="#span-app-gas-CO2">大気中の二酸化炭素濃度</a>の推移：化石燃料を大量消費する文明の痕跡なし
<br>
　　次のToba事変：濃度変化は自然変動の範囲内（気温変化を含む火山活動の影響に対して<span class="wF">感度小</span>の可能性）
<br>
・7~7.5万年前のToba事変：火山の超巨大噴火⇒火山灰を生成⇒地球規模の<a href="#span-app-climate">寒冷化</a>（約6000年間継続）
<br>
　火山灰で反射率が2割増を仮定（<a href="#span-app-factor">albedo</a>=0.3⇒0.36）：<a href="#span-out-UI-graphing-testcase">平均気温</a>が約6℃低下
<br>
　　急激な<a href="#span-app-climate">寒冷化</a>の痕跡（氷床coreの酸素同位体比）：Greenlandはあるが、南極はない
<br>
・1.8~0.6万年前の<a href="#span-app-period-activity-Milankovitch">最終氷期⇒間氷期</a>：<a href="#span-app-climate">温暖化</a>⇒<a href="#span-app-sea">海面上昇</a>120m⇒陸地減少
<br>
　<span class="clear">海水回帰</span>の過程：氷床の後退＋大陸上に蓄積の雪氷の融解（<span class="clear">氷期の陸地侵食⇒風化の痕跡</span>あり）
<br>
・1.29~1.15万年前のYounger Dryas期（欧州一帯）：<a href="#span-app-climate">温暖化</a>⇒急速に<a href="#span-app-climate">寒冷化</a>（逆戻り）⇒農耕の開始
<br>
　逆戻りの原因：<a href="#span-app-period-activity">熱塩循環の弱化</a>||<a href="#span-app-meteorite">彗星衝突</a>の可能性
<br>
・~6000年前の縄文海進：<a href="#span-app-sea">海面上昇</a>による<span class="clear"><a href="#span-app-factor">地盤変動</a></span>を含む縄文時代前期の海進（<span class="clear">場所によって進度の痕跡差</span>あり）
<br>
・約4500年前の古代Egypt：Gizaの3大<a href="#span-app-pyramid">pyramid</a>を建造
<br>
　<a href="#span-app-stress">「重量拡散の間」最上層</a>の壁面に残る複数のhieroglyph：「khufu」の「17回目の牛を数える年」
<br>
　同上のcartouche（王名枠）：「raa(h)ta」説あり（約1.2万年前の獅子座の時代）
<br>
　大Sphinx前足発掘の碑文の最後：「khaf」（Khafra王の時代が定説）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
完新世
<br>
の解釈
    </th>
    <td>
<span id="span-app-Holocene"></span>
完新世の解釈（西暦2000年基準）について記述する
<br>
<br>
第四紀氷河時代
<br>
・更新世：258.8~1.17万年前の<a href="#span-app-period-activity">氷期＋間氷期cycle</a>
<br>
・完新世：約1.17万年前の<a href="#span-app-history">最終氷期⇒間氷期</a>の現在
<br>
　最終氷期：日本列島と大陸が地続きの時代（一時的）
<br>
　間氷期：温暖な気候で農耕||牧畜の開始
<br>
・時系列の平均気温||<a href="#span-app-sea-level">海水準</a>と静水圧||<a href="#span-app-factor">陸地面積率</a>||大気圧||<a href="#span-app-gas-CO2">二酸化炭素濃度</a>||酸素濃度||骨格等の推移次第
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
海水準
<br>
の解釈
    </th>
    <td>
<span id="span-app-sea-level"></span>
海水準の解釈（西暦2000年基準）について記述する
<br>
<br>
海水準
<br>
・海水準：陸地に対する海面の相対的な高さ（地殻変動に依存）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
起源
<br>
の解釈
    </th>
    <td>
<span id="span-app-origin"></span>
起源の解釈（西暦2000年基準）について記述する
<br>
<br>
地球の起源
<br>
・宇宙創成：約138億年前（<a href="#span-app-universe">big-bang仮説</a>）
<br>
・銀河誕生：約132億年前
<br>
・地球誕生：約46億年前（giant-impact仮説）
<br>
<br>
人類の起源
<br>
・Gorillaと分岐：約1000万年前
<br>
・Panと分岐：500~800万年前
<br>
・現生人類誕生：25~40万年前
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DNA
<br>
の解釈
    </th>
    <td>
<span id="span-app-DNA"></span>
DNAの解釈について記述する
<br>
<br>
<a href="#span-app-origin">現生人類</a>のDNA
<br>
・DNA：約30億塩基対（目安の基準値N）
<br>
・塩基配列
<br>
　個人差：0.1%程度（<a href="#span-app-history">Toba事変</a>で縮小）
<br>
　<a href="#span-app-origin">Pan</a>との差異：1.6%程度
<br>
　<a href="#span-app-origin">Gorilla</a>との差異：2.3%程度
<br>
・突然変異の長期平均rate[塩基対/年]：4.5±1.5（<a href="#span-app-origin">近縁種</a>を含めて重複なしの均等配分p=0.5を仮定）
<br>
calc_rate(ts,te,percent,p)=&lt;[N=30e8,t=(te,ts),r=(percent/100)*p,rate=N*(r/t),=&lt;rate]=&gt;;
<br>
calc_rate(25e4,40e4,0.1,0.5) -> (3.75,6)
<br>
calc_rate(50e5,80e5,1.6,0.5) -> (3,4.8)
<br>
calc_rate(100e5,100e5,2.3,0.5) -> (3.4499999999999997,3.4499999999999997)
<br>
・細胞周期：G1(checkpoint)⇒S⇒G2(checkpoint)⇒M期
<br>
　M期：細胞分裂
<br>
　　細胞分裂の回数上限：50回
<br>
　　年平均の細胞分裂回数[回/年]：M
<br>
　S期：DNA複製
<br>
　　突然変異の発生確率P：1e-9（長期平均rate換算）
<br>
calc_P(rate,M)=&lt;[N=30e8,P=rate/(N*M),=&lt;P]=&gt;;
<br>
calc_P(3,1) -> 1e-9
<br>
calc_P(4.5,1) -> 1.5e-9
<br>
calc_P(6,1) -> 2e-9
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
数の概念
<br>
の解釈
    </th>
    <td>
<span id="span-app-arithmetic"></span>
数の概念の解釈について記述する
<br>
<br>
数の概念（自然発生順を想定）
<br>
・個数・自然数
<br>
・整数（0±自然数）
<br>
・数字・進数・桁数
<br>
・<a href="#span-app-prime">素数</a>・合成数
<br>
・公約数・公倍数
<br>
・有理数・無理数
<br>
・円周率・代数
<br>
・分数・小数
<br>
・対数
<br>
・実数・度数法・弧度法・<a href="#span-out-com">複素数</a>・四元数・vector・<a href="#span-out-mat">行列</a>
<br>
・示量性状態量（体積||<a href="#span-app-entropy">entropy</a>）
<br>
・示強性状態量（温度||速さ||濃度||電位potential）
<br>
・<a href="#span-app-quality">quality</a>・<a href="#span-app-eps">実数ε</a>
<br>
<br>
定義の補足
<br>
・円周率の基準径：実用性の直径||<a href="#span-app-analogy">面積のanalogy</a>の半径（<a href="#span-out-Euclid">幾何学</a>の<a href="#span-app-history">時代背景</a>に依存）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
pyramid
<br>
の解釈
    </th>
    <td>
<span id="span-app-pyramid"></span>
pyramidの解釈について記述する
<br>
<br>
当時の建設目的の解釈を記録
<br>
・主流
<br>
　王の墓||祭壇||叡智の神殿（複数の位置関係で星座を表現）
<br>
　天体観測（春分の日等、光と影の演出あり）
<br>
・一部
<br>
　公共事業説
<br>
　貯蔵庫||蓄電装置||発電所説（電離層||水||雷||太陽光prism||plasma等を利用）
<br>
　活性化||通信||交信（天地の兆候を含む）||輸送||転送装置説
<br>
　着陸の目印
<br>
　物質優位で精神的隷属の輪廻||trap装置
<br>
・建築手段
<br>
　加工：切り出し<del>||concrete</del>
<br>
　運搬：水路||陸路||内外坂路（浮力||ころ||てこの原理を応用）
<br>
　不明：巨人族||先進文明の関与
<br>
<br>
海底に沈む水晶pyramid（詳細不明）
<br>
・直近の地磁気を誘導（圧電率||吸水率||誘電率を材質で調整）
<br>
・地||水||音等の振動を本体で増幅して磁束回転場に変換
<br>
・本体の一部||球体のcapacitorに電荷を蓄電
<br>
・余剰な電荷を電場に沿って頂上から上空||地下に放出
<br>
・地震の前兆を検知（地磁気の異常||過剰な電荷を検知）
<br>
・以上より、不安定な影響を考察
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
geometry
<br>
の解釈
    </th>
    <td>
<span id="span-app-geometry"></span>
geometryの解釈について記述する
<br>
<br>
<a href="#span-app-pyramid">pyramid</a>のgeometry
<br>
・底辺長：L=230.3;
<br>
　底辺長半分値：Lh=L/2; Lh -> 115.15
<br>
　対角線半分値：Lh*sqrt2 -> 162.84669170726193
<br>
　底面の面積：SH=L**2; SH -> 53038.090000000004
<br>
・高さ：H=146.6;
<br>
　赤道半径R0の比率：R0=6378136.6; R0/H -> 43507.07094133697
<br>
・斜辺長（側面図）：c=sqrt(Lh**2+H**2); c -> 186.41642229159962
<br>
・斜面の総面積：Sc4=(L*c/2)*4; Sc4 -> 85863.40410751078
<br>
　底面に対する<span class="jF">面積比</span>：p=Sc4/SH; p -> <span class="jF">1.6189007580686028</span>（≒黄金比）
<br>
・直角三角形の<span class="wF">3辺の比</span>（側面図）：
<br>
(Lh:H:c)*3/Lh=(<span class="wF">3:3.8193660442900557:4.856702274205809</span>)
<br>
　3辺の比が3:4:5の面積比：p=5/3; p -> 1.6666666666666667（&gt;黄金比）
<br>
・<span class="condition">傾斜角</span>[deg]：t=rad2deg(atan(H/Lh)); t -> <span class="condition">51.85140476483709</span>
<br>
　自然の目安：粉体の安息角=15~45[deg]　⇒　自然の山の傾斜角=15~35[deg]
<br>
・Gizaの3大<a href="#span-app-pyramid">pyramid</a>の<span class="jF">面積比</span>:<span class="wF">3辺の比</span>:<span class="condition">傾斜角</span>
<br>
calc_geometry(L,H)=&lt;[
<br>
Lh=L/2,SH=L**2,c=sqrt(Lh**2+H**2),Sc4=(L*c/2)*4,
<br>
ratio=(Lh:H:c)*3/Lh,p=Sc4/SH,t=rad2deg(atan(H/Lh)),
<br>
=&lt;round((p:ratio:t)*1e3)/1e3
<br>
]=&gt;;
<br>
　1st：calc_geometry(230.3,146.6) -> (<span class="jF">1.619</span>:<span class="wF">3:3.819:4.857</span>:<span class="condition">51.851</span>)
<br>
　2nd：calc_geometry(215.29,143.87) -> (<span class="jF">1.669</span>:<span class="wF">3:4.01:5.008</span>:<span class="condition">53.196</span>)
<br>
　3rd：calc_geometry(105,65.5) -> (<span class="jF">1.599</span>:<span class="wF">3:3.743:4.797</span>:<span class="condition">51.287</span>)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
応力分布
<br>
の解釈
    </th>
    <td>
<span id="span-app-stress"></span>
応力分布の解釈について記述する
<br>
<br>
<a href="#span-app-pyramid">pyramid</a>の「重量拡散の間」
<br>
・「重量拡散の間」：「王の間」天井の上方にある5層の部屋空間（各層の天井のみflat）
<br>
・最上層のみ：三角屋根の空間
<br>
・目的：「王の間」の空間を圧縮による崩落から保護
<br>
・施工：最上層に三角屋根の空間を設置（「女王の間」は天井が三角屋根）
<br>
・効果：上部の重量を真下から横方向に拡散
<br>
・結果：三角屋根の空間の真下は圧縮応力が相対的に低下（間接的に重量を軽減）
<br>
・補足：別の用途でない場合、経験的な理解から層を多重化の可能性（効果範囲拡大||fail-safe等）
<br>
・余談：当時に<a href="#span-app-vibration">共感</a>（<a href="#span-app-history">時代背景</a>を含む）⇒確度上昇の可能性
<br>
<br>
自重による垂直応力分布
<br>
・仮定：均質な正四角錐（空隙なし・重心の偏心なし）
<br>
・符号なし（通常、軸力が圧縮の場合、応力は負）
<br>
g=9.8;
<br>
rho=2500;
<br>
L=230.3;
<br>
H=146.6;
<br>
S(h)=&lt;(L*h/H)^2;
<br>
V(h)=&lt;_ih(=&lt;S(h),0,h);
<br>
/*V(h)=&lt;L^2*H/3;*/
<br>
m(h)=&lt;rho*V(h);
<br>
F(h)=&lt;m(h)g;
<br>
s(h)=&lt;F(h)/(S(h)||1);
<br>
・頂点から底面までの深さ方向の垂直応力分布
<br>
s(0) -> 0
<br>
s(20) -> 163333.33333333337+O(4e-2)
<br>
s(40) -> 326666.666666667+O(2e-1)
<br>
s(60) -> 490000.0000000002+O(4e-1)
<br>
s(80) -> 653333.3333333337+O(6e-1)
<br>
s(100) -> 816666.6666666674+O(1e+0)
<br>
s(L/2) -> 940391.6666666666+O(1e+0)
<br>
s(120) -> 980000+O(1e+0)
<br>
s(140) -> 1143333.333333334+O(2e+0)
<br>
s(H) -> 1197233.3333333337+O(2e+0)
<br>
・double-check
<br>
底面の断面積：S(H) -> 53038.09
<br>
総容量：V(H) -> 2591794.664666667+O(5e+0)
<br>
総容量：L^2*H/3 -> 2591794.664666666
<br>
全自重：m(H) -> 6479486661.666668+O(1e+4)
<br>
全重力：F(H) -> 63498969284.33335+O(1e+5)
<br>
底面の垂直応力：F(H)/S(H) -> 1197233.3333333337+O(2e+0)
<br>
・stressを<a href="#span-out-approximation-linear">線形化</a>
<br>
s(h)=&lt;1.1972333333333337e6*h/H
<br>
<br>
<a href="#span-app-analogy">analogy</a>
<br>
・次元Dを定義して、単位blockの断面積=<a href="#span-app-gravity">重力</a>=1に<a href="#span-out-FNm-normalize">正規化</a>、頂上からの段数h=1~に一般化
<br>
ns(h)=&lt;_sn(=&lt;n**(D-1),1,h)/h**(D-1)
<br>
・4次元の場合
<br>
ns(1) -> 1
<br>
ns(2) -> 1.125
<br>
ns(3) -> 1.3333333333333333
<br>
ns(4) -> 1.5625
<br>
ns(5) -> 1.8
<br>
ns(6) -> 2.0416666666666665
<br>
ns(7) -> 2.2857142857142856
<br>
ns(8) -> 2.53125
<br>
ns(9) -> 2.7777777777777777
<br>
ns(10) -> 3.025
<br>
ns(100) -> 25.5025
<br>
ns(1000) -> 250.50025
<br>
ns(10000) -> 2500.500025
<br>
ns(99) -> 25.252525252525253
<br>
ns(999) -> 250.25025025025025
<br>
ns(9999) -> 2500.2500250025
<br>
ns(88) -> 22.50284090909091
<br>
ns(888) -> 222.50028153153153
<br>
ns(8888) -> 2222.5000281278126
<br>
ns(77) -> 19.753246753246753
<br>
ns(777) -> 194.75032175032175
<br>
ns(7777) -> 1944.7500321460718
<br>
ns(66) -> 17.00378787878788
<br>
ns(666) -> 167.00037537537537
<br>
ns(6666) -> 1667.0000375037503
<br>
ns(55) -> 14.254545454545454
<br>
ns(555) -> 139.25045045045044
<br>
ns(5555) -> 1389.2500450045004
<br>
ns(44) -> 11.505681818181818
<br>
ns(444) -> 111.50056306306307
<br>
ns(4444) -> 1111.5000562556256
<br>
ns(33) -> 8.757575757575758
<br>
ns(333) -> 83.75075075075075
<br>
ns(3333) -> 833.7500750075008
<br>
ns(22) -> 6.011363636363637
<br>
ns(222) -> 56.001126126126124
<br>
ns(2222) -> 556.0001125112511
<br>
ns(11) -> 3.272727272727273
<br>
ns(111) -> 28.25225225225225
<br>
ns(1111) -> 278.25022502250226
<br>
・3次元の場合
<br>
ns(1) -> 1
<br>
ns(2) -> 1.25
<br>
ns(3) -> 1.5555555555555556
<br>
ns(4) -> 1.875
<br>
ns(5) -> 2.2
<br>
ns(6) -> 2.5277777777777777
<br>
ns(7) -> 2.857142857142857
<br>
ns(8) -> 3.1875
<br>
ns(9) -> 3.5185185185185186
<br>
ns(10) -> 3.85
<br>
ns(100) -> 33.835
<br>
ns(1000) -> 333.8335
<br>
ns(10000) -> 3333.83335
<br>
ns(99) -> 33.5016835016835
<br>
ns(999) -> 333.50016683350015
<br>
ns(9999) -> 3333.5000166683335
<br>
ns(88) -> 29.835227272727273
<br>
ns(888) -> 296.5001876876877
<br>
ns(8888) -> 2963.166685418542
<br>
ns(77) -> 26.16883116883117
<br>
ns(777) -> 259.5002145002145
<br>
ns(7777) -> 2592.8333547640477
<br>
ns(66) -> 22.502525252525253
<br>
ns(666) -> 222.50025025025025
<br>
ns(6666) -> 2222.5000250025
<br>
ns(55) -> 18.836363636363636
<br>
ns(555) -> 185.5003003003003
<br>
ns(5555) -> 1852.1666966696669
<br>
ns(44) -> 15.170454545454545
<br>
ns(444) -> 148.50037537537537
<br>
ns(4444) -> 1481.8333708370837
<br>
ns(33) -> 11.505050505050505
<br>
ns(333) -> 111.50050050050051
<br>
ns(3333) -> 1111.5000500050005
<br>
ns(22) -> 7.840909090909091
<br>
ns(222) -> 74.50075075075075
<br>
ns(2222) -> 741.1667416741674
<br>
ns(11) -> 4.181818181818182
<br>
ns(111) -> 37.5015015015015
<br>
ns(1111) -> 370.8334833483348
<br>
・2次元の場合、組体操の接触面に同様
<br>
h
<br>
1　　　　　　　　　＿
<br>
2　　　　　　　　＿　＿
<br>
3　　　　　　　＿　＿　＿
<br>
4　　　　　　＿　＿　＿　＿
<br>
5　　　　　＿　＿　＿　＿　＿
<br>
6　　　　＿　＿　＿　＿　＿　＿
<br>
7　　　＿　＿　＿　＿　＿　＿　＿
<br>
8　　＿　＿　＿　＿　＿　＿　＿　＿
<br>
9　＿　＿　＿　＿　＿　＿　＿　＿　＿
<br>
ns(1) -> 1
<br>
ns(2) -> 1.5
<br>
ns(3) -> 2
<br>
ns(4) -> 2.5
<br>
ns(5) -> 3
<br>
ns(6) -> 3.5
<br>
ns(7) -> 4
<br>
ns(8) -> 4.5
<br>
ns(9) -> 5
<br>
ns(10) -> 5.5
<br>
ns(100) -> 50.5
<br>
ns(1000) -> 500.5
<br>
ns(10000) -> 5000.5
<br>
・1次元の場合
<br>
h
<br>
1＿
<br>
2＿
<br>
3＿
<br>
4＿
<br>
5＿
<br>
6＿
<br>
7＿
<br>
8＿
<br>
9＿
<br>
ns(1) -> 1
<br>
ns(2) -> 2
<br>
ns(3) -> 3
<br>
ns(4) -> 4
<br>
ns(5) -> 5
<br>
ns(6) -> 6
<br>
ns(7) -> 7
<br>
ns(8) -> 8
<br>
ns(9) -> 9
<br>
ns(10) -> 10
<br>
ns(100) -> 100
<br>
ns(1000) -> 1000
<br>
ns(10000) -> 10000
<br>
・0次元の場合、<a href="#span-out-com">複素数</a>演算
<br>
ns(1) -> 1
<br>
ns(2) -> 3
<br>
ns(3) -> 5.5
<br>
ns(4) -> 8.333333333333334
<br>
ns(5) -> 11.416666666666668
<br>
ns(6) -> 14.7
<br>
ns(7) -> 18.15
<br>
ns(8) -> 21.742857142857137
<br>
ns(9) -> 25.460714285714293
<br>
ns(10) -> 29.289682539682552
<br>
ns(100) -> 518.7377517639624
<br>
ns(1000) -> 7485.470860550342
<br>
ns(10000) -> 97876.06036044357
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><span id="span-out">外部仕様</span></caption>
<thead>
  <tr>
    <th>
項目
    </th>
    <th>
内容
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
前提
    </th>
    <td>
<span id="span-out-pre"></span>
外部仕様の前提について記述する
<br>
<br>
主として数値計算の基本となるCalculatorの仕様とtest caseを記録
<br>
<br>
説明上の前提を列挙する
<br>
・論理記号||は、ORを意味する
<br>
・arrow記号->の左側に入力の演算内容、右側に出力の演算結果を示す
<br>
　入力演算内容 -> 出力演算結果
<br>
　入力演算内容case1 || 入力演算内容case2 -> 出力演算結果
<br>
・誤差のOrderをLandauの記号O(<a href="#span-out-num">指数表記</a>1e-16等)で表記する
<br>
・vector||行列の成分を要素と表記する
<br>
・方程式||関数式を引数に取る関数を高階関数と表記する
<br>
　この場合の引数を通常の値渡しに対して式渡しと表記する
<br>
　高階関数の束縛変数（bound変数）をdummy変数と表記する
<br>
・option引数をopt_変数名で表記する
<br>
・原則、SI単位系を使用する
<br>
　<a href="#span-out-UI-graphing-testcase">test case</a>の場合、基準値で無次元化される前提で大半の単位を明記しない（公式を除く）
<br>
・2項演算子の結合性は<a href="#span-out-option1">左結合</a>で記述する
<br>
・除算より<a href="#span-out-BRmo">記号省略乗算</a>の演算優先で記述する
<br>
・<a href="#span-out-FNm">行列</a>は本仕様書の構文で記述する
<br>
・微分はLagrangeの記法で記述する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変更履歴
    </th>
    <td>
<span id="span-out-spec-history"></span>
変更履歴の項目を列挙する
<br>
・<a href="#span-out-spec-changed-history">演算仕様変更履歴</a>
<br>
・<a href="#span-out-spec-default-history">演算既定値変更履歴</a>
<br>
・<a href="#span-out-spec-deprecated-history">演算仕様廃止履歴</a>
<br>
・<a href="#span-out-spec-stricter-history">演算仕様厳格化履歴</a>
<br>
・<a href="#span-out-ope-extended-history1">機能拡張履歴</a>
<br>
・<a href="#span-out-ope-extended-history2">拡張行列演算拡張履歴</a>
<br>
・<a href="#span-out-spec-optimized-history">演算最適化履歴</a>
<br>
・<a href="#span-out-spec-plot-history">plot仕様変更履歴</a>
<br>
・<a href="#span-out-spec-canvas-history">plot表示仕様変更履歴</a>
<br>
・<a href="#span-out-spec-pending">pending</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算仕様
<br>
変更履歴
    </th>
    <td>
<span id="span-out-spec-changed-history"></span>
演算仕様の変更履歴について記述する
<br>
<br>
演算結果の後方互換性を失う仕様変更/影響項目を列挙する
<br>
・<span class="run">Ver.2.31.17</span>以降、<a href="#span-out-scope-vars">変数のscope</a>を追加
<br>
　<a href="#span-out-BT-square">角括弧[]</a>
<br>
　<a href="#span-out-config">内部option</a>
<br>
・<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を追加
<br>
　<a href="#span-out-BRmo">記号省略乗算</a>
<br>
・<span class="run">Ver.2.73.29</span>以降、<a href="#span-out-ope-extended">拡張行列演算</a>を追加
<br>
　<span class="clear">本来、定義できない<a href="#span-out-mat">行列</a>演算</span>
<br>
・<span class="run">Ver.2.79.31</span>以降、<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>の行index=-1　⇒　<span class="condition"><a href="#span-out-FN0">Napier数e</a></span>
<br>
　<span class="run">Ver.2.76.29</span>以降、<a href="#span-out-reference-mat-col">列参照</a>
<br>
　<span class="run">Ver.2.76.29</span>以降、<a href="#span-out-substitution-mat-col">列代入</a>
<br>
　<span class="run">Ver.2.78.31</span>以降、<a href="#span-out-reference-mat-elem">要素参照</a>の<span class="selection">反転機能</span>
<br>
　<span class="run">Ver.2.78.31</span>以降、<a href="#span-out-substitution-mat-elem">要素代入</a>の<span class="selection">反転機能</span>
<br>
　<a href="#span-out-transform-dwt-col">離散Wavelet変換の解法（列代入）</a>
<br>
　<a href="#span-eqn-DWT2d_xy">strict-mode式変数list</a>
<br>
・<span class="run">Ver.2.87.32</span>以降、一部の<a href="#span-out-prec-ope">演算子</a>||<a href="#span-out-FN">関数</a>を<span class="run">Python</span>に準拠
<br>
　<a href="#span-out-prec-ope">べき乗演算子**</a>を<a href="#span-out-associativity">右結合</a>固定に変更（^演算子は変更なし）
<br>
　<a href="#span-out-prec-ope">整数商演算子%%</a>を追加（//演算子の代替）
<br>
　<a href="#span-out-prec-ope-arithmetic-mod">剰余・整数商</a>の<a href="#span-out-prec-ope">演算子のprecedence</a>を<a href="#span-out-prec-ope-arithmetic">除算||乗算</a>に統合
<br>
　<a href="#span-out-FN-int">int関数</a>を0側に丸める仕様に変更（floor関数は変更なし）
<br>
・<span class="run">Ver.2.88.32</span>以降、定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
・<span class="run">Ver.2.127.34</span>以降、<a href="#span-out-reference-mat-size">行列size</a>の丸め方を変更floor　⇒　round
<br>
・<span class="clear">Ver.2.146.37</span>以降、<a href="#span-out-RW">接頭辞</a>判定の<a href="#span-in-re-prifix">正規表現</a>を修正
<br>
　ECMAScript6対応環境の場合、2進数と8進数の<a href="#span-out-RW">接頭辞</a>を追加
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-concatenation-irregular">irregular行列</a>の<a href="#span-out-concatenation">行列結合</a>の<span class="clear">仕様変更</span>
<br>
　列方向の<a href="#span-out-mat-blank">欠損要素</a>を自動で埋める　⇒　<a href="#span-out-mat-blank">欠損要素</a>を埋めない（<span class="clear">挙動を明確化</span>）
<br>
　<a href="#span-eqn">strict-mode式変数list</a>等、実用への影響なし
<br>
・<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-literal">NaN||論理値literal</a>を追加
<br>
　<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>の<a href="#span-out-num-false">false判定値</a>を更新：0　⇒　0||<a href="#span-out-literal">NaN</a>
<br>
　本manualの演算結果を更新：[MyErr] isNaN　⇒　<a href="#span-out-literal">NaN</a>を含む行列
<br>
　引数不正で<a href="#span-out-literal">false</a>を返す<a href="#span-out-FN-args">一部の実装関数</a>を正常化
<br>
　<del>plot仕様の変更なし（現状、<a href="#span-out-literal">NaN</a>を含む演算結果はplot不可）</del>
<br>
　<span class="run">Ver.2.162.39</span>以降、<a href="#span-out-literal">NaN</a>を含む演算結果の<a href="#span-out-plot2d">plot2d</a>出力に対応
<br>
・<span class="clear">Ver.2.165.40</span>以降、<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>の<a href="#span-out-num-false">false判定値</a>を追加更新：0||<a href="#span-out-literal">NaN</a>　⇒　0||<a href="#span-out-literal">false</a>||<a href="#span-out-literal">NaN</a>
<br>
　通常の<a href="#span-out-prec-ope-logical">論理演算子</a>の挙動は問題なし（追記のみ）
<br>
・<span class="run">Ver.2.168.41</span>以降、<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a>の仕様変更
<br>
　operandは実数のみ　⇒　AND||OR同様に、<a href="#span-out-com">複素数</a>に拡張
<br>
・<span class="run">Ver.2.174.42</span>以降、<a href="#span-out-config-strict">strict-mode</a>の制約条件を1点追加
<br>
　<a href="#span-eqn">strict-mode式変数list</a>等、実用への影響なし
<br>
・<span class="run">Ver.2.178.44</span>以降、<a href="#span-out-FN-interp">補間関数</a>の<a href="#span-out-FN-interp">lookup-table</a>標本点の仕様変更
<br>
　実部と虚部の各keyに対する各value（query困難）　⇒　<a href="#span-out-num">実数値</a>keyに対する<a href="#span-out-com">複素数</a>value
<br>
　<a href="#span-eqn">strict-mode式変数list</a>等、実用への影響なし
<br>
・<span class="run">Ver.2.184.44</span>以降、<a href="#span-out-auto-switching">real自動切替</a>機能を追加
<br>
　complex　⇒　auto-real selected既定（本manual以前の演算結果は未更新）
<br>
　後方互換性を維持する場合、complex selected
<br>
　影響項目：<a href="#span-out-FN-sqrt">sqrt関数</a>||<a href="#span-out-FN-pow">pow関数</a>||<a href="#span-out-FN-log">log関数</a>||<a href="#span-out-FN-sin">三角関数</a>||<a href="#span-out-FN-sinh">双曲線関数</a>
<br>
　<a href="#span-in-myeval">独自eval</a>の既定値を更新
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-FNm-size">size行列関数</a>の非正方行列の返値の仕様変更
<br>
　列数n　⇒　{行数m,列数n}
<br>
・<span class="run">Ver.2.186.44</span>以降、<a href="#span-out-FN-min">cmin/cmax関数</a>の関数名を変更
<br>
　<a href="#span-out-FN-min">cmin/cmax関数</a>　⇒　<a href="#span-out-FN-camin">camin/camax関数</a>（manual一括変更）
<br>
・<span class="run">Ver.2.186.44</span>以降、<a href="#span-out-FN-min">cmin/cmax関数</a>の返値の仕様変更
<br>
　絶対値　⇒　要素（<a href="#span-out-FN-statistic">統計関数</a>に準拠）
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
・<span class="run">Ver.2.187.44</span>以降、<a href="#span-out-FNm-norm">normr/norm/normc行列関数</a>を追加して返値の仕様変更
<br>
　最終行/最終列vectorのnorm　⇒　各行/各列vectorのnorm（<a href="#span-out-FNm-normalize">正規化行列関数</a>に準拠）
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
・<span class="run">Ver.2.194.45</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-eqns-re-call">再帰call</a>に対応
<br>
・<span class="run">Ver.2.195.45</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-eqns-no-name">無名call</a>に対応
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-FNc">最上位関数</a>||<a href="#span-out-FN-ope">演算子代替関数</a>
<br>
　||<a href="#span-out-prec-ope-comparison">比較演算子</a>||<a href="#span-out-prec-ope-relational">関係演算子</a>||<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a>||<a href="#span-out-prec-ope-logical-xor">論理XOR演算子</a>の返値の仕様変更
<br>
　0||1　⇒　<a href="#span-out-literal">false||true</a>
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
・<span class="run">Ver.2.205.46</span>以降、整数の丸め方を変更floor　⇒　round（<a href="#span-out-reference-mat-size">行列size</a>の丸め方に準拠）
<br>
　影響項目：<a href="#span-out-FN-fact">階乗関数</a>||<a href="#span-out-eqns-re-call">再帰call</a>||<a href="#span-out-FN-gcd">gcd/lcm関数</a>||<a href="#span-eqn-gcd">gcd/lcm</a>
<br>
　　　　　　||<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の引数（回数||整数範囲||step||次数||分割数）
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
・<span class="run">Ver.2.219.50</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>記号=&lt;の仕様を変更して==&lt;を追加
<br>
　元scopeを維持：=&lt;
<br>
　call先に<a href="#span-out-scope-inherited">scope継承</a>：==&lt;
<br>
　影響項目：<a href="#span-eqn-solvex_non_linear">solvex_non_linear</a>||<a href="#span-eqn-FourierN">FourierN</a>
<br>
　　　　　　||<a href="#span-out-scope-inherited-pass">scope継承pass</a>||<a href="#span-out-scope-inherited-call">scope継承call</a>||<a href="#span-out-scope-inherited-call-memo">scope継承callの補足</a>
<br>
・<span class="run">Ver.2.222.50</span>以降、<a href="#span-out-command">命令文</a>を拡張（<a href="#span-out-log">log表示</a>内容の変更なし）
<br>
　<a href="#span-out-storage">local storage</a>　⇒　<a href="#span-in-scope-vars">static scopes2d array</a>
<br>
　影響項目：<a href="#span-eqn-scope_NG">scope_NG</a>||<a href="#span-eqn-solvex_bisection">solvex_bisection</a>
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-scope">closure機能</a>の仕様変更
<br>
　<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-terms">scope変数</a>から削除　⇒　削除しない
<br>
　上書き不可の仕様を維持（<a href="#span-out-eqns-re-call">再帰call</a>の<a href="#span-out-ref-transparency">参照透過性</a>を維持）
<br>
　影響項目：<a href="#span-out-scope-vars">変数のscope</a>||<a href="#span-out-scope-vars-has1BT">単独scope</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-eqn-explicit-ODE_RK4">explicit ODE_RK4</a>
<br>
・<span class="run">Ver.2.231.56</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の<a href="#span-out-ref-transparency">参照透過性</a>対策を実施
<br>
　dummy変数の<a href="#span-out-vars-symbol">変数名symbol</a>：関数名の一部　⇒　関数の引数（<span class="run">Ver.2.812.131</span>以降、旧仕様廃止）
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
・<span class="run">Ver.2.237.56</span>以降、<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>||<a href="#span-out-FNmh-OX">ODE高階行列関数</a>の第1引数を拡張
<br>
　列vector形式のみ　⇒　行||列vector形式を自動判別
<br>
　<span class="clear">Ver.2.776.123</span>以降、<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>の自動判別を追加修正（最小要素数のみ）
<br>
_t(=&lt;{__t__},,=&lt;{,},1,1) -> (1:0.5+O(1e+0))
<br>
_t(=&lt;{__t__},,=&lt;(,),1,1) -> <del>(1:0.5+O(1e+0))</del>(1,0.5+O(1e+0))
<br>
・<span class="run">Ver.2.240.56</span>以降、<a href="#span-out-FNm">行列関数</a>の既定形式の仕様変更（一般的な言語に準拠）
<br>
　reshape：reshapec　⇒　reshaper（列vector形式　⇒　行vector形式）
<br>
　影響項目：<a href="#span-out-FNm-reshape">reshape行列関数</a>||<a href="#span-out-FNm-norm">norm行列関数</a>||<a href="#span-out-FNm-normalize">正規化行列関数</a>||<a href="#span-eqn-solveAinv">solveAinv</a>
<br>
・<span class="run">Ver.2.253.59</span>以降、<a href="#span-out-eqns-no-name-short">直接式読出し</a>の仕様変更
<br>
　返却時の<a href="#span-out-eqns-call">式読出し</a>記号=&gt;省略可　⇒　省略不可（省略時、<a href="#span-out-vars">変数</a>のみ判別）
<br>
　影響項目：<a href="#span-out-eqns-no-name-short">直接式読出し</a>||<a href="#span-eqn-template">template</a>
<br>
・<span class="run">Ver.2.254.59</span>以降、<a href="#span-out-option8">$let宣言</a>の再代入の仕様変更（初回のみ、$あり　⇒　常時、$あり）
<br>
・<span class="run">Ver.2.268.62</span>以降、<a href="#span-out-FNc">最上位関数</a>のvar||eqnを統合
<br>
　影響項目：<a href="#span-out-FNc">最上位関数</a>||<a href="#span-eqn">strict-mode式変数list</a>
<br>
・<span class="run">Ver.2.290.71</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-terms">scope変数</a>保持条件の仕様変更
<br>
　保持条件：無条件　⇒　<a href="#span-out-eqns">式変数</a>が未解決（右代入を含む）
<br>
　影響項目：<a href="#span-out-eqns-args">式変数のarguments</a>の動的判別@<a href="#span-out-config-strict">Non-strict-mode</a>
<br>
clear; f=(g)=&lt;g; f(1),f((x)=&lt;x) -> <del>(1,1)</del>(1,eqn(x))
<br>
・<span class="run">Ver.2.291.71</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-search">search-precedence</a>の仕様変更
<br>
　<a href="#span-out-vars">変数</a>||<a href="#span-out-eqns">式変数</a>の<a href="#span-out-search">search-precedence</a>：全階層　⇒　階層毎
<br>
　影響項目：<a href="#span-out-search">search-precedence</a>||<a href="#span-out-option9">useMutex</a>
<br>
clear; f=&lt;-1; f=1; [f=2,=&lt;f]=&gt;,[f=&lt;-2,=&lt;f]=&gt; -> (2,<del>1</del>eqn)
<br>
・<span class="run">Ver.2.299.72</span>以降、<a href="#span-out-scope-vars">変数のscope</a>の仕様変更
<br>
　<a href="#span-in-scope-vars">static scopes2d array</a>を共有　⇒　動的に確保して解決済みの場合、削除
<br>
　block-scope：id_treeのfiltering継続
<br>
　影響項目：<a href="#span-out-config-strict">strict-mode</a>||<a href="#span-out-scope-vars">変数のscope</a>||<a href="#span-out-scope-vars-has1BT">単独scope</a>
<br>
　　　　　　||<a href="#span-eqn-scope_NG">scope_NG</a>||<a href="#span-eqn-curried">curried</a>||<a href="#span-eqn-counter">counter</a>
<br>
・<span class="clear">Ver.2.343.83</span>以降、<a href="#span-out-scope-reference">scope参照</a>の仕様修正
<br>
　<a href="#span-out-vars">変数</a>への代入時に右辺の参照を削除しない　⇒　削除する
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
　<span class="clear">Ver.2.346.85</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>||<a href="#span-out-eqns">式変数</a>への代入時も同様に、右辺の参照を削除
<br>
　影響項目：<a href="#span-eqn-Call-by-Reference">Call-by-Reference</a>（<a href="#span-out-eqns">式変数</a>make_NG部分のみ）
<br>
・<span class="run">Ver.2.369.86</span>以降、精度次数が存在する<a href="#span-out-FNh">高階関数</a>の仕様変更
<br>
　精度次数：固定　⇒　関数名直後の数字で指定可（<a href="#span-out-config">内部option</a>より優先）
<br>
　<span class="run">Ver.2.774.119</span>~<span class="run">2.775.121</span>以降、<a href="#span-out-FNmh-OX">ODE高階行列関数</a>の<span class="selection">adaptive-step solver</span>を追加
<br>
　<span class="run">Ver.2.776.122</span>以降、<a href="#span-out-FNmh-OX">ODE高階行列関数</a>を任意のButcher-table入力で再実装（<a href="#span-out-epsilon">Machine epsilon</a>の後方互換性）
<br>
　<span class="run">Ver.2.777.123</span>以降、同上の<span class="condition">外部入力</span>に対応
<br>
　　_o()　⇒　_o||_o4||_o2||_o5<span class="selection">||_o45||_o3||_o23||_o1()||_o12</span><span class="condition">||_o0()</span>
<br>
　　_t()　⇒　_t||_t4||_t2||_t5<span class="selection">||_t45||_t3||_t23||_t1()||_t12</span><span class="condition">||_t0()</span>
<br>
　　_d()　⇒　_d||_d4||_d2()
<br>
　　_i()　⇒　_i||_i4||_i2()
<br>
　影響項目：<a href="#span-out-FNh-DX">微分高階関数</a>||<a href="#span-out-FNh-IX">積分高階関数</a>||<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>
<br>
・<span class="run">Ver.2.381.86</span>以降、繰り返し回数=1~のdummy変数を一時的に保持する<a href="#span-out-ans">予約変数</a>__n__を追加
<br>
　影響項目：<a href="#span-out-FNh-RX">再帰高階関数</a>
<br>
・<span class="run">Ver.2.444.90</span>以降、<a href="#span-out-UI-graphing">Graphing Calculator</a>の<a href="#span-out-UI-graphing">t0/t1</a>分割点の丸め方を最適化（<a href="#span-out-epsilon">Machine epsilon</a>程度の相違あり）
<br>
　<a href="#span-out-FNm-init-space">space初期化行列関数</a>同様の最適化@<span class="run">Ver.2.228.55</span>：t0+(t1-t0)*(n/N)　⇒　t0+((t1-t0)/N)*n
<br>
　影響項目：<a href="#span-out-UI-graphing">t0/t1</a>||<a href="#span-out-plot2d">plot2d</a>
<br>
・<span class="run">Ver.2.721.101</span>以降、<a href="#span-out-FN-ope">mod関数</a>と冗長な<a href="#span-out-FN-ope">fmod関数</a>の仕様変更
<br>
　<a href="#span-out-prec-ope-arithmetic-mod">剰余演算子</a>と<a href="#span-out-FN-ope">mod関数</a>に同義　⇒　常に正の余りを返す
<br>
　影響項目：<a href="#span-out-FN-ope">fquot関数</a>を追加
<br>
　<a href="#span-eqn">strict-mode式変数list</a>への影響なし
<br>
・<span class="run">Ver.2.736.107</span>以降、<a href="#span-out-ans">予約変数</a>__t__||__x__を追加
<br>
　影響項目：<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>
<br>
・<span class="run">Ver.2.739.107</span>以降、<a href="#span-out-ans">予約変数</a>__x__に追加の対応
<br>
　影響項目：<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>
<br>
・<span class="clear">Ver.2.791.126</span>以降、<a href="#span-out-pass-by-symbol">symbol渡し</a>||<a href="#span-out-pass-by-name">name渡し</a>の仕様修正
<br>
　重複宣言：可　⇒　不可
<br>
　影響項目：<a href="#span-out-eqns-args">式変数のarguments</a>
<br>
・<span class="run">Ver.2.833.140</span>以降、<a href="#span-out-special-substitution">代入処理</a>の挙動を統一@<a href="#span-out-config-strict">Non-strict-mode</a>
<br>
　<a href="#span-out-pass-by-symbol">symbol渡し</a>の自動展開：なし　⇒　あり
<br>
clear; f(x)=&lt;d=x:[($a)=(=&lt;f/*<a href="#span-out-config-strict">Non-strict-mode</a>*/),b=(=&lt;f),c=[],c.push(=&lt;f),[a,b,c]]
<br>
-> <del>(0:0,0,0,NaN,eqn(x),$f,$f)</del>(0:0,0,0,NaN,eqn(x),eqn(x),eqn(x))
<br>
clear; c=[],c.push(=&lt;f) -> [MyErr]Undef eqn(f)
<br>
　影響項目：<a href="#span-out-pass-by-symbol">symbol渡し</a>||<a href="#span-eqn-push">push</a>
<br>
clear; f(x)=&lt;d=x:[($a)=(==&lt;f/*<a href="#span-out-config-strict">Non-strict-mode</a>*/),(a)(1)=&gt;,hass(d)],hass(d) -> (0:0,0,false,true)
<br>
clear; f(x)=&lt;d=x:[b=(==&lt;f),(b)(1)=&gt;,hass(d)],hass(d) -> (0:0,0,true,false)
<br>
clear; f(x)=&lt;d=x:[c=[],c.push(==&lt;f),(c)(1)=&gt;,hass(d)],hass(d) -> (0:0,NaN,0,true,false)
<br>
・<span class="run">Ver.2.857.158</span>以降、<a href="#span-out-FNh-DX">微分高階関数</a>の第2と第3の引数順序の交換と仕様変更
<br>
　第2引数の省略：可　⇒　不可
<br>
　影響項目：<a href="#span-out-FNh-DX">微分高階関数</a>||<a href="#span-eqn-MaclaurinN">MaclaurinN</a>||<a href="#span-eqn-TaylorN">TaylorN</a>
<br>
・<span class="run">Ver.2.858.159</span>以降、<a href="#span-out-FNh-IX">積分高階関数</a>の仕様変更
<br>
　N=0の返値：N=100の演算結果　⇒　初期値0
<br>
・<span class="run">Ver.2.858.159</span>以降、<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>の引数の仕様変更（<a href="#span-out-FNh-IX">積分高階関数</a>に準拠）
<br>
　第4||3引数：時間刻み　⇒　dummy変数終了値（省略不可）
<br>
　第5||4引数：省略時、1　⇒　<a href="#span-out-FNh-IX">NI既定値</a>
<br>
　影響項目：<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>||<a href="#span-eqn">strict-mode式変数list</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算既定値
<br>
変更履歴
    </th>
    <td>
<span id="span-out-spec-default-history"></span>
演算既定値の変更履歴を列挙する
<br>
・<span class="clear">Ver.2.321.78</span>以降、差分刻みの仕様修正（修正量ではなく、絶対値　⇒　微分位置の相対値）
<br>
　微分位置xでの差分刻みdx既定値：max(1,abs(x))dx(1+i)　⇒　dx((real(x)||1)+(imag(x)||1)i)
<br>
　影響項目：<a href="#span-out-FNh-DX">微分高階関数</a>||<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>
<br>
　　　　　　||<a href="#span-eqn-solvex_iteration">solvex_iteration</a>||<a href="#span-eqn-solveAinv">solveAinv</a>||<a href="#span-eqn-solvex_non_linear">solvex_non_linear</a>||<a href="#span-eqn-solvex_bisection">solvex_bisection</a>
<br>
　　　　　　||<a href="#span-eqn-implicit-Euler_method">implicit Euler_method</a>||<a href="#span-eqn-explicit-Euler_method">explicit Euler_method</a>
<br>
・<span class="clear">Ver.2.835.141</span>以降、差分刻みの<a href="#span-in-options">内部option</a>既定値を修正
<br>
　<a href="#span-out-float">浮動小数点演算</a>：10進形式　⇒　2進形式
<br>
　epsN：1e-16　⇒　<a href="#span-out-epsilon">Machine epsilon</a>
<br>
　dxJ：1e-5　⇒　2^(-16)
<br>
　dxD：1e-3　⇒　2^(-10)
<br>
Newton((x)=&lt;2x+1=0) -> <del>-0.5000000000011378+1.137793394920403e-12i</del>-0.5
<br>
　影響項目：<a href="#span-out-FNh-DX">微分高階関数</a>||<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>||<a href="#span-out-method-Newton">Newton法</a>||<a href="#span-eqn">strict-mode式変数list</a>
<br>
・<span class="run">Ver.2.858.159</span>以降、<a href="#span-out-FNmh-OX">dxT</a>を廃止
<br>
・<span class="clear">Ver.2.864.160</span>以降、分割数の<a href="#span-in-options">内部option</a>既定値を修正
<br>
　<a href="#span-out-float">浮動小数点演算</a>：10進形式　⇒　2進形式
<br>
　NI：100　⇒　2^7
<br>
_i((x)=&lt;x**2,0,3) -> <del>8.999999999999998+O(8e-7)</del>9+O(3e-7)
<br>
　影響項目：<a href="#span-out-FNh-IX">積分高階関数</a>||<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>
<br>
　　　　　　||<a href="#span-eqn-plot2d_evolution">plot2d_evolution</a>||<a href="#span-eqn-residue">residue</a>||<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算仕様
<br>
廃止履歴
    </th>
    <td>
<span id="span-out-spec-deprecated-history"></span>
演算仕様の廃止履歴を列挙する
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様を廃止して<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>を追加
<br>
　読出し値が残る唯一の仕様　⇒　読出し値が残る仕様を撤廃
<br>
　影響項目：<a href="#span-out-config-strict">strict-mode</a>||<a href="#span-out-plot2d-command-from-arr">plot2d-from-arr</a>||<a href="#span-eqn-plot2d_circle">plot2d_circle</a>||<a href="#span-out-eqns-call">式読出し</a>||<a href="#span-out-special-substitution">代入処理</a>
<br>
・<span class="run">Ver.2.234.56</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の<a href="#span-out-ref-transparency">参照透過性</a>対策を完了
<br>
　<a href="#span-out-terms">scope変数</a>を参照、上書きする　⇒　<a href="#span-out-terms">scope変数</a>から独立する（引数のみ有効）
<br>
　影響項目：<a href="#span-eqn-plot2d_evolution">plot2d_evolution</a>||<a href="#span-eqn-solvex_iteration">solvex_iteration</a>||<a href="#span-eqn-solveAinv">solveAinv</a>||<a href="#span-eqn-solvex_non_linear">solvex_non_linear</a>||<a href="#span-eqn-solvex_bisection">solvex_bisection</a>
<br>
　　　　　　||<a href="#span-eqn-implicit-Euler_method">implicit Euler_method</a>||<a href="#span-eqn-explicit-Euler_method">explicit Euler_method</a>||<a href="#span-eqn-explicit-ODE_RK4">explicit ODE_RK4</a>||<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>
<br>
　<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>のみ、<a href="#span-out-method-Newton">Newton法</a>の初期値を<a href="#span-out-terms">scope変数</a>から継承しないため、演算結果が変わる
<br>
・<span class="run">Ver.2.253.59</span>以降、<a href="#span-out-eqns-omitted-args">引数省略call</a>の仕様廃止（<a href="#span-out-eqns-args">式変数のarguments</a>の判別を厳格化）
<br>
　影響項目：<a href="#span-out-config-strict">strict-mode</a>
<br>
・<span class="run">Ver.2.253.59</span>以降、式変数の新規複製の仕様廃止
<br>
　影響項目：<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-eqn-args">args</a>||<a href="#span-eqn-solvex_bisection">solvex_bisection</a>
<br>
・<span class="clear">Ver.2.747.112</span>以降、<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>の初期仕様廃止
<br>
A=(1,2:3,4); A[e][0] -> <del>(1:3)</del>[MyErr]Invalid reference of array[2.718281828459045]
<br>
A=(1,2:3,4); A[][0] -> (1:3)
<br>
　影響項目：<a href="#span-out-reference-mat">行列への参照</a>||<a href="#span-out-substitution-mat">行列への代入</a>
<br>
・<span class="run">Ver.2.812.131</span>以降、<a href="#span-out-FNh">高階関数</a>の旧仕様廃止
<br>
　dummy変数の<a href="#span-out-vars-symbol">変数名symbol</a>：関数名の一部　⇒　関数の引数（<span class="clear">Ver.2.815.132</span>以降、引数のerror処理を強化）
<br>
　影響項目：<a href="#span-out-FNh">高階関数</a>||<a href="#span-eqn">strict-mode式変数list</a>
<br>
・<span class="run">Ver.2.813.131</span>以降、<a href="#span-out-FNmh-EX">symbolic高階行列関数</a>の仕様廃止（<span class="run">Ver.2.736.107</span>~<span class="run">2.739.107</span>以降、冗長）
<br>
　_e()　⇒　<a href="#span-out-ans">予約変数</a>__x__と<a href="#span-out-FNm-reshape">reshape行列関数</a>
<br>
　影響項目：<a href="#span-eqn">strict-mode式変数list</a>（<span class="run">Ver.2.815.131</span>以降、<a href="#span-eqn-heat1d_evolution">heat1d_evolution</a>のみ、<a href="#span-out-error-numerical">数値解</a>を変更）
<br>
・<span class="run">Ver.2.816.132</span>以降、<a href="#span-out-FNmh">高階行列関数</a>の第2引数を廃止（左詰めで第1引数に統合）
<br>
　影響項目：<a href="#span-out-FNmh">高階行列関数</a>||<a href="#span-eqn">strict-mode式変数list</a>
<br>
・<span class="run">Ver.2.830.139</span>以降、<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>のunshift/push()の<a href="#span-in-pass-by-equation">遅延評価</a>を廃止（<span class="run">Ver.2.829.139</span>以降、無駄仕様）
<br>
　引数の<a href="#span-in-pass-by-equation">遅延評価</a>：あり　⇒　なし（<a href="#span-out-pass-by-equation">式渡し</a>の判別）
<br>
　影響項目：<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>||<a href="#span-eqn">strict-mode式変数list</a>
<br>
・<span class="run">Ver.2.857.158</span>以降、<a href="#span-out-FNh-DX">微分高階関数</a>の<a href="#span-out-ref-transparency">参照透過性</a>対策を完了
<br>
　<a href="#span-out-terms">scope変数</a>を参照する　⇒　<a href="#span-out-terms">scope変数</a>から独立する（引数のみ有効）
<br>
　影響項目：<a href="#span-eqn-MaclaurinN">MaclaurinN</a>||<a href="#span-eqn-TaylorN">TaylorN</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算仕様
<br>
厳格化履歴
    </th>
    <td>
<span id="span-out-spec-stricter-history"></span>
演算仕様の厳格化履歴を列挙する
<br>
・<span class="run">Ver.2.210.46</span>以降、<a href="#span-out-scope-vars-has1BT">単独scope</a>の判定を厳格化（<a href="#span-eqn-scope_NG">scope_NG</a>のNG範囲を最小化）
<br>
　式の長さ制限あり　⇒　長さ制限なし（単独の<a href="#span-out-BT">括弧</a>を探索）
<br>
　影響項目：<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>||<a href="#span-eqn-scope_NG">scope_NG</a>
<br>
・<span class="run">Ver.2.272.63</span>以降、<a href="#span-out-BT-empty">空括弧</a>の判別を厳格化
<br>
　無条件に削除　⇒　定数<a href="#span-out-BT">()</a>のみ削除・<a href="#span-out-BT">波括弧{}</a>禁止
<br>
・<span class="run">Ver.2.272.63</span>以降、引数0個の関数callを厳格化
<br>
　<a href="#span-out-BT">丸括弧()</a>の省略可　⇒　省略不可
<br>
　影響項目：<a href="#span-out-FN-rand">乱数関数</a>||<a href="#span-eqn-random">random</a>||<a href="#span-eqn-magic">magic-square</a>
<br>
・<span class="run">Ver.2.275.65</span>以降、既定で<a href="#span-out-eqns">式変数</a>のcall記号省略不可（syntaxの問題を解消）
<br>
　call記号：=&gt;　⇔　関数callの<a href="#span-out-BT">丸括弧()</a>
<br>
　記号省略：自動実行　⇒　<a href="#span-out-eqns">式変数</a>宣言@<a href="#span-out-config-strict">Non-strict-mode</a>の判別（callの場合、記号を明示）
<br>
last{set_x=&lt;(x=1),x=0,set_x,x} -> <del>1</del>0
<br>
last{set_x=&lt;(x=1),x=0,set_x(),x} -> 1
<br>
　syntaxの問題：下記<span class="clear"><a href="#span-out-eqns-args">arguments</a></span>無効で実行可能　⇒　error終了
<br>
_r((n)=&lt;run,run<span class="clear">(n,n)</span>=&lt;n+1,3) -> <del>3</del>[MyErr]Invalid BTe([object Object],[object Object],[object Object])
<br>
_r((n)=&lt;run(),run(n,n)=&lt;n+1,3) -> [MyErr]Invalid args.length=2(run)
<br>
_r((n)=&lt;run(),run=&lt;n+1,3) -> 3
<br>
　影響項目：<a href="#span-out-config-strict">Non-strict-mode</a>||<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>
<br>
・<span class="run">Ver.2.290.71</span>以降、<a href="#span-out-BT">丸括弧()</a>の判別を厳格化
<br>
=&lt;x,()=&lt;x -> ($x,<del>$x</del>eqn())
<br>
=&lt;x+1,()=&lt;x+1 -> (eqn,eqn())
<br>
(x)=&lt;x,(x,y)=&lt;x+y -> (eqn(x),eqn(x,y))
<br>
{x,y}=&lt;x+y,{(x,(y,z))}=&lt;x+y+z -> (eqn(y),eqn(x,y,z))
<br>
・<span class="run">Ver.2.301.72</span>以降、<a href="#span-out-vars-escape">escape記号</a>を<a href="#span-out-RW">予約語</a>に追加
<br>
　$記号：<a href="#span-out-vars-symbol">変数名symbol</a>の一部に使用可　⇒　使用不可
<br>
　影響項目：<a href="#span-out-vars-rule2">変数の命名規則</a>
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindexを厳格化
<br>
　index：[0]　⇒　<a href="#span-out-mat-empty">空行列</a>[]（[0]指定の場合、初期化と異なり、size不正のerror終了）
<br>
　影響項目：<a href="#span-out-reference-mat-area">area参照</a>||<a href="#span-out-substitution-mat-area">area代入</a>
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat">行列への代入</a>の<a href="#span-out-FNm-size">行列size</a>比較を厳格化
<br>
　<a href="#span-out-substitution-mat-row">行代入</a>：右辺の最終行を代入　⇒　1行の場合、代入可
<br>
　<a href="#span-out-substitution-mat-col">列代入</a>：右辺の最終列を代入　⇒　1列の場合、代入可
<br>
　<a href="#span-out-substitution-mat-elem">要素代入</a>：右辺の<a href="#span-out-FNm-last">最終要素</a>を代入　⇒　1要素の場合、代入可
<br>
　影響項目：<a href="#span-out-substitution-mat-row">行代入</a>||<a href="#span-out-substitution-mat-col">列代入</a>||<a href="#span-out-substitution-mat-elem">要素代入</a>
<br>
・<span class="run">Ver.2.440.90</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>の<a href="#span-out-FNm-size">行列size</a>比較を厳格化
<br>
　<a href="#span-out-FNm-size">行列size</a>違いの比較可　⇒　比較不可
<br>
　影響項目：<a href="#span-out-matching">行列要素pattern matching</a>
<br>
clear; ($a,$b,$c)=(1,2); (a,b) -> <del>(1,2)</del>[MyErr]Invalid matching-size(LR)
<br>
・<span class="run">Ver.2.441.90</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>の要素比較を厳格化
<br>
　代入に無関係の要素の比較可　⇒　比較不可
<br>
　影響項目：<a href="#span-out-matching">行列要素pattern matching</a>
<br>
clear; ($a,$b,3)=(1,2,=&lt;4); (a,b) -> <del>(1,2)</del>[MyErr]Invalid matching(LR)
<br>
・<span class="clear">Ver.2.735.105~107</span>以降、<a href="#span-out-FNmh">高階行列関数</a>の引数判定を厳格化
<br>
　引数省略：引数不足の場合、error終了
<br>
_t(=&lt;1) -> <del>Cannot read properties of undefined</del>[MyErr]Invalid TX arguments
<br>
　<span class="clear">Ver.2.774.121</span>以降、<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>の引数判定を追加修正
<br>
_t(=&lt;1,,,1,1) -> <del>Cannot read properties of undefined</del>[MyErr]Invalid TX arguments
<br>
　引数の<a href="#span-out-FNm-size">行列size</a>比較：size不整合の場合、error終了
<br>
_o((t,x)=&lt;t,,=&lt;{,,},,1,4)  -> <del>8+O(1e+0)</del>[MyErr]Invalid OX arguments
<br>
　初期値省略：無次元の0以外の場合、error終了
<br>
_o((t,x)=&lt;t,,true,,1,4)  -> <del>8+O(1e+0)</del>[MyErr]Invalid OX arguments
<br>
_t((t,x)=&lt;t,,true,1,4)  -> <del>(4:8+O(1e+0))</del>[MyErr]Invalid TX arguments
<br>
Newton((x)=&lt;x+0,1,true) -> <del>0</del>[MyErr]Invalid newtonian arguments
<br>
　<span class="clear">Ver.2.843.149</span>以降、size不整合の判定を厳格化
<br>
_o((t,x,y)=&lt;(,),=&lt;{,},1,1) || _o((t,x,y)=&lt;{,},=&lt;(,),1,1) -> [MyErr]Invalid OX arguments(RC)
<br>
_t((t,x,y)=&lt;(,),=&lt;{,,},1,1) || _t((t,x,y)=&lt;{,},=&lt;(,,),1,1) -> [MyErr]Invalid TX arguments(RC)
<br>
Jacobi((x,y)=&lt;(x,y),=&lt;{,})|| Jacobi((x,y)=&lt;{x,y},=&lt;(,)) -> [MyErr]Invalid jacobian arguments(RC)
<br>
Newton((x,y)=&lt;(x,y),=&lt;{,})|| Newton((x,y)=&lt;{x,y},=&lt;(,)) -> [MyErr]Invalid newtonian arguments(RC)
<br>
・<span class="clear">Ver.2.747.112</span>以降、<a href="#span-out-reference-mat-index">行列index</a>の判別を厳格化
<br>
A=(1,2:3,4); A[i] -> <del>(1,2)</del>[MyErr]Invalid reference of array[1i]
<br>
　影響項目：<a href="#span-out-reference-mat">行列への参照</a>||<a href="#span-out-substitution-mat">行列への代入</a>
<br>
　内部判定値：Math.E　⇒　null　⇒　undefined　<span class="clear">Ver.2.768.117</span>以降、error終了を復帰
<br>
A=(1,2:3,4); A[][] -> <del>(1:3)</del>[MyErr]Invalid reference of array[][undefined]
<br>
A=(1,2:3,4); A[][][] -> <del>(1,1,1:4,4,4)</del>[MyErr]Invalid reference of array(band)
<br>
A=(1,2:3,4); A[][][][] -> <del>(1,2:3,4)</del>[MyErr]Invalid reference of array(area)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
機能拡張履歴
    </th>
    <td>
<span id="span-out-ope-extended-history1"></span>
機能の拡張履歴を列挙する
<br>
・<span class="run">Ver.2.255.59</span>以降、<a href="#span-out-reference-mat">行列への参照</a>から<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>に対応
<br>
・<span class="run">Ver.2.257.59</span>以降、<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>のiterator対象を拡張
<br>
　iterator対象：<a href="#span-out-vars">変数</a>　⇒　<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
<br>
・<span class="run">Ver.2.258.60</span>以降、<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>||<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>のoperandを拡張
<br>
　operand：<a href="#span-out-vars">変数</a>　⇒　<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
<br>
・<span class="run">Ver.2.269.62</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>の<a href="#span-in-pass-by-equation">遅延評価</a>に対応
<br>
　<a href="#span-out-vars">変数</a>：要素の値代入のみ　⇒　<a href="#span-out-eqns-args">式変数のarguments</a>との互換性を確保（未解決の場合、error終了）
<br>
・<span class="run">Ver.2.271.62</span>以降、<a href="#span-out-FNh-RX">再帰高階関数</a>の初期値（第2引数）の<a href="#span-in-pass-by-equation">遅延評価</a>に対応
<br>
・<span class="run">Ver.2.276.65</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の動的判別@<a href="#span-out-config-strict">Non-strict-mode</a>に対応
<br>
　動的判別対象：記号=&lt;の有無||<a href="#span-in-pass-by-equation">遅延評価</a>の明示
<br>
　定義元：記号=&lt;を省略不可　⇒　省略可（call先の引数を自動展開時、付与のflagからtree継承）
<br>
　call先：省略可（<a href="#span-in-pass-by-equation">遅延評価</a>の明示を除く）
<br>
・<span class="run">Ver.2.277.65</span>以降、equal記号=の動的判別に対応（<a href="#span-out-reference-mat">行列への参照</a>||<a href="#span-out-eqns-re-use">再利用</a>を含む）
<br>
　動的判別対象：記号=&lt;の有無
<br>
　equal記号=：省略の前提　⇒　省略可（旧仕様を含めて統廃合の可能性あり）
<br>
・<span class="run">Ver.2.279.65</span>以降、<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>の第1引数の動的判別@<a href="#span-out-config-strict">Non-strict-mode</a>に対応
<br>
　動的判別対象：記号=&lt;の有無
<br>
　実装関数の引数：動的判別なし　⇒　<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>@<a href="#span-out-config-strict">Non-strict-mode</a>のみ対応
<br>
・<span class="run">Ver.2.282.66</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の判別対象を拡張
<br>
　<a href="#span-in-pass-by-equation">遅延評価</a>の明示対象：<a href="#span-out-eqns">式変数</a>宣言を除く　⇒　<a href="#span-out-eqns">式変数</a>宣言を含む
<br>
clear; f=(A)=&lt;A; f(=&lt;(1,2))=&gt; -> (1,2)
<br>
clear; A=((x)=&lt;x); (A[0][0])(2)=&gt; -> 2
<br>
clear; A_lazy=((x)=&lt;x); f(A)=&lt;(A[0][0])(2)=&gt;; f(=&lt;A_lazy)=&gt; -> <del>[MyErr]Undef eqn(A_lazy)</del>2
<br>
・<span class="run">Ver.2.283.66</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の動的判別@<a href="#span-out-config-strict">Non-strict-mode</a>の<a href="#span-out-ref-transparency">参照透過性</a>を対策
<br>
clear; f=(h)=&lt;h(3); g=(x)=&lt;x; f(g) -> 3
<br>
clear; f=(h)=&lt;h(3); f((x)=&lt;x) -> <del>[MyErr]Undef var(x)</del>3
<br>
・<span class="clear">Ver.2.283.67</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-ref-transparency">参照透過性</a>の不具合を修正
<br>
　<a href="#span-out-vars">変数</a>への代入可能判定：数値のみの<a href="#span-out-mat">行列</a>　⇒　数値||<a href="#span-out-eqns">式変数</a>宣言の<a href="#span-out-mat">行列</a>
<br>
A_iterable=(=&lt;1,=&lt;2:=&lt;3,=&lt;4);
<br>
A_iterable.map((f)=&lt;f()) -> (1,2:3,4)
<br>
f=(A_iterable)=&lt;[=&lt;A_iterable.map((f)=&lt;f())]=&gt;;
<br>
f(=&lt;A_iterable) -> (1,2:3,4)
<br>
f(=&lt;(=&lt;1,=&lt;2:=&lt;3,=&lt;4)) -> <del>[MyErr]Invalid .map(f)</del>(1,2:3,4)
<br>
・<span class="run">Ver.2.288.70</span>以降、<a href="#span-out-eqns">式変数</a>宣言の<a href="#span-out-log">log表示</a>を変更
<br>
　<a href="#span-out-eqns">式変数</a>宣言の<a href="#span-out-log">log表示</a>：BTe　⇒　$symbol || eqn || eqn(args)
<br>
=&lt;x -> [MyErr]Invalid BTe([object Object])
<br>
・<span class="run">Ver.2.296.72</span>以降、<a href="#span-out-const-vars">const宣言</a>の<a href="#span-out-log">log表示</a>に対応（右代入を除く）
<br>
clear; $a=1 -> const a=1
<br>
clear; $f=&lt;1 -> stored_eqn(const f)
<br>
clear; $f=()=&lt;1 -> stored_eqn(const f)
<br>
clear; [()=&lt;1]=&gt;$f -> 0
<br>
・<span class="run">Ver.2.298.72</span>以降、<a href="#span-out-vars">変数</a>のprototype method代替の<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>を追加
<br>
・<span class="run">Ver.2.303.73</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-scope-reference">scope参照</a>の仕様追加（未最適化）
<br>
　参照渡し記号：?symbol
<br>
・<span class="run">Ver.2.823.135</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の直列化に対応
<br>
　<span class="clear">Ver.2.824.138</span>以降、列方向の<a href="#span-out-mat-blank">欠損要素</a>に対応
<br>
h(a,b:c)=&lt;(a,b,c); h(1,2,3):h(1,2:3):h(1:2,3):h(1:2:3) -> (1,2,3:1,2,3:1,2,3:1,2,3)
<br>
h(a:b,c)=&lt;(a,b,c); h(1,2,3):h(1,2:3):h(1:2,3):h(1:2:3) -> (1,2,3:1,2,3:1,2,3:1,2,3)
<br>
　定義元とcall先の対応関係：最終行vector　⇒　<a href="#span-out-FNm-reshape">reshaper行列関数</a>で直列化の行vector
<br>
　補足：直列化≠<a href="#span-out-matching">行列要素pattern matching</a>
<br>
　影響項目：<a href="#span-out-eqns-args">式変数のarguments</a>
<br>
　<span class="clear">Ver.2.823.136</span>~<span class="clear">2.823.137</span>以降、<a href="#span-out-FNmh">高階行列関数</a>の第2引数のerror処理を強化
<br>
f(x,y)=&lt;{,}; Newton(=&lt;f,=&lt;{1,2:3}) -> <del>(NaN:NaN)</del>[MyErr]Invalid newtonian arguments
<br>
f(x,y)=&lt;{,}; Newton(=&lt;f,(x)=&lt;{1,2:3}) -> <del>(NaN:NaN)</del>[MyErr]Invalid newtonian arguments
<br>
f(x,y)=&lt;{,}; g(x)=&lt;{1,2:3}; Newton(=&lt;f,=&lt;g) -> [MyErr]Invalid newtonian arguments
<br>
　<span class="clear">Ver.2.823.137</span>以降、<a href="#span-out-FNh-RX">再帰高階関数</a>の第4引数のerror処理を強化
<br>
_r((n)=&lt;n+1,,10,(x)=&lt;false) -> <del>10</del>[MyErr]Invalid RX arguments
<br>
h(x)=&lt;false; _r((n)=&lt;n+1,,10,=&lt;h) -> <del>10</del>[MyErr]Invalid RX arguments
<br>
・<span class="run">Ver.2.829.139</span>以降、<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>のunshift/push()を拡張（<a href="#span-out-concatenation">行列結合</a>より高速）
<br>
　第1引数：行vector　⇒　<a href="#span-out-mat">行列</a>
<br>
　影響項目：<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
拡張行列演算
<br>
拡張履歴
    </th>
    <td>
<span id="span-out-ope-extended-history2"></span>
<a href="#span-out-ope-extended">拡張行列演算</a>の拡張履歴を列挙する
<br>
・<a href="#span-out-FN">関数の引数vector</a>の場合
<br>
最終行vector　⇒　<span class="run">Ver.2.73.29</span>以降、各行vectorに拡張
<br>
・<a href="#span-out-type-ope">演算子のoperand</a>の場合
<br>
最終行vector　⇒　<span class="run">Ver.2.73.29</span>以降、各行vectorに拡張（<a href="#span-out-option4">comma演算子</a>を適用）
<br>
　　　　　　　⇒　<span class="run">Ver.2.74.29</span>以降、各要素に拡張（<a href="#span-out-option4">comma演算子</a>使用を選択可）
<br>
・<span class="run">Ver.2.88.32</span>以降、定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a>を拡張対象に追加
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算
<br>
最適化履歴
    </th>
    <td>
<span id="span-out-spec-optimized-history"></span>
演算の最適化履歴を列挙する
<br>
・<span class="run">Ver.2.142.36</span>以降、<a href="#span-out-flow">parse</a>段階で<a href="#span-out-num">実数値</a>の大規模<a href="#span-out-csv-format">csv-format</a>入力に対応
<br>
・<span class="clear">Ver.2.144.36</span>以降、<a href="#span-out-flow">operation</a>段階の<a href="#span-out-concatenation">行列結合</a>を含む<a href="#span-in-options">depthMax</a>制限を追加（browser crashの2重対策）
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-flow">operation</a>段階の<a href="#span-out-concatenation">行列結合</a>のnestingを最適化
<br>
　<a href="#span-out-SR">区切り文字</a>間に<a href="#span-out-BT">括弧</a>が存在しない場合、部分的にsliceして結合（nestingの多重化を事前に回避）
<br>
　⇒　動的memory使用量の低減
<br>
　⇒　<a href="#span-in-options">depthMax</a>制限の余裕確保
<br>
・<span class="run">Ver.2.160.38</span>以降、<a href="#span-in-deep-copy">deep-copy</a>の適用対象を最適化
<br>
　適用対象：<a href="#span-out-concatenation">行列結合</a>由来を含む全nesting　⇒　<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の反復処理由来のnesting
<br>
　⇒　動的memory使用量の低減
<br>
　⇒　<a href="#span-out-concatenation">行列結合</a>を含む演算の高速化
<br>
・<span class="run">Ver.2.202.46</span>以降、<a href="#span-in-deep-copy">deep-copy</a>の適用対象を厳格化（<a href="#span-out-eqns-call">式読出し</a>由来を除外）
<br>
・<span class="run">Ver.2.209.46</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>の実装を最適化
<br>
　<a href="#span-out-vars-symbol">式変数名symbol</a>を含む処理範囲の厳格化（<span class="clear">Ver.2.213.49</span>以降、処理範囲を訂正）
<br>
<del>(0=&lt;3)=&gt; -> 3</del>
<br>
(0=&lt;3)=&gt; -> [MyErr]Invalid operation
<br>
・<span class="run">Ver.2.212.46</span>以降、演算実行確定1回毎にtreeの走査対象を最適化
<br>
　走査対象：全<a href="#span-in-prec">tag名</a>　⇒　使用<a href="#span-in-prec">tag名</a>のみ（<span class="clear">Ver.2.212.47</span>以降、必須tagのBT1を追加修正）
<br>
　　　　　　⇒　使用<a href="#span-in-prec">tag名</a>のみ（<span class="clear">Ver.2.214.50</span>以降、<a href="#span-out-eqns-re-use">式変数の再利用</a>を追加修正）
<br>
・<span class="run">Ver.2.228.55</span>以降、<a href="#span-out-FNm-init-space">space初期化行列関数</a>の整数の丸め方を最適化
<br>
　影響項目：<a href="#span-eqn-plot2d_interp">plot2d_interp</a>
<br>
・<span class="run">Ver.2.230.56</span>以降、<a href="#span-out-vars-symbol">変数名symbol</a>の内部取得関数を最適化
<br>
　<span class="clear">Ver.2.251.58</span>以降、<a href="#span-out-pass-by-symbol">symbol渡し</a>の判定を修正
<br>
clear; a=3,f(=&lt;g)=&lt;g(a)=&gt;,f((x)=&lt;<span class="clear">x</span>)=&gt; -> <del>[MyErr]Undef eqn(<span class="clear">x</span>)</del>(0,0,3)
<br>
clear; a=3,f(=&lt;g)=&lt;g(a)=&gt;,f((x)=&lt;x+1)=&gt; -> (0,0,4)
<br>
clear; a=3,f(<span class="clear">(args)</span>=&lt;g)=&lt;g(a)=&gt;,f((x)=&lt;x+1)=&gt; -> <del>(0,0,4)</del>[MyErr]Invalid args(args)=&lt;name
<br>
　<span class="clear">Ver.2.252.59</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>のerror処理を修正
<br>
<del>clear; f(3,x)=&lt;x -> stored_eqn(f)
<br>
clear; f(3,x)=&lt;x; f(3,3)=&gt; -> [MyErr]Invalid args.length=0(f)</del>
<br>
clear; f(3,x)=&lt;x -> [MyErr]Invalid args isFound(f)
<br>
・<span class="run">Ver.2.231.56</span>以降、<a href="#span-out-FNh">高階関数</a>の内部wrapper関数を追加
<br>
・<span class="run">Ver.2.233.56</span>以降、<a href="#span-out-FNmh">高階行列関数</a>の内部wrapper関数を追加
<br>
・<span class="clear">Ver.2.266.62</span>以降、<a href="#span-in-deep-copy">deep-copy</a>の適用対象を最適化
<br>
　適用対象：<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>のstore||restore時　⇒　<span class="clear">restore時</span>（<a href="#span-out-ans">予約変数</a>ansを含む）
<br>
　2重clone：あり　⇒　なし
<br>
・<span class="run">Ver.2.284.67</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>解決の処理を最適化
<br>
　tree継承flagの保存：<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>のrestore時　⇒　store時
<br>
　<span class="clear">Ver.2.280.66</span>以降、未定義の<a href="#span-out-vars">変数</a>を<a href="#span-out-flow">operation</a>段階で検知の影響：重複判定の処理を削除
<br>
・<span class="run">Ver.2.286.67</span>以降、<span class="run">Ver.2.212.46</span>の追加更新
<br>
　使用<a href="#span-in-prec">tag名</a>判定用のobject初期化処理：instance毎　⇒　関数call毎
<br>
　影響範囲：実行確定1回毎に、instanceを作るため、影響なし（<a href="#span-in-myeval">独自eval</a>を含む）
<br>
・<span class="run">Ver.2.389.86</span>以降、<a href="#span-out-flow">parse</a>段階のpattern matching処理を最適化
<br>
　対象：<a href="#span-out-FN-statistic">統計関数</a>||<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>
<br>
　内容：tokenの1文字目のunderscore_を判定して<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>と<a href="#span-out-FN-statistic">統計関数</a>の処理を切替
<br>
・<span class="run">Ver.2.768.116</span>以降、行vectorの<a href="#span-out-reference-mat-col">列参照</a>を最適化
<br>
　転置処理：あり　⇒　なし
<br>
・<span class="run">Ver.2.844.152</span>以降、<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>の最適化
<br>
　Jacobi行列の配列初期化：反復の毎step　⇒　反復前（最初のみ）
<br>
　treeの代入：反復の前後　⇒　反復後（最後のみ）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot仕様
<br>
変更履歴
    </th>
    <td>
<span id="span-out-spec-plot-history"></span>
<a href="#span-out-UI-graphing">Graphing Calculator</a>のplot仕様変更履歴を列挙する
<br>
・<span class="run">Ver.2.33.17</span>以降、正式release
<br>
　後方互換性のため、<a href="#span-in-options">内部option</a>を追加
<br>
・<span class="run">Ver.2.86.32</span>以降、plot範囲を微調整
<br>
・<span class="run">Ver.2.190.44</span>以降、plot範囲の自動調整機能を削除して<a href="#span-out-UI-graphing">plot2d-Ver</a>の選択肢を追加
<br>
　Ver.0：<span class="run">Ver.2.33.17</span>以前の仕様（<a href="#span-in-options">oldPlot2d=true</a>）
<br>
　Ver.1：<span class="run">Ver.2.33.17</span>~<span class="run">2.190.44</span>の仕様
<br>
　Ver.2：<span class="run">Ver.2.190.44</span>~の仕様
<br>
・<span class="run">Ver.2.277.65</span>以降、<a href="#span-out-eqns">式変数</a>宣言の<a href="#span-out-flow">parser-post</a>処理を変更
<br>
　error終了　⇒　BTe（BrackeTeqn）の<a href="#span-out-log">log表示</a>
<br>
・<span class="run">Ver.2.279.65</span>以降、<a href="#span-out-BT-empty">空括弧</a>のplot値を変更
<br>
　0　⇒　<a href="#span-out-num-NaN">欠損値</a>
<br>
・<span class="run">Ver.2.279.65</span>以降、数値以外の要素（<a href="#span-out-eqns">式変数</a>宣言を含む）が残存する場合、plotの挙動を変更
<br>
　error終了　⇒　<a href="#span-out-num-NaN">欠損値</a>に変換
<br>
・<span class="clear">Ver.2.280.66</span>以降、上記変更により、未定義の<a href="#span-out-vars">変数</a>を検知不能の致命的な不具合を修正
<br>
　検知段階：<del><a href="#span-out-flow">parser-post</a></del><span class="run">Ver.2.279.65</span>以降、削除　⇒　<a href="#span-out-flow">operation</a>（<a href="#span-out-vars-symbol">symbol</a>取得処理を除外して対策）
<br>
clear; last{a,1} -> <del>1</del>[MyErr]Undef var(a)
<br>
　影響項目：<a href="#span-out-FNm-size">size行列関数</a>
<br>
・<span class="run">Ver.2.319.77</span>以降、<a href="#span-out-UI-graphing-v">v入力仕様</a>の仕様変更
<br>
　vx入力：legend1番で共通　⇒　各legendで独立（vy入力に準拠）
<br>
・<span class="run">Ver.2.321.77</span>以降、<a href="#span-in-options">matSizeMax</a>の既定値を変更
<br>
　<a href="#span-in-options">matSizeMax</a>既定値：1000　⇒　1024
<br>
　影響項目：<a href="#span-out-UI-graphing">Graphing Calculator</a>||<a href="#span-out-FNm-init">初期化行列関数</a>
<br>
・<span class="clear">Ver.2.723.102</span>以降、svg出力のpolylineのmasking不具合を暫定修正
<br>
　内容：line||polyline単体でblockの場合、意図しないmaskingが稀に発生（line消滅）
<br>
　前者：未遭遇
<br>
　後者の対策：&lt;polyline points="" /&gt;　⇒　&lt;polyline points="" /&gt;&lt;line /&gt;
<br>
　再現条件の備考：&lt;polyline /&gt;の追加は効果なし
<br>
・<span class="clear">Ver.2.821.135</span>以降、plot座標から変換後のcanvas座標が無限大の場合、致命的な不具合を修正
<br>
　内容：canvas座標が無限大の場合、予期せぬerror終了からdeadlockが発生
<br>
　対策：
<br>
　・canvas座標が有限を保証するwrapper関数の追加
<br>
　　<span class="clear">Ver.2.847.155</span>以降、Infinity判定の厳密化：!(isFinite(x))　⇒　Math.abs(x) === Number.POSITIVE_INFINITY
<br>
　・内部関数名の変更を伴うtry~catch処理の大幅修正
<br>
　・lock処理の見直し
<br>
・<span class="clear">Ver.2.843.151</span>以降、<a href="#span-out-plot2d-command-from-log">plot2d-from-log</a>の<a href="#span-out-SR">区切り文字</a>と<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>の記号衝突を訂正
<br>
　tokenの区切り文字：'　⇒　["]{1,2}
<br>
　影響項目：<a href="#span-out-plot2d-command-from-log">plot2d-from-log</a>||<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot表示仕様
<br>
変更履歴
    </th>
    <td>
<span id="span-out-spec-canvas-history"></span>
<a href="#span-out-UI-graphing">Graphing Calculator</a>のplot表示仕様変更履歴を列挙する
<br>
・<span class="run">Ver.2.746.111</span>以降、checkboxの仕様改善
<br>
　<a href="#span-out-UI-graphing">p-checkbox</a>：checkedで全表示
<br>
　<a href="#span-out-UI-graphing">z-checkbox</a>：checked時、<a href="#span-out-UI-graphing-z">z入力欄</a>を有効化
<br>
・<span class="run">Ver.2.759.115</span>以降、自動描画refreshの頻度を変更
<br>
　refresh頻度：最大10回　⇒　最短1秒間隔
<br>
　影響項目：<a href="#span-out-UI-graphing-gradation">gradation特定項目仕様</a>
<br>
・<span class="run">Ver.2.770.117</span>~<span class="clear">2.773.118</span>以降、<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>の数字label表示を改善
<br>
　丸め方：なし　⇒　整数以外の場合、<a href="#span-out-epsilon">Machine epsilon</a>を丸める
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
pending
    </th>
    <td>
<span id="span-out-spec-pending"></span>
pending項目を列挙する
<br>
<br>
実装
<br>
・<a href="#span-out-vars-symbol">symbol</a>明示記号
<br>
・const代替記号（<a href="#span-out-pass-by-name">name渡し</a>と重複の$記号から変更の可能性あり）
<br>
・<a href="#span-out-scope-vars">scope</a>不定の<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-option8">use$let</a>対応（<a href="#span-out-pass-by-name">name渡し</a>||<a href="#span-out-scope-reference">scope参照</a>を除く）
<br>
・arr=arr|||[]
<br>
　undef宣言未実装
<br>
・[0] -> 0の演算
<br>
　単独要素の場合、無条件のerror終了
<br>
・__args__
<br>
<br>
plot
<br>
・vz入力欄：tarr_z
<br>
　absolute||argument||vector||contourの選択肢を追加
<br>
・aspect比固定option（round-off桁数との整合性を含む）
<br>
・<a href="#span-out-UI-graphing">shared storage</a>の双方向化
<br>
・plot点数の間引き処理
<br>
<br>
<a href="#span-out-debug">debugger</a>
<br>
・<a href="#span-out-mat-empty">空行列</a>のerror終了判定強化（<a href="#span-out-FNmh">高階行列関数</a>を含む）
<br>
<br>
code整理
<br>
・比較判定対象のべた書き
<br>
・error処理
<br>
・<a href="#span-out-log-error">error-log</a>の内容
<br>
<br>
最適化
<br>
・<a href="#span-out-non-linear">非線形方程式の解法</a>
<br>
<br>
高速化
<br>
・<a href="#span-out-eqns-re-call">再帰call</a>の<a href="#span-in-prec">tag名</a>
<br>
・<a href="#span-out-eqns-re-call">再帰call</a>のmemo化option
<br>
　String(引数)と結果のlist優先の短絡評価
<br>
<br>
仕様廃止
<br>
・右代入
<br>
　<span class="run">Ver.2.279.65</span>以降、冗長
<br>
　<span class="run">Ver.2.441.90</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>の要素比較を厳格化
<br>
・<a href="#span-out-FNspecial-spec">特殊仕様関数</a>（関数名に引数の一部を含む仕様）
<br>
<br>
仕様見直し
<br>
・<a href="#span-out-mat-blank">欠損要素</a>
<br>
-(1,2:3) -> (-1,-2:-3,0)
<br>
・<a href="#span-out-mat-empty">空行列</a>
<br>
[]+[] -> []
<br>
・<a href="#span-out-FNmh">高階行列関数</a>の引数=0で省略判定（初期値の数値入力不可）
<br>
・<a href="#span-out-eqns-return">末尾return</a>
<br>
<br>
仕様変更
<br>
・eqn表記　⇒　fn表記
<br>
　参照と区別
<br>
・<a href="#span-out-option8">use$let</a>既定
<br>
・<a href="#span-out-reference-mat-band">band参照</a>の返値
<br>
　返値の列vector：上詰め（<a href="#span-out-reference-mat-row">行index</a>の維持より転置の対称性を優先）
<br>
<br>
仕様拡張
<br>
・Gauss(A,b)の行vector入出力に対応（<a href="#span-out-FNmh">高階行列関数</a>と異なり、代数学に準拠）
<br>
<br>
closed
<br>
・<a href="#span-out-eqns">式変数</a>のcall記号省略時の挙動
<br>
　<del>自動実行　⇒　error終了</del>
<br>
　<span class="run">Ver.2.275.65</span>以降、<a href="#span-out-eqns">式変数</a>宣言@<a href="#span-out-config-strict">Non-strict-mode</a>の判別（callの場合、記号を明示）
<br>
・has($x)　⇔　has(x)||has(=&lt;x)
<br>
　<span class="run">Ver.2.295.71</span>以降、error終了
<br>
has($x) -> <del>false</del>[MyErr]Invalid symbol($x)
<br>
$$=1 -> [MyErr]Invalid symbol
<br>
・<span class="run">Ver.2.298.72</span>以降、<a href="#span-out-vars">変数</a>のprototype method代替の<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>を追加
<br>
<del>　<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>を<a href="#span-out-terms">scope変数</a>の直接edit関数に拡張（<a href="#span-out-array">行列操作</a>||<a href="#span-out-concatenation">行列結合</a>の高速化）
<br>
　A.unshift/push(val,opt_i)
<br>
unshift：len=sizer(A),opt_i==-(len+1)&amp;&amp;&amp;(A=(val:A))||||last{is=(opt_i||0)%len,A[is]=(val,A[is])}
<br>
push：len=sizer(A),opt_i==len&amp;&amp;&amp;(A=(A:val))||||last{ie=(opt_i||len-1)%len,A[ie]=(A[ie],val)}</del>
<br>
・<a href="#span-out-FNh">高階関数</a>の引数順序<del>（代数学||for文準拠に変更等）</del>
<br>
・<span class="run">Ver.2.774.119</span>以降、<a href="#span-out-FNmh-OX">ODE高階行列関数</a>のadaptive-step solverを追加
<br>
・<span class="run">Ver.2.847.153</span>以降、<a href="#span-out-mat">行列</a>の<a href="#span-out-prec-ope-relational">厳密等価||不等価演算子</a>を追加
<br>
・<span class="run">Ver.2.857.158</span>以降、<a href="#span-out-FNh-DX">微分高階関数</a>の第2引数の省略不可（<a href="#span-out-ref-transparency">参照透過性</a>の問題を解消）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
開発環境
    </th>
    <td>
<span id="span-out-development"></span>
<span class="run">JavaScript</span>のinterpreterを介してbrowser上で演算を実行する
<br>
・以降、<span class="run">JavaScript</span>標準規格のECMAScriptをNativeと表記する
<br>
<br>
開発環境を列挙する
<br>
・Microsoft windows 10
<br>
・Google Chrome Developer Tools（以降、Chrome DevToolsと省略する）
<br>
・Apache HTTP Server
<br>
・GitHub Desktop
<br>
・GitHub Pages
<br>
commit E-mail addressを変更する場合（参考）
<br>
・Git Bash（first-commit前にgit config user.emailで設定を変更する）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
動作test環境
    </th>
    <td>
<span id="span-out-system"></span>
browserの動作test環境について記述する
<br>
<br>
localhost offline/online-test環境
<br>
・latest Chrome
<br>
・latest Edge
<br>
・Internet Explorer 11（以降、IEと省略する）
<br>
・<span class="run">Ver.2.38.18</span>以降、latest Firefox
<br>
・その他、Chrome DevTools-emulatorで動作確認
<br>
<br>
実機online-test環境　<span class="run">Ver.2.84.32</span>以降、test未実施
<br>
・latest Amazon Silk
<br>
・<span class="run">Ver.2.37.18</span>以降、latest Chrome
<br>
・<span class="run">Ver.2.38.18</span>以降、latest Firefox
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
実機
<br>
online-test
<br>
手順
    </th>
    <td>
<span id="span-out-system-test"></span>
実機mobile端末のonline-test手順について記述する
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、実機online-testのcommit前実施に対応
<br>
・GitHub Pages上で実施していた実機testの大半を以下の手順でcommit前に実施する
<br>
・さらに、今後の<a href="#span-out-application">application</a>開発で必要な実機online-testのdebug環境を整備する
<br>
<br>
実機online-testのcommit前実施準備を以下に示す
<br>
・localhost Apache HTTP ServerのDocumentRootのaccess制限を設定する
<br>
　Require all denied
<br>
　Require ip 192.168.
<br>
・localhost Apache HTTP Serverを再起動して設定変更を反映する
<br>
<br>
実機online-testのcommit前実施手順を以下に示す
<br>
・localhostのWi-Fi接続先propertyのnetwork profileを確認する
<br>
・localhost Firewallの設定でApache HTTP Serverのprivate||publicを許可する
<br>
・localhostと実機を同一のWi-Fiに接続する
<br>
・localhost IPv4 addressを確認する
<br>
・実機browserのURLにlocalhost IPv4 addressを入力して更新する
<br>
・localhost Apache HTTP ServerのDocumentRootからの相対pathでtestするpageを開く
<br>
・以上より、Wi-Fiを介して実機online-testを実施する
<br>
・test終了後、必要に応じてlocalhost Firewallの設定を元に戻す
<br>
<br>
さらに、localhost Chrome DevToolsでAndroid端末を操作してdebugする手順を以下に示す
<br>
・Android端末のBuild numberを7回tapしてDeveloper optionsを表示する
<br>
・System-Advanced-Developer optionsを開く
<br>
・USB debuggingを有効化する
<br>
・Android端末をlocalhostにUSB接続してUSB debugging connectedを確認する
<br>
・localhost ChromeのURLにchrome://inspect/#devicesを入力して更新する
<br>
・Android端末に表示されるcomputer's RSA keyによる接続を許可する
<br>
・先述の実施手順に従ってAndroid端末Chromeでlocalhostのdebugするpageを開く
<br>
・localhost Chromeに戻ってAndroid端末情報を確認する
<br>
・debugするpage URLのinspectを実行して新しいwindowを開く
<br>
・Chromeの同一page上でlocalhostとAndroid端末の操作が連動することを確認する
<br>
・以上より、Wi-Fiを介して実機online-testとともにdebug（Single-threadが基本）を実施する
<br>
・test終了後、必要に応じてAndroid端末の設定を元に戻す
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
download
<br>
手順
    </th>
    <td>
<span id="span-out-download"></span>
download手順について記述する
<br>
<br>
各pageのlinkからfileのdownload手順を以下に示す
<br>
・pageのload完了
<br>
・content生成
<br>
・linkをdouble-click||tap
<br>
<br>
留意事項を列挙する
<br>
・browser上でcontentを生成するため、data通信なし（offlineでdownload可）
<br>
・UI設定と生成用script||<a href="#span-out-plot2d-command">plot2d-command</a>を共有すれば同じcontentを再現可能（生dataの通信不要）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
動作要件
    </th>
    <td>
<span id="span-out-requirements"></span>
browserの動作要件を列挙する
<br>
・ECMAScript5対応
<br>
・HTML5対応
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
動作環境依存
    </th>
    <td>
<span id="span-out-platform"></span>
browserの動作環境依存について記述する
<br>
<br>
最新のECMAScript6対応環境（内部で自動判定）で動作する機能/影響項目を列挙する
<br>
・<span class="clear">Ver.2.146.37</span>以降、<a href="#span-out-num">2||8進数literal</a>に対応
<br>
　<a href="#span-out-UI-simple">Simple Calculator</a>'s 0b||0o-button（非対応環境の場合、非表示）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
browser間
<br>
の相違
    </th>
    <td>
<span id="span-out-browsers"></span>
browser間の相違について記述する
<br>
<br>
png||svg出力の相違について記述する
<br>
・browserによってtext幅のNative測定値が異なる
<br>
　var text = "x=t,x;x";
<br>
　ctx.font = "10px sans-serif";
<br>
　var w = ctx.measureText(text).width;
<br>
IE: w -> 29
<br>
Edge/Chrome: w -> 36.2841796875
<br>
Firefox: w -> 30
<br>
　ctx.font = "12px sans-serif";
<br>
　var w = ctx.measureText(text).width;
<br>
IE: w -> 35
<br>
Edge/Chrome: w -> 43.541015625
<br>
Firefox: w -> 31
<br>
・Edge/Chromeはpngとsvgの出力表示が一致するが、IE/Firefoxは一致しない
<br>
　JavaScript engineの系統による違いと推察されるが、規則性が不明で対応未定
<br>
・textを除けばbrowser間の出力表示に大差なし
<br>
<br>
演算結果の相違について記述する
<br>
・browser間で<a href="#span-out-epsilon">Machine epsilon</a>程度の相違がある
<br>
IE: sin(5) -> -0.9589242746631384
<br>
Edge/Chrome/Firefox: sin(5) -> -0.9589242746631385
<br>
IE/Edge/Chrome: exp(i) -> 0.5403023058681398+0.8414709848078965i
<br>
Firefox: exp(i) -> 0.5403023058681397+0.8414709848078965i
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Internet
<br>
Explorer
<br>
非対応の機能
    </th>
    <td>
<span id="span-out-browsers-ie"></span>
IE非対応の機能について記述する
<br>
<br>
IE非対応の機能/原因を列挙する
<br>
・<a href="#span-out-UI-graphing-config">bg-image-file</a>
<br>
　描画更新時、SCRIPT5022: SecurityError
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
ECMAScript
<br>
との相違
    </th>
    <td>
<span id="span-out-spec-ECMAScript"></span>
ECMAScriptとの相違について記述する
<br>
<br>
明確な相違点を列挙する
<br>
・<a href="#span-out-BT">括弧</a>の<a href="#span-out-prec">演算のprecedence</a>（<a href="#span-out-eqns">式変数</a>||<a href="#span-out-FNm">関数</a>callより優先）
<br>
　<a href="#span-out-BT">括弧</a>の中身を自動展開（<a href="#span-out-mat">行列</a>を想定）するため、<a href="#span-in-pass-by-equation">遅延評価</a>の場合、記号=&lt;を明示
<br>
・arrow関数
<br>
　ECMAScript6
<br>
f=(x)=&gt;x;
<br>
g=(h,x)=&gt;h(x)*x;
<br>
g((x)=&gt;g((x)=&gt;f(x),2),2) -> 8
<br>
　本仕様（<a href="#span-in-pass-by-equation">遅延評価</a>と名前衝突||<a href="#span-out-scope-vars-has1BT">単独scope</a>に<span class="condition">留意</span>）
<br>
f=(x)=&lt;x;
<br>
g=(<span class="condition">=&lt;h</span>,x)=&lt;<span class="condition">h</span>(x)*x; || g=(<span class="condition">=&lt;f</span>,x)=&lt;[<span class="condition">=&lt;f(x)*x</span>]=&gt;;
<br>
g((x)=&lt;g((x)=&lt;f(x),2),2) -> 8
<br>
・<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>
<br>
　ECMAScript6
<br>
fibo_=(n)=&gt;n&lt;2&amp;&amp;n||fibo_(n-1)+fibo_(n-2); fibo_(10)  <span class="selection">// NG</span> -> -47
<br>
　本仕様
<br>
fibo_=(n)=&lt;n&lt;2&amp;&amp;n|||fibo_(n-1)+fibo_(n-2); fibo_(10)  <span class="selection">// NG</span> -> -47
<br>
・<a href="#span-out-type-ope">中置3項演算子</a>
<br>
　ECMAScript6
<br>
fibo_=(n)=&gt;((n&lt;2)? n: fibo_(n-1)+fibo_(n-2)); fibo_(10)  <span class="selection">// OK</span> -> 55
<br>
　本仕様（<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>で代替）
<br>
fibo_=(n)=&lt;n&lt;2&amp;&amp;n||||fibo_(n-1)+fibo_(n-2); fibo_(10)  <span class="selection">// OK</span> -> 55
<br>
・無名再帰
<br>
　ECMAScript6
<br>
(fact_=(n)=&gt;n&lt;=1||n*fact_(n-1))(10) -> 3628800
<br>
　本仕様（<a href="#span-out-eqns-no-name">無名call</a>||<a href="#span-out-special-substitution">代入処理</a>参照）
<br>
([fact_=(n)=&lt;n&lt;=1|||n*fact_(n-1),=&lt;fact_]=&gt;)(10)=&gt; -> 3628800
<br>
<br>
明確に冗長な仕様を列挙する
<br>
・<a href="#span-out-eqns">式変数</a>
<br>
・<a href="#span-out-BRmo">記号省略乗算</a>
<br>
・<a href="#span-out-eqns-no-name">無名call</a>のcall記号=&gt;（<a href="#span-out-BRmo">記号省略乗算</a>と区別するため、省略不可）
<br>
・<a href="#span-out-scope-inherited">scope継承</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Excel
<br>
との相違
    </th>
    <td>
<span id="span-out-spec-Excel"></span>
Excelとの相違について記述する
<br>
<br>
明確な相違点を列挙する
<br>
・<a href="#span-out-type-ope">前置単項演算子</a>の<a href="#span-out-prec-ope">符号のprecedence</a>
<br>
-1^2 || -(1^2) -> -1
<br>
3+-3 -> [MyErr]Invalid binary operation
<br>
2^-1 -> [MyErr]Invalid binary operation
<br>
3+(-1) -> 2
<br>
2^(-1) -> 0.5
<br>
・<a href="#span-out-FN-log">log関数</a>の底
<br>
log(10) -> 2.302585092994046
<br>
log_ex(10) -> 1
<br>
・<a href="#span-out-FN-atan2">atan2関数</a>の引数順序
<br>
atan2(1,0) -> 1.5707963267948966
<br>
atan2_ex(1,0) -> 0
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Python
<br>
との相違
    </th>
    <td>
<span id="span-out-spec-Python"></span>
Pythonとの相違について記述する
<br>
<br>
明確な相違点を列挙する
<br>
・<a href="#span-out-type-ope">前置単項演算子</a>の<a href="#span-out-prec-ope">符号のprecedence</a>
<br>
3+-1 -> [MyErr]Invalid binary operation
<br>
2**-1 -> [MyErr]Invalid binary operation
<br>
3+(-1) -> 2
<br>
2**(-1) -> 0.5
<br>
・<a href="#span-out-com">虚数単位</a>の記号
<br>
3+1j -> [MyErr]Invalid ans isFound
<br>
3+1i -> 3+i
<br>
・<a href="#span-out-prec-ope-comparison">比較演算子</a>・<a href="#span-out-prec-ope-relational">関係演算子</a>
<br>
-3&lt;-2&lt;-1  <span class="selection">// NG</span> -> 0
<br>
-2==-2==-2  <span class="selection">// NG</span> -> 0
<br>
-3&lt;-2&amp;&amp;-2&lt;-1 -> 1
<br>
-2==-2&amp;&amp;-2==-2 -> 1
<br>
・<a href="#span-out-special-substitution">代入処理</a>
<br>
a=b=1 -> [MyErr]Invalid ans isFound
<br>
(b=1,a=b,a,b) -> (0,0,1,1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Simple
<br>
Calculator
<br>
UI
    </th>
    <td>
<span id="span-out-UI-simple"></span>
Simple Calculatorの操作panelについて記述する
<br>
<br>
panel上段について記述する
<br>
・draggable checked時、panelのdrag移動有効化
<br>
・log出力欄に入力欄の演算結果のlogを表示
<br>
　文字数制限5000字以内
<br>
・入力欄に演算内容を入力
<br>
・sw checked時、push/pop入力と直接入力を切替え可
<br>
・0x checked時、16進数の0x-buttonとa-f-buttonを追加表示
<br>
　<span class="clear">Ver.2.146.37</span>以降、ECMAScript6対応環境の場合、2進数の0b-buttonと8進数の0o-buttonを追加表示
<br>
・<del>complex checked時、</del><span class="run">Ver.2.184.44</span>以降、auto-real||complex selected時、<a href="#span-out-com">虚数単位</a>i-buttonを追加表示
<br>
・左側に0-9の数字と小数点.-buttonを表示
<br>
・右側に四則演算の演算子記号-buttonを表示
<br>
<br>
panel右側について記述する
<br>
・C-buttonは入力欄&amp;log出力欄の内容と<a href="#span-out-storage">global storage</a>のClear実行を確定する
<br>
　<a href="#span-out-option3">Multi-thread実行</a>の場合、演算を中断する
<br>
・BS-buttonは入力欄の選択位置の1字前を消去する
<br>
・ans-buttonはlog出力欄の演算結果を入力欄に確定する
<br>
　演算結果が実数以外の場合、入力欄を消去して<a href="#span-out-ans">予約変数</a>ansのtextを挿入
<br>
・＝-buttonは入力欄の内容で演算実行を確定する
<br>
<br>
panel中段について記述する
<br>
・<del>complex checked時、</del><span class="run">Ver.2.184.44</span>以降、auto-real||complex selected時、<a href="#span-out-com">複素数</a>演算を有効化
<br>
　<a href="#span-out-com">虚数単位</a>i-buttonを追加表示
<br>
・matrix checked時、<a href="#span-out-mat">行列</a>演算を有効化
<br>
　<del>定義可能な2項演算のみ</del><span class="run">Ver.2.73.29</span>以降、<a href="#span-out-ope-extended">拡張行列演算</a>を追加
<br>
・<span class="run">Ver.2.166.40</span>以降、strict checked時、<a href="#span-out-config-strict">strict-mode</a>を有効化
<br>
・演算結果の小数表記と指数表記を選択可
<br>
　小数表記: 0.1
<br>
　<a href="#span-out-num">指数表記</a>: 1e-1 -> 0.1
<br>
<br>
panel下段について記述する
<br>
・history欄に最新を上にして演算履歴を表示
<br>
　文字数制限5000字以内
<br>
・history欄下のlinkから演算履歴の全文をtext保存可
<br>
　入力欄のspell-check等でbrowser-busy状態の場合、download開始の待ち時間が生じる
<br>
　<span class="clear">再downloadのbrowser-blockあり（保存file更新の許可が必要）</span>
<br>
<br>
一般的な電卓の操作性を再現する場合、all checkbox unchecked
<br>
・遅延しないSingle-threadの<a href="#span-out-ope">実数演算</a>
<br>
・応答時間=log表示待機時間50msec+<a href="#span-out-ope">演算量</a>に応じた演算時間
<br>
<br>
各checkboxの詳細は<a href="#span-out-options">外部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Graphing
<br>
Calculator
<br>
UI
    </th>
    <td>
<span id="span-out-UI-graphing"></span>
Graphing Calculatorの操作panelについて記述する
<br>
<br>
panel上段について記述する
<br>
・<a href="#span-out-UI-graphing-testcase">test case</a>を右側に配置
<br>
・<span class="run">Ver.2.136.35</span>以降、centering checked時、panelのcentering有効化
<br>
・<span class="run">Ver.2.843.147</span>以降、wheel checked時、mouse-wheelによるzooming有効化
<br>
・draggable checked時、panelのdrag移動有効化
<br>
・<span class="run">Ver.2.190.44</span>以降、canvas上部でplot2d-Verを選択可
<br>
　Ver.0：<span class="run">Ver.2.33.17</span>以前の仕様（<a href="#span-in-options">oldPlot2d=true</a>）
<br>
　Ver.1：<span class="run">Ver.2.33.17</span>~<span class="run">2.190.44</span>の仕様
<br>
　Ver.2：<span class="run">Ver.2.190.44</span>~の仕様
<br>
・canvas上部のlinkから描画結果のpng||svg||csvを保存可
<br>
　・pngは描画終了||中断後に保存可（逐次<a href="#span-out-UI-graphing-post1">layer合成</a>しない）
<br>
　・右click||long-tapによるpng保存不可（<a href="#span-out-UI-graphing-layer">最前面固定layer</a>は範囲選択領域の描画用）
<br>
　・svg||csvは<a href="#span-out-option3">Multi-thread実行</a>の場合、逐次保存可
<br>
　・png||svg出力共通でcanvas座標小数点以下floorの出力桁数0~9桁を選択可
<br>
・canvasにplot2dの演算&amp;描画結果を表示
<br>
　・mouse||touchによる範囲選択で拡大表示
<br>
　・single click||one tapで<del>拡大表示reset</del><span class="run">Ver.2.39.18</span>以降、その場でcentering
<br>
　・<span class="run">Ver.2.117.33</span>以降、pointing deviceに対応
<br>
　・<span class="run">Ver.2.843.147</span>以降、mouse-wheelの垂直方向のscroll量deltaYによるzoomingに対応（基数2）
<br>
・<span class="run">Ver.2.822.135</span>以降、last入力欄は最終legendからの表示legend数を入力可（0の場合、全表示）
<br>
・<span class="run">Ver.2.601.94</span>以降、plot範囲の小数点以下のround-off桁数を選択可（<a href="#span-out-UI-simple">指数表記</a>選択より優先）
<br>
　<span class="run">Ver.2.666.98</span>以降、y||xの各軸を設定可
<br>
・<span class="run">Ver.2.780.123</span>以降、y(t)||x(t)入力欄の行数を選択可
<br>
・<span class="run">Ver.2.401.86</span>以降、p-checkboxは全labelの<del>非</del>表示を選択
<br>
　<span class="run">Ver.2.746.111</span>以降、表示機能を反転（checkedで全表示）
<br>
　<del>mask領域を無効化する場合、plot2d-Ver.0を選択</del>unchecked時、mask領域を無効化
<br>
　<a href="#span-out-UI-graphing-gradation">gradation</a>/<a href="#span-out-UI-graphing-string-path">string-path</a>同様に、全体表示の保証を優先
<br>
・log出力欄にplot2dの演算&amp;描画結果のlogを表示
<br>
　<span class="run">Ver.2.387.86</span>~<span class="run">2.391.86</span>以降、演算中のlog表示を変更：finished　⇒　finished...
<br>
・plot-buttonは演算&amp;描画実行を確定する
<br>
　<span class="run">Ver.2.360.86</span>以降、要素位置を微調整
<br>
　<span class="run">Ver.2.759.115</span>以降、自動描画refreshの頻度：最大10回　⇒　最短1秒間隔
<br>
・stop-buttonは演算&amp;描画実行を中断する・軸scaleを初期化する
<br>
　<span class="run">Ver.2.360.86</span>以降、要素位置を微調整
<br>
・l-checkboxはlegend表示を選択
<br>
・t入力欄に媒介変数の区間[t0,t1]を入力
<br>
・<span class="run">Ver.2.34.18</span>以降、t-checkboxはlinear||logarithmicの軸scaleを選択
<br>
　<span class="run">Ver.2.50.25</span>以降、checked時、t0||t1の入力規則を緩和（実部||虚部のみに対応）
<br>
　<span class="run">Ver.2.50.25</span>以降、副次的にcomplex unchecked時、logarithmic-scale選択不能の不具合を解消
<br>
　<span class="run">Ver.2.444.90</span>以降、分割点の丸め方を最適化（<a href="#span-out-epsilon">Machine epsilon</a>程度の相違あり）
<br>
・媒介変数tの区間分割数Nを<del>選択</del><span class="run">Ver.2.149.37</span>以降、round入力
<br>
　<span class="run">Ver.2.321.77</span>以降、上限値：1000　⇒　1024
<br>
　<span class="run">Ver.2.392.86</span>以降、下限値：1　⇒　0（t1=t0）
<br>
・x(t)入力欄に横軸xの演算内容をsemi-colon;区切りで入力
<br>
　<span class="run">Ver.2.352.86</span>以降、x(t)||y(t)||<a href="#span-out-UI-graphing-z">z入力欄</a>の形式を変更（&lt;input&gt;　⇒　&lt;textarea&gt;&lt;/textarea&gt;）
<br>
　・tは媒介変数で上書き可能なlocal変数
<br>
　　<span class="run">Ver.2.85.32</span>以降、N/t0/t1をlocal変数に追加
<br>
　・直下のx-checkboxは<a href="#span-out-UI-graphing-labels">x-label</a>/x-values表示を選択
<br>
　　<span class="clear">Ver.2.53.26</span>以降、unchecked時、<a href="#span-out-UI-graphing-z">z入力欄</a>の<a href="#span-out-UI-graphing-labels">x-label</a>特定項目が残存する不具合を修正
<br>
　・log-checkboxは対数表示を選択
<br>
　・i-checkboxは虚数表示を選択
<br>
　・x(t)のplot範囲のaxis最小値~最大値を入力可
<br>
・y(t)入力欄に縦軸yの演算内容をsemi-colon;区切りで入力
<br>
　<span class="run">Ver.2.352.86</span>以降、x(t)||y(t)||<a href="#span-out-UI-graphing-z">z入力欄</a>の形式を変更（&lt;input&gt;　⇒　&lt;textarea&gt;&lt;/textarea&gt;）
<br>
　・tは媒介変数で上書き可能なlocal変数
<br>
　・直下のy-checkboxは<a href="#span-out-UI-graphing-labels">y-label</a>/y-values表示を選択
<br>
　　<span class="clear">Ver.2.53.26</span>以降、unchecked時、<a href="#span-out-UI-graphing-z">z入力欄</a>の<a href="#span-out-UI-graphing-labels">y-label</a>特定項目が残存する不具合を修正
<br>
　・log-checkboxは対数表示を選択（通常の対数scaleとは異なり、<a href="#span-out-FN-log">常用対数</a>の数値に変換して表示）
<br>
　　<span class="run">Ver.2.750.113</span>~<span class="clear">2.773.119</span>以降、checked時、軸labelの追加表示に対応（表示内容を明示）：log10(<a href="#span-out-UI-graphing-labels">axis-label</a>)
<br>
　・i-checkboxは虚数表示を選択（対数表示より優先）
<br>
　　<span class="run">Ver.2.750.113</span>~<span class="clear">2.773.119</span>以降、checked時、軸labelの追加表示に対応（表示内容を明示）：imag(<a href="#span-out-UI-graphing-labels">axis-label</a>)
<br>
　・y(t)のplot範囲のaxis最小値~最大値を入力可
<br>
・<span class="run">Ver.2.36.18</span>以降、z-checkboxは<a href="#span-out-UI-graphing-z">z入力欄</a>の表示を選択
<br>
　<del>unchecked時、<a href="#span-out-UI-graphing-gradation">gradation</a>/<a href="#span-out-UI-graphing-string-path">string-path</a>以外を非表示</del>
<br>
　<span class="run">Ver.2.746.111</span>以降、checked時、<a href="#span-out-UI-graphing-z">z入力欄</a>を有効化
<br>
　最終frameまでの特定項目を除く描画待ち時間||描画負荷を省略する場合、unchecked
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、gridのscalingに対応
<br>
・canvas範囲選択でx(t)||yt(t)のplot範囲の各axis最小値~最大値をlinear-scaleで自動更新
<br>
　複数の方程式||関数式の交点等を求める際に有効
<br>
<br>
<span class="run">Ver.2.39.18</span>以降、x0.1/x0.5/x1/x2/x10-buttonsは指定のzoom倍率でscalingを確定する
<br>
　<span class="run">Ver.2.360.86</span>以降、canvas直下に要素を移動
<br>
　<span class="run">Ver.2.374.86</span>以降、x1-buttonのsizeを調整
<br>
・zoom倍率はlinear-scale
<br>
　<span class="clear">Ver.2.842.147</span>以降、logarithmic-scaleに対応
<br>
・x1-buttonはscalingをresetする
<br>
・rel.-checkboxは原点に対してzoom中心位置を相対的に移動するrelative zoomingを選択
<br>
　<span class="run">Ver.2.852.157</span>以降、unchecked時のscalingの丸め処理を調整
<br>
<br>
<span class="run">Ver.2.39.18</span>以降、gridのsnappingに対応
<br>
・long-tap||clickの300msec後にsnapping開始
<br>
　・canvas範囲選択でscaling
<br>
　・その場releaseでcentering
<br>
　・<span class="run">Ver.2.40.19</span>以降、x||y方向の移動なしで選択cancel
<br>
・snap-checkboxはgrid snappingを選択
<br>
　<span class="run">Ver.2.360.86</span>以降、canvas直下に要素を移動
<br>
<br>
<span class="clear">Ver.2.40.19</span>以降、click||tap連打による描画の排他処理を修正
<br>
・連打による副作用をonmouseup-handlerでlock判定して回避
<br>
・checkbox等UI操作も同様にlock判定されるため、弾かれた場合、unlock後に再描画が必要
<br>
・lock判定のreturn false直後にisLocked=true
<br>
・<span class="clear">Ver.2.40.20</span>以降、error終了時、isLocked=falseでdeadlockを回避
<br>
・以上より、副次的に2本指での範囲選択に対応（touch deviceのみ）
<br>
<br>
<span class="clear">Ver.2.40.20</span>以降、plot2d isNaN||isInfのerror終了時、描画resetから描画lockに変更
<br>
<br>
<span class="run">Ver.2.105.33</span>以降、<a href="#span-out-UI-graphing-v">v入力仕様</a>を追加
<br>
<br>
<span class="run">Ver.2.437.90</span>以降、path出力欄を追加
<br>
・<del>comma区切り</del><span class="run">Ver.2.438.90</span>以降、半角space区切りのcanvas座標(x,y)を列挙（NaNを除く）
<br>
・最終legendのみ
<br>
・path: <del>x0,y0,x1,y1,...,xn,yn</del>x0,y0 x1,y1 ... xn,yn
<br>
・小数点以下floor有効
<br>
<br>
panel中段について記述する
<br>
・C-input-buttonは入力欄のtextを消去する
<br>
・list-vars-buttonはglobal変数の変数名listをlog出力欄に表示する
<br>
・list-eqns-buttonはglobal式変数の変数名listをlog出力欄に表示する
<br>
<del>・plot2d(,)-buttonは入力欄の選択位置に<del>plot2d(,)</del>
<br>
　<span class="run">Ver.2.50.25</span>以降、plot2d(xt,yt)のtextを挿入する</del>
<br>
・<span class="run">Ver.2.140.36</span>以降、plot2d()-buttonは任意の<a href="#span-out-vars-symbol">変数名symbol</a>を入力して<a href="#span-out-plot2d-command-from-arr">plot2d(xt,yt)</a>を実行する
<br>
・<span class="run">Ver.2.175.42</span>以降、plot2d{}-buttonは任意の<a href="#span-out-vars-symbol">変数名symbol</a>を入力して<a href="#span-out-plot2d-command-from-arr">plot2d{xt,yt}</a>を実行する
<br>
・&lt;&lt;-buttonは入力欄の選択位置を最初に移動する
<br>
・&lt;-buttonは入力欄の選択位置を1字前に移動する
<br>
・&gt;-buttonは入力欄の選択位置を1字後に移動する
<br>
・&gt;&gt;-buttonは入力欄の選択位置を最後に移動する
<br>
・=-buttonは入力欄の内容で演算実行を確定する
<br>
・C-buttonは入力欄&amp;log出力欄の内容と<a href="#span-out-storage">global storage</a>のClear実行を確定する
<br>
　<a href="#span-out-option3">Multi-thread実行</a>の場合、無条件に演算を中断する
<br>
・<span class="run">Ver.2.140.36</span>以降、cancel-buttonは<a href="#span-out-option3">Multi-thread実行</a>中の演算を中断する
<br>
・BS-buttonは入力欄の選択位置の1字前を消去する
<br>
・DEL-buttonは入力欄の選択位置の1字後を消去する
<br>
・i-buttonは入力欄の選択位置に<a href="#span-out-com">虚数単位</a>iのtextを挿入する
<br>
・()-buttonは入力欄の選択位置に丸括弧()のtextを挿入する
<br>
・{}-buttonは入力欄の選択位置に波括弧{}のtextを挿入する
<br>
・ans-buttonは入力欄の選択位置に<a href="#span-out-ans">予約変数</a>ansのtextを挿入する
<br>
<br>
<a href="#span-out-option3">Multi-thread実行</a>の場合、plot-buttonと=-buttonは並列に実行可
<br>
・shared storage checked時、<a href="#span-out-storage">global storage</a>を共有
<br>
・plot-buttonによる演算はglobal storage readonly
<br>
<br>
panel下段は<a href="#span-out-UI-simple">Simple Calculator UI</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
color空間
    </th>
    <td>
<span id="span-out-UI-graphing-color-space"></span>
color空間について記述する
<br>
<br>
RGB-color空間
<br>
・Red（赤）
<br>
・Green（緑）
<br>
・Blue（青）
<br>
　主な用途は光の三原色による加法混合のdisplay
<br>
<br>
RGBA-color空間
<br>
・Alpha（不透明度）
<br>
　主な用途はcomputer graphics（HTML5描画canvas標準の場合、sRGBA-color空間）
<br>
<br>
HSV-color空間
<br>
・Hue（色相）
<br>
・Saturation（彩度∝RGB最大値-RGB最小値）
<br>
・Value（明度=RGB最大値）
<br>
　主な用途は直感的な操作のcolor-picker
<br>
　・SaturationをValueで<a href="#span-out-FNm-normalize">正規化</a>する場合、円柱model（色相環内側のpicker領域がsquare）
<br>
　・Saturationを<a href="#span-out-FNm-normalize">正規化</a>しない場合、円錐model（色相環内側のpicker領域がtriangle）
<br>
<br>
HSL-color空間
<br>
・Lightness（輝度=(RGB最小値+RGB最大値)/2）
<br>
　主な用途は直感的な操作のcolor-picker
<br>
<br>
XYZ-color空間（CIE 1931表色系）
<br>
・XYZ（Yを輝度とする3刺激値）
<br>
　主な用途は<a href="#span-out-UI-graphing-filter-tone-curve">gamma補正</a>前の仕様違いcolor空間の相互変換における包括的な中継
<br>
・CIE RGB->CIE XYZ線形変換
<br>
{$X,$Y,$Z}=scalars(3,1/0.17697)*(
<br>
0.49000,0.31000,0.20000:
<br>
0.17697,0.81240,0.010630:
<br>
0.0000,0.010000,0.99000
<br>
)*{R,G,B}
<br>
・CIE XYZ->CIE RGB線形逆変換
<br>
{$R,$G,$B}=(
<br>
0.4184657124218945,-0.15866078480379903,-0.08283492761809548:
<br>
-0.09116896390902272,0.2524314421394651,0.015707521769557607:
<br>
0.0009208986253436638,-0.0025498125468632836,0.1785989139215196
<br>
)*{X,Y,Z}
<br>
※有効桁数5桁
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
color
<br>
入力仕様
    </th>
    <td>
<span id="span-out-UI-graphing-color"></span>
color入力仕様について記述する
<br>
<br>
HTML5/CSS3準拠のcolor入力方法を次に示す
<br>
color名||HEX表記RGB||RGBA||rgb(r,g,b=0~255)||rgba(r,g,b,不透明度a=0~1)
<br>
<br>
透明黒色の初期状態を定義する
<br>
#0000||#00000000||rgba(0,0,0,0)
<br>
<br>
<a href="#span-out-UI-graphing-layer">最背面固定layer</a>に描画する千鳥格子の配色を定義する※格子size(8px)x(8px)
<br>
rgba(211,211,211,1)||lightgray
<br>
rgba(240,240,240,1)
<br>
<br>
<a href="#span-out-UI-graphing">範囲選択</a>領域の配色を定義する
<br>
rgb(7,135,200)
<br>
rgba(255,128,128,0.75)　<span class="run">Ver.2.846.153</span>以降、fillあり
<br>
<br>
color入力の一例を示す
<br>
・white
<br>
white||#fff||#ffff||#ffffff||#ffffffff||rgb(255,255,255)||rgba(255,255,255,1)
<br>
・black
<br>
black||#000||#000f||#000000||#000000ff||rgb(0,0,0)||rgba(0,0,0,1)
<br>
・gray
<br>
gray||#808080||#808080ff
<br>
・red
<br>
red||#f00||#f00f||#ff0000||#ff0000ff||rgb(255,0,0)||rgba(255,0,0,1)
<br>
・blueの不透明度a=0.333333333333333
<br>
#00f5||#0000ff55||rgba(0,0,255,0.333333333333333)
<br>
<br>
<span class="run">Ver.2.134.35</span>以降、legend番号Nlegend=j+1の<a href="#span-out-UI-graphing-config">marker-colors</a>のRGB既定値を示す（参考）
<br>
<pre><code>
    var r255 = 0;
    var g255 = 0;
    var b255 = 0;
    if(options["marker-colors"] === "rainbow"){
      var pn = (len_j-j)/len_j;
      if(pn &lt; 1/6){
        b255 = 255*pn*6;
        r255 = 255;
      }
      else if(pn &lt; 1/3){
        b255 = 255;
        r255 = 255*(1/3-pn)*6;
      }
      else if(pn &lt; 1/2){
        g255 = 255*(pn-1/3)*6;
        b255 = 255;
      }
      else if(pn &lt; 2/3){
        g255 = 255;
        b255 = 255*(2/3-pn)*6;
      }
      else if(pn &lt; 5/6){
        r255 = 255*(pn-2/3)*6;
        g255 = 255;
      }
      else{
        r255 = 255;
        g255 = 255*(1-pn)*6;
      }
    }
    else if(options["marker-colors"] === "red-blue"){
      var pn = (len_j-j)/len_j;
      if(pn &lt; 1/3){
        g255 = 255*pn*3;
        b255 = 255;
      }
      else if(pn &lt; 2/3){
        r255 = 255*(pn-1/3)*3;
        g255 = 255;
      }
      else{
        r255 = 255;
        g255 = 255*(1-pn)*3;
      }
    }
    else{  // old
      g255 = (len_j &gt; 1)? Math.floor(j*255/(len_j-1)): 0;
      r255 = Math.floor(255-g255)%256;
      b255 = Math.floor(g255&lt;&lt;1)%(256-1);
    }
</code></pre>
<br>
留意事項を列挙する
<br>
・未定義の場合、透明黒色
<br>
・rgba()入力のRGBA指定値≒picker値で数%以内の誤差が存在する可能性あり（詳細は未検証）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
colors
<br>
入力仕様
    </th>
    <td>
<span id="span-out-UI-graphing-colors"></span>
colors入力仕様について記述する
<br>
・<span class="run">Ver.2.36.18</span>以降、<a href="#span-out-UI-graphing-gradation">gradation-colors</a>に適用
<br>
・<span class="run">Ver.2.744.110</span>以降、<a href="#span-out-UI-graphing-config">marker-colors</a>に適用
<br>
・<span class="run">Ver.2.846.153</span>以降、<a href="#span-out-UI-graphing-mrcolors">mrcolors</a>に適用
<br>
<br>
color-datasetの一例：7色<a href="#span-app-optics">rainbow</a>
<br>
・<a href="#span-out-UI-graphing-config">marker-colors</a>のrainbow選択時、<a href="#span-out-UI-graphing-color">color</a>のpn=[1/7,7/7]のRGB値をround出力
<br>
rgb(255,0,219):rgb(73,0,255):rgb(0,146,255):rgb(0,255,146):rgb(73,255,0):rgb(255,219,0):rgb(255,0,0)
<br>
・Newton説（音階<a href="#span-app-analogy">analogy</a>による）
<br>
violet:indigo:blue:green:yellow:orange:red
<br>
#ee82ee:#4b0082:#0000ff:#00ff00:#ffff00:#ffa500:#ff0000
<br>
#ee82eecc:#4b0082cc:#0000ffcc:#00ff00cc:#ffff00cc:#ffa500cc:#ff0000cc
<br>
・<span class="run">Ver.2.42.20</span>以降、modern風
<br>
violet:blue:cyan:green:yellow:orange:red
<br>
#ee82ee:#0000ff:#00ffff:#00ff00:#ffff00:#ffa500:#ff0000
<br>
#ee82eecc:#0000ffcc:#00ffffcc:#00ff00cc:#ffff00cc:#ffa500cc:#ff0000cc
<br>
・<span class="run">Ver.2.44.22</span>以降、fade-in/out境界条件を追加
<br>
#ee82ee00:#ee82eecc:#0000ffcc:#00ffffcc:#00ff00cc:#ffff00cc:#ffa500cc:#ff0000cc:#ff000000
<br>
・6色の場合、短波長側のindigo||cyanを消去
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
z入力仕様
    </th>
    <td>
<span id="span-out-UI-graphing-z"></span>
z入力欄の入力仕様について記述する
<br>
<br>
<span class="run">Ver.2.352.86</span>以降、x(t)||y(t)||z入力欄の形式を変更（&lt;input&gt;　⇒　&lt;textarea&gt;&lt;/textarea&gt;）
<br>
・<span class="run">Ver.2.354.86</span>以降、内容変更時、自動re-plotの機能を継承
<br>
<br>
<a href="#span-out-UI-graphing-legend">legend-dataset</a>をsemi-colon;区切りで入力
<br>
・空欄で既定の描画
<br>
・datasetは設定値をcolon:区切りで入力
<br>
markerType:markerColor:markerSize:markerLineWidth:plotLineWidth:fillPath:
<br>
str:strFontSize
<br>
<br>
以降、その他の特定項目を抽出順に列挙する
<br>
<br>
<span class="run">Ver.2.66.27</span>以降、<a href="#span-out-UI-graphing-bgcolor">bgcolor</a>を追加
<br>
bgcolor||BGCOLOR{<a href="#span-out-UI-graphing-color">color</a>}
<br>
・任意位置に挿入可
<br>
・<a href="#span-out-UI-graphing-layer-background">background-layer</a>に<a href="#span-out-UI-graphing-color">color</a>指定値を適用
<br>
<br>
<span class="run">Ver.2.66.27</span>以降、<a href="#span-out-UI-graphing-gdcolor">gdcolor</a>を追加
<br>
gdcolor||GDCOLOR{<a href="#span-out-UI-graphing-color">color</a>}
<br>
・任意位置に挿入可
<br>
・<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に<a href="#span-out-UI-graphing-color">color</a>指定値を適用
<br>
<br>
<span class="run">Ver.2.846.153</span>以降、<a href="#span-out-UI-graphing-mrcolors">mrcolors</a>を追加
<br>
mrcolors||MRCOLORS{<a href="#span-out-UI-graphing-colors">colors</a>}
<br>
・任意位置に挿入可
<br>
・<a href="#span-out-UI-graphing-config">marker-colors</a>に<a href="#span-out-UI-graphing-colors">colors</a>指定値を適用
<br>
・colorsは<a href="#span-out-UI-graphing-colors">color-dataset</a>をcolon:区切りで入力
<br>
<br>
<span class="run">Ver.2.848.155</span>以降、<a href="#span-out-UI-graphing-composites">composites</a>を入力
<br>
composites||COMPOSITES{composite0,composite1}
<br>
・任意位置に挿入可
<br>
・compositeをcomma,区切りで入力
<br>
・<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperationLayer</a>にcomposite0を適用
<br>
・<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperation</a>にcomposite1を適用
<br>
<br>
<span class="run">Ver.2.92.32</span>以降、<a href="#span-out-UI-graphing-plotconfig">plotconfig</a>を追加
<br>
plotconfig||PLOTCONFIG{args}
<br>
・任意位置に挿入可
<br>
・argsは設定値をcomma,区切りで入力（0||省略時、<a href="#span-out-UI-graphing-config">plot-config</a>の設定値）
<br>
grid-line-width,font-size,grid-x-Ni,grid-y-Nj,kx-adj,legend-kx,legend-ky
<br>
<br>
<span class="run">Ver.2.34.18</span>以降、<a href="#span-out-UI-graphing-title">graph-title</a>を追加
<br>
title||TITLE{graph-title}
<br>
・任意位置に挿入可
<br>
・graph-titleはcanvas上部に表示するtitleの任意文字列で<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、<a href="#span-out-UI-graphing-labels">x-label</a>を追加
<br>
xlabel||XLABEL{x-label}
<br>
・任意位置に挿入可
<br>
・x-labelはx軸余白に表示するlabelの任意文字列で<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、<a href="#span-out-UI-graphing-labels">y-label</a>を追加
<br>
ylabel||YLABEL{y-label}
<br>
・任意位置に挿入可
<br>
・y-labelはy軸余白に表示するlabelの任意文字列で<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
<br>
<span class="run">Ver.2.67.27</span>以降、<a href="#span-out-UI-graphing-origin">origin</a>を追加
<br>
origin||ORIGIN{args}
<br>
・任意位置に挿入可
<br>
・originはorigin-labelと原点を通るorigin-lineで<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
・argsは設定値をcomma,区切りで入力（省略時、<a href="#span-out-UI-graphing-legend">legend-dataset</a>の設定値）
<br>
lineWidth,<a href="#span-out-UI-graphing-color">color</a>,labelSize
<br>
<br>
↑設定機能（UI設定値||既定値を上書き）
<br>
↓描画機能
<br>
<br>
<span class="run">Ver.2.34.18</span>以降、<a href="#span-out-UI-graphing-string-path">string-path</a>を追加
<br>
string||STRING{config[]string-path}
<br>
・各<a href="#span-out-UI-graphing-legend">legend-dataset</a>の任意位置に挿入可
<br>
・string-pathはplot-lines上のpathに表示する任意文字列で<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>に描画
<br>
・config[]内datasetは設定値をcolon:区切りで入力（省略時、<a href="#span-out-UI-graphing-legend">legend-dataset</a>の設定値）
<br>
fontFamily:fontSize:isBold:isItalic:isReverse:
<br>
fillStyle:strokeStyle:fillStr:spacingX:spacingY:
<br>
shadowOffsetX:shadowOffsetY:shadowBlur:deg0
<br>
<br>
<span class="run">Ver.2.35.18</span>以降、<a href="#span-out-UI-graphing-title">graph-title</a>/<a href="#span-out-UI-graphing-legend">legend-string</a>/<a href="#span-out-UI-graphing-string-path">string-path</a>のwhite space enabled
<br>
<br>
<span class="run">Ver.2.36.18</span>以降、<a href="#span-out-UI-graphing-gradation">gradation</a>を追加
<br>
gradation||GRADATION{config[]<a href="#span-out-UI-graphing-colors">colors</a>}
<br>
・各<a href="#span-out-UI-graphing-legend">legend-dataset</a>の任意位置に挿入可
<br>
・gradationは<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>に描画
<br>
・colorsは<a href="#span-out-UI-graphing-colors">color-dataset</a>をcolon:区切りで入力（省略時、<a href="#span-out-UI-graphing-legend">legend-dataset</a>のmarkerColor）
<br>
・config[]内datasetは設定値をcolon:区切りで入力（省略不可）
<br>
originX:originY:offsetR:orderR:NrandR:NrandT:isMin:isRound:Nrender:Ncycle
<br>
<br>
<span class="run">Ver.2.52.25</span>以降、<a href="#span-out-UI-graphing-transform">transform</a>を追加
<br>
transform||TRANSFORM{args}
<br>
・任意位置に挿入可
<br>
・transformは<a href="#span-out-UI-graphing-post1">layer合成</a>時の<a href="#span-out-UI-graphing-post">post処理</a>（<span class="run">Ver.2.56.26</span>以降、svg出力に対応）
<br>
・argsはcanvas座標変換の引数をcomma,区切りで入力
<br>
<br>
<span class="run">Ver.2.45.23</span>以降、<a href="#span-out-UI-graphing-blur">blur</a>を追加
<br>
blur||BLUR{<span class="condition">asym[]</span>config[]strengths}
<br>
・任意位置に挿入可
<br>
・blurは<a href="#span-out-UI-graphing-filter">filtering</a>直前の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は無効）
<br>
・strengthsはfilter(2n-1)x(2n-1)sizeのn=0~20の数値をcolon:区切りで入力（省略時、0:10）
<br>
・config[]内datasetは設定値をcolon:区切りで入力（省略不可）
<br>
originX:originY:offsetR:orderR:NrandR:NrandT:isMin:isRound:Nrender:Ncycle:
<br>
isCyclic:<span class="jF">isSquare</span>:Nlegend（<span class="run">Ver.2.55.26</span>以降、項目名を変更）
<br>
・<span class="run">Ver.2.57.26</span>以降、<span class="condition">asym[]</span>内datasetは設定値をcomma,区切りで入力（省略時、0,0,1,0）
<br>
x,y,k,Nrad
<br>
<br>
<span class="run">Ver.2.44.22</span>以降、<a href="#span-out-UI-graphing-filter">filter</a>を追加
<br>
filter||FILTER{filters}
<br>
・任意位置に挿入可
<br>
・filterは<a href="#span-out-UI-graphing-post1">layer合成</a>後の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は無効）
<br>
・filtersは<span class="jF">mask[]</span><span class="condition">area[]</span>filterを適用順にcolon:区切りで入力
<br>
・<span class="run">Ver.2.52.25</span>以降、<span class="condition">area[]</span>内datasetは設定値をcomma,区切りで入力（省略時、全体に適用）
<br>
・<span class="run">Ver.2.63.27</span>以降、<span class="jF">mask[]</span>内datasetは設定値をcomma,区切りで入力（省略時、全体に適用）
<br>
<br>
<span class="run">Ver.2.68.27</span>以降、<a href="#span-out-UI-graphing-tile">tile</a>を追加
<br>
tile||TILE{args}
<br>
・任意位置に挿入可
<br>
・tileは<a href="#span-out-UI-graphing-filter">filtering</a>直後の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は無効）
<br>
・argsはtile領域を指定する条件をcomma,区切りで入力
<br>
<br>
<span class="run">Ver.2.63.27</span>以降、<a href="#span-out-UI-graphing-cut">cut</a>を追加
<br>
cut||CUT{args}
<br>
・任意位置に挿入可
<br>
・cutは<a href="#span-out-UI-graphing-filter">filtering</a>直後の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は<a href="#span-out-UI-graphing-post1">layer合成</a>）
<br>
・argsはcut領域を指定する条件をcomma,区切りで入力
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
legend
<br>
-dataset
    </th>
    <td>
<span id="span-out-UI-graphing-legend"></span>
legend-datasetについて記述する
<br>
・<span class="clear">Ver.2.744.111</span>以降、sizeのlimiterを追加（負の場合、予期せぬerror終了を修正）
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にlegend-datasetをsemi-colon;区切りで入力
<br>
・legendは<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>に描画
<br>
　<span class="clear">Ver.2.851.157</span>以降、左上のbox部分のみ、source-over固定（後方互換性のため、markerを除く）
<br>
・datasetは設定値をcolon:区切りで入力
<br>
markerType:markerColor:markerSize:markerLineWidth:plotLineWidth:fillPath:
<br>
str:strFontSize
<br>
・markerTypeはnone||circle||triangle||triangle2||square||diamond||cross
<br>
　<span class="clear">Ver.2.859.159</span>以降、markerTypeとstrが未定義の場合、legend-stringを代替
<br>
・markerColorはmarker-colorの入力値
<br>
・markerSizeはmarkerTypeの目安size
<br>
・markerLineWidthはmarker-line-widthのpx数値
<br>
・plotLineWidthはplot-line-widthのpx数値
<br>
・fillPathは0以外を指定でplot線を閉じてfill
<br>
・strはlegend-string
<br>
・strFontSizeはlegend-stringのfont-sizeのpx数値
<br>
・字句解析の都合上、legend-stringのsemi-colon; disabled
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
bgcolor
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-bgcolor"></span>
bgcolor特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.66.27</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にbgcolorを入力
<br>
bgcolor||BGCOLOR{<a href="#span-out-UI-graphing-color">color</a>}
<br>
・任意位置に挿入可
<br>
・<a href="#span-out-UI-graphing-layer-background">background-layer</a>に<a href="#span-out-UI-graphing-color">color</a>指定値を適用
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
gdcolor
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-gdcolor"></span>
gdcolor特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.66.27</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にgdcolorを入力
<br>
gdcolor||GDCOLOR{<a href="#span-out-UI-graphing-color">color</a>}
<br>
・任意位置に挿入可
<br>
・<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に<a href="#span-out-UI-graphing-color">color</a>指定値を適用
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
mrcolors
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-mrcolors"></span>
mrcolors特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.846.153</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にmrcolorsを入力
<br>
mrcolors||MRCOLORS{<a href="#span-out-UI-graphing-colors">colors</a>}
<br>
・任意位置に挿入可
<br>
・<a href="#span-out-UI-graphing-config">marker-colors</a>に<a href="#span-out-UI-graphing-colors">colors</a>指定値を適用
<br>
・colorsは<a href="#span-out-UI-graphing-colors">color-dataset</a>をcolon:区切りで入力
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
composites
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-composites"></span>
composites特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.848.155</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にcompositesを入力
<br>
composites||COMPOSITES{composite0,composite1}
<br>
・任意位置に挿入可
<br>
・compositeをcomma,区切りで入力
<br>
・<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperationLayer</a>にcomposite0を適用
<br>
・<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperation</a>にcomposite1を適用
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plotconfig
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-plotconfig"></span>
plotconfig特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.92.32</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にplotconfigを入力
<br>
plotconfig||PLOTCONFIG{args}
<br>
・任意位置に挿入可
<br>
・argsは設定値をcomma,区切りで入力（0||省略時、<a href="#span-out-UI-graphing-config">plot-config</a>の設定値）
<br>
grid-line-width,font-size,grid-x-Ni,grid-y-Nj,kx-adj,legend-kx,legend-ky
<br>
・grid-x-Ni=0~2560
<br>
・grid-y-Nj=0~2560
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
graph-title
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-title"></span>
graph-title特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.34.18</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にgraph-titleを入力
<br>
title||TITLE{graph-title}
<br>
・任意位置に挿入可
<br>
・graph-titleはcanvas上部に表示するtitleの任意文字列で<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
axis-labels
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-labels"></span>
axis-labels特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にx-labelを入力
<br>
xlabel||XLABEL{x-label}
<br>
・任意位置に挿入可
<br>
・x-labelはx軸余白に表示するlabelの任意文字列で<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
・省略時、軸labelの表示：x(t)
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にy-labelを入力
<br>
ylabel||YLABEL{y-label}
<br>
・任意位置に挿入可
<br>
・y-labelはy軸余白に表示するlabelの任意文字列で<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
・省略時、軸labelの表示：y(t)
<br>
<br>
留意事項を列挙する
<br>
・<span class="run">Ver.2.750.113</span>~<span class="clear">2.773.119</span>以降、軸labelの追加表示を削除する場合、plot内容の要変更
<br>
　log10(imag(label))　⇒　labelの場合、z　⇒　log10(imag(z))
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
origin
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-origin"></span>
origin特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.67.27</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にoriginを入力
<br>
origin||ORIGIN{args}
<br>
・任意位置に挿入可
<br>
・originはorigin-labelと原点を通るorigin-lineで<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
<br>
・argsは設定値をcomma,区切りで入力（省略時、<a href="#span-out-UI-graphing-legend">legend-dataset</a>の設定値）
<br>
lineWidth,<a href="#span-out-UI-graphing-color">color</a>,labelSize
<br>
<br>
留意事項を列挙する
<br>
・comma,区切りの場合、rgba()入力の<a href="#span-out-UI-graphing-color">color</a>指定不可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
string-path
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-string-path"></span>
string-path特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.34.18</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>にstring-pathを入力
<br>
string||STRING{config[]string-path}
<br>
・各<a href="#span-out-UI-graphing-legend">legend-dataset</a>の任意位置に挿入可
<br>
・string-pathはplot-lines上のpathに表示する任意文字列で<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>に描画
<br>
・config[]内datasetは設定値をcolon:区切りで入力（省略時、<a href="#span-out-UI-graphing-legend">legend-dataset</a>の設定値）
<br>
fontFamily:fontSize:isBold:isItalic:isReverse:
<br>
fillStyle:strokeStyle:fillStr:spacingX:spacingY:
<br>
shadowOffsetX:shadowOffsetY:shadowBlur:deg0
<br>
<span class="run">Ver.2.37.18</span>以降、各設定値のlimiterを追加
<br>
・fontFamilyはfont-family名（<span class="run">Ver.2.35.18</span>以降、white space付family名に対応）
<br>
・fontSize=0~32767はstring-pathのfont-sizeのpx数値
<br>
・isBold=0||white space以外でbold typeを使用
<br>
・isItalic=0||white space以外でitalic typeを使用
<br>
・isReverse=0||white spaceで始点から順送り・それ以外は終点から順送り
<br>
・fillStyleはfill-style
<br>
・strokeStyleはstroke-style
<br>
・fillStr=falseでstrokeのみ・fillStr=trueでfillのみ・それ以外はstroke&amp;fill
<br>
・spacingX=-32768~32767は文字送り空白部分のpx数値
<br>
・spacingY=-32768~32767は高さ方向空白部分のpx数値
<br>
・shadowBlur&gt;0でshadow有効（png/svg出力の互換性なし）
<br>
・shadowColorはfillStr=falseでstrokeStyle・fillStr=trueでfillStyle
<br>
・それ以外はfillStr=0~255を比例係数とするstrokeStyleとfillStyleのRGBA値の<a href="#span-out-interpolation-linear">線形補間</a>
<br>
・R値の一例を次に示す
<br>
shadowColor.r = strokeStyle.r+(fillStyle.r-strokeStyle.r)*Math.min(1, Math.abs(fillStr)/255)
<br>
・shadowOffsetX=-32768~32767はshadowのx方向offsetのpx数値
<br>
・shadowOffsetY=-32768~32767はshadowのy方向offsetのpx数値
<br>
・shadowBlur=-32768~32767はshadowの偏差
<br>
・character毎にsvg出力の度数degをpng出力の弧度数radに変換して互換性を確保
<br>
・以上の座標変換はcharacterのbottom-left基準
<br>
　<span class="run">Ver.2.37.18</span>以降、path上の回転角のみ、svg-&lt;textPath&gt;準拠のbottom基準に変更
<br>
・<span class="run">Ver.2.37.18</span>以降、config[]内datasetに設定項目deg0を追加
<br>
・deg0=0~360はcharacterのbottom-left基準の回転角の度数deg
<br>
　deg0=0||省略時・spacingX/Y=0||省略時、path上の回転角を使用
<br>
・字句解析の都合上、string-pathのsemi-colon; disabled
<br>
・仕様上、string-pathの4Bytes character disabled
<br>
・svg出力のみ、4Bytes characterを含む特殊文字等、直接file編集可（group化済み）
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、spacingX/Y=0||省略時、&lt;textPath&gt;によるsvg出力に対応
<br>
・回転角を含む座標変換のalgorithmが異なるため、png出力と若干の互換性を失う
<br>
・svg出力は縮小表示でtextPathが非表示になるが、png出力は非表示にならない
<br>
・string-pathに<a href="#span-out-spaces">white spaces</a>を含む場合、spellの扱いが異なる（1字に変換すれば統一可）
<br>
・&lt;textPath&gt;以外への流用等、利便性に配慮し、既定で&lt;path&gt;を出力する
<br>
<br>
留意事項を列挙する
<br>
・string部分のみを描画する場合、<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperation</a>=source-in/out||destination-in/atopを選択（label作成用）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
gradation
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-gradation"></span>
gradation特定項目仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.36.18</span>以降、指向性のない<a href="#span-out-UI-graphing-filter-Gaussian">Gaussぼかし</a>では再現困難な機能としてgradationを追加する
<br>
・<span class="run">Ver.2.40.18</span>以降、legend間のgradation合成に対応
<br>
・<span class="run">Ver.2.60.26</span>以降、<span class="selection">circle-mode@Ncycle=0</span>を追加
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にgradationを入力
<br>
gradation||GRADATION{config[]<a href="#span-out-UI-graphing-colors">colors</a>}
<br>
・各<a href="#span-out-UI-graphing-legend">legend-dataset</a>の任意位置に挿入可
<br>
・gradationは<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>に描画
<br>
・gradation起点からplot-lineまでの半径方向に生成
<br>
・colorsは<a href="#span-out-UI-graphing-colors">color-dataset</a>をcolon:区切りで入力（省略時、<a href="#span-out-UI-graphing-legend">legend-dataset</a>のmarkerColor）
<br>
・config[]内datasetは設定値をcolon:区切りで入力（省略不可）
<br>
originX:originY:offsetR:<span class="clear">orderR:NrandR:NrandT:isMin:isRound:Nrender</span>:Ncycle
<br>
・svg出力は<span class="clear">orderR:NrandR:NrandT:isMin:isRound:Nrender</span> disabled
<br>
・originXはplot座標系x方向linear-scaleのgradation起点
<br>
・originYはplot座標系y方向linear-scaleのgradation起点
<br>
・offsetR=0~1はgradation代表長さのoffset係数
<br>
　offsetR=0の場合、最外周を除く内周にgradationの周期境界条件を課す
<br>
・orderR=0~10は半径方向の補間次数
<br>
　orderR=0の場合、svg出力相当のuniform
<br>
　orderR=1の場合、既定の<a href="#span-out-interpolation-linear">線形補間</a>
<br>
・NrandR=0~255はgradation代表長さの<a href="#span-out-FN-rand">乱数</a>
<br>
・NrandT=0~255はgradation分布の<a href="#span-out-FN-rand">乱数</a>
<br>
・isMin=false||true||&lt;0(auto)はgradation代表長さの一意な決め方を指定する
<br>
　falseの場合、gradation起点から各周plot点までの最大値を保持
<br>
　trueの場合、gradation起点から各周plot点までの最小値を保持
<br>
　負の場合、成行きで保持
<br>
・isRound=false||trueはplot点の存在しない領域の補間方法を選択する
<br>
　falseの場合、plot座標系で<a href="#span-out-interpolation-linear">線形補間</a>（<span class="clear">plot間vectorを等分割して回転角に変換する誤差あり</span>）
<br>
　trueの場合、gradation起点からplot点までの長さ空間で<a href="#span-out-interpolation-linear">線形補間</a>（<span class="clear">false同様の誤差あり</span>）
<br>
・Nrender=1~32767は周方向のrendering分割数（数値以外を指定時、媒介変数tの区間分割数N）
<br>
・Ncycle=0~127は半径方向のrendering周期数
<br>
<br>
<span class="run">Ver.2.60.26</span>以降、<span class="selection">circle-mode@Ncycle=0</span>を追加
<br>
・canvas座標でgradation起点を中心にplot-lineの周方向に生成（<a href="#span-out-UI-graphing-config">canvas-size</a>に依存）
<br>
・config[]内datasetの変化点を示す
<br>
originX:originY:offsetR:orderR:NrandR:NrandT:isMin:<span class="clear">isRound</span>:Nrender:<span class="selection">Ncycle=0</span>
<br>
・<span class="clear">isRound</span> disabled
<br>
・offsetR=0~1は1周のoffset係数
<br>
　offsetR=0の場合、gradationの周期境界条件を課す
<br>
・NrandR=0~255はgradation間隔の<a href="#span-out-FN-rand">乱数</a>
<br>
・isMin=false||trueはrenderingの重複を判定する
<br>
　falseの場合、成行きでrendering
<br>
　trueの場合、重複判定でrenderingをskip
<br>
<br>
algorithmが異なるため、png/svg出力の互換性なし
<br>
<br>
svg出力の特徴を列挙する
<br>
・Nrender無効
<br>
・plot点に比例係数を演算してgradationを作るため、意図に近い結果が得られる
<br>
・legend間のgradation合成可（source-over）
<br>
・<a href="#span-out-FN-rand">乱数</a>適用不可
<br>
・<span class="selection">circle-mode@Ncycle=0</span>の場合、周方向の分割数=(NrandT||10)*colors.length
<br>
・gradation精度を上げる場合、colorsを細かく刻んで指定する
<br>
<br>
png出力の特徴を列挙する
<br>
・rendering方式でRGBA値を補間するため、gradation精度が高い
<br>
・isMin設定値によってcyclic star||spiral等、意図した結果が得られるとは限らない
<br>
・isRound設定項目の変換誤差を許容するため、
<br>
　svg出力同等||完全に意図通りの結果は得られない（<span class="clear">Ver.2.44.23</span>追記）
<br>
・<span class="run">Ver.2.40.18</span>以降、legend間のgradation合成に対応
<br>
<del>・legend間のgradation合成不可（合成する場合、複数回の分割出力が必要）
<br>
・putImageData()同期出力のため、<a href="#span-out-UI-graphing-post1">canvas-globalCompositeOperation</a>無効（source-over）</del>
<br>
・<a href="#span-out-FN-rand">乱数</a>適用可
<br>
・Nrender=1で真円のgradationが比較的簡単に得られる
<br>
<br>
形状再現精度||gradation精度に関係する設定項目を列挙する
<br>
・媒介変数tの区間分割数N
<br>
・周方向のrendering分割数Nrender
<br>
・png||svg出力桁数
<br>
・<span class="selection">circle-mode@Ncycle=0</span>の場合
<br>
　・<a href="#span-out-UI-graphing">plot範囲の各axis最小値~最大値</a>
<br>
　・<a href="#span-out-UI-graphing-config">canvas-size</a>@<a href="#span-out-UI-graphing">p-checkbox</a> unchecked
<br>
<br>
留意事項を列挙する
<br>
・上記精度を上げ過ぎた場合、svg出力のfile sizeや<a href="#span-out-UI-graphing-post">post処理</a>の負荷が増大する
<br>
・<a href="#span-out-FN-rand">乱数</a>設定時、flickering防止のため、<del>plot終了の最終frameまで逐次描画しない</del>
<br>
　<span class="run">Ver.2.759.115</span>以降、自動描画refreshの頻度：最大10回　⇒　最短1秒間隔
<br>
・drawImage()非同期出力のため、最終frameにlegend順を保証してgradationを合成する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
transform
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-transform"></span>
transform特定項目仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.52.25</span>以降、<a href="#span-out-UI-graphing-post1">layer合成</a>時の座標変換機能を追加する
<br>
・<span class="clear">Ver.2.53.25</span>以降、<span class="run">せん断変換の結果</span>から<span class="condition">座標変換行列</span>の一部(<span class="clear">b:c</span>)の位置関係を交換して訂正
<br>
・<span class="run">Ver.2.56.26</span>以降、設定項目withBackgroundを追加
<br>
・<span class="run">Ver.2.56.26</span>以降、svg出力に対応
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にtransformを入力
<br>
transform||TRANSFORM{args}
<br>
・任意位置に挿入可
<br>
・transformは<a href="#span-out-UI-graphing-post1">layer合成</a>時の<a href="#span-out-UI-graphing-post">post処理</a>（<span class="run">Ver.2.56.26</span>以降、svg出力に対応）
<br>
・argsはcanvas座標変換ctx.setTransform(<span class="selection">a,b,c,d,e,f</span>)の引数をcomma,区切りで入力
<br>
transform{<span class="selection">a,b,c,d,e,f</span>,withBackground||0}
<br>
・各引数の定義
<br>
<a href="#span-out-Euclid">2次元Euclid実空間</a>の<a href="#span-out-FNmspecial-spec">回転行列</a>(<span class="selection">a</span>,<span class="clear">c:b</span>,<span class="selection">d</span>)
<br>
px数値の並進vector{<span class="selection">e,f</span>}
<br>
・withBackground=0||1（<a href="#span-out-UI-graphing-layer-background">background-layer</a>にtransformを適用する場合、1）
<br>
・<span class="condition">座標変換行列</span>の定義
<br>
transform3x3=(
<br>
<span class="selection">
a,c,e:
<br>
b,d,f:
</span>
<br>
0,0,1
<br>
)
<br>
transpose(transform3x3) -> (
<br>
<span class="selection">a,b,</span>0:
<br>
<span class="selection">c,d,</span>0:
<br>
<span class="selection">e,f,</span>1
<br>
)
<br>
・列vectorの場合
<br>
{x_after,y_after,1}=transform3x3*{x_before,y_before,1}
<br>
・行vectorの場合
<br>
(x_after,y_after,1)=(x_before,y_before,1)*transpose(transform3x3)
<br>
・同義
<br>
x_after=x_before<span class="selection">*a</span>+y_before<span class="selection">*c</span>+1<span class="selection">*e</span>
<br>
y_after=x_before<span class="selection">*b</span>+y_before<span class="selection">*d</span>+1<span class="selection">*f</span>
<br>
・逆変換
<br>
determinant=(<span class="selection">a*d-b*c</span>)
<br>
inverse(transform3x3) -> (
<br>
(1/determinant)*(d,-c,c*f-e*d):
<br>
(1/determinant)*(-b,a,e*b-a*f):
<br>
(1/determinant)*(0,0,a*d-c*b)
<br>
)
<br>
x_before=(1/determinant)*(x_after<span class="selection">*d</span>+y_after<span class="selection">*(-c)</span>+1<span class="selection">*(c*f-e*d)</span>)
<br>
y_before=(1/determinant)*(x_after<span class="selection">*(-b)</span>+y_after<span class="selection">*a</span>+1<span class="selection">*(e*b-a*f)</span>)
<br>
・演算に使用する場合、<a href="#span-out-FN0">Napier数e</a>と区別が必要
<br>
<br>
test caseを列挙する
<br>
・基準{x_before,y_before,1}={1,1,1}
<br>
{1,0,0,1,0,0}
<br>
args={1,0,0,1,0,0};
<br>
transform3x3=(args[0],args[2],args[4]:args[1],args[3],args[5]:0,0,1);
<br>
{$x_before,$y_before,1}={1,1,1};
<br>
{$x_after,$y_after,1}=transform3x3*{x_before,y_before,1};
<br>
{x_after,y_after,1} -> (1:1:1)
<br>
・x方向2倍(a,d)=(2,1)
<br>
{2,0,0,1,0,0}
<br>
{x_after,y_after,1} -> (2:1:1)
<br>
・y方向2倍(a,d)=(1,2)
<br>
{1,0,0,2,0,0}
<br>
{x_after,y_after,1} -> (1:2:1)
<br>
・並進(e,f)=(-100,100)
<br>
{1,0,0,1,-100,100}
<br>
{x_after,y_after,1} -> (-99:101:1)
<br>
・x方向反転並進(a,e)=(-1,100)
<br>
{-1,0,0,1,100,0}
<br>
{x_after,y_after,1} -> (99:1:1)
<br>
・y方向反転並進(d,f)=(-1,100)
<br>
{1,0,0,-1,0,100}
<br>
{x_after,y_after,1} -> (1:99:1)
<br>
・x/y方向反転並進(a,d,e,f)=(-1,-1,100,100)
<br>
{-1,0,0,-1,100,100}
<br>
{x_after,y_after,1} -> (99:99:1)
<br>
・回転(a,b)=(d,-c)
<br>
　・回転角=pi/4
<br>
<a href="#span-eqn-rotationxyz_LHS">rotz_LHS(psi)</a>=&lt;{rt=real(psi),=&lt;(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)}=&gt;;
<br>
Rz=rotz_LHS(pi/4); Rz[0][0],Rz[0][1],Rz[1][0],Rz[1][1]
<br>
-> 0.7071067811865476,0.7071067811865475,-0.7071067811865475,0.7071067811865476
<br>
{0.7071067811865476,0.7071067811865475,-0.7071067811865475,0.7071067811865476,0,0}
<br>
{x_after,y_after,1} -> (1.1102230246251565e-16:1.414213562373095:1)
<br>
　・(a,b)=(0.5,0.2)
<br>
{0.5,0.2,-0.2,0.5,0,0}
<br>
{x_after,y_after,1} -> (0.3:0.7:1)
<br>
・<span class="run">x方向せん断変換</span>(b,c)=(0,0.5)
<br>
{1,0,0.5,1,0,0}
<br>
{x_after,y_after,1} -> (<span class="run">1.5</span>:1:1)
<br>
・<span class="run">y方向せん断変換</span>(b,c)=(0.5,0)
<br>
{1,0.5,0,1,0,0}
<br>
{x_after,y_after,1} -> (1:<span class="run">1.5</span>:1)
<br>
・視線変更
<br>
{1,0.1,-0.5,0.5,50,50}
<br>
{x_after,y_after,1} -> (50.5:50.6:1)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-UI-graphing-post1">layer合成</a>後の<a href="#span-out-UI-graphing-blur">blurring</a>||<a href="#span-out-UI-graphing-filter">filtering</a>はputImageData()同期出力のため、transform無効
<br>
・<a href="#span-out-UI-graphing-post1">layer合成</a>後の<a href="#span-out-UI-graphing-blur">blurring</a>||<a href="#span-out-UI-graphing-filter">filtering</a>にtransformを適用する場合、<a href="#span-out-UI-graphing-post-transformer">post-transformer</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
blur
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-blur"></span>
blur特定項目仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.45.23</span>以降、<a href="#span-out-UI-graphing-filter-average">averageぼかし</a>を応用して指向性のblurを追加する
<br>
・<span class="clear">Ver.2.45.24</span>以降、strength=0で正常に機能しない致命的な不具合を修正
<br>
・<span class="run">Ver.2.55.26</span>以降、一部の設定項目名を<span class="jF">isSquare</span>に変更
<br>
・<span class="run">Ver.2.57.26</span>以降、<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>に対応（<span class="condition">asym[]</span>の設定項目を追加）
<br>
・<span class="run">Ver.2.60.26</span>以降、<span class="selection">circle-mode@Ncycle=0</span>を追加
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にblurを入力
<br>
blur||BLUR{<span class="condition">asym[]</span>config[]strengths}
<br>
・任意位置に挿入可
<br>
・blurは<a href="#span-out-UI-graphing-filter">filtering</a>直前の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は無効）
<br>
・strengthsはfilter(2n-1)x(2n-1)sizeのn=0~20の数値をcolon:区切りで入力（省略時、0:10）
<br>
・config[]内datasetは設定値をcolon:区切りで入力（省略不可）
<br>
<span class="selection">originX:originY:offsetR:orderR:NrandR:NrandT:isMin:isRound:Nrender:Ncycle</span>:
<br>
isCyclic:<span class="jF">isSquare</span>:Nlegend（<span class="run">Ver.2.55.26</span>以降、項目名を変更）
<br>
・<span class="selection">上段</span>は<a href="#span-out-UI-graphing-gradation">gradation</a>参照
<br>
・<span class="run">Ver.2.57.26</span>以降、<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>の場合、下流側で<span class="selection">Nrender</span>=1~2560に上限値を圧縮
<br>
　<a href="#span-out-UI-graphing-filter-average">averageぼかし</a>の場合、memory size&lt;20MB
<br>
　<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>の場合、memory size&lt;200MB
<br>
・isCyclic=false||trueは1周期外（2周期目以降）のblur条件を選択する
<br>
　falseの場合、strengthsの最終値で固定してblurを適用
<br>
　trueの場合、周期的にblurを適用
<br>
・<span class="jF">isSquare</span>=false||trueは適用する<a href="#span-out-UI-graphing-filter">filter</a>の種類を選択する
<br>
　falseの場合、<a href="#span-out-UI-graphing-filter-average">average_circle</a>
<br>
　trueの場合、<a href="#span-out-UI-graphing-filter-average">average_square</a>
<br>
・Nlegend=1~lastはblurを適用するplot-lineのlegend番号
<br>
　範囲外の数値||数値以外を指定した場合、最終legendを選択
<br>
・<span class="run">Ver.2.57.26</span>以降、<span class="condition">asym[]</span>内datasetは設定値をcomma,区切りで入力（省略時、0,0,1,0）
<br>
asym[x||0,y||0,k||0,Nrad||0]
<br>
・各設定値の詳細は<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>参照
<br>
・Nradは<a href="#span-out-FNmspecial-spec">回転行列</a>の弧度数rad=pi/Nradに換算するpiの分割数（Nrad=0の場合、rad=0）
<br>
・radはplot-lineの接線方向（1次近似）を基準とする独立変数
<br>
<br>
test caseを列挙する
<br>
・strength分布に<a href="#span-out-FN-rand">乱数</a>を適用（glass morphism効果を模擬）
<br>
config[0:0:0:1:0:50:false:false:2560:4:true:false:last]
<br>
・glass morphism効果を強化して密に適用
<br>
config[0:0:0:1:0:200:false:false:2560:4:true:false:last]0:10:0:10:0:10:0:10:0:10:0:10
<br>
config[0:0:0:1:0:200:false:false:2560:4:true:false:last]10:0:10:0:10:0:10:0:10:0:10:0
<br>
<span class="run">Ver.2.60.26</span>以降、<span class="selection">circle-mode@Ncycle=0</span>を追加
<br>
・Nlegend=1のplot-line上でstrength=0の周期境界条件を適用
<br>
config[0:0:0:1:0:0:false:false:2560:0:true:false:1]0:8
<br>
config[0:0:0:1:0:0:false:false:2560:0:true:false:1]0:8:8
<br>
・Nlegend=1のplot-line上でstrength=0の非周期境界条件を適用
<br>
config[0:0:0:1:0:0:false:false:2560:0:false:false:1]0:8:0
<br>
config[0:0:0:1:0:0:false:false:2560:0:false:false:1]0:8:8:0
<br>
・Nlegend=1のplot-line上でstrength=8の周期境界条件を適用
<br>
config[0:0:0:1:0:0:false:false:2560:0:true:false:1]8:0
<br>
config[0:0:0:1:0:0:false:false:2560:0:true:false:1]8:0:0
<br>
・Nlegend=1のplot-line上でstrength=8の非周期境界条件を適用
<br>
config[0:0:0:1:0:0:false:false:2560:0:false:false:1]8:0:8
<br>
config[0:0:0:1:0:0:false:false:2560:0:false:false:1]8:0:0:8
<br>
・<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>を適用
<br>
<span class="condition">asym[0,0,3,0]</span>config[0:0:0:1:0:0:false:false:2560:0:true:false:1]0:8:8
<br>
<br>
形状再現精度||blur精度に関係する設定項目を列挙する
<br>
・媒介変数tの区間分割数N
<br>
・周方向のrendering分割数Nrender
<br>
<br>
留意事項を列挙する
<br>
・svg出力は無効
<br>
・putImageData()同期出力のため、<a href="#span-out-UI-graphing-post1">canvas-globalCompositeOperation</a>無効（source-over）
<br>
・strengthsの数値に応じて<a href="#span-out-UI-graphing-post">post処理</a>の負荷がexponentialに増大する（中断不可）
<br>
・strengthsに数値以外を指定した場合、該当のstrength=0とする
<br>
・<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>の場合、strength&lt;max(x,y)の領域で空白発生の可能性がある
<br>
・同様に、ImageDataが欠落する描画canvas境界で空白発生の可能性がある
<br>
・空白部分は<a href="#span-out-UI-graphing-color">透明黒色</a>とする
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
filter
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-filter"></span>
filter特定項目仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.44.22</span>以降、<a href="#span-out-UI-graphing-post">post処理</a>の付録機能（未最適化）としてfilterを追加する
<br>
・<span class="clear">Ver.2.44.23</span>以降、各RGBA値=0で正常に機能しない致命的な不具合を修正
<br>
・<span class="run">Ver.2.46.24</span>以降、HSV-<a href="#span-out-UI-graphing-color-space">color空間</a>に対応
<br>
・<span class="clear">Ver.2.48.25</span>以降、描画canvas境界で正常に機能しない不具合を修正
<br>
・<span class="run">Ver.2.52.25</span>以降、filterを適用する<span class="condition">canvas-area</span>の設定項目を追加
<br>
・<span class="clear">Ver.2.60.27</span>以降、<span class="condition">canvas-area</span>のlimiter-<a href="#span-out-UI-graphing-config">canvas-size(canvas-width,canvas-height)</a>を追加
<br>
・<span class="run">Ver.2.63.27</span>以降、filter適用前後のmask領域を指定する<span class="jF">canvas-mask</span>の設定項目を追加
<br>
・<span class="run">Ver.2.103.33</span>以降、応用例を追記
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にfilterを入力
<br>
filter||FILTER{filters}
<br>
・任意位置に挿入可
<br>
・filterは<a href="#span-out-UI-graphing-post1">layer合成</a>後の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は無効）
<br>
・filtersは<span class="jF">mask[]</span><span class="condition">area[]</span>filterを適用順にcolon:区切りで入力
<br>
・<span class="run">Ver.2.52.25</span>以降、<span class="condition">area[]</span>内datasetは設定値をcomma,区切りで入力（省略時、全体に適用）
<br>
area[x||0,y||0,w||<a href="#span-out-UI-graphing-config">canvas-width</a>,h||<a href="#span-out-UI-graphing-config">canvas-height</a>]
<br>
・<span class="condition">canvas-area</span>は始点(x,y)とarea-size(w,h)を直列化してpx数値で指定する
<br>
・<span class="clear">Ver.2.60.27</span>以降、下流側で致命的な不具合に繋がる入力を回避
<br>
area[0,0,<span class="clear">1e13</span>] -> Value is outside the 'long' value range.
<br>
area[<span class="clear">-1e9,,1e9</span>] -> Out of memory at ImageData creation
<br>
　⇒　area[0,0,<a href="#span-out-UI-graphing-config">canvas-width,canvas-height</a>]
<br>
・<span class="run">Ver.2.63.27</span>以降、<span class="jF">mask[]</span>内datasetは設定値をcomma,区切りで入力（省略時、全体に適用）
<br>
mask[Nlegend||last,isInverse||false,isClear||false]
<br>
・Nlegend=1~lastはmask領域を指定するplot-lineのlegend番号
<br>
　範囲外の数値||数値以外を指定した場合、最終legendを選択
<br>
・isInverse=false||trueはmask領域の内外を反転する
<br>
　falseの場合、mask領域の内側のみにfilterを適用
<br>
　trueの場合、mask領域の外側のみにfilterを適用
<br>
・isClear=false||trueはfilter適用範囲外の処理を選択する
<br>
　falseの場合、filter適用前のRGBA値を保持
<br>
　trueの場合、<a href="#span-out-UI-graphing-color">透明黒色</a>にRGBA値をclear
<br>
<br>
filterは上下左右対称(2n-1)x(2n-1)sizeの2次元配列を1次元に直列化して定義する
<br>
・2次元配列の中央要素をfilter対象pixelとして周囲pixelを含む重みを数値で指定する
<br>
・非対称(2n)x(2n)sizeのfilterは対称(2n+1)x(2n+1)sizeを基準に設定する
<br>
・filterを適用するRGBAの組合せは任意に選択可（順不同）
<br>
・<span class="run">Ver.2.46.24</span>以降、円柱HSV||円錐HSV_coneの組合せを追加
<br>
・RGBA/HSVの組合せを併記した場合、filtering手順を次に示す
<br>
　最終frameを取得　⇒　RGB->HSV非線形順変換　⇒　HSV-<a href="#span-out-UI-graphing-color-space">color空間</a>でfiltering
<br>
　⇒　HSV->RGB非線形逆変換　⇒　RGBA-<a href="#span-out-UI-graphing-color-space">color空間</a>でfiltering　⇒　処理結果を出力
<br>
<br>
<span class="clear">Ver.2.44.23</span>以降、irregular入力に対応
<br>
r || rr || rrr || r[] || []r || [0]r || [string]r -> r[0]
<br>
[1]rgb || r[1]gb || rg[1]b -> rgb[1]
<br>
r[1]g[2]b || g[1]r[2]b || b[1]g[2]r -> rgb[1]
<br>
[]r[1]g[2]b || [0]r[1]g[2]b -> rgb[0]
<br>
[0xa]r[1]g[2]b[3] -> rgb[10]
<br>
<br>
<span class="run">Ver.2.46.24</span>以降、HSV-<a href="#span-out-UI-graphing-color-space">color空間</a>に対応
<br>
・円柱model
<br>
rgba[1]hsv || hsv[1]:rgba[1] -> hsvrgba[1]
<br>
・円錐model
<br>
hsv_cone[1]:rgba[1] -> hsvrgba_cone[1]
<br>
・HSV-<a href="#span-out-UI-graphing-color-space">color空間</a>よりRGBA-<a href="#span-out-UI-graphing-color-space">color空間</a>を優先する場合
<br>
rgba[1]:hsv[1]
<br>
<br>
<span class="run">Ver.2.52.25</span>以降、filterを適用する<span class="condition">canvas-area</span>の設定項目を追加
<br>
・<span class="condition">canvas-area</span>は始点(x,y)とarea-size(w,h)を直列化してpx数値で指定する
<br>
area[x||0,y||0,w||<a href="#span-out-UI-graphing-config">canvas-width</a>,h||<a href="#span-out-UI-graphing-config">canvas-height</a>]
<br>
・始点(x,y)=(10,20)・area-size(w,h)=(30,40)　⇒　終点(x,y)=(10+30-1,20+40-1)
<br>
area[10,20,30,40]
<br>
<br>
留意事項を列挙する
<br>
・svg出力は無効
<br>
・putImageData()同期出力のため、<a href="#span-out-UI-graphing-post1">canvas-globalCompositeOperation</a>無効（source-over）
<br>
・filter sizeに応じて<a href="#span-out-UI-graphing-post">post処理</a>の負荷がexponentialに増大する（中断不可）
<br>
・<a href="#span-out-UI-graphing-filter-weight">加重平均filter</a>は重みを<a href="#span-out-FNm-normalize">正規化</a>するが、<a href="#span-out-UI-graphing-filter-edge">edge抽出filter</a>は<a href="#span-out-FNm-normalize">正規化</a>しない（白黒飛びを許容）
<br>
・ImageDataが欠落する描画canvas境界は<a href="#span-out-UI-graphing-filter-weight">加重平均filter</a>として扱う（意図とは異なる可能性あり）
<br>
・<a href="#span-out-UI-graphing-config">canvas-background</a>にtransparent選択の場合、背景色は<a href="#span-out-UI-graphing-color">透明黒色</a>とする
<br>
・<span class="clear">Ver.2.44.23</span>以降、filter配列要素に数値以外を指定した場合、該当の重み=0とする
<br>
<br>
<span class="run">Ver.2.103.33</span>以降、応用例を列挙する
<br>
・3D-LiDAR等のhard技術を代替||補完する物体検出algorithmの検討
<br>
・拡張機能を含むfilterは深層学習の<a href="#span-out-UI-graphing-filter-weight">重み関数</a>||<a href="#span-out-UI-graphing-filter-tone-curve">bias項||活性化関数</a>に相当
<br>
・robust性を向上する場合、以下の階層を想定して多段階にfilterを適用（順不同）
<br>
　Low-Pass-Filterによるnoise除去（<a href="#span-out-UI-graphing-filter-average">averageぼかし</a>||<a href="#span-out-UI-graphing-post-compressor">DFT||DWT</a>）
<br>
　時間帯等による光学的な補正（非線形な<a href="#span-out-UI-graphing-filter-tone-curve">gamma補正||tone-curve調整</a>）
<br>
　物体検出空間への変換（線形||非線形な<a href="#span-out-UI-graphing-color-space">color空間</a>の変換）
<br>
　sharpness（<a href="#span-out-UI-graphing-filter-weight">加重平均</a>）
<br>
　輪郭抽出（<a href="#span-out-UI-graphing-filter-edge">edge抽出</a>）
<br>
　3D-特徴点抽出（陰影処理||<a href="#span-out-UI-graphing-post-processor">2値化</a>）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
filter一覧
    </th>
    <td>
<span id="span-out-UI-graphing-filter-list"></span>
<a href="#span-out-UI-graphing-filter">filter</a>を列挙する
<br>
・<a href="#span-out-UI-graphing-filter-weight">加重平均</a>
<br>
・<a href="#span-out-UI-graphing-filter-edge">edge抽出</a>
<br>
・<a href="#span-out-UI-graphing-filter-average">averageぼかし</a>
<br>
・<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>
<br>
・<a href="#span-out-UI-graphing-filter-Gaussian">Gaussぼかし</a>
<br>
・<a href="#span-out-UI-graphing-filter-tone-curve">tone-curve</a>
<br>
・<a href="#span-out-UI-graphing-post-transformer">post-transformer</a>
<br>
・<a href="#span-out-UI-graphing-post-compressor">post-compressor</a>
<br>
・<a href="#span-out-UI-graphing-post-processor">post-processor</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
加重平均
    </th>
    <td>
<span id="span-out-UI-graphing-filter-weight"></span>
加重平均filterについて記述する
<br>
<br>
加重平均filterの一例を示す
<br>
・RGBA値Gaussian3x3（<a href="#span-out-UI-graphing-filter-Gaussian">簡易なGaussぼかし</a>）
<br>
rgba[1,2,1,2,<span class="selection">4</span>,2,1,2,1]
<br>
・<span class="selection">対象pixel</span>の重みを最大値4として周囲pixelを含む次の重み平均を<a href="#span-out-FNm-normalize">正規化</a>する
<br>
[
<br>
1,2,1,
<br>
2,<span class="selection">4</span>,2,
<br>
1,2,1
<br>
]
<br>
・RGBA値x方向average3x3
<br>
rgba[0,0,0,1,<span class="selection">1</span>,1,0,0,0]
<br>
[
<br>
0,0,0,
<br>
1,<span class="selection">1</span>,1,
<br>
0,0,0
<br>
]
<br>
・RGBA値y方向average3x3
<br>
rgba[0,1,0,0,<span class="selection">1</span>,0,0,1,0]
<br>
[
<br>
0,1,0,
<br>
0,<span class="selection">1</span>,0,
<br>
0,1,0
<br>
]
<br>
・RGBA値x/y方向average3x3
<br>
rgba[0,1,0,1,<span class="selection">1</span>,1,0,1,0]
<br>
[
<br>
0,1,0,
<br>
1,<span class="selection">1</span>,1,
<br>
0,1,0
<br>
]
<br>
・RGB値<a href="#span-out-UI-graphing-filter-average">average_square</a>3x3
<br>
rgb[1,1,1,1,<span class="selection">1</span>,1,1,1,1]
<br>
[
<br>
1,1,1,
<br>
1,<span class="selection">1</span>,1,
<br>
1,1,1
<br>
]
<br>
・<a href="#span-out-UI-graphing-filter-average">average_square</a>4x4は<span class="clear">定義不可</span>（<a href="#span-out-UI-graphing-filter-average">average_square</a>3x3に同義）
<br>
rgb[1,1,1,1,<span class="selection">1</span>,1,1,1,1<span class="clear">,1,1,1,1,1,1,1</span>]
<br>
[
<br>
1,1,1,
<br>
1,<span class="selection">1</span>,1,
<br>
1,1,1
<br>
]
<br>
・RGB値<a href="#span-out-UI-graphing-filter-average">average_circle</a>3x3
<br>
rgb[0,1,0,1,<span class="selection">1</span>,1,0,1,0]
<br>
[
<br>
0,1,0,
<br>
1,<span class="selection">1</span>,1,
<br>
0,1,0
<br>
]
<br>
・RGB値sharpness3x3
<br>
rgb[-1,-1,-1,-1,<span class="selection">9</span>,-1,-1,-1,-1]
<br>
[
<br>
-1,-1,-1,
<br>
-1,<span class="selection">9</span>,-1,
<br>
-1,-1,-1
<br>
]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
edge抽出
    </th>
    <td>
<span id="span-out-UI-graphing-filter-edge"></span>
edge抽出filterについて記述する
<br>
<br>
edge抽出filter（重みの総和=0）の一例を示す
<br>
・RGB値edge3x3
<br>
rgb[-1,-1,-1,-1,<span class="selection">8</span>,-1,-1,-1,-1]
<br>
[
<br>
-1,-1,-1,
<br>
-1,<span class="selection">8</span>,-1,
<br>
-1,-1,-1
<br>
]
<br>
・R値edge強化3x3
<br>
r[-10,-10,-10,-10,<span class="selection">80</span>,-10,-10,-10,-10]
<br>
[
<br>
-10,-10,-10,
<br>
-10,<span class="selection">80</span>,-10,
<br>
-10,-10,-10
<br>
]
<br>
・R値Laplacian3x3
<br>
r[0,-1,0,-1,<span class="selection">4</span>,-1,0,-1,0]
<br>
[
<br>
0,-1,0,
<br>
-1,<span class="selection">4</span>,-1,
<br>
0,-1,0
<br>
]
<br>
・G値Laplacian強化3x3
<br>
g[0,-10,0,-10,<span class="selection">40</span>,-10,0,-10,0]
<br>
[
<br>
0,-10,0,
<br>
-10,<span class="selection">40</span>,-10,
<br>
0,-10,0
<br>
]
<br>
・G値emboss3x3
<br>
g[-1,0,0,0,<span class="selection">1</span>,0,0,0,0]
<br>
[
<br>
-1,0,0,
<br>
0,<span class="selection">1</span>,0,
<br>
0,0,0
<br>
]
<br>
・B値emboss強化3x3
<br>
b[-10,0,0,0,<span class="selection">10</span>,0,0,0,0]
<br>
[
<br>
-10,0,0,
<br>
0,<span class="selection">10</span>,0,
<br>
0,0,0
<br>
]
<br>
・B値zero化1x1
<br>
b[<span class="selection">0</span>]
<br>
・S値zero化1x1（monotone化）
<br>
s[<span class="selection">0</span>] || s_cone[<span class="selection">0</span>]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
average
<br>
ぼかし
    </th>
    <td>
<span id="span-out-UI-graphing-filter-average"></span>
averageぼかしについて記述する
<br>
<br>
<a href="#span-out-UI-graphing-filter">filter</a>を代用してaverageぼかしを定義する
<br>
・単純な<a href="#span-out-UI-graphing-filter">加重平均filter</a>として<a href="#span-out-UI-graphing-blur">指向性のblurring</a>に応用する
<br>
<br>
averageぼかしの仕様を列挙する
<br>
・ぼかし強度は<a href="#span-out-UI-graphing-filter">filter</a>(N)x(N)sizeのNに比例する
<br>
・高速化のため、<a href="#span-out-UI-graphing-filter">filter配列</a>要素の重みを0||1で2値化する
<br>
<br>
2値化の分布形状を固定してN違いの<a href="#span-out-UI-graphing-filter">filter配列</a>を以下の<a href="#span-out-ope">実数演算</a>で生成する
<br>
・average_square
<br>
[N=3,N2=int(N/2),filter=vectorc(N*N),
<br>
calc_w(s2)=&lt;1,
<br>
_sir(=&lt;{_sic(=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;
<br>
・average_circle
<br>
[N=3,N2=int(N/2),filter=vectorc(N*N),
<br>
calc_w(s2)=&lt;switch(s2&gt;N2**2,0:1,1),
<br>
_sir(=&lt;{_sic(=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;
<br>
<br>
average_squareの<a href="#span-out-UI-graphing-filter">filter配列</a>を列挙する
<br>
・N=1
<br>
[
<br>
<span class="selection">1</span>
<br>
]
<br>
・N=3
<br>
[
<br>
1,1,1,
<br>
1,<span class="selection">1</span>,1,
<br>
1,1,1
<br>
]
<br>
・N=5
<br>
[
<br>
1,1,1,1,1,
<br>
1,1,1,1,1,
<br>
1,1,<span class="selection">1</span>,1,1,
<br>
1,1,1,1,1,
<br>
1,1,1,1,1
<br>
]
<br>
・N=7
<br>
[
<br>
1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,
<br>
1,1,1,<span class="selection">1</span>,1,1,1,
<br>
1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1
<br>
]
<br>
・N=9
<br>
[
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,<span class="selection">1</span>,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=11
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=13
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=15
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=17
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=19
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=21
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=23
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=25
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=27
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=29
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=31
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=33（以降、<a href="#span-out-config">内部option</a>で<a href="#span-in-options">matSizeMax</a>の上限値を解放）
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=35
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=37
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・N=39
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
<br>
average_circleの<a href="#span-out-UI-graphing-filter">filter配列</a>を列挙する
<br>
・N=1
<br>
[
<br>
<span class="selection">1</span>
<br>
]
<br>
・N=3
<br>
[
<br>
0,1,0,
<br>
1,<span class="selection">1</span>,1,
<br>
0,1,0
<br>
]
<br>
・N=5
<br>
[
<br>
0,0,1,0,0,
<br>
0,1,1,1,0,
<br>
1,1,<span class="selection">1</span>,1,1,
<br>
0,1,1,1,0,
<br>
0,0,1,0,0
<br>
]
<br>
・N=7
<br>
[
<br>
0,0,0,1,0,0,0,
<br>
0,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,0,
<br>
1,1,1,<span class="selection">1</span>,1,1,1,
<br>
0,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,0,
<br>
0,0,0,1,0,0,0
<br>
]
<br>
・N=9
<br>
[
<br>
0,0,0,0,1,0,0,0,0,
<br>
0,0,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,<span class="selection">1</span>,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,0,0,
<br>
0,0,0,0,1,0,0,0,0
<br>
]
<br>
・N=11
<br>
[
<br>
0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,0,0,1,0,0,0,0,0
<br>
]
<br>
・N=13
<br>
[
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0
<br>
]
<br>
・N=15
<br>
[
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
<br>
]
<br>
・N=17
<br>
[
<br>
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=19
<br>
[
<br>
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=21
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=23
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=25
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=27
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=29
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=31
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=33（以降、<a href="#span-out-config">内部option</a>で<a href="#span-in-options">matSizeMax</a>の上限値を解放）
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=35
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=37
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=39
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
非対称
<br>
average
<br>
ぼかし
    </th>
    <td>
<span id="span-out-UI-graphing-filter-average-asym"></span>
非対称averageぼかしについて記述する
<br>
<br>
<a href="#span-out-UI-graphing-filter">filter</a>を代用して非対称averageぼかしを定義する
<br>
・単純な<a href="#span-out-UI-graphing-filter">加重平均filter</a>として<a href="#span-out-UI-graphing-blur">指向性のblurring</a>に応用する
<br>
<br>
非対称averageぼかしの仕様を列挙する
<br>
・ぼかし強度は<a href="#span-out-UI-graphing-filter">filter</a>(N)x(N)sizeのNに比例する
<br>
・高速化のため、<a href="#span-out-UI-graphing-filter">filter配列</a>要素の重みを0||1で2値化する
<br>
<br>
2値化の分布形状を可変してN違いの<a href="#span-out-UI-graphing-filter">filter配列</a>を以下の<a href="#span-out-ope">実数演算</a>で生成する
<br>
・average_square
<br>
[N=13,N2=int(N/2),filter=vectorc(N*N),
<br>
x=0,y=0,k=1,rad=0,
<br>
<a href="#span-eqn-rotationxyz_LHS">rotz_LHS(psi)</a>=&lt;{rt=real(psi),=&lt;(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)}=&gt;,
<br>
Rz=rotz_LHS(rad)=&gt;,
<br>
isOutOfArea(x)=&lt;(x[0]**2&gt;N2**2)|((x[1]*k)**2&gt;N2**2),
<br>
calc_w(ir,ic)=&lt;switch(isOutOfArea(=&lt;Rz*{ic-x,ir-y,1})=&gt;,0:1,1),
<br>
_sir(=&lt;{_sic(=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir,ic)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;
<br>
・average_circle
<br>
[N=13,N2=int(N/2),filter=vectorc(N*N),
<br>
x=0,y=0,k=1,rad=0,
<br>
<a href="#span-eqn-rotationxyz_LHS">rotz_LHS(psi)</a>=&lt;{rt=real(psi),=&lt;(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)}=&gt;,
<br>
Rz=rotz_LHS(rad)=&gt;,
<br>
isOutOfArea(x)=&lt;x[0]**2+(x[1]*k)**2&gt;N2**2,
<br>
calc_w(ir,ic)=&lt;switch(isOutOfArea(=&lt;Rz*{ic-x,ir-y,1})=&gt;,0:1,1),
<br>
_sir(=&lt;{_sic(=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir,ic)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;
<br>
<br>
<a href="#span-out-UI-graphing-filter">filter配列</a>生成の各設定値の定義を列挙する
<br>
・(x,y)は<span class="selection">対象pixel</span>に対する回転中心の相対座標のpx数値
<br>
・kは非対称性を作るy方向の比例係数の実数値
<br>
・radは分布を回転する<a href="#span-out-FNmspecial-spec">回転行列</a>の弧度数値
<br>
<br>
average_asym_square13x13の<a href="#span-out-UI-graphing-filter">filter配列</a>を列挙する
<br>
・基準(x,y,k,rad)=(0,0,1,0)
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(0,0,0,0)
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,0,0)
<br>
[
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,0.5,0)
<br>
[
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,1,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,1.5,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,2,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,3,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,3,pi/4)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,<span class="selection">1</span>,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,3,pi/2)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,<span class="selection">1</span>,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,3,pi/2)
<br>
[
<br>
0,0,0,0,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,<span class="selection">1</span>,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,3,3pi/4)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,1,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,<span class="selection">1</span>,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,1,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,1,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,3,pi)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,5,pi)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,7,pi)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
<br>
average_asym_circle13x13の<a href="#span-out-UI-graphing-filter">filter配列</a>を列挙する
<br>
・基準(x,y,k,rad)=(0,0,1,0)
<br>
[
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,0,0)
<br>
[
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
1,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,0,0)
<br>
[
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,0.5,0)
<br>
[
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1
<br>
]
<br>
・(x,y,k,rad)=(1,2,1,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,1.5,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,1,1,0,0,
<br>
0,0,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,0,1,1,1,1,1,1,1,0,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,2,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,0,1,1,1,<span class="selection">1</span>,1,1,1,1,1,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,3,0)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,<span class="selection">0</span>,1,0,0,0,0,0,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,1,1,1,1,1,1,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,3,pi/4)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,<span class="selection">1</span>,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,1,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,1,0,
<br>
0,0,0,0,0,0,0,0,0,1,1,1,0
<br>
]
<br>
・(x,y,k,rad)=(1,2,3,pi/2)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,<span class="selection">1</span>,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0,
<br>
0,0,0,0,0,0,1,1,1,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,3,pi/2)
<br>
[
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,1,1,<span class="selection">1</span>,1,1,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,1,1,1,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,3,3pi/4)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,1,1,1,0,0,
<br>
0,0,0,0,0,0,0,1,1,1,1,0,0,
<br>
0,0,0,0,0,0,1,1,1,1,1,0,0,
<br>
0,0,0,0,0,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,1,1,<span class="selection">1</span>,1,1,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,0,0,0,0,0,
<br>
0,0,1,1,1,1,1,0,0,0,0,0,0,
<br>
0,0,1,1,1,1,0,0,0,0,0,0,0,
<br>
0,0,1,1,1,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,3,pi)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,1,1,1,1,1,1,1,1,1,1,1,0,
<br>
0,0,0,0,0,0,1,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,5,pi)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,1,1,1,1,1,1,1,0,0,0,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,0,0,1,1,1,1,1,1,1,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
・(x,y,k,rad)=(0,0,7,pi)
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
1,1,1,1,1,1,<span class="selection">1</span>,1,1,1,1,1,1,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,0,0
<br>
]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Gauss
<br>
ぼかし
    </th>
    <td>
<span id="span-out-UI-graphing-filter-Gaussian"></span>
Gaussぼかしについて記述する
<br>
<br>
<a href="#span-out-UI-graphing-filter">filter</a>を代用してGaussぼかしを再現する
<br>
・高速な<a href="#span-out-UI-graphing-blur">blurring</a>の<a href="#span-out-UI-graphing-filter">加重平均filter</a>として多用されるが、仕様上、高速化の恩恵は受けられない
<br>
<br>
Gaussぼかしの仕様を列挙する
<br>
・Gauss分布の再現精度は<a href="#span-out-UI-graphing-filter">filter</a>(N)x(N)sizeのNに依存する
<br>
・ぼかし強度は<a href="#span-out-UI-graphing-filter">filter</a>の適用回数で変更する（例えば、<a href="#span-out-UI-graphing-post-transformer">post-transformer</a>参照）
<br>
<br>
σ=1pxの分布関数を固定してN違いの<a href="#span-out-UI-graphing-filter">filter配列</a>を以下の<a href="#span-out-ope">実数演算</a>で生成する
<br>
・簡易なGaussぼかしの場合、配列要素の重みを丸める（量子化bit数=N-1を仮定）
<br>
[N=3,N2=int(N/2),filter=vectorc(N*N),Nbit=N-1,wmax=2**Nbit,
<br>
calc_w(s2)=&lt;round(wmax*exp(-0.5*s2)),
<br>
_sir(=&lt;{_sic(=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;
<br>
・厳密なGaussぼかしの場合、配列要素の重みを丸めない
<br>
[N=3,N2=int(N/2),filter=vectorc(N*N),
<br>
calc_w(s2)=&lt;exp(-0.5*s2),
<br>
_sir(=&lt;{_sic(=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;
<br>
<br>
簡易なGaussぼかしの<a href="#span-out-UI-graphing-filter">filter配列</a>を列挙する
<br>
・N=1
<br>
[
<br>
<span class="selection">1</span>
<br>
]
<br>
・N=3
<br>
[
<br>
1,2,1,
<br>
2,<span class="selection">4</span>,2,
<br>
1,2,1
<br>
]
<br>
・N=5
<br>
[
<br>
0,1,2,1,0,
<br>
1,6,10,6,1,
<br>
2,10,<span class="selection">16</span>,10,2,
<br>
1,6,10,6,1,
<br>
0,1,2,1,0
<br>
]
<br>
・N=7
<br>
[
<br>
0,0,0,1,0,0,0,
<br>
0,1,5,9,5,1,0,
<br>
0,5,24,39,24,5,0,
<br>
1,9,39,<span class="selection">64</span>,39,9,1,
<br>
0,5,24,39,24,5,0,
<br>
0,1,5,9,5,1,0,
<br>
0,0,0,1,0,0,0
<br>
]
<br>
・N=9
<br>
[
<br>
0,0,0,0,0,0,0,0,0,
<br>
0,0,0,2,3,2,0,0,0,
<br>
0,0,5,21,35,21,5,0,0,
<br>
0,2,21,94,155,94,21,2,0,
<br>
0,3,35,155,<span class="selection">256</span>,155,35,3,0,
<br>
0,2,21,94,155,94,21,2,0,
<br>
0,0,5,21,35,21,5,0,0,
<br>
0,0,0,2,3,2,0,0,0,
<br>
0,0,0,0,0,0,0,0,0
<br>
]
<br>
・N=11
<br>
[
<br>
0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,2,7,11,7,2,0,0,0,
<br>
0,0,2,19,84,139,84,19,2,0,0,
<br>
0,0,7,84,377,621,377,84,7,0,0,
<br>
0,0,11,139,621,<span class="selection">1024</span>,621,139,11,0,0,
<br>
0,0,7,84,377,621,377,84,7,0,0,
<br>
0,0,2,19,84,139,84,19,2,0,0,
<br>
0,0,0,2,7,11,7,2,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0,
<br>
0,0,0,0,0,0,0,0,0,0,0
<br>
]
<br>
<br>
厳密なGaussぼかしの<a href="#span-out-UI-graphing-filter">filter配列</a>を列挙する
<br>
・N=1
<br>
[
<br>
<span class="selection">1</span>
<br>
]
<br>
・N=3
<br>
[
<br>
0.36787944117144233,0.6065306597126334,0.36787944117144233,
<br>
0.6065306597126334,<span class="selection">1</span>,0.6065306597126334,
<br>
0.36787944117144233,0.6065306597126334,0.36787944117144233
<br>
]
<br>
・N=5
<br>
[
<br>
0.01831563888873418,0.0820849986238988,0.1353352832366127,
<br>
0.0820849986238988,0.01831563888873418,
<br>
0.0820849986238988,0.36787944117144233,0.6065306597126334,
<br>
0.36787944117144233,0.0820849986238988,
<br>
0.1353352832366127,0.6065306597126334,<span class="selection">1</span>,
<br>
0.6065306597126334,0.1353352832366127,
<br>
0.0820849986238988,0.36787944117144233,0.6065306597126334,
<br>
0.36787944117144233,0.0820849986238988,
<br>
0.01831563888873418,0.0820849986238988,0.1353352832366127,
<br>
0.0820849986238988,0.01831563888873418
<br>
]
<br>
・N=7
<br>
[
<br>
0.00012340980408667956,0.0015034391929775724,0.006737946999085467,
<br>
0.011108996538242306,0.006737946999085467,0.0015034391929775724,
<br>
0.00012340980408667956,
<br>
0.0015034391929775724,0.01831563888873418,0.0820849986238988,
<br>
0.1353352832366127,0.0820849986238988,0.01831563888873418,
<br>
0.0015034391929775724,
<br>
0.006737946999085467,0.0820849986238988,0.36787944117144233,
<br>
0.6065306597126334,0.36787944117144233,0.0820849986238988,
<br>
0.006737946999085467,
<br>
0.011108996538242306,0.1353352832366127,0.6065306597126334,
<br>
<span class="selection">1</span>,0.6065306597126334,0.1353352832366127,
<br>
0.011108996538242306,
<br>
0.006737946999085467,0.0820849986238988,0.36787944117144233,
<br>
0.6065306597126334,0.36787944117144233,0.0820849986238988,
<br>
0.006737946999085467,
<br>
0.0015034391929775724,0.01831563888873418,0.0820849986238988,
<br>
0.1353352832366127,0.0820849986238988,0.01831563888873418,
<br>
0.0015034391929775724,
<br>
0.00012340980408667956,0.0015034391929775724,0.006737946999085467,
<br>
0.011108996538242306,0.006737946999085467,0.0015034391929775724,
<br>
0.00012340980408667956
<br>
]
<br>
・N=9
<br>
[
<br>
1.1253517471925912e-7,0.000003726653172078671,0.00004539992976248485,
<br>
0.00020346836901064417,0.00033546262790251185,0.00020346836901064417,
<br>
0.00004539992976248485,0.000003726653172078671,1.1253517471925912e-7,
<br>
0.000003726653172078671,0.00012340980408667956,0.0015034391929775724,
<br>
0.006737946999085467,0.011108996538242306,0.006737946999085467,
<br>
0.0015034391929775724,0.00012340980408667956,0.000003726653172078671,
<br>
0.00004539992976248485,0.0015034391929775724,0.01831563888873418,
<br>
0.0820849986238988,0.1353352832366127,0.0820849986238988,
<br>
0.01831563888873418,0.0015034391929775724,0.00004539992976248485,
<br>
0.00020346836901064417,0.006737946999085467,0.0820849986238988,
<br>
0.36787944117144233,0.6065306597126334,0.36787944117144233,
<br>
0.0820849986238988,0.006737946999085467,0.00020346836901064417,
<br>
0.00033546262790251185,0.011108996538242306,0.1353352832366127,
<br>
0.6065306597126334,<span class="selection">1</span>,0.6065306597126334,
<br>
0.1353352832366127,0.011108996538242306,0.00033546262790251185,
<br>
0.00020346836901064417,0.006737946999085467,0.0820849986238988,
<br>
0.36787944117144233,0.6065306597126334,0.36787944117144233,
<br>
0.0820849986238988,0.006737946999085467,0.00020346836901064417,
<br>
0.00004539992976248485,0.0015034391929775724,0.01831563888873418,
<br>
0.0820849986238988,0.1353352832366127,0.0820849986238988,
<br>
0.01831563888873418,0.0015034391929775724,0.00004539992976248485,
<br>
0.000003726653172078671,0.00012340980408667956,0.0015034391929775724,
<br>
0.006737946999085467,0.011108996538242306,0.006737946999085467,
<br>
0.0015034391929775724,0.00012340980408667956,0.000003726653172078671,
<br>
1.1253517471925912e-7,0.000003726653172078671,0.00004539992976248485,
<br>
0.00020346836901064417,0.00033546262790251185,0.00020346836901064417,
<br>
0.00004539992976248485,0.000003726653172078671,1.1253517471925912e-7
<br>
]
<br>
・N=11
<br>
[
<br>
1.3887943864964021e-11,1.2501528663867426e-9,4.139937718785167e-8,
<br>
5.04347662567888e-7,0.0000022603294069810542,0.000003726653172078671,
<br>
0.0000022603294069810542,5.04347662567888e-7,4.139937718785167e-8,
<br>
1.2501528663867426e-9,1.3887943864964021e-11,
<br>
1.2501528663867426e-9,1.1253517471925912e-7,0.000003726653172078671,
<br>
0.00004539992976248485,0.00020346836901064417,0.00033546262790251185,
<br>
0.00020346836901064417,0.00004539992976248485,0.000003726653172078671,
<br>
1.1253517471925912e-7,1.2501528663867426e-9,
<br>
4.139937718785167e-8,0.000003726653172078671,0.00012340980408667956,
<br>
0.0015034391929775724,0.006737946999085467,0.011108996538242306,
<br>
0.006737946999085467,0.0015034391929775724,0.00012340980408667956,
<br>
0.000003726653172078671,4.139937718785167e-8,
<br>
5.04347662567888e-7,0.00004539992976248485,0.0015034391929775724,
<br>
0.01831563888873418,0.0820849986238988,0.1353352832366127,
<br>
0.0820849986238988,0.01831563888873418,0.0015034391929775724,
<br>
0.00004539992976248485,5.04347662567888e-7,
<br>
0.0000022603294069810542,0.00020346836901064417,0.006737946999085467,
<br>
0.0820849986238988,0.36787944117144233,0.6065306597126334,
<br>
0.36787944117144233,0.0820849986238988,0.006737946999085467,
<br>
0.00020346836901064417,0.0000022603294069810542,
<br>
0.000003726653172078671,0.00033546262790251185,0.011108996538242306,
<br>
0.1353352832366127,0.6065306597126334,<span class="selection">1</span>,
<br>
0.6065306597126334,0.1353352832366127,0.011108996538242306,
<br>
0.00033546262790251185,0.000003726653172078671,
<br>
0.0000022603294069810542,0.00020346836901064417,0.006737946999085467,
<br>
0.0820849986238988,0.36787944117144233,0.6065306597126334,
<br>
0.36787944117144233,0.0820849986238988,0.006737946999085467,
<br>
0.00020346836901064417,0.0000022603294069810542,
<br>
5.04347662567888e-7,0.00004539992976248485,0.0015034391929775724,
<br>
0.01831563888873418,0.0820849986238988,0.1353352832366127,
<br>
0.0820849986238988,0.01831563888873418,0.0015034391929775724,
<br>
0.00004539992976248485,5.04347662567888e-7,
<br>
4.139937718785167e-8,0.000003726653172078671,0.00012340980408667956,
<br>
0.0015034391929775724,0.006737946999085467,0.011108996538242306,
<br>
0.006737946999085467,0.0015034391929775724,0.00012340980408667956,
<br>
0.000003726653172078671,4.139937718785167e-8,
<br>
1.2501528663867426e-9,1.1253517471925912e-7,0.000003726653172078671,
<br>
0.00004539992976248485,0.00020346836901064417,0.00033546262790251185,
<br>
0.00020346836901064417,0.00004539992976248485,0.000003726653172078671,
<br>
1.1253517471925912e-7,1.2501528663867426e-9,
<br>
1.3887943864964021e-11,1.2501528663867426e-9,4.139937718785167e-8,
<br>
5.04347662567888e-7,0.0000022603294069810542,0.000003726653172078671,
<br>
0.0000022603294069810542,5.04347662567888e-7,4.139937718785167e-8,
<br>
1.2501528663867426e-9,1.3887943864964021e-11
<br>
]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
tone-curve
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-filter-tone-curve"></span>
tone-curve特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.47.24</span>以降、<a href="#span-out-UI-graphing-filter">filter</a>を代用してgamma補正を含むtone-curve調整機能を追加する
<br>
<br>
tone-curveの仕様を列挙する
<br>
・<a href="#span-out-UI-graphing-filter">filter</a>定義（配列length=1~4）
<br>
hsvrgba[slope,offset||0,gamma||1,threshold||th=0~255||0]
<br>
・べき乗則のgamma値を拡張して連続的なtone-curveに一般化する定義式を次に示す
<br>
t=hsvrgba
<br>
t0=switch(t-th&lt;0,0:1,255)
<br>
t=pow((t-th)/switch(t0-th==0,1:1,t0-th),gamma)*(t0-th)+th
<br>
・<span class="run">Ver.2.59.26</span>以降、<a href="#span-out-prec-ope-logical">論理演算子</a>を追加
<br>
t=pow((t-th)/(t0-th||1),gamma)*(t0-th)+th
<br>
・tone-curve調整後、一次変換
<br>
t=t*slope+offset
<br>
・slope=-1の場合、反転を定義
<br>
offset=offset+255 -> t=-t+offset+255
<br>
<br>
test caseを列挙する
<br>
・R値係数倍(=R*2)
<br>
r[2]
<br>
・R値反転(=-R+255)
<br>
r[-1]
<br>
・R値一次変換(=R*2+50)
<br>
r[2,50]
<br>
・R値反転一次変換(=-R+255+50)
<br>
r[-1,50]
<br>
・sepia-tone化
<br>
r[0.9]:g[0.7]:b[0.4]
<br>
・相対輝度Y値化（輝度の可視化）
<br>
r[0.2126]:g[0.7152]:b[0.0722]
<br>
・NTSC加重平均法の輝度Y'値化
<br>
r[0.29891]:g[0.58661]:b[0.11448]
<br>
・下凸のgamma補正
<br>
[1,,2,0]
<br>
[1,,0.5,255]
<br>
・上凸のgamma補正
<br>
[1,,0.5,0]
<br>
[1,,2,255]
<br>
・S字のtone-curve調整
<br>
[1,,0.5,128]
<br>
[1,,2,128]
<br>
<br>
留意事項を列挙する
<br>
・A値=255の反転は無効（rgba[-1]の反転後、A=0のputImageData()でRGB値=0のNative仕様）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
post
<br>
-transformer
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-post-transformer"></span>
post-transformer特定項目仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.54.26</span>以降、<a href="#span-out-UI-graphing-filter">filter</a>を代用して<a href="#span-out-UI-graphing-transform">transform</a>同等のpost-transformerを追加する
<br>
<br>
post-transformerの仕様を列挙する
<br>
・<a href="#span-out-UI-graphing-filter">filter</a>定義（配列length=6~7）
<br>
rgba[<span class="selection">a,b,c,d,e,f</span>,isForward||0]
<br>
・配列はcanvas座標変換ctx.setTransform(<span class="selection">a,b,c,d,e,f</span>)の引数をcomma,区切りで入力
<br>
・各引数の詳細は<a href="#span-out-UI-graphing-transform">transform</a>参照
<br>
・isForward=0||1は座標変換後の各RGBA値の代入方法を数値で指定する
<br>
　0の場合、canvas座標を逆変換して変換前の各RGBA値を参照して代入
<br>
　1の場合、canvas座標を順変換して変換前の各RGBA値を成行きで上書き代入
<br>
・座標変換の原点は<a href="#span-out-UI-graphing-filter">canvas-area</a>の始点とする
<br>
<br>
test caseを列挙する
<br>
・canvas全体のRGBA値に<a href="#span-out-UI-graphing-filter-Gaussian">簡易なGaussぼかし</a>を適用後、座標変換を適用
<br>
area[0]rgba[1,2,1,2,4,2,1,2,1]:area[0]rgba[1,0.1,-0.5,0.5,65,40]
<br>
・canvas全体のRGBA値に座標変換を適用後、<a href="#span-out-UI-graphing-filter-Gaussian">簡易なGaussぼかし</a>を適用
<br>
area[0]rgba[1,0.1,-0.5,0.5,65,40]:area[0]rgba[1,2,1,2,4,2,1,2,1]
<br>
・canvas全体のRGBA値に<a href="#span-out-UI-graphing-filter-Gaussian">簡易なGaussぼかし</a>を3回適用後、座標変換を適用
<br>
rgba[1,2,1,2,4,2,1,2,1]:rgba[1,2,1,2,4,2,1,2,1]:rgba[1,2,1,2,4,2,1,2,1]:rgba[1,0.1,-0.5,0.5,65,40]
<br>
・canvas全体のRGBA値に座標変換を適用後、<a href="#span-out-UI-graphing-filter-Gaussian">簡易なGaussぼかし</a>を3回適用
<br>
rgba[1,0.1,-0.5,0.5,65,40]:rgba[1,2,1,2,4,2,1,2,1]:rgba[1,2,1,2,4,2,1,2,1]:rgba[1,2,1,2,4,2,1,2,1]
<br>
・<a href="#span-out-UI-graphing-filter">canvas-area</a>[30,30]のRGBA値に座標変換を適用
<br>
area[30,30]rgba[1,0.1,-0.5,0.5,65,40]
<br>
・canvas全体のRGBA値に拡大の順変換を適用（Braun管のdisplay表示を模擬）
<br>
area[0]rgba[2,0,0,2,0,0,1]
<br>
<br>
留意事項を列挙する
<br>
・変換後のcanvas座標を丸めるため、<a href="#span-out-UI-graphing-transform">transform</a>よりRGBA値の補間精度が悪化する
<br>
・順変換の場合、等倍でも空白発生の可能性がある（例えば、rgba[1,0.1,-0.5,1,0,0,1]）
<br>
・空白部分は<a href="#span-out-UI-graphing-color">透明黒色</a>とする
<br>
・別途、<a href="#span-out-UI-graphing-blur">blurring</a>のみを<a href="#span-out-UI-graphing-transform">transform</a>の対象とする場合、plot点に<a href="#span-out-Euclid">右手系</a>の座標変換を適用する
<br>
　<a href="#span-out-Euclid">左手系</a>のcanvas座標変換と等価変換は困難のため、例えば、<a href="#span-out-UI-graphing-transform">transform3x3</a>をplot点に演算
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
post
<br>
-compressor
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-post-compressor"></span>
post-compressor特定項目仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.65.27</span>以降、<a href="#span-out-UI-graphing-filter">filter</a>を代用してpost-compressor（<a href="#span-out-UI-graphing-post-processor-encode">noise</a>処理等、情報量の圧縮機能）を追加
<br>
・<span class="run">Ver.2.72.29</span>以降、<a href="#span-out-transform-dwt">離散Wavelet変換</a>を追加
<br>
<br>
post-compressorの仕様を列挙する
<br>
・hsvlrgba||HSVLRGBAのalphabetを除外してpost-compressor処理名を定義する
<br>
・post-compressor処理は単独処理で処理名の併記不可
<br>
<br>
post-compressor処理を優先順に列挙する
<br>
・<a href="#span-out-transform-fft">高速Fourier変換</a>は不採用（<a href="#span-out-UI-graphing-filter">filter</a>代用の仕様上、overhead大）
<br>
<del>fft_rgba[]</del>
<br>
・<a href="#span-out-transform-dft">離散Fourier変換</a>
<br>
dft_rgba[cutoffU=0~1||0,cutoffV=0~1||0]
<br>
・<a href="#span-out-transform-dwt">離散Wavelet変換</a>　<span class="run">Ver.2.72.29</span>以降、追加
<br>
dwt_rgba[cutoffU=0~1||0,cutoffV=0~1||0]
<br>
<br>
留意事項を列挙する
<br>
・cutoffU/Vは高周波数側の2次元AND領域の情報を<a href="#span-out-UI-graphing-post-processor-encode">noise</a>として強制的に遮断する
<br>
　<a href="#span-out-transform-dft">離散Fourier変換</a>の場合、spectrum強度=0
<br>
　<a href="#span-out-transform-dwt">離散Wavelet変換</a>の場合、<a href="#span-out-transform-dwt">wavelet情報</a>=0
<br>
・<a href="#span-out-transform-dwt">離散Wavelet変換</a>の場合、<a href="#span-out-UI-graphing-filter">area-size</a>(w,h)=(2^p,2^q)を規定する（切捨て側に自動re-size）
<br>
・未最適化のため、下流側で<a href="#span-out-UI-graphing-filter">area-size</a>(w,h&lt;=256)を制限する
<br>
　memory size&lt;100MB
<br>
・canvas全体に適用する場合、<a href="#span-out-UI-graphing-filter">canvas-area</a>を変えて列挙する
<br>
dft_rgba[0.05,0.05]:area[256,0]dft_rgba[0.05,0.05]
<br>
dwt_rgba[0.05,0.05]:area[256,0]dwt_rgba[0.05,0.05]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
post
<br>
-processor
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-post-processor"></span>
post-processor特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.48.24</span>以降、<a href="#span-out-UI-graphing-filter">filter</a>を代用してpost-processorを追加する
<br>
・<span class="clear">Ver.2.48.25</span>以降、描画canvas境界で正常に機能しないmosaic化の不具合を修正
<br>
・<span class="run">Ver.2.49.25</span>以降、2値化||monotone化（輝度）のsw=-1<span class="selection">任意のRGB重み平均値</span>に対応
<br>
・<span class="run">Ver.2.61.27</span>以降、<span class="condition">塗りつぶし</span>機能を追加（<span class="condition">Nwrap</span>を周回数とする独自の回り込み方式）
<br>
・<span class="run">Ver.2.62.27</span>以降、<a href="#span-out-UI-graphing-post-processor-encode">不可逆な<span class="jF">encode</span></a>機能を追加（<a href="#span-out-FN-rand">乱数seed値</a>不定のFisher-Yates shuffle）
<br>
<br>
post-processorの仕様を列挙する
<br>
・hsvlrgba||HSVLRGBAのalphabetを除外してpost-processor処理名を定義する
<br>
・post-processor処理は単独処理で処理名の併記不可
<br>
<br>
post-processor処理を優先順に列挙する
<br>
・左右反転
<br>
fx_rgba[offsetX||0]
<br>
・上下反転
<br>
fy_rgba[offsetY||0]
<br>
・mosaic化（不可逆な平均値化）
<br>
dot_rgba[dx=1~||1,dy=1~||dx]
<br>
・<a href="#span-out-UI-graphing-post-processor-encode">不可逆な<span class="jF">encode</span></a>
<br>
encode_rgba[dx=1~||1,dy=1~||dx]
<br>
・<span class="condition">塗りつぶし</span>（fill-inをfiinと省略する）
<br>
fiin[targetX||0,targetY||0,<a href="#span-out-UI-graphing-color">color</a>,<span class="condition">Nwrap</span>=1~256||1]
<br>
fiin[targetX||0,targetY||0,pickedX||0,pickedY||0,<span class="condition">Nwrap</span>=1~256||1]
<br>
・<span class="run">Ver.2.120.34</span>以降、RGBA値の指定方法を追加（<a href="#span-out-UI-graphing-color">color入力仕様の留意事項</a>参照）
<br>
fiin[targetX||0,targetY||0,R=0~255||0,G=0~255||0,B=0~255||0,A=0~255||0,<span class="condition">Nwrap</span>=1~256||1]
<br>
・2値化（各RGBA値）
<br>
to2_rgba[threshold=0~255||0]
<br>
・2値化（輝度）
<br>
to2[threshold=0~255||0,sw=-1~6||0<span class="selection">,wr,wg,wb</span>]
<br>
・monotone化（輝度）
<br>
mono[sw=-1~6||0<span class="selection">,wr,wg,wb</span>]
<br>
<br>
2値化||monotone化の輝度選択switch
<br>
sw=0: NTSC加重平均法の輝度Y'=0.29891*r+0.58661*g+0.11448*b
<br>
sw=1: 相対輝度Y=0.2126*r+0.7152*g+0.0722*b
<br>
sw=2: HSL-<a href="#span-out-UI-graphing-color-space">color空間</a>の輝度L=(min+max)/2
<br>
sw=3: RGB平均値average=(r+g+b)/3
<br>
sw=4: RGB最小値min
<br>
sw=5: RGB最大値max||HSV-<a href="#span-out-UI-graphing-color-space">color空間</a>の明度V
<br>
sw=6: RGB中央値median
<br>
<span class="run">Ver.2.49.25</span>以降
<br>
sw=-1: 任意のRGB重み平均値average=(wr*r+wg*g+wb*b)/(wr+wg+wb||1)
<br>
<br>
test caseを列挙する
<br>
・R値右移動100px
<br>
fx_r:fx_r[100]
<br>
・G値上移動100px
<br>
fy_g:fy_g[-100]
<br>
・RGBA値上下左右反転
<br>
fy_rgba:fx_rgba
<br>
・<a href="#span-out-UI-graphing-post-processor-encode">不可逆な<span class="jF">encode</span></a>
<br>
encode_rgba[6,3]
<br>
encode_r[6,3]:encode_g[6,3]:encode_b[6,3]:encode_a[6,3]
<br>
encode_rgba[256,256]
<br>
encode_r[256,256]:encode_g[256,256]:encode_b[256,256]:encode_a[256,256]
<br>
・<a href="#span-out-UI-graphing-color">color</a>指定で絶対始点(0px,0px)の<span class="condition">塗りつぶし</span>
<br>
fiin[0,0,yellow,8]
<br>
fiin[0,0,green,8]
<br>
fiin[0,0,#0123,8] || fiin[0,0,#00112233,8]
<br>
・area[30,30]基準の<a href="#span-out-UI-graphing-color">color</a>-picked相対位置(10px,10px)指定で相対始点(0px,0px)の<span class="condition">塗りつぶし</span>
<br>
area[30,30]fiin[0,0,10,10,8]
<br>
・monotone化（Y'値）
<br>
mono[-1,0.29891,0.58661,0.11448]
<br>
・monotone化（Y値）
<br>
mono[-1,0.2126,0.7152,0.0722]
<br>
・白黒の2値化（<a href="#span-out-UI-graphing-filter-edge">edge抽出</a>:monotone化:<a href="#span-out-UI-graphing-post-processor">2値化</a>:<a href="#span-out-UI-graphing-filter-tone-curve">RGB反転</a>）
<br>
rgb[-1,-1,-1,-1,8,-1,-1,-1,-1]:mono[0]:to2_rgba[111]:rgb[-1]
<br>
rgb[-1,-1,-1,-1,8,-1,-1,-1,-1]:s[0]:to2_rgba[111]:rgb[-1]
<br>
<br>
留意事項を列挙する
<br>
・comma,区切りの場合、rgba()入力の<a href="#span-out-UI-graphing-color">color</a>指定不可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
encode仕様
    </th>
    <td>
<span id="span-out-UI-graphing-post-processor-encode"></span>
post-processor特定項目のencode仕様について記述する
<br>
<br>
<span class="run">Ver.2.62.27</span>以降、<a href="#span-out-UI-graphing-post-processor">post-processor</a>に不可逆なencode機能を追加する
<br>
・noise付与に代用（<span class="run">Ver.2.72.29</span>追記）
<br>
<br>
encodeの仕様/補足を列挙する
<br>
・<a href="#span-app-cryption">transposition方式</a>
<br>
　通常、直列化した任意dataを可逆的な規則性に従って並び替える
<br>
・理想的なrandom-sortのFisher-Yates shuffle
<br>
　確率抽選の反復sortのため、<a href="#span-out-FN-rand">一様乱数</a>の前提で完全random性を数学的に保証する
<br>
・<a href="#span-out-FN-rand">乱数seed値</a>不定の仕様上、不可逆
<br>
　decodeする場合、encodeの<a href="#span-out-FN-rand">乱数seed値</a>を連番等で指定する（sort規則を予め指定する）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
tile
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-tile"></span>
tile特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.68.27</span>以降、指定領域の<a href="#span-out-UI-graphing-color">千鳥格子</a>tile機能を追加する
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にtileを入力
<br>
tile||TILE{args}
<br>
・任意位置に挿入可
<br>
・tileは<a href="#span-out-UI-graphing-filter">filtering</a>直後の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は無効）
<br>
・argsはtile領域を指定する条件をcomma,区切りで入力
<br>
tile{dx||1,dy||1,x0||0,y0||0,x1||0,y1||0}
<br>
・(dx,dy=1~256)は格子1/格子2のtile-size(w,h)をpx数値で指定する
<br>
・(x0,y0=-32768~32767)は格子1のcanvas座標の始点(x,y)をpx数値で指定する
<br>
　描画canvas境界外の座標を指定した場合、境界外の領域は<a href="#span-out-UI-graphing-color">透明黒色</a>
<br>
・(x1,y1=-32768~32767)は格子2のcanvas座標の始点(x,y)をpx数値で指定する
<br>
　描画canvas境界外の座標を指定した場合、境界外の領域は<a href="#span-out-UI-graphing-color">透明黒色</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
cut
<br>
特定項目仕様
    </th>
    <td>
<span id="span-out-UI-graphing-cut"></span>
cut特定項目仕様について記述する
<br>
<br>
<span class="run">Ver.2.63.27</span>以降、指定領域のcut機能を追加する
<br>
<br>
<a href="#span-out-UI-graphing-z">z入力欄</a>にcutを入力
<br>
cut||CUT{args}
<br>
・任意位置に挿入可
<br>
・cutは<a href="#span-out-UI-graphing-filter">filtering</a>直後の<a href="#span-out-UI-graphing-post2">post最終処理</a>（svg出力は<a href="#span-out-UI-graphing-post1">layer合成</a>）
<br>
・argsはcut領域を指定する条件をcomma,区切りで入力
<br>
cut{Nlegend||last,withTransform||false}
<br>
・Nlegend=1~lastはcut領域を指定するplot-lineのlegend番号
<br>
　範囲外の数値||数値以外を指定した場合、最終legendを選択
<br>
・withTransform=false||trueは<a href="#span-out-UI-graphing-transform">transform</a>の反映を選択する
<br>
　svg出力の場合、<a href="#span-out-UI-graphing-transform">withBackground</a>=1のみ有効
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
v入力仕様
    </th>
    <td>
<span id="span-out-UI-graphing-v"></span>
v入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.105.33</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>の直下に追加
<br>
・<span class="run">Ver.2.319.77</span>以降、vx入力の仕様変更（legend1番で共通　⇒　各legendで独立）
<br>
・<span class="clear">Ver.2.327.79</span>以降、各legendのplot点数が異なることで発生するplot-button実行中断の不具合を修正
<br>
　<span class="clear">Ver.2.328.80</span>以降、同上の追加修正
<br>
　<span class="clear">Ver.2.337.82</span>以降、同上の追加修正（全点のplot||csv出力を保証）
<br>
・<span class="run">Ver.2.328.79</span>以降、csv出力の要素の値がNaNの場合、空要素に変換
<br>
・<span class="run">Ver.2.328.79</span>以降、(vx連番,vy連番)のcsv出力に対応
<br>
<br>
v入力仕様について記述する
<br>
・v-checkboxはv入力を選択
<br>
・vx入力欄にx軸の<a href="#span-out-vars-symbol">変数名symbol</a>（列vector）を入力
<br>
・vy入力欄にy軸の<a href="#span-out-vars-symbol">変数名symbol</a>（列vector）を入力
<br>
・vz入力欄にz軸の<a href="#span-out-vars-symbol">変数名symbol</a>（空欄||1~2列の<a href="#span-out-mat">行列</a>）を入力
<br>
　空欄の場合、(x,y)の散布図
<br>
　1列の場合、(x,y)におけるzのscalar分布
<br>
　2列の場合、(x,y)におけるzのvector分布
<br>
<br>
留意事項を列挙する
<br>
・<del>csv出力未対応</del><span class="run">Ver.2.328.79</span>以降、(vx連番,vy連番)のcsv出力に対応
   </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
layer
<br>
描画順
    </th>
    <td>
<span id="span-out-UI-graphing-layer"></span>
layer描画順と付随する留意事項について記述する
<br>
<br>
描画canvasのlayerを描画順に列挙する
<br>
・<span class="run">Ver.2.66.27</span>以降
<br>
　最背面固定layer（<a href="#span-out-UI-graphing-color">透明黒色</a>の初期状態を表す<a href="#span-out-UI-graphing-color">千鳥格子</a>の描画用）
<br>
・<a href="#span-out-UI-graphing-layer-background">background-layer</a>
<br>
・<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>
<br>
・<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>
<br>
・<a href="#span-out-UI-graphing-post1">layer合成</a>用layer
<br>
・最前面固定layer（<a href="#span-out-UI-graphing">mouse||touchによる範囲選択</a>領域の描画用）
<br>
<br>
留意事項を列挙する
<br>
・最背面/最前面固定layerはpng||svg出力対象外
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
背景
<br>
優先順
    </th>
    <td>
<span id="span-out-UI-graphing-layer-background"></span>
背景優先順について記述する
<br>
<br>
background-layerに<a href="#span-out-UI-graphing-config">背景画像file</a>||<a href="#span-out-UI-graphing-color">color</a>指定値を適用する項目を優先順に列挙する
<br>
・<a href="#span-out-UI-graphing-config">bg-image-file@plot-config</a>（svg出力は無効・<span class="clear">Internet Explorer非対応</span>）
<br>
・<a href="#span-out-UI-graphing-bgcolor">bgcolor</a>特定項目指定値
<br>
・<a href="#span-out-UI-graphing-config">bg-color@plot-config</a>入力値
<br>
・<a href="#span-out-UI-graphing-config">canvas-background@plot-config</a>選択値
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
grid-layer
<br>
描画順
    </th>
    <td>
<span id="span-out-UI-graphing-layer-grid"></span>
grid-layer描画順について記述する
<br>
<br>
grid-layerに描画する項目を描画順に列挙する
<br>
・<a href="#span-out-UI-graphing-title">graph-title</a>
<br>
・<a href="#span-out-UI-graphing-labels">axis-labels</a>
<br>
・<a href="#span-out-UI-graphing-origin">origin-label/origin-line</a>
<br>
・grid-lines/axis-values
<br>
<br>
grid-layerに<a href="#span-out-UI-graphing-color">color</a>指定値を適用する項目を優先順に列挙する
<br>
・<a href="#span-out-UI-graphing-gdcolor">gdcolor</a>特定項目指定値
<br>
・<a href="#span-out-UI-graphing-config">grid-line-color@plot-config</a>入力値
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot-layer
<br>
描画順
    </th>
    <td>
<span id="span-out-UI-graphing-layer-plot"></span>
plot-layer描画順について記述する
<br>
<br>
plot-layerに描画する項目を描画順に列挙する
<br>
・<a href="#span-out-UI-graphing-gradation">gradation</a>
<br>
・plot-lines
<br>
・plot-markers
<br>
・<a href="#span-out-UI-graphing-legend">legends</a>
<br>
・<a href="#span-out-UI-graphing-string-path">string-path</a>
<br>
<br>
<span class="run">Ver.2.37.18</span>以降、<a href="#span-out-UI-graphing-title">graph-title</a>は<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>に描画
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
post
<br>
処理順
    </th>
    <td>
<span id="span-out-UI-graphing-post"></span>
post処理順について記述する
<br>
<br>
post処理を処理順に列挙する
<br>
・<a href="#span-out-UI-graphing-post1">layer合成</a>
<br>
・<a href="#span-out-UI-graphing-post2">post最終処理</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
layer
<br>
合成順
    </th>
    <td>
<span id="span-out-UI-graphing-post1"></span>
layer合成順と付随する留意事項について記述する
<br>
<br>
svg出力の場合、同期処理をlayer合成順に列挙する
<br>
・layerをclear
<br>
・同layerに<a href="#span-out-UI-graphing-transform">transform</a>を適用（withBackground=1の場合）
<br>
・同layerにbackground-layerを合成（source-over・<a href="#span-out-UI-graphing-config">背景image-file</a>無効）
<br>
・同layerに<a href="#span-out-UI-graphing-transform">transform</a>を適用（withBackground=0の場合）
<br>
・同layerに<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>を合成（source-over）
<br>
・同layerに<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>を合成（source-over）
<br>
・同layerに<a href="#span-out-UI-graphing-cut">cut</a>を適用（<a href="#span-out-UI-graphing-transform">transform</a>を反映する場合、withBackground=1のみ有効）
<br>
<br>
png出力||描画canvas出力の場合、drawImage()非同期処理をlayer合成順に列挙する
<br>
・layerをclear
<br>
・完了後、同layerに<a href="#span-out-UI-graphing-transform">transform</a>を適用（withBackground=1の場合）
<br>
・完了後、同layerにbackground-layerを合成（source-over）
<br>
・完了後、同layerに<a href="#span-out-UI-graphing-transform">transform</a>を適用（withBackground=0の場合）
<br>
・完了後、同layerに<a href="#span-out-UI-graphing-layer-grid">grid-layer</a>を合成（<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperation</a>を適用）
<br>
・完了後、同layerに<a href="#span-out-UI-graphing-layer-plot">plot-layer</a>を合成（<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperation</a>を適用）
<br>
・完了後、同layerの<a href="#span-out-UI-graphing-post2">post最終処理</a>に移行（source-over）
<br>
<br>
留意事項を列挙する
<br>
・svg出力の場合、<a href="#span-out-UI-graphing-config">canvas-globalCompositeOperation</a>無効（source-over）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
post
<br>
最終処理順
    </th>
    <td>
<span id="span-out-UI-graphing-post2"></span>
post最終処理順と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-UI-graphing-post1">layer合成</a>後、putImageData()同期出力のpost最終処理を処理順に列挙する
<br>
・<a href="#span-out-UI-graphing-blur">blur</a>
<br>
・<a href="#span-out-UI-graphing-filter">filter</a>
<br>
・<a href="#span-out-UI-graphing-tile">tile</a>
<br>
・<a href="#span-out-UI-graphing-cut">cut</a>
<br>
<br>
留意事項を列挙する
<br>
・putImageData()同期出力の場合、<a href="#span-out-UI-graphing-post1">canvas-globalCompositeOperation</a>無効（source-over）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot-config
    </th>
    <td>
<span id="span-out-UI-graphing-config"></span>
plot-configについて記述する
<br>
<br>
plot-configの設定項目を列挙する
<br>
・<span class="run">Ver.2.43.20</span>以降、<a href="#span-out-option3">Multi-thread実行</a>時の同時並列数Nthreadを選択可
<br>
　通常、memory sizeが問題にならない場合、最適なNthread=CPU-core数*(1~2)
<br>
　<span class="run">Ver.2.325.78</span>以降、並列処理の最適なNthread既定値を自動選択
<br>
<del>・描画canvasのcanvas-size(canvas-width,canvas-height)を選択可</del>
<br>
・<span class="run">Ver.2.136.35</span>以降、描画canvasのcanvas-size(canvas-width,canvas-height=16~2560)をpx数値で入力可
<br>
・bg-image-fileは任意size背景画像fileをread可（<span class="clear">Internet Explorer非対応</span>）
<br>
　MIME-type：image
<br>
　read-cancel||image-file以外を選択||canvas-size変更で背景reset
<br>
　svg出力は背景image-file無効
<br>
・背景色はbg-colorの入力値優先で省略時、canvas-backgroundの選択値
<br>
　背景画像file未指定時のみ有効
<br>
・bg-colorを入力可
<br>
・grid-line-colorを入力可
<br>
・grid-line-widthを選択可
<br>
・marker-sizeを選択可
<br>
・marker-line-widthを選択可
<br>
・plot-line-widthを選択可
<br>
・font-sizeを選択可
<br>
　axis-values/<a href="#span-out-UI-graphing-legend">legend-string</a>のfont-sizeは選択値
<br>
　<a href="#span-out-UI-graphing-title">graph-title</a>/<a href="#span-out-UI-graphing-labels">axis-labels</a>/<a href="#span-out-UI-graphing-origin">origin</a>のfont-sizeは選択値+2px
<br>
・各軸のgrid分割数grid-x-Ni/grid-y-Njを選択可
<br>
・余白の調整係数kx-adjを選択可
<br>
・marker-colorsを選択可
<br>
　<span class="run">Ver.2.134.35</span>以降、rainbow/red-blue/red-greenの選択肢を追加
<br>
　<span class="run">Ver.2.744.110</span>以降、選択肢を24個追加（<a href="#span-out-UI-graphing-gradation">gradation</a>のformatに準拠）
<br>
　・Ver.0：旧red-green
<br>
　・Ver.1：旧red-blue
<br>
　・rainbow：変更なし
<br>
　<span class="run">Ver.2.744.110</span>以降、<a href="#span-out-config">内部option</a>に対応
<br>
index.html?marker-colors=red:green:blue:rgb(0,255,255):rgba(255,255,0,0.5)
<br>
・legendのx位置を調整するlegend-kxを選択可
<br>
・legendのy位置を調整するlegend-kyを選択可
<br>
・各layerの合成方法canvas-globalCompositeOperationLayerを選択可
<br>
・各layerの背景への合成方法<a href="#span-out-UI-graphing-post1">canvas-globalCompositeOperation</a>を選択可
<br>
<del>・title入力欄にgraph-titleを入力可</del><span class="run">Ver.2.34.18</span>以降、<a href="#span-out-UI-graphing-z">z入力欄</a>に統合
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
csv-read
    </th>
    <td>
<span id="span-out-UI-graphing-config-csv"></span>
csv-read機能について記述する
<br>
<br>
<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-num">実数値</a>のcsv-fileのread機能を追加（後者typeは<a href="#span-out-system-test">実機online-test</a>で特定）
<br>
・MIME-type：text/csv || text/comma-separated-values
<br>
・<span class="clear">Ver.2.848.156</span>以降、<a href="#span-out-literal">論理値literal</a>に対応
<br>
・<span class="clear">Ver.2.852.158</span>以降、最長列と空行に対応（空の場合、<a href="#span-out-literal">NaN</a>）
<br>
<br>
仕様を列挙する
<br>
・csv-fileの行と列を<a href="#span-out-FNm-trans">転置</a>して<a href="#span-out-ans">予約変数</a>csv連番に代入
<br>
・<span class="selection">read範囲</span>の対象外：1行目（header行の前提）
<br>
・<span class="selection">read範囲</span>の列数：2行目の列数
<br>
・<span class="selection">read範囲</span>の行数：2行目~最終行
<br>
・<span class="clear">要素が空</span>の場合、<del>0に変換</del><span class="run">Ver.2.162.39</span>以降、<a href="#span-out-num-NaN">欠損値</a>として<a href="#span-out-literal">NaN</a>に変換
<br>
・要素が<a href="#span-out-num">実数値</a>以外の場合、<a href="#span-out-literal">NaN</a>に変換
<br>
<br>
test caseを示す
<br>
・csv-file
<br>
xt, yt, log
<br>
<span class="selection">0, 0</span>
<br>
<span class="selection">1, 2</span>, 3
<br>
<span class="selection"><a href="#span-out-literal">s</a>, 4</span>
<br>
<span class="selection">5, 6</span>
<br>
<span class="selection">7, 8</span>
<br>
<span class="selection">9</span><span class="clear">　</span>
<br>
・read実行確定
<br>
csv0 -> (0,1,<a href="#span-out-literal">NaN</a>,5,7,9:0,2,4,6,8<span class="clear"><del>,0</del><a href="#span-out-literal">,NaN</a></span>)
<br>
・1列目
<br>
csv0[0] -> (0,1,<a href="#span-out-literal">NaN</a>,5,7,9)
<br>
・2列目
<br>
csv0[1] -> (0,2,4,6,8<span class="clear"><del>,0</del><a href="#span-out-literal">,NaN</a></span>)
<br>
・<span class="run">Ver.2.159.38</span>以降、<a href="#span-out-FN-isNaN">isNaN関数</a>を追加
<br>
(isNaN(trans(csv0[0])),isNaN(trans(csv0[1])))==true ->
<br>
(
<br>
0,0:
<br>
0,0:
<br>
1,0:
<br>
0,0:
<br>
0,0:
<br>
0<span class="clear"><del>,0</del>,1</span>
<br>
)
<br>
・MIME-type不一致の場合、error終了
<br>
-> input-file.csv not found
<br>
・<span class="run">Ver.2.161.38</span>以降、read完了時の<a href="#span-out-log">log表示</a>を追加
<br>
-> finished reading csv0
<br>
<br>
MIME-typeを確認する場合、<a title="file Checker" href="../32_file/index.html">file Checker</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
strict-mode
<br>
equation-list
    </th>
    <td>
<span id="span-out-UI-graphing-list"></span>
strict-mode equation-listについて記述する
<br>
<br>
各buttonはtext入力欄の選択位置に<a href="#span-out-config-strict">strict-mode</a>で記述した<a href="#span-out-eqns">式変数</a>を挿入する
<br>
<br>
詳細は<a href="#span-eqn">strict-mode式変数list</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
calc-config
    </th>
    <td>
<span id="span-out-UI-calc-config"></span>
calc-configについて記述する
<br>
<br>
各checkboxの詳細は<a href="#span-out-options">外部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
log-stamp
<br>
仕様
    </th>
    <td>
<span id="span-out-log-stamp"></span>
log-stamp仕様について記述する
<br>
<br>
svg||csv||history-txt出力時に記録するlog-stampの情報を列挙する
<br>
・Repository VERSION
<br>
・time-stamp
<br>
　new Date()
<br>
・<span class="run">Ver.2.38.18</span>以降、browser識別情報
<br>
　window.navigator.userAgent
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
log
<br>
表示仕様
    </th>
    <td>
<span id="span-out-log"></span>
log表示上の仕様と付随する留意事項について記述する
<br>
<br>
代入を伴わない場合
<br>
・演算後の値のみ表示する
<br>
・直前の実行文の演算結果を保持する<a href="#span-out-ans">予約変数</a>ansへの代入を明示しない
<br>
3*2 -> 6
<br>
ans -> 6
<br>
(3*2,1) -> (6,1)
<br>
ans -> (6,1)
<br>
<br>
<a href="#span-out-substitution">変数への代入</a>の場合
<br>
・変数名と代入値を明示する
<br>
x=3*2 -> x=6
<br>
x=(3*2,3) -> x=(6,3)
<br>
<br>
<a href="#span-out-matching">行列要素pattern matching</a>による変数への代入の場合
<br>
・変数名のみ明示する
<br>
($a,$b)=(1,2) -> stored_var(a) stored_var(b) 
<br>
<br>
<a href="#span-out-substitution-equation">式変数への式代入</a>の場合
<br>
・式変数名のみ明示する
<br>
eqn_x=&lt;(a*x+b=0) -> stored_eqn(eqn_x)
<br>
eqn_t=&lt;sin(omega(t)) -> stored_eqn(eqn_t)
<br>
<br>
代入の場合、<a href="#span-out-ans">予約変数</a>ansは更新されない
<br>
3*2 -> 6
<br>
ans -> 6
<br>
x=2; ($a,$b)=(1,2); eqn_x=&lt;(a*x+b=0) -> stored_eqn(eqn_x)
<br>
ans -> 6
<br>
<br>
<span class="run">Ver.2.151.38</span>以降、<a href="#span-in-log-m0">実部の-0表示に対応</a>
<br>
-0 -> -0
<br>
(-0) -> -0
<br>
<br>
表示仕様ではないが、以下の演算都合上の仕様について記述する
<br>
・代入を<a href="#span-out-BT">括弧</a>で括った場合、0を返す
<br>
(x=3) || (3=3) -> 0
<br>
・代入後は0が残ると仮定して演算する
<br>
2(x=3) || 2(3=3) || 2(=3-3) || 2(0) -> 0
<br>
・代入をcomma,||colon:で区切った場合、0を返す
<br>
max(x=3,-1,-2) || max(0,-1,-2) -> 0
<br>
(1,2:3,4:x=5,x) -> (1,2:3,4:0,5)
<br>
・ただし、<a href="#span-out-mat">行列</a>を代入しても次元は残らない
<br>
(x=(1,2:3,4)) -> 0
<br>
<br>
詳細は<a href="#span-out-special-substitution">特殊仕様</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
error-log
    </th>
    <td>
<span id="span-out-log-error"></span>
error-logについて記述する
<br>
<br>
<span class="run">Ver.2.409.86</span>以降、一部のerror-log表示を改善
<br>
・<span class="run">Ver.2.411.87</span>以降、RangeError-log表示の更新不備を修正
<br>
・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
1+ -> <del>[MyErr]Invalid binary operation</del>[MyErr]Invalid operation number+
<br>
(1,1)+ -> <del>[MyErr]Invalid binary operation</del>[MyErr]Invalid operation (,)+
<br>
**(1,1:) -> <del>[MyErr]Invalid binary operation</del>[MyErr]Invalid operation **(,:,)
<br>
&amp;&amp;&amp;(1,1:) -> <del>[MyErr]Invalid binary operation</del>[MyErr]Invalid operation &amp;&amp;&amp;'BT1'
<br>
&amp;&amp;|| -> <del>[MyErr]Invalid binary operation</del>[MyErr]Invalid operation &amp;&amp;||
<br>
・未解決<a href="#span-out-ans">ans</a>
<br>
1x -> <del>[MyErr]Invalid ans isFound</del>[MyErr]Invalid ans(number,x)
<br>
x(1,1) -> <del>[MyErr]Invalid ans isFound</del>[MyErr]Invalid ans(x,(,))
<br>
　<span class="clear">Ver.2.433.90</span>以降、追加修正
<br>
x(=&lt;a) -> [MyErr]Invalid ans(x,<del>number</del>=&lt;)
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat-row">行代入</a>のerror-indexを追加表示
<br>
A=(1,2:3,4); A[0]=A -> [MyErr]Invalid store array<span class="run">[0]</span>
<br>
A=(1,2:3,4); A[0]=1 -> [MyErr]Invalid store size of array<span class="run">[0]</span>
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat-col">列代入</a>のerror-indexを追加表示
<br>
A=(1,2:3,4); A[][0]=A -> [MyErr]Invalid store array<span class="run">[][0]</span>
<br>
A=(1,2:3,4); A[][0]=1 -> [MyErr]Invalid store size of array<span class="run">[][0]</span>
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat-elem">要素代入</a>のerror-indexを追加表示
<br>
A=(1,2:3,4); A[0][0]=A -> [MyErr]Invalid store array<span class="run">[0][0]</span>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
debugger
    </th>
    <td>
<span id="span-out-debug"></span>
debuggerについて記述する
<br>
<br>
<span class="run">Ver.2.224.50</span>以降、catched error@<a href="#span-out-flow">operation</a>段階の簡易debuggerを追加
<br>
・該当の実行元<a href="#span-in-tree">j-th sentence</a>終端位置;にcaretを移動（実行確定~catched間に変更の場合、不正確）
<br>
・<a href="#span-out-log">log表示</a>に@j=?を追加
<br>
・<span class="run">Ver.2.274.65</span>以降、catched error@<a href="#span-out-flow">parse</a>段階のpost処理に対応
<br>
　<a href="#span-out-log">log表示</a>に@post@j=?を追加
<br>
・<span class="run">Ver.2.278.65</span>以降、catched error@<a href="#span-out-flow">parse</a>段階のpre処理に対応
<br>
　<a href="#span-out-log">log表示</a>に@pre@j=?を追加
<br>
・<span class="clear">Ver.2.837.143</span>~<span class="clear">2.837.144</span>以降、<a href="#span-out-SR">区切り文字</a>を含む<a href="#span-out-comment">comment文</a>に対応（caret移動の改善）
<br>
　caret移動先の<a href="#span-out-SR">区切り文字</a>の対策：なし　⇒　あり（<a href="#span-out-comment">comment文</a>を文字数分の<a href="#span-out-spaces">改行文字</a>\nに置換）
<br>
clear;1;2<span class="selection">//;;</span>
<br>
2<span class="condition">/**/</span><span class="selection">/*;;
<br>
<br>
;;/*/</span>;;<span class="condition">/*/;;*/</span>;;3;
<br>
<br>
;4;<span class="clear">x</span>;6;
<br>
clear;
<br>
1;
<br>
2<span class="selection">//;;</span>
<br>
2<span class="condition">/**/</span>
<br>
<span class="selection">/*;;
<br>
<br>
;;
<br>
/*/</span>;;
<br>
<span class="condition">/*/
<br>
*/</span>
<br>
<span class="selection">/*;;
<br>
<br>
/*/</span><span class="condition">/*/
<br>
;;
<br>
*/</span>;;3;
<br>
<br>
;
<br>
4;<span class="clear">x</span>;6;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
call stack
    </th>
    <td>
<span id="span-out-callstack"></span>
browser由来のcall stackについて記述する
<br>
<br>
内部的な関数callのnesting深さを制限する最大stack size
<br>
Maximum call stack size=O(1e4~1e6)
<br>
<br>
size超過error
<br>
Maximum call stack size exceeded
<br>
<br>
size超過の対策候補を列挙する
<br>
・<a href="#span-out-option3">Single-thread実行</a>（並列のstack消費を回避）
<br>
・設定で一時的に最大sizeを拡張||size最大のFirefoxで実行
<br>
・漸化式の手動最適化（<a href="#span-out-eqns-re-call">再帰call</a>　⇒　<a href="#span-out-FNh-RX">再帰高階関数</a>）
<br>
・構文の見直し（<a href="#span-out-FNh-switch">switch高階関数</a>　⇒　<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
strict-mode
    </th>
    <td>
<span id="span-out-config-strict"></span>
strict-modeについて記述する
<br>
<br>
strict-modeは演算内容の入力規則に以下3点の制約条件を追加する
<br>
・<span class="condition">乗算記号*省略不可</span>
<br>
　omitted multiplication sign(*) disabled
<br>
・<span class="clear"><a href="#span-out-eqns-call">式読出し</a>記号=&gt;省略不可</span>
<br>
　omitted equation's call sign(=&gt;) disabled
<br>
・<span class="run">Ver.2.174.42</span>以降、<span class="selection"><a href="#span-out-eqns-args">式変数のarguments</a>省略不可</span>
<br>
　omitted equation's arguments disabled
<br>
<del>・<a href="#span-out-pass-by-equation">式渡し</a>の括弧{}省略不可
<br>
　omitted Pass-by-Equation's bracket({}) disabled</del><span class="run">Ver.2.28.15</span>以降、text modified
<br>
・<span class="run">Ver.2.275.65</span>以降、既定で<a href="#span-out-eqns">式変数</a>のcall記号省略不可（syntaxの曖昧さを低減）
<br>
　call記号：=&gt;　⇔　関数callの<a href="#span-out-BT">丸括弧()</a>
<br>
_r((n)=&lt;run,run(n,n)=&lt;n+1,3) -> <del>3</del>[MyErr]Invalid BTe([object Object],[object Object],[object Object])
<br>
_r(()=&lt;run,run(n,n)=&lt;n+1,3) -> [MyErr]Invalid RX(=&lt;args.length&lt;=1)
<br>
_r(=&lt;run,run()=&lt;1,3) -> 1
<br>
_r((n)=&lt;run(),run=&lt;1,3) -> 1
<br>
_r(()=&lt;run,run(n)=&lt;n+1,3) -> 3
<br>
_r((n)=&lt;run(n)=&gt;,run(n)=&lt;n+1,3) -> 3
<br>
　記号省略：自動実行　⇒　<a href="#span-out-eqns">式変数</a>宣言@Non-strict-modeの判別（callの場合、記号を明示）
<br>
last{set_x=&lt;(x=1),x=0,set_x,x} -> <del>1</del>0
<br>
last{set_x=&lt;(x=1),x=0,set_x(),x} -> 1
<br>
・<span class="run">Ver.2.277.65</span>以降、<a href="#span-out-eqns">式変数</a>宣言：BTeの<a href="#span-out-log">log表示</a>
<br>
clear; set_x=&lt;(x=1),x=0,set_x,x -> (0,0,BTe,0)
<br>
・<span class="run">Ver.2.276.65</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の動的判別@Non-strict-modeに対応
<br>
　定義元：記号=&lt;を省略不可　⇒　省略可
<br>
　call先：省略可（<a href="#span-in-pass-by-equation">遅延評価</a>の明示を除く）
<br>
h(x)=&lt;x; f(g)=&lt;g(3); f(h) -> <del>[MyErr]Invalid matching var(g)</del>3
<br>
A=(1,2:3,4); f(A)=&lt;A; f(A) -> [MyErr]Invalid args.length=1(f)
<br>
・<span class="run">Ver.2.277.65</span>以降、equal記号=の動的判別（記号=&lt;の有無のみ）に対応
<br>
f<span class="run">=</span>(x)=&lt;x; f(3)=&gt; -> 3
<br>
A={(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x} -> (<span class="run">BTe:BTe:BTe</span>)
<br>
f=A[0] -> stored_<span class="run">eqn</span>(f)
<br>
f(3) -> 3
<br>
・<a href="#span-out-eqns-no-name">無名call</a>の<a href="#span-out-eqns-return">末尾return</a>
<br>
(A)(2)=&gt; -> 4
<br>
・<span class="run">Ver.2.285.67</span>以降、行列要素がBTe単体の場合、iterableの<a href="#span-out-BT">丸括弧()</a>を明示
<br>
x=(=&lt;2) -> x=<del>BTe</del>(BTe)
<br>
(x)=&gt; -> 2
<br>
x=()=&lt;2 -> stored_eqn(x)
<br>
x() -> 2
<br>
・curried（<span class="jF">pipelineの各引数</span>は初回callでclosed）
<br>
clear;
<br>
div=(x,y)=&lt;x/y;
<br>
div_curried_closed_1st_call=<span class="jF">(x)</span>=&lt;[(y)=&lt;div(x,y)];
<br>
f=div_curried_closed_1st_call;
<br>
g=div_curried_closed_1st_call;
<br>
・<a href="#span-out-eqns-no-name">無名call</a>のcall記号=&gt;省略不可
<br>
(f(2))(1)=&gt;,(f(3))(1)=&gt;,(g(3))(1)=&gt; -> (2,2,2)
<br>
・同義（pipe表記）
<br>
div_curried_closed_1st_call=(x)=&lt;[<span class="jF">(x)</span>=&lt;(y)=&lt;div(x,y)](x)=&gt;;
<br>
・部分適用
<br>
inv_y_applied_partially=div_curried_closed_1st_call(1);
<br>
(1,5,10).map((x)=&lt;inv_y_applied_partially(x)) -> (1,0.2,0.1)
<br>
・pipe
<br>
f=<span class="jF">(x)</span>=&lt;[<span class="jF">(y)</span>=&lt;(z)=&lt;(x,y,z)]; xy_z=(f(1))(2)=&gt;; xy_z(3):xy_z(4):xy_z(5) -> (1,2,3:1,2,4:1,2,5)
<br>
<br>
曖昧さを回避することで演算内容の入力上、引いては演算上の間違いを低減する
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>を使用して一例を示す
<br>
・Non-strict-modeの場合
<br>
clear; times(a,b)=&lt;a(b); times(-2) -> [MyErr]Invalid args.length=2(times)
<br>
clear; times(a,b)=&lt;a(b); times(-2)<span class="clear">=&gt;</span> -> [MyErr]Invalid args.length=2(times)
<br>
clear; times(a,b)=&lt;a(b); times(-2,3) -> -6
<br>
clear; times(a,b)=&lt;a(b); times(-2,3)<span class="clear">=&gt;</span> -> -6
<br>
clear; a(b)=&lt;-999; times(a,b)=&lt;a(b); times(-2,3)<span class="clear">=&gt;</span> -> -6
<br>
clear; a(b)=&lt;-999; times(a,b)=&lt;a(b)<span class="clear">=&gt;</span>; times(-2,3)<span class="clear">=&gt;</span> -> -999
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times(-2,3) -> -6
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times(-2,3)<span class="clear">=&gt;</span> -> -6
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3)<span class="clear">=&gt;</span> -> -6
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3) -> (-4,6)
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様を廃止して<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>を追加
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3)<span class="clear">=&gt;</span>times; times -> <del>-6</del>2
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3)<span class="clear">=&gt;</span>(times) -> -12
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; <span class="selection">a=2; b=3; times</span> -> [MyErr]Invalid null=&gt;
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; <span class="selection">a=2; b=3; times<span class="clear">=&gt;</span></span> -> 6
<br>
・<span class="run">Ver.2.253.59</span>以降、<a href="#span-out-eqns-omitted-args">引数省略call</a>の仕様廃止（<a href="#span-out-eqns-args">式変数のarguments</a>の判別を厳格化）
<br>
<del>clear; a=2; f<span class="selection">(x)</span>=&lt;a; f<span class="clear">=&gt;</span> -> 2
<br>
・<span class="run">Ver.2.195.45</span>以降、<a href="#span-out-eqns-no-name">無名call</a>
<br>
clear; a=2; [<span class="selection">(x)</span>=&lt;a]()<span class="clear">=&gt;</span> -> 2</del>
<br>
・<span class="run">Ver.2.275.65</span>以降、既定で<a href="#span-out-eqns">式変数</a>のcall記号省略不可
<br>
clear; set_x=&lt;(x=1),x=0,set_x,x -> [MyErr]Invalid BTe([object Object])
<br>
・<span class="run">Ver.2.277.65</span>以降、<a href="#span-out-eqns">式変数</a>宣言：BTeの<a href="#span-out-log">log表示</a>
<br>
clear; set_x=&lt;(x=1),x=0,set_x,x -> (0,0,BTe,0)
<br>
・<span class="run">Ver.2.277.65</span>以降、<a href="#span-out-vars-symbol">変数名symbol</a>単体の場合、動的判別@Non-strict-modeに対応
<br>
・<span class="run">Ver.2.285.67</span>以降、行列要素がBTe単体の場合、iterableの<a href="#span-out-BT">丸括弧()</a>を明示
<br>
clear; last{f(x)=&lt;x,f} -> <del>BTe</del>(BTe)
<br>
clear; ((x)=&lt;x) -> <del>BTe</del>(BTe)
<br>
clear; f=&lt;x; g=f -> stored_eqn(g)
<br>
・<a href="#span-out-eqns">式変数</a>宣言単体の場合、error終了（<a href="#span-out-ans">予約変数</a>ansへの代入不可）
<br>
clear; (x)=&lt;x -> [MyErr]Invalid BTe([object Object])
<br>
・<span class="run">Ver.2.279.65</span>以降、<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>の第1引数の動的判別（記号=&lt;の有無のみ）@Non-strict-modeに対応
<br>
clear; [(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x].map((f)=&lt;f(3)) -> (3,-3,9)
<br>
・<span class="run">Ver.2.282.66</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の判別対象を拡張
<br>
clear; A_lazy=((x)=&lt;x); f(A)=&lt;(A[0][0])(2)=&gt;; f(=&lt;A_lazy)=&gt; -> <del>[MyErr]Undef eqn(A_lazy)</del>2
<br>
<br>
・strict-modeの場合
<br>
clear; times(a,b)=&lt;a(b); times(-2) -> [MyErr]Invalid ans isFound
<br>
clear; times(a,b)=&lt;a(b); times(-2)<span class="clear">=&gt;</span> -> [MyErr]Invalid args.length=2(times)
<br>
clear; times(a,b)=&lt;a(b); times(-2,3) -> [MyErr]Invalid ans isFound
<br>
clear; times(a,b)=&lt;a(b); times(-2,3)<span class="clear">=&gt;</span> -> [MyErr]Invalid operation
<br>
clear; a(b)=&lt;-999; times(a,b)=&lt;a(b); times(-2,3)<span class="clear">=&gt;</span> -> [MyErr]Invalid operation
<br>
clear; a(b)=&lt;-999; times(a,b)=&lt;a(b)<span class="clear">=&gt;</span>; times(-2,3)<span class="clear">=&gt;</span> -> -999
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times(-2,3) -> [MyErr]Invalid ans isFound
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times(-2,3)<span class="clear">=&gt;</span> -> -6
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3)<span class="clear">=&gt;</span> -> -6
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3) -> [MyErr]Invalid ans isFound
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様を廃止して<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>を追加
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3)<span class="clear">=&gt;</span>times; times -> <del>-6</del>2
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; times=2; times(-2,3)<span class="clear">=&gt;</span>(times) -> [MyErr]Invalid ans isFound
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; <span class="selection">a=2; b=3; times</span> -> [MyErr]Invalid REv(times)
<br>
clear; times(a,b)=&lt;a<span class="condition">*</span>b; <span class="selection">a=2; b=3; times<span class="clear">=&gt;</span></span> -> [MyErr]Invalid args.length=2(times)
<br>
・<span class="run">Ver.2.253.59</span>以降、<a href="#span-out-eqns-omitted-args">引数省略call</a>の仕様廃止（<a href="#span-out-eqns-args">式変数のarguments</a>の判別を厳格化）
<br>
clear; a=2; f<span class="selection">(x)</span>=&lt;a; f<span class="clear">=&gt;</span> -> [MyErr]Invalid args.length=1(f)
<br>
・<span class="run">Ver.2.195.45</span>以降、<a href="#span-out-eqns-no-name">無名call</a>
<br>
clear; a=2; [<span class="selection">(x)</span>=&lt;a]()<span class="clear">=&gt;</span> -> [MyErr]Invalid args.length=1(null)
<br>
・<span class="run">Ver.2.275.65</span>以降、既定で<a href="#span-out-eqns">式変数</a>のcall記号省略不可
<br>
clear; set_x=&lt;(x=1),x=0,set_x,x -> [MyErr]Invalid REv(set_x)
<br>
・<span class="clear">Ver.2.280.66</span>以降、<a href="#span-out-spec-plot-history">plot仕様変更</a>により、未定義の<a href="#span-out-vars">変数</a>を検知不能の致命的な不具合を修正
<br>
clear; set_x=&lt;(x=1),x=0,set_x,x -> [MyErr]Undef var(set_x)
<br>
・<span class="run">Ver.2.277.65</span>以降、<a href="#span-out-vars-symbol">変数名symbol</a>単体の場合、動的判別@Non-strict-modeに対応
<br>
clear; last{f(x)=&lt;x,f} -> [MyErr]Undef var(f)
<br>
clear; f=&lt;x; g=f -> [MyErr]Invalid REv(f)
<br>
・<span class="run">Ver.2.277.65</span>以降、<a href="#span-out-eqns">式変数</a>宣言：BTeの<a href="#span-out-log">log表示</a>
<br>
・<span class="run">Ver.2.285.67</span>以降、行列要素がBTe単体の場合、iterableの<a href="#span-out-BT">丸括弧()</a>を明示
<br>
clear; ((x)=&lt;x) -> <del>BTe</del>(BTe)
<br>
・<a href="#span-out-eqns">式変数</a>宣言単体の場合、error終了（<a href="#span-out-ans">予約変数</a>ansへの代入不可）
<br>
clear; (x)=&lt;x -> [MyErr]Invalid BTe([object Object])
<br>
・<span class="run">Ver.2.279.65</span>以降、<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>の第1引数の動的判別（記号=&lt;の有無のみ）@Non-strict-modeに対応
<br>
clear; [(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x].map((f)=&lt;f(3)) -> [MyErr]Invalid URh-args.f
<br>
・<span class="run">Ver.2.282.66</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の判別対象を拡張
<br>
clear; A_lazy=((x)=&lt;x); f(A)=&lt;(A[0][0])(2)=&gt;; f(=&lt;A_lazy)=&gt; -> <del>[MyErr]Invalid matching var(A)</del>2
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
内部option
    </th>
    <td>
<span id="span-out-config"></span>
UIには表示しない内部optionについて記述する
<br>
<br>
browser上部のURL入力欄のGET入力で<a href="#span-in-options">内部option</a>を変更可（UI設定値||既定値を上書き可）
<br>
・html直後の?に続けて&amp;区切りでparameterを渡す
<br>
index.html?param0=value0&amp;param1=value1&amp;param2=value2&amp;...
<br>
<br>
<span class="run">Ver.2.184.44</span>以降、<a href="#span-out-auto-switching">real自動切替</a>機能を使用する場合、-1を設定
<br>
useComplex=-1
<br>
<br>
<a href="#span-out-config-strict">strict-mode</a>で実行する場合、false||0以外を設定
<br>
useStrict=true
<br>
useStrict=1
<br>
<br>
<a href="#span-out-error">情報落ち</a>の発生や<a href="#span-out-FNh-DX">微分</a>・<a href="#span-out-FNh-IX">積分</a>の<a href="#span-out-error-numerical">数値誤差</a>を評価しない場合、falseを設定
<br>
checkError=false
<br>
・<a href="#span-out-ope">演算量</a>が数倍軽くなる
<br>
・<span class="run">Ver.2.84.32</span>以降、さらに<a href="#span-out-array">行列操作</a>を最適化する場合、0を設定
<br>
checkError=0
<br>
・<a href="#span-out-mat-blank">欠損要素</a>を含む<a href="#span-out-array">行列操作</a>の予期せぬerror終了を許容する
<br>
(1,2:3)[0][0]<span class="clear">[][]</span> -> Cannot read properties of undefined
<br>
・<span class="run">Ver.2.84.32</span>以降、<a href="#span-out-error-numerical">数値誤差</a>を評価して<a href="#span-out-array">行列操作</a>のみを最適化する場合、負数を設定
<br>
checkError=-1
<br>
<br>
<span class="run">Ver.2.31.17</span>以降、useScopeを追加
<br>
useScope=false：完全な後方互換で<a href="#span-out-scope-vars">変数のscope</a>を一切使用しない
<br>
useScope=true：すべての<a href="#span-out-BT">括弧</a>に<a href="#span-out-scope-vars">変数のscope</a>を使用する（多重積分等、<a href="#span-out-ref-transparency">参照透過性</a>の支障あり）
<br>
useScope=BT2：<a href="#span-out-BT">波括弧{}</a>のみ<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
useScope=BT1：<a href="#span-out-BT">丸括弧()</a>のみ<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
<span class="run">Ver.2.32.17</span>以降、以下の条件を追加
<br>
useScope=notBT2：<a href="#span-out-BT">波括弧{}</a>以外で<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
useScope=notBT1：<a href="#span-out-BT">丸括弧()</a>以外で<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
useScope=notBT0：<a href="#span-out-BT-square">角括弧[]</a>以外で<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
useScope=default（上記以外）：<a href="#span-out-BT-square">角括弧[]</a>のみ<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
<br>
<span class="run">Ver.2.213.47</span>以降、<a href="#span-out-option6">useScopeWith</a>を追加
<br>
useScopeWith=false||0：追加なし
<br>
useScopeWith=SEe：<a href="#span-out-substitution-equation">式代入</a>記号=&lt;に<a href="#span-out-scope-vars">変数のscope</a>を追加（function-scope）
<br>
useScopeWith=BTe（上記以外）：<a href="#span-out-eqns-args">式変数のarguments</a>付の<a href="#span-out-substitution-equation">式代入</a>記号=&lt;に<a href="#span-out-scope-vars">変数のscope</a>を追加
<br>
<br>
<span class="run">Ver.2.221.50</span>以降、<a href="#span-out-option7">useFunc</a>を追加
<br>
useFunc=1：すべて小文字
<br>
useFunc=2：すべて大文字
<br>
useFunc=3：最初のみ大文字
<br>
useFunc=0（上記以外）：大文字・小文字を区別しない
<br>
<br>
<span class="run">Ver.2.249.57</span>以降、<a href="#span-out-option8">use$let</a>を追加
<br>
use$let=false||0：$const
<br>
use$let=true（上記以外）：$let
<br>
<br>
<span class="run">Ver.2.250.57</span>以降、<a href="#span-out-option9">useMutex</a>を追加
<br>
useMutex=false||0：mutex対象の宣言を禁止しない
<br>
useMutex=true（上記以外）：mutex対象の宣言を禁止する
<br>
<br>
<a href="#span-out-prec-ope">演算子のprecedence</a>を変更する場合
<br>
・演算子の<a href="#span-in-prec">tag名</a>を優先順にcomma,区切りで列挙する
<br>
・<span class="run">Ver.2.59.26</span>以降、<a href="#span-out-prec-ope-logical">論理演算子</a>を追加
<br>
・<span class="run">Ver.2.71.28</span>以降、<a href="#span-out-prec-ope-bit">bit not演算子</a>を追加
<br>
・<span class="run">Ver.2.81.32</span>以降、<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a>を追加
<br>
・<span class="run">Ver.2.87.32</span>以降、一部の<a href="#span-out-prec-ope">演算子</a>を<span class="run">Python</span>に準拠
<br>
・<span class="run">Ver.2.168.41</span>以降、<a href="#span-out-prec-ope-logical-xor">論理XOR演算子</a>を追加
<br>
・<span class="run">Ver.2.192.44</span>以降、<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>を追加（URi,URfをURに統合）
<br>
・<span class="run">Ver.2.752.113</span>以降、<a href="#span-out-prec-ope">前置単項演算子</a>（PU）の<a href="#span-out-prec-ope-arithmetic-size">size演算子</a>を追加
<br>
precedence=
<br>
<span class="run">UR</span>,<span class="run">PU</span>,<span class="run">BRpp</span>,BRp,BRmo,BRdm,BRsa,
<br>
<span class="run">PUbn</span>,BRbs,BRba,BRbx,BRbo,BRcn,BRrl,<span class="run">PUlN</span>,<span class="run">BRlA,BRlX,BRlO</span>
<br>
・別途、乗算記号*の省略を許容しない場合、tag名BRmoを削除する
<br>
　その場合、treeを全走査判定する無駄な<a href="#span-out-ope">演算量</a>が減る
<br>
<br>
<span class="run">Ver.2.207.46</span>以降、testを追加
<br>
test=true：<a href="#span-out-UI-calc-config">calc-config</a>に<a href="#span-in-options">内部option</a>のuseScope||precedenceを追加表示
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
外部option
    </th>
    <td>
<span id="span-out-options"></span>
外部optionの設定項目を列挙する
<br>
・<a href="#span-out-option5">O(error)</a>　<span class="run">Ver.2.166.40</span>以降、追加
<br>
・<a href="#span-out-option1">2項演算子のassociativity</a>
<br>
・<a href="#span-out-option2">記号省略乗算</a>
<br>
・<a href="#span-out-option4">comma演算子</a>
<br>
・<a href="#span-out-option8">use$let</a>　<span class="run">Ver.2.249.57</span>以降、追加
<br>
・<a href="#span-out-option9">useMutex</a>　<span class="run">Ver.2.250.57</span>以降、追加
<br>
・<a href="#span-out-option7">useFunc</a>　<span class="run">Ver.2.221.50</span>以降、追加
<br>
・<a href="#span-out-option6">useScopeWith</a>　<span class="run">Ver.2.213.47</span>以降、追加
<br>
・<a href="#span-out-option3">Multi-thread実行</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
O(error)
    </th>
    <td>
<span id="span-out-option5"></span>
外部optionのO(error)と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.166.40</span>以降、<a href="#span-out-error">情報落ち</a>と<a href="#span-out-error-numerical">数値誤差</a>の<a href="#span-out-log">log表示</a>||非表示を選択可
<br>
・<a href="#span-in-options">内部option</a>の<a href="#span-out-config">checkError</a>=true||false
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
2項演算子の
<br>
associativity
    </th>
    <td>
<span id="span-out-option1"></span>
外部optionの2項演算子のassociativityと付随する留意事項について記述する
<br>
<br>
<a href="#span-out-associativity">2項演算子のassociativity</a>を選択可
<br>
・左から順に結合する場合、左結合（以降、Left-AssociativityをLAと省略する）
<br>
・右から順に結合する場合、右結合（以降、Right-AssociativityをRAと省略する）
<br>
<br>
unchecked既定：左結合
<br>
+3-5+7-9 || ((((0+3)-5)+7)-9) -> -4
<br>
(1,2)-(3,4)-(5,6) || (((1,2)-(3,4))-(5,6)) -> (-7,-8)
<br>
-(1,1)-(2,2) || (((0,0)-(1,1))-(2,2)) -> (-3,-3)
<br>
(1,2){3,4}(5,6) || (((1,2){3,4})(5,6)) || 11(5,6) -> (55,66)
<br>
<br>
checked選択：右結合
<br>
+3-5+7-9 || (0+(3-(5+(7-9)))) -> 0
<br>
(1,2)-(3,4)-(5,6) || ((1,2)-((3,4)-(5,6))) -> (3,4)
<br>
-(1,1)-(2,2) || ((0,0)-((1,1)-(2,2))) -> (1,1)
<br>
(1,2){3,4}(5,6) || ((1,2)({3,4}(5,6))) || (1,2)(15,18:20,24) -> (55,66)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-type-ope">前置単項演算子</a>の符号は同種の<a href="#span-out-type-ope">中置2項演算子</a>と区別しない
<br>
・符号の左側には0||<a href="#span-out-FNm-init">zeros行列</a>が存在すると仮定して結合する
<br>
<br>
詳細は<a href="#span-out-special-sign">特殊仕様</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
記号省略乗算
    </th>
    <td>
<span id="span-out-option2"></span>
外部optionの記号省略乗算と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-BRmo">記号省略乗算</a>と除算の<a href="#span-out-prec-ope">演算子のprecedence</a>を切替え可
<br>
<br>
unchecked既定：除算より記号省略乗算優先
<br>
1/2(2) || 1/(2(2)) -> 0.25
<br>
<br>
checked選択：記号省略乗算より除算優先
<br>
1/2(2) || (1/2)(2) -> 1
<br>
<br>
<a href="#span-out-BRmo">記号省略乗算</a>を許容しない場合、<a href="#span-out-config">内部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
comma
<br>
演算子
    </th>
    <td>
<span id="span-out-option4"></span>
外部optionのcomma演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.74.29</span>以降、<a href="#span-out-ope-extended">拡張行列演算</a>におけるcomma演算子の使用を選択可
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
<br>
comma演算子は行vectorの<a href="#span-out-FNm-last">最終要素</a>を取り出す
<br>
<br>
unchecked既定：comma演算子未使用
<br>
(1,2:3,4)i -> (i,2i:3i,4i)
<br>
<span class="condition">(1,2:3,4)(i) || (1,2:3,4)*i -> (i,2i:3i,4i)</span>
<br>
<br>
checked選択：comma演算子使用
<br>
(1,2:3,4)i || ((1,2)i:(3,4)i) -> (2i:4i)
<br>
<span class="condition">(1,2:3,4)(i) || (1,2:3,4)*i -> (2i:4i)</span>
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-ope">無次元</a>の演算の場合、comma演算子は常に有効
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
use$let
    </th>
    <td>
<span id="span-out-option8"></span>
外部optionのuse$letと付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>の既定値を選択可
<br>
・<span class="run">Ver.2.254.59</span>以降、$let宣言の再代入の仕様変更（初回のみ、$あり　⇒　常時、$あり）
<br>
<br>
unchecked既定：$const宣言
<br>
$なし：let宣言
<br>
$あり：const宣言
<br>
<br>
checked選択：$let宣言
<br>
$なし：const宣言
<br>
$あり：let宣言
<br>
<br>
留意事項を列挙する
<br>
・明示的な代入のみ対応
<br>
・非対応の機能（後方互換のlet宣言）を列挙する
<br>
　・<a href="#span-out-matching">行列要素pattern matching</a>
<br>
　・<a href="#span-out-eqns-args">式変数のarguments</a>（厳密には<a href="#span-out-scope-vars">scope</a>不定）
<br>
　・<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>のdummy変数（<a href="#span-out-terms">scope変数</a>の宣言と干渉あり仕様）
<br>
・<span class="run">Ver.2.261.61</span>以降、define判別<span class="condition">id</span>を追加して<a href="#span-out-eqns">式変数</a>のre-callに対応（<a href="#span-out-eqns-re-use">再利用</a>の場合、id削除）
<br>
[$f=&lt;0,$a=1,$b=2,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;f,f(3)=&gt;,f(4)=&gt;,f(5)=&gt; -> (0,6,7,8)
<br>
・<a href="#span-out-eqns">式変数</a>の場合、re-call毎に判別するため、<a href="#span-out-eqns-no-name">無名call</a>のclosureより重い
<br>
f(c)=&lt;[$f=&lt;0,$a=1,$b=2,=&lt;f=&gt;+a+b+c]=&gt;,f(3)=&gt;,f(4)=&gt;,f(5)=&gt;
<br>
-> <del>[MyErr]Invalid SEe-scope-duplicate(f)</del>(0,6,7,8)
<br>
・<span class="run">Ver.2.262.61</span>以降、<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>に対応
<br>
[$f=&lt;0,$a=1,$b=2,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;$g,g=&lt;1 -> [MyErr]Invalid SEe-scope-const(g)
<br>
f(c)=&lt;[$f=&lt;0,$a=1,$b=2,=&lt;f=&gt;+a+b+c]=&gt;$f,f(3)=&gt; -> [MyErr]Invalid SEe-scope-existed(f)
<br>
・<span class="clear">Ver.2.262.62</span>以降、define判別<span class="condition">id</span>が消失する致命的な不具合を修正（value-id　⇒　name-id継承）
<br>
clear; $a=-1; ((((a)=&lt;(b)=&lt;(a,b))|||false)(1)=&gt;)(2)=&gt; -> <del>(-1,2)</del>[MyErr]Invalid SEv-scope-const(a)
<br>
・<span class="run">Ver.2.264.62</span>以降、<a href="#span-out-eqns-re-use">式変数の再利用</a>に対応（id削除　⇒　name-id保持）
<br>
clear -> local storage cleared
<br>
$x=-1; x -> -1
<br>
f(x)=&lt;x; f(1)=&gt; -> <del>1</del>[MyErr]Invalid SEv-scope-const(x)
<br>
f(x)=&lt;[=&lt;x]=&gt;; f(1)=&gt; -> 1
<br>
clear -> local storage cleared
<br>
$f=&lt;-1; f=&gt; -> -1
<br>
f(x)=&lt;[=&lt;x]=&gt;; f(1)=&gt; -> <del>1</del>[MyErr]Invalid SEe-scope-const(f)
<br>
g(=&lt;f)=&lt;f=&gt;; g(=&lt;1)=&gt; -> <del>1</del>[MyErr]Invalid SEe-scope-const(f)
<br>
g(=&lt;f)=&lt;[=&lt;f=&gt;]=&gt;; g(=&lt;1)=&gt; -> 1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
useMutex
    </th>
    <td>
<span id="span-out-option9"></span>
外部optionのuseMutexと付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.250.57</span>以降、mutex対象の宣言禁止を選択可
<br>
・<span class="run">Ver.2.291.71</span>以降、排他処理の仕様変更
<br>
　同時宣言：error終了　⇒　他方を削除
<br>
<br>
mutex対象：<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の同一<a href="#span-out-vars-symbol">変数名symbol</a>の<a href="#span-out-terms">scope変数</a>を同時宣言
<br>
<br>
unchecked既定：mutex対象の宣言を禁止しない
<br>
clear; f=&lt;2,f=1,f,f=&gt; -> (0,0,1,2)
<br>
clear; f=1,f=&lt;2,f,f=&gt; -> (0,0,1,2)
<br>
clear; f=1,[f=&lt;2,f,f=&gt;] -> (0,0,1,2)
<br>
clear; [f=1,f=&lt;2,f,f=&gt;] -> (0,0,1,2)
<br>
clear; [f=1,[f=&lt;2,f,f=&gt;]] -> (0,0,1,2)
<br>
<br>
checked選択：mutex対象の宣言を禁止する
<br>
・<span class="run">Ver.2.291.71</span>以降、排他処理の他方を削除
<br>
clear; f=&lt;2,f=1,f,f=&gt; -> <del>[MyErr]Invalid SEv-scope-mutex(f)</del>[MyErr]Undef eqn(f)
<br>
clear; f=1,f=&lt;2,f/*<a href="#span-out-config-strict">Non-strict-mode</a>*/,f=&gt; -> <del>[MyErr]Invalid SEe-scope-mutex(f)</del>(0,0,eqn,2)
<br>
clear; f=1,[f=&lt;2,f,f=&gt;] -> (0,0,1,2)
<br>
clear; [f=1,f=&lt;2,f/*<a href="#span-out-config-strict">Non-strict-mode</a>*/,f=&gt;] -> <del>[MyErr]Invalid SEe-scope-mutex(f)</del>(0,0,eqn,2)
<br>
clear; [f=1,[f=&lt;2,f,f=&gt;]] -> (0,0,1,2)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
useFunc
    </th>
    <td>
<span id="span-out-option7"></span>
外部optionのuseFuncと付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.221.50</span>以降、名前衝突緩和のため、実装関数名の大文字・小文字のformatを選択可
<br>
・<span class="run">Ver.2.382.86</span>以降、_?dummy変数の<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>に対応（?部分の1文字が対象）
<br>
・<span class="run">Ver.2.390.86</span>以降、<a href="#span-out-command">命令文</a>と<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>以外の全<a href="#span-out-RW">予約語</a>に対応（<a href="#span-out-FN0">定数</a>・<a href="#span-out-com">虚数単位</a>iを含む）
<br>
<br>
FuNc既定：大文字・小文字を区別しない
<br>
func選択：すべて小文字
<br>
FUNC選択：すべて大文字
<br>
Func選択：最初のみ大文字
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-FN0">定数</a>は<del>対象外</del><span class="run">Ver.2.390.86</span>以降、対応
<br>
・_?dummy変数の<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>は<del>対象外</del><span class="run">Ver.2.382.86</span>以降、対応（?部分の1文字が対象）
<br>
・browserの入力欄で大文字の<a href="#span-out-com">虚数単位</a>Iと小文字のlを判別困難
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
useScope
<br>
With
    </th>
    <td>
<span id="span-out-option6"></span>
外部optionのuseScopeWithと付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.213.47</span>以降、<a href="#span-out-scope-vars">変数のscope</a>の追加を選択可
<br>
・<span class="clear">Ver.2.213.48</span>以降、<a href="#span-out-config">useScope</a>を含む選択切替の不具合を修正
<br>
・<span class="clear">Ver.2.213.48</span>以降、<a href="#span-out-eqns-re-use">式変数の再利用</a>に未配慮の変更取消し
<br>
・<span class="clear">Ver.2.228.56</span>以降、追加選択時に<a href="#span-out-scope-inherited">scope継承</a>が常に有効の致命的な不具合を修正
<br>
=&lt;選択：B=-1,g=&lt;B,[B=10,[B=20,[B=30,=&lt;g]=&gt;f,=&lt;f]=&gt;f,<span class="clear">=&lt;</span>f]=&gt;f,f=&gt;,f==&gt; -> (0,0,0,<del class="clear">10</del>-1,-1)
<br>
=&lt;選択：B=-1,g=&lt;B,[B=10,[B=20,[B=30,=&lt;g]=&gt;f,=&lt;f]=&gt;f,<span class="clear">==&lt;</span>f]=&gt;f,f=&gt;,f==&gt; -> (0,0,0,<span class="clear">10</span>,-1)
<br>
=&lt;選択：B=-1,g=&lt;B,[B=10,[B=20,[B=30,<span class="clear">==&lt;</span>g]=&gt;f,=&lt;f]=&gt;f,<span class="clear">==&lt;</span>f]=&gt;f,f=&gt;,f==&gt; -> (0,0,0,<span class="clear">10</span>,-1)
<br>
=&lt;選択：B=-1,g=&lt;B,[B=10,[B=20,[B=30,<span class="clear">==&lt;</span>g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt; -> (0,0,0,<span class="clear">30</span>,-1)
<br>
<br>
false既定：追加なし
<br>
=&lt;選択：<a href="#span-out-substitution-equation">式代入</a>記号=&lt;に<a href="#span-out-scope-vars">変数のscope</a>を追加（function-scope）
<br>
(args)=&lt;選択：<a href="#span-out-eqns-args">式変数のarguments</a>付の<a href="#span-out-substitution-equation">式代入</a>記号=&lt;に<a href="#span-out-scope-vars">変数のscope</a>を追加
<br>
<br>
test caseを列挙する
<br>
clear; x=1,((x)=&lt;x)(3)=&gt;,x -> (0,3,1)
<br>
clear; x=1,((x)=&lt;x)(3)=&gt;f,f=&gt;,x -> (0,0,3,1)
<br>
clear; x=1,[(x)=&lt;=&lt;x/*not-resolved*/](3)=&gt;f,f=&gt;,x -> (0,0,3,1)
<br>
既定時　clear; x=1,((x)=&lt;=&lt;x)(3)=&gt;f,f=&gt;,x -> (0,0,1,1)
<br>
選択時　clear; x=1,((x)=&lt;=&lt;x)(3)=&gt;f,f=&gt;,x -> (0,0,3,1)
<br>
<br>
留意事項を列挙する
<br>
・追加を選択の場合、<a href="#span-eqn">strict-mode式変数list</a>等、要修正
<br>
　・<a href="#span-out-scope-vars-has1BT">単独scope</a>の<a href="#span-out-BT-square">角括弧[]</a>　⇒　()
<br>
　・<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>の式読出し記号==&gt;を明示
<br>
・追加を選択の場合、支障あり（pollution disabled）
<br>
既定時　[arr=[],_s((n)=&lt;arr=(arr,n),1,3),=&lt;arr]=&gt; -> (1,2,3)
<br>
既定時　[arr=[],_s((n)=&lt;[,arr=(arr,n)],1,3),=&lt;arr]=&gt; -> []
<br>
=&lt;選択時　[arr=[],_s((n)=&lt;arr=(arr,n),1,3),=&lt;arr]=&gt; -> []
<br>
(args)=&lt;選択時　[arr=[],_s((n)=&lt;arr=(arr,n),1,3),=&lt;arr]=&gt; -> []
<br>
(args)=&lt;選択時　[arr=[],_sn(=&lt;arr=(arr,n),1,3),=&lt;arr]=&gt; -> (1,2,3)
<br>
・同義
<br>
[arr=_r(=&lt;[hass(arr)==0&amp;&amp;&amp;(arr=[],n=0),n=n+1,arr=(arr,n),=&lt;arr]=&gt;,,3),=&lt;arr]=&gt; -> (1,2,3)
<br>
・<a href="#span-out-eqns-re-use">式変数の再利用</a>の場合、保存時の<a href="#span-in-tree">flag</a>を継承
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Multi-thread
<br>
実行
    </th>
    <td>
<span id="span-out-option3"></span>
外部optionのMulti-thread実行と付随する留意事項について記述する
<br>
<br>
Multi-thread実行を選択可
<br>
<br>
checked既定：Multi-thread実行（演算を中断可）
<br>
unchecked選択：Single-thread実行（演算を中断不可）
<br>
<br>
留意事項を列挙する
<br>
・Single-thread実行の場合、browser既定のtimeoutまで演算||処理を中断不可
<br>
・<a href="#span-out-UI-graphing">Graphing Calculator</a>の場合、Single-thread実行の演算||処理を列挙する
<br>
　・<a href="#span-out-UI-graphing">t0/t1</a>の演算
<br>
　・<a href="#span-out-UI-graphing-post">post処理</a>を含むcanvas描画処理
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算子
<br>
の大分類
    </th>
    <td>
<span id="span-out-type-ope"></span>
演算子の大分類と付随する留意事項について記述する
<br>
<br>
主要な演算子の大分類/記法を列挙する
<br>
・後置単項演算子
<br>
　left-operand operator
<br>
・前置単項演算子
<br>
　operator right-operand
<br>
・中置2項演算子
<br>
　left-operand operator right-operand
<br>
・中置3項演算子の一例（<a href="#span-out-prec-ope-conditional">条件演算子</a>）
<br>
　left-operand-boolean operator1 right-operand1 operator2 right-operand2
<br>
<br>
小分類は<a href="#span-out-prec-ope">演算子のprecedence</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
2項演算子の
<br>
associativity
    </th>
    <td>
<span id="span-out-associativity"></span>
2項演算子のassociativityと付随する留意事項について記述するについて記述する
<br>
<br>
Left-Associativity（左結合）
<br>
+3-5+7-9 || ((((0+3)-5)+7)-9) -> -4
<br>
(1,2)-(3,4)-(5,6) || (((1,2)-(3,4))-(5,6)) -> (-7,-8)
<br>
-(1,1)-(2,2) || (((0,0)-(1,1))-(2,2)) -> (-3,-3)
<br>
(1,2){3,4}(5,6) || (((1,2){3,4})(5,6)) || 11(5,6) -> (55,66)
<br>
・<span class="run">Excel</span>準拠の^演算子は左結合既定
<br>
3^2^3 || ((3^2)^3) -> 729
<br>
・<span class="run">Ver.2.87.32</span>以降、**演算子は右結合固定に変更
<br>
3**2**3 || (3**(2**3)) -> 6561
<br>
・<span class="run">Ver.2.87.32</span>以降、**演算子は^演算子より優先
<br>
3**2^3 || ((3**2)^3) -> 729
<br>
3^2**3 || (3^(2**3)) -> 6561
<br>
<br>
Right-Associativity（右結合）
<br>
+3-5+7-9 || (0+(3-(5+(7-9)))) -> 0
<br>
(1,2)-(3,4)-(5,6) || ((1,2)-((3,4)-(5,6))) -> (3,4)
<br>
-(1,1)-(2,2) || ((0,0)-((1,1)-(2,2))) -> (1,1)
<br>
(1,2){3,4}(5,6) || ((1,2)({3,4}(5,6))) || (1,2)(15,18:20,24) -> (55,66)
<br>
3^2^3 || (3^(2^3)) -> 6561
<br>
3**2**3 || (3**(2**3)) -> 6561
<br>
3**2^3 || ((3**2)^3) -> 729
<br>
3^2**3 || (3^(2**3)) -> 6561
<br>
2**2**2**2 || (2**(2**(2**2))) -> 65536
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-type-ope">中置2項演算子</a>を短絡評価する場合、<a href="#span-out-prec-ope-logical">論理演算子</a>参照
<br>
<br>
<a href="#span-out-type-ope">中置2項演算子</a>のassociativityを選択する場合、<a href="#span-out-option1">外部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算の
<br>
precedence
    </th>
    <td>
<span id="span-out-prec"></span>
演算のprecedenceと付随する留意事項について記述する
<br>
<br>
演算のprecedenceに従って実行文を解釈し、順番に演算を実行する
<br>
<br>
主要なprecedenceを優先順に列挙する
<br>
・<a href="#span-out-SR">区切り文字</a>
<br>
・<a href="#span-out-substitution-equation">式変数への式代入</a>　<a href="#span-in-pass-by-equation">遅延評価</a>保証のため、<a href="#span-out-associativity">左結合</a>
<br>
・<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>　<a href="#span-in-short-circuit">先読み</a>で結合
<br>
・<a href="#span-out-FNc">最上位関数</a>
<br>
・<a href="#span-out-BT">括弧</a>
<br>
・<a href="#span-out-eqns-call">式読出し</a>（call記号=&gt;明示）
<br>
・<a href="#span-out-vars">変数</a>読出し||<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>
<br>
　||<a href="#span-out-eqns-call">式読出し</a>（call記号=&gt;省略）@<a href="#span-out-config-strict">Non-strict-mode</a>
<br>
・<a href="#span-out-FN">関数</a>
<br>
・<a href="#span-out-prec-ope">演算子</a>
<br>
・<a href="#span-out-substitution">変数への代入</a>
<br>
<br>
これに従う演算結果の一例を示す
<br>
max(x=1,(x):2,3)[0]2 || (max((0,1:2,3)[0]))2 || (max(0,1))2 || (1)2 -> 2
<br>
<br>
留意事項を列挙する
<br>
・演算のprecedenceは言語仕様によって異なる
<br>
<br>
詳細は<a href="#span-in-prec">内部仕様</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
method
<br>
演算子
    </th>
    <td>
<span id="span-out-prec-ope-arithmetic-method"></span>
<a href="#span-out-terms">scope変数</a>を直接editするmethod演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.298.72</span>以降、<a href="#span-out-vars">変数</a>のprototype method代替のunshift/push/shift/pop()を追加
<br>
・<span class="clear">Ver.2.301.73</span>以降、致命的な不具合を修正（<a href="#span-out-const-vars">const宣言</a>の<a href="#span-out-vars">変数</a>の操作不可）
<br>
　<a href="#span-out-const-vars">const宣言</a>：参照　⇒　<a href="#span-out-mat">行列</a>iterable
<br>
clear; $A=1; A.pop(); A -> <del>()</del>[MyErr]Invalid const var(A.pop)
<br>
clear; $A=(1,2:3,4); A.push(5); A -> <del>(1,2:3,4,5)</del>[MyErr]Invalid const var(A.push)
<br>
・<span class="run">Ver.2.372.86</span>以降、flip()を追加（in-placeのreverse処理）
<br>
・<span class="run">Ver.2.829.139</span>以降、unshift/push()を拡張（<a href="#span-out-concatenation">行列結合</a>より高速）
<br>
　第1引数：行vector　⇒　<a href="#span-out-mat">行列</a>
<br>
・<span class="run">Ver.2.830.139</span>以降、unshift/push()の<a href="#span-in-pass-by-equation">遅延評価</a>を廃止
<br>
　引数の<a href="#span-in-pass-by-equation">遅延評価</a>：あり　⇒　なし（<a href="#span-out-pass-by-equation">式渡し</a>の判別）
<br>
<br>
.unshift()演算子
<br>
・直接editの場合、<a href="#span-out-literal">NaN</a>を返す
<br>
clear; A=(1,2:3,4); A.unshift(5) -> NaN
<br>
clear; A=(1,2:3,4); A.unshift(5); A -> (5,1,2:3,4)
<br>
clear; A=(1,2:3,4); A.unshift(=&lt;(5,6)); A -> (5,6,1,2:3,4)
<br>
・複数行の操作不可（<span class="clear">Ver.2.300.72</span>以降、<a href="#span-out-log">log表示</a>内容を訂正）
<br>
clear; A=(1,2:3,4); A.unshift(=&lt;(5:6)); A -> [MyErr]Invalid unshift(size<span class="clear">r</span>(arr)=1)
<br>
・行指定の場合、<a href="#span-out-reference-mat-row">行参照</a>を使用
<br>
clear; A=(1,2:3,4); A[1].unshift(5); A -> (1,2:5,3,4)
<br>
・行の反転参照
<br>
clear; A=(1,2:3,4); A[-1].unshift(=&lt;(5,6)); A -> (1,2:5,6,3,4)
<br>
・最初行の追加
<br>
clear; A=(1,2:3,4); A[-3].unshift(5); A -> (5:1,2:3,4)
<br>
・参照不可の場合、error終了
<br>
clear; A=(1,2:3,4); A[2].unshift(5); A -> [MyErr]Invalid reference of array
<br>
clear; A=(1,2:3,4); A[-4].unshift(5); A -> [MyErr]Invalid reference of array
<br>
・列指定不可
<br>
clear; A=(1,2:3,4); A[1][1].unshift(5); A -> [MyErr]Invalid unshift(ref.length&lt;=1)
<br>
・展開済みiterableの操作不可
<br>
clear; (1,2:3.4).unshift(5) -> [MyErr]Invalid ans isFound
<br>
<br>
.shift()演算子
<br>
clear; A=(1,2:3,4); A.shift() -> 1
<br>
clear; A=(1,2:3,4); A.shift(); A -> (2:3,4)
<br>
clear; A=(1,2:3,4); A[0].shift() -> 1
<br>
clear; A=(1,2:3,4); A[0].shift(); A -> (2:3,4)
<br>
clear; A=(1,2:3,4); A[1].shift() -> 3
<br>
clear; A=(1,2:3,4); A[1].shift(); A -> (1,2:4)
<br>
・行要素が空の場合、行数を維持して<a href="#span-out-literal">NaN</a>を返す
<br>
clear; A=[]; A.shift() -> NaN
<br>
clear; A=(1:); A.shift(); A.shift(); A -> (:0)
<br>
clear; A=(1:); A.shift(); A.unshift(2); A -> (2:0)
<br>
・展開済みiterableの操作不可
<br>
clear; (1,2:3.4).shift() -> [MyErr]Invalid ans isFound
<br>
・<a href="#span-out-BT-empty">空括弧</a>のみ有効
<br>
clear; A=(1,2:3,4); A.shift -> [MyErr]Invalid shift()
<br>
clear; A=(1,2:3,4); A.shift(2) -> [MyErr]Invalid shift()
<br>
<br>
.push()演算子
<br>
clear; A=(1,2:3,4); A.push(5) -> NaN
<br>
clear; A=(1,2:3,4); A.push(5); A -> (1,2:3,4,5)
<br>
clear; A=(1,2:3,4); A.push(=&lt;(5,6)); A -> (1,2:3,4,5,6)
<br>
clear; A=(1,2:3,4); A[0].push(5); A -> (1,2,5:3,4)
<br>
・行の反転参照
<br>
clear; A=(1,2:3,4); A[-1].push(=&lt;(5,6)); A -> (1,2:3,4,5,6)
<br>
・最終行の追加
<br>
clear; A=(1,2:3,4); A[2].push(5); A -> (1,2:3,4:5)
<br>
・参照不可の場合、error終了
<br>
clear; A=(1,2:3,4); A[3].push(5); A -> [MyErr]Invalid reference of array
<br>
clear; A=(1,2:3,4); A[-3].push(5); A -> [MyErr]Invalid reference of array
<br>
<br>
.pop()演算子
<br>
clear; A=(1,2:3,4); A.pop() -> 4
<br>
clear; A=(1,2:3,4); A.pop(); A -> (1,2:3)
<br>
clear; A=(1,2:3,4); A.pop(5) || A.pop(=&lt;5) -> [MyErr]Invalid pop()
<br>
clear; A=(1,2:3,4); A[0].pop() -> 2
<br>
clear; A=(1,2:3,4); A[0].pop(); A -> (1:3,4)
<br>
clear; A=(1,2:3,4); A[1].pop() -> 4
<br>
clear; A=(1,2:3,4); A[1].pop(); A -> (1,2:3)
<br>
<br>
.flip()演算子　<span class="run">Ver.2.372.86</span>以降、追加
<br>
clear; A=(1,2:3,4); A.flip() -> NaN
<br>
・全要素の反転
<br>
clear; A=(1,2:3,4:i); A.flip(); A -> (i:4,3:2,1)
<br>
・欠損要素を自動で埋めない
<br>
clear; A=(1,2:3); A.flip(); A -> (3:2,1)
<br>
clear; A=[]; A.flip(); A -> []
<br>
clear; A=(1,2:3,4); A.flip(5) || A.flip(=&lt;5) -> [MyErr]Invalid flip()
<br>
・行指定の反転
<br>
clear; A=(1,2:3,4); A[0].flip(); A -> (2,1:3,4)
<br>
clear; A=(1,2:3,4); A[1].flip(); A -> (1,2:4,3)
<br>
clear; A=(1,2:3,4); A[-1].flip(); A -> (1,2:4,3)
<br>
clear; A=(1,2:3,4); A[2].flip() -> [MyErr]Invalid reference of array
<br>
<br>
test caseを列挙する
<br>
・<span class="clear">Ver.2.301.73</span>以降、評価順を修正
<br>
clear; A.push(=&lt;(A=1,A.push(2))); A -> <del>(1,2,0,NaN)</del>[MyErr]Undef var(A.push)
<br>
clear; A[1].push(=&lt;(A=(1,2,3,4),A.unshift(5),A.push(6),=&lt;A)=&gt;); A
<br>
-> <del>(5,1,2,3,4,6:5,1,2,3,4,6)</del>[MyErr]Undef var(A.push)
<br>
clear; A[1].push(=&lt;[A=(1,2,3,4),A.unshift(5),A.push(6),=&lt;A]=&gt;); A -> [MyErr]Undef var(A.push)
<br>
・<span class="run">Ver.2.300.72</span>以降、prop未定義の場合、error終了
<br>
1.Test() -> <del>[MyErr]Invalid ans isFound</del>[MyErr]Undef .prop(Test)
<br>
<br>
留意事項を列挙する
<br>
・参照を返却する代替として<a href="#span-out-literal">NaN</a>を返す（shift/popを除く）
<br>
・<a href="#span-out-vars">変数</a>読出し同等の<a href="#span-out-prec">演算のprecedence</a>
<br>
・宣言の場合、操作後の内容を反映して<a href="#span-out-log">log表示</a>（出力用の複製なし）
<br>
clear; A=(1,2:3,4); A.pop() -> A=(1,2:3); 4
<br>
・pollution disabled
<br>
clear; A=(1,2:3,4); [,A.push(-1)] -> [MyErr]Undef var(A.push)
<br>
・chain不可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算子の
<br>
precedence
    </th>
    <td>
<span id="span-out-prec-ope"></span>
演算子のprecedenceと付随する留意事項について記述する
<br>
<br>
演算子のprecedenceを優先順に列挙する
<br>
・<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>　<span class="run">Ver.2.157.38</span>以降、追加
<br>
　・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
　　・論理ANDs||ORs演算子 &amp;&amp;&amp; || |||
<br>
　　　||<a href="#span-out-prec-ope-logical-short-circuit-literal">ANDss||ORss演算子</a> &amp;&amp;&amp;&amp; || ||||　<span class="run">Ver.2.196.46</span>以降、追加
<br>
・<a href="#span-out-prec-ope-arithmetic">算術演算子</a>
<br>
　・<a href="#span-out-type-ope">後置単項演算子</a>　<span class="run">Ver.2.192.44</span>以降、統合（優先順位なしの<a href="#span-out-associativity">左結合</a>）
<br>
　　・<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a> . || '　<span class="run">Ver.2.192.44</span>以降、追加
<br>
　　　||<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>　<span class="run">Ver.2.214.49</span>以降、追加
<br>
　　<del>・</del>||<a href="#span-out-com">虚数単位</a>演算子 i
<br>
　　<del>・</del>||<a href="#span-out-FN-fact">階乗</a>演算子 ! || !!...
<br>
　・<a href="#span-out-type-ope">前置単項演算子</a>　<span class="run">Ver.2.752.113</span>以降、追加
<br>
　　・<a href="#span-out-prec-ope-arithmetic-size">size演算子</a> # || ## || ###　<span class="run">Ver.2.752.113</span>以降、追加
<br>
　・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
　　・べき乗演算子 **　<span class="run">Ver.2.87.32</span>以降、<a href="#span-out-associativity">右結合</a>固定に変更
<br>
　　・べき乗演算子 ^　<span class="run">Ver.2.87.32</span>以降、**演算子の下位に分離
<br>
　　<del>・剰余演算子 %</del>　<span class="run">Ver.2.87.32</span>以降、除算||乗算演算子に統合
<br>
　　・<span class="condition">四則演算子</span>
<br>
　　　・<a href="#span-out-BRmo">記号省略乗算</a>
<br>
　　　・剰余||整数商||除算||乗算演算子 % || %% || <span class="condition">/ || *</span>　<span class="run">Ver.2.87.32</span>以降、<a href="#span-out-prec-ope-arithmetic-mod">整数商</a>を追加
<br>
　　　・減算||加算演算子 <span class="condition">- || +</span>
<br>
　・<a href="#span-out-type-ope">前置単項演算子</a>
<br>
　　・減算-||加算+の符号は同種の<a href="#span-out-type-ope">中置2項演算子</a>と区別しない
<br>
・<a href="#span-out-prec-ope-bit">bit演算子</a>
<br>
　・<a href="#span-out-type-ope">前置単項演算子</a>
<br>
　　・bit not演算子 ~　<span class="run">Ver.2.71.28</span>以降、追加
<br>
　・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
　　・bit shift演算子 &lt;&lt; || &gt;&gt; || &gt;&gt;&gt;
<br>
　　・bit and演算子 &amp;
<br>
　　・bit xor演算子 @
<br>
　　・bit or演算子 |
<br>
・<a href="#span-out-prec-ope-comparison">比較演算子</a>
<br>
　・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
　　・大小比較演算子 &lt; || &lt;= || &gt;= || &gt;
<br>
・<a href="#span-out-prec-ope-relational">関係演算子</a>
<br>
　・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
　　・<span class="selection">厳密等価</span>||等価||不等価演算子 <span class="selection">===</span> || == || &lt;&gt;　<span class="selection">Ver.2.167.40</span>以降、追加
<br>
　　　||厳密不等価演算子 &lt;&lt;&gt;&gt;　<span class="run">Ver.2.225.52</span>以降、追加
<br>
　　　||<a href="#span-out-mat">行列</a>の厳密等価演算子 ====　<span class="run">Ver.2.847.153</span>以降、追加
<br>
　　　||<a href="#span-out-mat">行列</a>の厳密不等価演算子 &lt;&lt;&lt;&gt;&gt;&gt　<span class="run">Ver.2.847.153</span>以降、追加
<br>
・<a href="#span-out-prec-ope-logical">論理演算子</a>　<span class="run">Ver.2.59.26</span>以降、追加
<br>
　・<a href="#span-out-type-ope">前置単項演算子</a>
<br>
　　・<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a> ~~　<span class="run">Ver.2.81.32</span>以降、追加
<br>
　・<a href="#span-out-type-ope">中置2項演算子</a>
<br>
　　・論理AND演算子 &amp;&amp;
<br>
　　・<a href="#span-out-prec-ope-logical-xor">論理XOR演算子</a> @@　<span class="run">Ver.2.168.41</span>以降、追加
<br>
　　・論理OR演算子 ||
<br>
<br>
留意事項を列挙する
<br>
・<span class="run">Ver.2.192.44</span>以降、<a href="#span-out-type-ope">後置単項演算子</a>は優先順位なしの<a href="#span-out-associativity">左結合</a>
<br>
・<a href="#span-out-type-ope">前置単項演算子</a>の<a href="#span-out-prec-ope-bit">bit not</a>||<a href="#span-out-prec-ope-logical-not">論理NOT</a>は記号共通（~||~~）のため、<a href="#span-out-associativity">左結合</a>（連続する場合、<a href="#span-out-BT">括弧</a>を明示）
<br>
・演算子のprecedenceは言語仕様によって異なる
<br>
<br>
演算子のprecedenceを変更する場合、<a href="#span-out-config">内部option</a>参照
<br>
・<span class="run">Ver.2.157.38</span>以降、追加の<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を除く
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
算術演算子
    </th>
    <td>
<span id="span-out-prec-ope-arithmetic"></span>
算術演算子と付随する留意事項について記述する
<br>
<br>
減算と加算は区別せず、<a href="#span-out-associativity">2項演算子のassociativity</a>に従って演算する
<br>
<a href="#span-out-option1">LA既定</a>時　+3-5+7-9 || ((((0+3)-5)+7)-9) -> -4
<br>
<a href="#span-out-option1">RA選択</a>時　+3-5+7-9 || (0+(3-(5+(7-9)))) -> 0
<br>
<br>
除算と乗算は区別せず、<a href="#span-out-associativity">2項演算子のassociativity</a>に従って演算する
<br>
<a href="#span-out-option1">LA既定</a>時　1*2/3*4/5 || ((((1*2)/3)*4)/5) -> 0.5333333333333333
<br>
<a href="#span-out-option1">RA選択</a>時　1*2/3*4/5 || (1*(2/(3*(4/5)))) -> 0.8333333333333333
<br>
<br>
<span class="run">Ver.2.87.32</span>以降、<a href="#span-out-prec-ope-arithmetic-mod">剰余・整数商</a>の<a href="#span-out-prec-ope">演算子のprecedence</a>を除算と乗算に統合する
<br>
<a href="#span-out-option1">LA既定</a>時　-5%(-4)%%3/2*1 || (0-((((5%(-4))%%3)/2)*1)) -> 0
<br>
<a href="#span-out-option1">RA選択</a>時　-5%(-4)%%3/2*1 || (0-(5%((-4)%%(3/(2*1))))) -> -1
<br>
<br>
<a href="#span-out-BRmo">記号省略乗算</a>は除算より優先する
<br>
<a href="#span-out-option2">記号省略乗算優先既定</a>時　1/2(2) || 1/(2(2)) -> 0.25
<br>
　　　　<a href="#span-out-option2">除算優先選択</a>時　1/2(2) || (1/2)(2) -> 1
<br>
<br>
べき乗の<a href="#span-out-type-ope">中置2項演算子</a>は四則演算子より優先する
<br>
-2^2 || (0-(2^2)) -> -4
<br>
-3**2 || (0-(3**2)) -> -8.999999999999998
<br>
<br>
<a href="#span-out-type-ope">後置単項演算子</a>は<a href="#span-out-type-ope">中置2項演算子</a>より優先する
<br>
3^2! || 3^(2!) || 3^(2*1) -> 8.999999999999998
<br>
2*3!! || 2*(3!!) || 2*(3*1) -> 6
<br>
・<a href="#span-out-FN-fact">階乗</a>のoperandは0を含む自然数のみ対応
<br>
・Γ(1)=1より、0!=1
<br>
0! || 0!! || 0!!! -> 1
<br>
!!! || !! || ! || 0! -> 1
<br>
3.3!! || 3!! || 3*1 -> 3
<br>
(3)!!! || 3!!! || 3 -> 3
<br>
-(3)! || (0-(3!)) || (0-(3*2*1)) -> -6
<br>
・<a href="#span-out-FN-fact">階乗</a>のoperandが負の場合、未定義で<del>1を返す<span class="clear">Ver.2.69.28</span>以降、0を返す</del><span class="clear">Ver.2.170.42</span>以降、<span class="clear"><a href="#span-out-literal">false</a></span>を返す
<br>
<span class="clear">(-3)!</span> || ((-3)!) -> false
<br>
<span class="clear">(-3)!!</span> || ((-3)!!) -> false
<br>
(-3)*!! || (-3)*(0!!) -> -3
<br>
-3*! || (0-(3*(0!))) -> -3
<br>
・<a href="#span-out-com">虚数単位</a>iは<a href="#span-out-type-ope">後置単項演算子</a>とする
<br>
1/2i || 1/(2i) -> -0.5i
<br>
<br>
算術演算子は<a href="#span-out-prec-ope-bit">bit演算子</a>より優先する
<br>
-0xff&gt;&gt;2 || (-0xff)&gt;&gt;2 || ((0-255)&gt;&gt;2) -> -64
<br>
-0xff&gt;&gt;1@1 || (-0xff&gt;&gt;1)@1 || ((0-128)@1) -> -127
<br>
<br>
<a href="#span-out-BRmo">記号省略乗算</a>を許容しない場合、<a href="#span-out-config">内部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
dot演算子
    </th>
    <td>
<span id="span-out-prec-ope-arithmetic-dot"></span>
dot演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.192.44</span>以降、転置行列関数を代替するdot演算子を追加
<br>
・<a href="#span-out-type-ope">後置単項演算子</a>の<a href="#span-out-prec-ope">演算子のprecedence</a>を統合（左から順次処理）
<br>
・<span class="run">Ver.2.214.49</span>以降、dot演算子を拡張して<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>を追加
<br>
<br>
<a href="#span-out-FNm-trans">trans行列関数</a>代替演算子.
<br>
(1,2i:3,4i:-5i). || trans(1,2i:3,4i:-5i) -> (1,3,-5i:2i,4i,0)
<br>
A=(1,2i:3,4i:-5i); A. -> (1,3,-5i:2i,4i,0)
<br>
・連続転置
<br>
A=(1,2i:3,4i:-5i); A.. -> (1,2i:3,4i:-5i,0)
<br>
・<a href="#span-out-type-ope">後置単項演算子</a>は左から順次処理
<br>
A=(1,2i:3,4i:-5i); A.i! -> (1,1,120:false,false,1)
<br>
A=(1,2i:3,4i:-5i); A.!i -> (i,6i,i:i,i,i)
<br>
A=(1,2i:3,4i:-5i); (A)i!. -> (1,1,120:false,false,0)
<br>
A=(1,2i:3,4i:-5i); A!i. -> (i,6i,i:i,i,0)
<br>
・小数点と判別されない場合
<br>
1..2 || (((1).).)2 || 1*2 -> 2
<br>
・null-leftの場合、error終了
<br>
..2 -> [MyErr]Invalid null.
<br>
・<a href="#span-out-csv-format">csv-format</a>判定の場合
<br>
.2 || (0.2) -> 0.2
<br>
7. || (7.0) -> 7
<br>
<br>
<a href="#span-out-FNm-trans">htrans行列関数</a>代替演算子'
<br>
(1,2i:3,4i:-5i)' || htrans(1,2i:3,4i:-5i) -> (1,3,5i:-2i,-4i,0)
<br>
A=(1,2i:3,4i:-5i); A' -> (1,3,5i:-2i,-4i,0)
<br>
A=(1,2i:3,4i:-5i); A'' -> (1,2i:3,4i:-5i,0)
<br>
A=(1,2i:3,4i:-5i); A'i! -> (1,1,false:2,24,1)
<br>
A=(1,2i:3,4i:-5i); A'!i -> (i,6i,i:i,i,i)
<br>
A=(1,2i:3,4i:-5i); (A)i!' -> (1,1,120:false,false,0)
<br>
A=(1,2i:3,4i:-5i); A!i' -> (-i,-6i,-i:-i,-i,0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
iterator
<br>
演算子
    </th>
    <td>
<span id="span-out-prec-ope-arithmetic-ite"></span>
iterator演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.214.49</span>以降、Nativeの<a href="#span-out-FNh">高階関数</a>を代替するiterator演算子を追加
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>付の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
・<span class="run">Ver.2.217.50</span>以降、<a href="#span-out-num-NaN">欠損値</a>の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
1.filter((x)=&lt;false) -> <del>(false:false:false)</del>(NaN:NaN:NaN)
<br>
・<span class="clear">Ver.2.226.56</span>以降、dummy変数が<a href="#span-out-terms">scope変数</a>に残存する不具合を修正
<br>
・<span class="run">Ver.2.257.59</span>以降、iterator対象を拡張
<br>
　iterator対象：<a href="#span-out-vars">変数</a>　⇒　<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
<br>
・<span class="run">Ver.2.279.65</span>以降、第1引数の動的判別（記号=&lt;の有無のみ）@<a href="#span-out-config-strict">Non-strict-mode</a>に対応
<br>
clear; A=[(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x]; A.map((f)=&lt;f(3)) -> (3,-3,9)
<br>
clear; [(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x].map((f)=&lt;f(3)) -> (3,-3,9)
<br>
<br>
.map()演算子
<br>
clear; f(x)=&lt;x*2; (1,2:3,4).map(=&lt;f) -> (2,4:6,8)
<br>
clear; (1,2:3,4).map((x)=&lt;x*2) -> (2,4:6,8)
<br>
clear; A=(1,2:3,4); A.map((x)=&lt;x*2) -> (2,4:6,8)
<br>
clear; A=(1,2:3,4); A.map((x,i_,j_,self_cloned)=&lt;self_cloned[i_][j_]*2) -> (2,4:6,8)
<br>
・self_clonedは<a href="#span-out-development-problems-share">参照非共有</a>
<br>
clear; A=(1,2:3,4); A.map((x,i_,j_)=&lt;A[i_][j_]*2) -> (2,4:6,8)
<br>
<br>
.filter()演算子
<br>
clear; f(x)=&lt;x&gt;2; (1,2:3,4).filter(=&lt;f) -> (3,4:1,1:0,1)
<br>
clear; (1,2:3,4).filter((x)=&lt;x&gt;2) -> (3,4:1,1:0,1)
<br>
clear; A=(1,2:3,4); A.filter((x)=&lt;x&gt;2) -> (3,4:1,1:0,1)
<br>
clear; A=(1,2:3,4); A.filter((x,i_,j_,self_cloned)=&lt;self_cloned[i_][j_]&gt;2) -> (3,4:1,1:0,1)
<br>
clear; A=(1,2:3,4); A.filter((x,i_,j_)=&lt;A[i_][j_]&gt;2) -> (3,4:1,1:0,1)
<br>
clear; A=(1,2:3,4); mat2coo(A)-A.filter((x)=&lt;x) -> (0,0,0,0:1,1,1,1:1,1,1,1)
<br>
clear; A=(0,2:3,4); mat2coo(A)-A.filter((x)=&lt;x&lt;&gt;0) -> (0,0,0:1,1,1:1,1,1)
<br>
<br>
.filter0()演算子　<span class="run">Ver.2.263.62</span>以降、追加
<br>
clear; A=(1,2:3,4); (A.filter((x)=&lt;x&gt;2))[0] || A.filter0((x)=&lt;x&gt;2) -> (3,4)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-prec-ope">演算子のprecedence</a>：<a href="#span-out-type-ope">後置単項演算子</a>同等
<br>
・objectのpropertyは未実装
<br>
・引数不正の場合、error終了
<br>
clear; (1,2:3,4).map() -> [MyErr]Invalid .map(null)
<br>
・引数の<a href="#span-out-eqns-args">arguments</a>省略不可
<br>
clear; (1,2:3,4).map(()=&lt;x*2) -> [MyErr]Invalid binary operation
<br>
clear; x=1; (1,2:3,4).map(()=&lt;x*2) -> [MyErr]Invalid binary operation
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
size演算子
    </th>
    <td>
<span id="span-out-prec-ope-arithmetic-size"></span>
size演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.752.113</span>以降、<a href="#span-out-FNm-size">size行列関数</a>を代替する<a href="#span-out-type-ope">前置単項演算子</a>のsize演算子を追加
<br>
・#演算子：sizer(right)
<br>
・##演算子：sizec(right)
<br>
・###演算子：Nelements（<a href="#span-out-mat-blank">欠損要素</a>以外の要素数）
<br>
<br>
size演算子
<br>
#(1,2,3:4,5) -> 2
<br>
##(1,2,3:4,5) -> 3
<br>
###(1,2,3:4,5) -> 5
<br>
#(1,2,3:4,5). || #((1,2,3:4,5).) || #trans(1,2,3:4,5) -> 3
<br>
A=(1,2,3:4,5); #A,#(1,2,3:4,5),sizer(A),##A,##(1,2,3:4,5),sizec(A),###A -> (2,2,2,3,3,3,5)
<br>
A=(1,2,3:4,5); #A.,#(1,2,3:4,5).,sizer(A.),##A.,##(1,2,3:4,5).,sizec(A.),###A. -> (3,3,3,2,2,2,6)
<br>
A=(1,2,3:4,5); #A..,#(1,2,3:4,5)..,sizer(A..),##A..,##(1,2,3:4,5)..,sizec(A..),###A.. -> (2,2,2,3,3,3,6)
<br>
#1,##2,###3 -> (1,1,1)
<br>
####1 -> [MyErr]Invalid ####
<br>
## -> [MyErr]Invalid #null
<br>
・<span class="run">Ver.2.756.113</span>以降、<a href="#span-out-mat-empty">空行列</a>に対応
<br>
###[],##[],#[],#() -> <del>[MyErr]Invalid () operation</del>(0,0,0,0)
<br>
・<a href="#span-out-eqns">式変数</a>
<br>
clear; f=&lt;1; #f -> [MyErr]Invalid #null
<br>
clear; f=&lt;1; #(f) || size(f) -> 1
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-prec-ope">演算子のprecedence</a>：<a href="#span-out-type-ope">後置単項演算子</a>の直後
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
剰余・
<br>
整数商演算子
    </th>
    <td>
<span id="span-out-prec-ope-arithmetic-mod"></span>
剰余・整数商演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.87.32</span>以降、<a href="#span-out-prec-ope">整数商演算子</a>を追加
<br>
<br>
剰余
<br>
3.2%2 -> 1.2000000000000002
<br>
-3.2%2 -> -1.2000000000000002
<br>
(-3.2)%2 -> -1.2000000000000002
<br>
3.2%(-2) -> 1.2000000000000002
<br>
-3.2%(-2) -> -1.2000000000000002
<br>
(-3.2)%(-2) -> -1.2000000000000002
<br>
3.2%1.2 -> 0.8000000000000003
<br>
2.2i%1 -> 0
<br>
2.2%i -> NaN
<br>
<br>
整数商
<br>
3.2%%2 -> 1
<br>
-3.2%%2 -> -1
<br>
(-3.2)%%2 -> -1
<br>
3.2%%(-2) -> -1
<br>
-3.2%%(-2) -> 1
<br>
(-3.2)%%(-2) -> 1
<br>
3.2%%1.2 -> 2
<br>
2.2i%%1 -> 0
<br>
2.2%%i -> Infinity
<br>
<br>
留意事項を列挙する
<br>
・operandは実数のみ対応
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
bit演算子
    </th>
    <td>
<span id="span-out-prec-ope-bit"></span>
bit演算子と付随する留意事項について記述する
<br>
<br>
bit or
<br>
・<a href="#span-out-float">単精度32bit</a>の符号あり整数
<br>
0|0 -> 0
<br>
0|1 -> 1
<br>
1|0 -> 1
<br>
1|1 -> 1
<br>
・<a href="#span-out-comment">comment文</a>に下位8桁のbit列を示す
<br>
1|1  <span class="selection">// 00000001|00000001->00000001</span> -> 1
<br>
1|2  <span class="selection">// 00000001|00000010->00000011</span> -> 3
<br>
2|2  <span class="selection">// 00000010|00000010->00000010</span> -> 2
<br>
2|-2  <span class="selection">// 00000010|11111110->11111110</span> -> -2
<br>
2|-3  <span class="selection">// 00000010|11111101->11111111</span> -> -1
<br>
1|-3  <span class="selection">// 00000001|11111101->11111101</span> -> -3
<br>
1|-2  <span class="selection">// 00000001|11111110->11111111</span> -> -1
<br>
1|0.5  <span class="selection">// 00000001|00000000->00000001</span> -> 1
<br>
1.1|0.1  <span class="selection">// 00000001|00000000->00000001</span> -> 1
<br>
0|0.1  <span class="selection">// 00000000|00000000->00000000</span> -> 0
<br>
<br>
bit xor
<br>
・<a href="#span-out-float">単精度32bit</a>の符号あり整数
<br>
0@0 -> 0
<br>
0@1 -> 1
<br>
1@0 -> 1
<br>
1@1 -> 0
<br>
・<a href="#span-out-comment">comment文</a>に下位8桁のbit列を示す
<br>
1@2  <span class="selection">// 00000001^00000010->00000011</span> -> 3
<br>
2@-2  <span class="selection">// 00000010^11111110->11111100</span> -> -4
<br>
<br>
bit and
<br>
・<a href="#span-out-float">単精度32bit</a>の符号あり整数
<br>
0&amp;0 -> 0
<br>
0&amp;1 -> 0
<br>
1&amp;0 -> 0
<br>
1&amp;1 -> 1
<br>
・<a href="#span-out-comment">comment文</a>に下位8桁のbit列を示す
<br>
1&amp;1  <span class="selection">// 00000001&amp;00000001->00000001</span> -> 1
<br>
1&amp;2  <span class="selection">// 00000001&amp;00000010->00000000</span> -> 0
<br>
2&amp;2  <span class="selection">// 00000010&amp;00000010->00000010</span> -> 2
<br>
2&amp;-2  <span class="selection">// 00000010&amp;11111110->00000010</span> -> 2
<br>
2&amp;-3  <span class="selection">// 00000010&amp;11111101->00000000</span> -> 0
<br>
1&amp;-3  <span class="selection">// 00000001&amp;11111101->00000001</span> -> 1
<br>
1&amp;-2  <span class="selection">// 00000001&amp;11111110->00000000</span> -> 0
<br>
1&amp;0.5  <span class="selection">// 00000001&amp;00000000->00000000</span> -> 0
<br>
1.1&amp;0.1  <span class="selection">// 00000001&amp;00000000->00000000</span> -> 0
<br>
0&amp;0.1  <span class="selection">// 00000000&amp;00000000->00000000</span> -> 0
<br>
<br>
bit shift
<br>
・<a href="#span-out-float">単精度32bit</a>の符号あり整数
<br>
-round(pow(2,31)) -> -2147483648
<br>
・<a href="#span-out-comment">comment文</a>に32桁のbit列を示す
<br>
-1&lt;&lt;31 || -1&lt;&lt;63  <span class="selection">// 10000000000000000000000000000000</span> -> -2147483648
<br>
-1&lt;&lt;30 || -1&lt;&lt;62  <span class="selection">// 11000000000000000000000000000000</span> -> -1073741824
<br>
-1&lt;&lt;20 || -1&lt;&lt;52  <span class="selection">// 11111111111100000000000000000000</span> -> -1048576
<br>
-1&lt;&lt;10 || -1&lt;&lt;42  <span class="selection">// 11111111111111111111110000000000</span> -> -1024
<br>
-1&lt;&lt;3 || -1&lt;&lt;35  <span class="selection">// 11111111111111111111111111111000</span> -> -8
<br>
-1&lt;&lt;2 || -1&lt;&lt;34  <span class="selection">// 11111111111111111111111111111100</span> -> -4
<br>
-1&lt;&lt;1 || -1&lt;&lt;33  <span class="selection">// 11111111111111111111111111111110</span> -> -2
<br>
-1&gt;&gt;0 || -1&gt;&gt;32  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
-8&gt;&gt;0 || -8&gt;&gt;32  <span class="selection">// 11111111111111111111111111111000</span> -> -8
<br>
-8&gt;&gt;1 || -8&gt;&gt;33  <span class="selection">// 11111111111111111111111111111100</span> -> -4
<br>
-8&gt;&gt;2 || -8&gt;&gt;34  <span class="selection">// 1111111111111111111111111111110</span> -> -2
<br>
-8&gt;&gt;3 || -8&gt;&gt;35  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
-1&gt;&gt;3 || -1&gt;&gt;35  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
-1&gt;&gt;10 || -1&gt;&gt;42  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
-1&gt;&gt;20 || -1&gt;&gt;52  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
-1&gt;&gt;30 || -1&gt;&gt;62  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
-1&gt;&gt;31 || -1&gt;&gt;63  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
・<a href="#span-out-float">単精度32bit</a>の符号なし整数
<br>
round(pow(2,32)-1) -> 4294967295
<br>
・<a href="#span-out-comment">comment文</a>に32桁のbit列を示す
<br>
-1&gt;&gt;&gt;0 || -1&gt;&gt;&gt;32  <span class="selection">// 11111111111111111111111111111111</span> -> 4294967295
<br>
-8&gt;&gt;&gt;0 || -8&gt;&gt;&gt;32  <span class="selection">// 11111111111111111111111111111000</span> -> 4294967288
<br>
-8&gt;&gt;&gt;1 || -8&gt;&gt;&gt;33  <span class="selection">// 01111111111111111111111111111100</span> -> 2147483644
<br>
-8&gt;&gt;&gt;2 || -8&gt;&gt;&gt;34  <span class="selection">// 0011111111111111111111111111110</span> -> 1073741822
<br>
-8&gt;&gt;&gt;3 || -8&gt;&gt;&gt;35  <span class="selection">// 00011111111111111111111111111111</span> -> 536870911
<br>
-1&gt;&gt;&gt;3 || -1&gt;&gt;&gt;35  <span class="selection">// 00011111111111111111111111111111</span> -> 536870911
<br>
-1&gt;&gt;&gt;10 || -1&gt;&gt;&gt;42  <span class="selection">// 00000000001111111111111111111111</span> -> 4194303
<br>
-1&gt;&gt;&gt;20 || -1&gt;&gt;&gt;52  <span class="selection">// 00000000000000000000111111111111</span> -> 4095
<br>
-1&gt;&gt;&gt;30 || -1&gt;&gt;&gt;62  <span class="selection">// 00000000000000000000000000000011</span> -> 3
<br>
-1&gt;&gt;&gt;31 || -1&gt;&gt;&gt;63  <span class="selection">// 00000000000000000000000000000001</span> -> 1
<br>
<br>
bit not
<br>
・<a href="#span-out-float">単精度32bit</a>の符号あり整数
<br>
・<a href="#span-out-comment">comment文</a>に32桁のbit列を示す
<br>
~0  <span class="selection">// 11111111111111111111111111111111</span> -> -1
<br>
~1  <span class="selection">// 11111111111111111111111111111110</span> -> -2
<br>
~-1 || (~(-1))  <span class="selection">// 00000000000000000000000000000000</span> -> 0
<br>
~-2 || (~(-2))  <span class="selection">// 00000000000000000000000000000001</span> -> 1
<br>
~-4 || (~(-4))  <span class="selection">// 00000000000000000000000000000011</span> -> 3
<br>
~-8 || (~(-8))  <span class="selection">// 00000000000000000000000000000111</span> -> 7
<br>
~3  <span class="selection">// 11111111111111111111111111111100</span> -> -4
<br>
~7  <span class="selection">// 11111111111111111111111111111000</span> -> -8
<br>
~2147483647  <span class="selection">// 10000000000000000000000000000000</span> -> -2147483648
<br>
~2147483648  <span class="selection">// 01111111111111111111111111111111</span> -> 2147483647
<br>
~2147483649  <span class="selection">// 01111111111111111111111111111110</span> -> 2147483646
<br>
~-2147483647 || (~(-2147483647))  <span class="selection">// 01111111111111111111111111111110</span> -> 2147483646
<br>
~-2147483648 || (~(-2147483648))  <span class="selection">// 01111111111111111111111111111111</span> -> 2147483647
<br>
~-2147483649 || (~(-2147483649))  <span class="selection">// 10000000000000000000000000000000</span> -> -2147483648
<br>
~-1&gt;&gt;&gt;31 || ((~(-1))&gt;&gt;&gt;31)  <span class="selection">// 00000000000000000000000000000000</span> -> 0
<br>
~(-1&gt;&gt;&gt;31) || (~(-1&gt;&gt;&gt;31))  <span class="selection">// 11111111111111111111111111111110</span> -> -2
<br>
<br>
bit演算子は<a href="#span-out-prec-ope-comparison">比較演算子</a>・<a href="#span-out-prec-ope-relational">関係演算子</a>より優先する
<br>
5&lt;2|4 || 5&lt;(2|4) || 5&lt;6 -> 1
<br>
4==2|4 || 4==(2|4) || 4==6 -> 0
<br>
<br>
留意事項を列挙する
<br>
・operandは実数のみ対応
<br>
・operandは<a href="#span-out-float">倍精度64bit</a>から<a href="#span-out-float">単精度32bit</a>に変換される
<br>
・bit演算子は短絡評価しない
<br>
<br>
符号なし整数の場合、<a href="../70_decimal/index.html">n進数⇒m進数変換</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
比較演算子
    </th>
    <td>
<span id="span-out-prec-ope-comparison"></span>
比較演算子と付随する留意事項について記述する
<br>
<br>
比較演算子は<a href="#span-out-prec-ope-relational">関係演算子</a>より優先する
<br>
1==2>1 || 1==(2>1) || 1==1 -> 1
<br>
<br>
留意事項を列挙する
<br>
・operandは実数のみ対応
<br>
・operandに虚数を入力した場合、0と判別される
<br>
i&lt;&lt;2 || real(i)&lt;&lt;2 || 0&lt;&lt;2 -> 0
<br>
2i>i || real(2i)>real(i) || 0>0 -> 0
<br>
・多重比較不可
<br>
-3&lt;-2&lt;-1  <span class="selection">// NG</span> -> 0
<br>
・<a href="#span-out-prec-ope-logical">論理演算子</a>を使用
<br>
-3&lt;-2&amp;&amp;-2&lt;-1 -> 1
<br>
・<a href="#span-out-prec-ope-bit">bit演算子</a>を使用
<br>
(-3&lt;-2)&amp;(-2&lt;-1) -> 1
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
<br>
<br>
比較演算子を代替する関数は<a href="#span-out-FN-ope">演算子代替関数</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
関係演算子
    </th>
    <td>
<span id="span-out-prec-ope-relational"></span>
関係演算子と付随する留意事項について記述する
<br>
<br>
等価演算子
<br>
false==0 -> 1
<br>
true==1 -> 1
<br>
・<span class="run">Ver.2.167.40</span>以降、厳密等価演算子を追加
<br>
false===0 -> 0+O(1e+0)
<br>
false===FALSE -> 1
<br>
true===1 -> 0+O(1e+0)
<br>
true===TRUE -> 1
<br>
・虚数=0扱い
<br>
i===0 -> 1
<br>
2i===0 -> 1
<br>
i===false -> 0+O(1e+0)
<br>
・<span class="run">Ver.2.847.153</span>以降、<a href="#span-out-mat">行列</a>の厳密等価演算子を追加
<br>
A=(1,2:3i); B=-A; A====A,A====B,A====-B,A..====-B -> (true,false,false,true)
<br>
<br>
不等価演算子
<br>
NaN&lt;&gt;NaN -> true
<br>
false&lt;&gt;false -> false
<br>
0&lt;&gt;0 -> false
<br>
false&lt;&gt;0 -> false
<br>
true&lt;&gt;1 -> false
<br>
・<span class="run">Ver.2.225.52</span>以降、厳密不等価演算子を追加
<br>
NaN&lt;&lt;&gt;&gt;NaN -> true
<br>
false&lt;&lt;&gt;&gt;false -> false
<br>
0&lt;&lt;&gt;&gt;0 -> false
<br>
false&lt;&lt;&gt;&gt;0 -> true+O(1e+0)
<br>
true&lt;&lt;&gt;&gt;1 -> true+O(1e+0)
<br>
・<span class="run">Ver.2.847.153</span>以降、<a href="#span-out-mat">行列</a>の厳密不等価演算子を追加
<br>
A=(1,2:3i); B=-A; A&lt;&lt;&lt;&gt;&gt;&gt;A,A&lt;&lt;&lt;&gt;&gt;&gt;B,A&lt;&lt;&lt;&gt;&gt;&gt;-B,A..&lt;&lt;&lt;&gt;&gt;&gt;-B -> (false,true,true,false)
<br>
・<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a>||<a href="#span-out-FN-ope">関数</a>を使用
<br>
~~false===0 || ~~(false===0) -> 1+O(1e+0)
<br>
sne(false,0) -> 1+O(1e+0)
<br>
<br>
論理ORをbit orで代替する場合、<a href="#span-out-BT">括弧</a>を明示||<a href="#span-out-FN-ope">関数</a>を使用
<br>
・1==1 || 1==-1
<br>
<a href="#span-out-option1">LA既定</a>時　1==1|1==-1 || 1==(1|1)==-1 || (1==1)==-1 || 1==-1  <span class="selection">// NG</span> -> 0
<br>
<a href="#span-out-option1">RA選択</a>時　1==1|1==-1 || 1==(1|1)==-1 || 1==(1==-1) || 1==0  <span class="selection">// NG</span> -> 0
<br>
(1==1)|(1==-1) || eq(1,1)|eq(1,-1) || 1|0 -> 1
<br>
・<span class="run">Ver.2.59.26</span>以降、<a href="#span-out-prec-ope-logical">論理演算子</a>を追加
<br>
1==1||1==-1 || (1==1)||(1==-1) || 1||0 -> 1
<br>
<br>
論理ANDをbit andで代替する場合、<a href="#span-out-BT">括弧</a>を明示||<a href="#span-out-FN-ope">関数</a>を使用
<br>
・1==1 &amp;&amp; 1==-1
<br>
<a href="#span-out-option1">LA既定</a>時　1==1&amp;1==-1 || 1==(1&amp;1)==-1 || (1==1)==-1 || 1==-1  <span class="selection">// NG</span> -> 0
<br>
<a href="#span-out-option1">RA選択</a>時　1==1&amp;1==-1 || 1==(1&amp;1)==-1 || 1==(1==-1) || 1==0  <span class="selection">// NG</span> -> 0
<br>
(1==1)&amp;(1==-1) || eq(1,1)&amp;eq(1,-1) || 1&amp;0 -> 0
<br>
・<span class="run">Ver.2.59.26</span>以降、<a href="#span-out-prec-ope-logical">論理演算子</a>を追加
<br>
1==1&amp;&amp;1==-1 || (1==1)&amp;&amp;(1==-1) || 1&amp;&amp;0 -> 0
<br>
<br>
留意事項を列挙する
<br>
・operandは実数のみ対応
<br>
・operandに虚数を入力した場合、0と判別される
<br>
i==0 || real(i)==0 -> 1
<br>
・多重比較不可
<br>
-2==-2==-2  <span class="selection">// NG</span> -> 0
<br>
・<a href="#span-out-prec-ope-logical">論理演算子</a>を使用
<br>
-2==-2&amp;&amp;-2==-2 -> 1
<br>
・<a href="#span-out-prec-ope-bit">bit演算子</a>を使用
<br>
(-2==-2)&amp;(-2==-2) -> 1
<br>
・operandに行列を入力した場合、<a href="#span-out-FNm-last">最終要素</a>を取り出す
<br>
・<a href="#span-out-FNm-last">last行列関数</a>を使用
<br>
(1,2)==(3,2) || last(1,2)==last(3,2) || 2==2 -> 1
<br>
・代入と判別されないequal記号=は、右辺移項の<a href="#span-out-type-ope">中置2項演算子</a>として扱う
<br>
2!=1 || 2=1 || =1-2 -> -1
<br>
・よってnot equal関係演算子は!=の代わりに&lt;&gt;を使用する
<br>
1&lt;&gt;2 -> 1
<br>
・次のような場合、<a href="#span-out-FN-ope">関数</a>で代替する方が間違いが少ない
<br>
2&lt;(=2) || lt(2,=2) -> 0
<br>
2&lt;=2 -> 1
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
<br>
<br>
関係演算子を代替する関数は<a href="#span-out-FN-ope">演算子代替関数</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
論理NOT
<br>
演算子
    </th>
    <td>
<span id="span-out-prec-ope-logical-not"></span>
論理NOT演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.81.32</span>以降、論理NOT演算子を追加
<br>
~~0 -> 1
<br>
~~1 -> 0
<br>
~~-1 -> 0
<br>
~~0.1 -> 0
<br>
~~-1.3 -> 0
<br>
~~-1.6e-1 -> 0
<br>
~~epsilon -> 0
<br>
・<span class="run">Ver.2.168.41</span>以降、<a href="#span-out-com">複素数</a>に拡張
<br>
<del>~~i || ~~0 -> 1</del>
<br>
~~i || ~~1 -> 0
<br>
~~1+i<del> || ~~1</del> -> 0
<br>
~~~0 || ~~(~0) || ~~(-1) -> 0
<br>
~~~1 || ~~(~1) || ~~(-2) -> 0
<br>
~~~-1 || ~~(~-1) || ~~(0) -> 1
<br>
(~~0||~~1) || ((~~0)||(~~1)) -> 1
<br>
(~~1||~~1) || ((~~1)||(~~1)) -> 0
<br>
~~1&lt;0&amp;&amp;2 || ((~~(1&lt;0))&amp;&amp;2) -> 2
<br>
~~1&gt;0&amp;&amp;2 || ((~~(1&gt;0))&amp;&amp;2) -> 0
<br>
<br>
留意事項を列挙する
<br>
・<del>operandは実数のみ対応</del><span class="run">Ver.2.168.41</span>以降、<a href="#span-out-com">複素数</a>に拡張
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
論理XOR
<br>
演算子
    </th>
    <td>
<span id="span-out-prec-ope-logical-xor"></span>
論理XOR演算子と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.168.41</span>以降、論理XOR演算子を追加
<br>
0@@0 -> 0
<br>
0@@1 -> 1
<br>
1@@0 -> 1
<br>
1@@1 -> 0
<br>
0@@false || 0@@0 -> 0
<br>
0@@true || 0@@1 -> 1
<br>
0@@NaN || 0@@0 -> 0
<br>
・<a href="#span-out-com">複素数</a>に拡張
<br>
0@@i || 0@@1 -> 1
<br>
1@@i || 1@@1 -> 0
<br>
i@@0 || 1@@0 -> 1
<br>
i@@1 || 1@@1 -> 0
<br>
・<span class="run">Ver.2.766.116</span>以降、<a href="#span-out-FN-ope">xnor/cxnor関数</a>を追加
<br>
~~(0@@false),not(xor(0,false)),xnor(0,false) -> (true,true,true)
<br>
~~(1@@i),cnot(cxor(1,i)),cxnor(1,i) -> (true,true,true)
<br>
<br>
留意事項を列挙する
<br>
・operandは<a href="#span-out-com">複素数</a>に拡張
<br>
・通常の<a href="#span-out-prec-ope-logical">論理演算子</a>と異なり、<a href="#span-out-associativity">2項演算子のassociativity</a>に依存しない
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
論理演算子
    </th>
    <td>
<span id="span-out-prec-ope-logical"></span>
論理演算子と付随する留意事項について記述する
<br>
<br>
論理OR
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
0||1 -> 1
<br>
0||1||2 -> 1
<br>
2||1||0 -> 2
<br>
2i||1i||0i -> 2i
<br>
0i||1i||2i -> i
<br>
0(1-i)||1(1-i)||2(1-i) -> 1-i
<br>
0(1-i)||1(1-i)||2(1-i)||3(1-i) -> 1-i
<br>
real(0(1-i)||1(1-i)||2(1-i)||3(1-i)) -> 1
<br>
imag(0(1-i)||1(1-i)||2(1-i)||3(1-i)) -> -1
<br>
・<a href="#span-out-option1">RA選択</a>
<br>
0||1 -> 1
<br>
0||1||2 -> 2
<br>
2||1||0 -> 1
<br>
2i||1i||0i -> i
<br>
0i||1i||2i -> 2i
<br>
0(1-i)||1(1-i)||2(1-i) -> 2-2i
<br>
0(1-i)||1(1-i)||2(1-i)||3(1-i) -> 3-3i
<br>
real(0(1-i)||1(1-i)||2(1-i)||3(1-i)) -> 3
<br>
imag(0(1-i)||1(1-i)||2(1-i)||3(1-i)) -> -3
<br>
・<span class="run">Ver.2.766.116</span>以降、<a href="#span-out-FN-ope">nor/cnor関数</a>を追加
<br>
~~(0||1),not(or(0,1)),nor(0,1) -> (false,false,false)
<br>
~~(0||i),cnot(cor(0,i)),cnor(0,i) -> (false,false,false)
<br>
<br>
論理AND
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
0&amp;&amp;1&amp;&amp;2 -> 0
<br>
2&amp;&amp;1&amp;&amp;0 -> 0
<br>
1&amp;&amp;0&amp;&amp;2 -> 0
<br>
1i&amp;&amp;0i&amp;&amp;2i -> 0
<br>
1&amp;&amp;2&amp;&amp;3 -> 3
<br>
1i&amp;&amp;2i&amp;&amp;3i -> 3i
<br>
1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i) -> 3-3i
<br>
1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i) -> 4-4i
<br>
real(1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i)) -> 4
<br>
imag(1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i)) -> -4
<br>
1(1-i)||2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i) -> 1-i
<br>
1(1-i)&amp;&amp;2(1-i)||3(1-i)&amp;&amp;4(1-i) -> 2-2i
<br>
1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)||4(1-i) -> 3-3i
<br>
・<a href="#span-out-option1">RA選択</a>
<br>
0&amp;&amp;1&amp;&amp;2 -> 0
<br>
2&amp;&amp;1&amp;&amp;0 -> 0
<br>
1&amp;&amp;0&amp;&amp;2 -> 0
<br>
1i&amp;&amp;0i&amp;&amp;2i -> 0
<br>
1&amp;&amp;2&amp;&amp;3 -> 1
<br>
1i&amp;&amp;2i&amp;&amp;3i -> i
<br>
1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i) -> 1-i
<br>
1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i) -> 1-i
<br>
real(1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i)) -> 1
<br>
imag(1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i)) -> -1
<br>
1(1-i)||2(1-i)&amp;&amp;3(1-i)&amp;&amp;4(1-i) -> 2-2i
<br>
1(1-i)&amp;&amp;2(1-i)||3(1-i)&amp;&amp;4(1-i) -> 3-3i
<br>
1(1-i)&amp;&amp;2(1-i)&amp;&amp;3(1-i)||4(1-i) -> 4-4i
<br>
・<span class="run">Ver.2.766.116</span>以降、<a href="#span-out-FN-ope">nand/cnand関数</a>を追加
<br>
~~(1&amp;&amp;2),not(and(1,2)),nand(1,2) -> (false,false,false)
<br>
~~(1i&amp;&amp;2i),cnot(cand(1i,2i)),cnand(1i,2i) -> (false,false,false)
<br>
<br>
論理演算子は最下位の<a href="#span-out-prec-ope">演算子のprecedence</a>で<a href="#span-out-substitution">変数への代入</a>より優先する
<br>
clear; x=&lt;a=3; (0||x=&gt;||2,a)  <span class="selection">// (0||0||2,3)</span> -> (2,3)
<br>
clear; x=&lt;a=3; (0||x=&gt;||a)  <span class="selection">// (0||0||3)</span> -> 3
<br>
clear; x=&lt;a=3; (0||(x=&gt;)||a)  <span class="selection">// (0||0||3)</span> -> 3
<br>
clear; 0||(a=3)||a  <span class="selection">// 0||0||3</span> -> 3
<br>
clear; 0||(a=3)||(a=-3)||a  <span class="selection">// 0||0||0||-3</span> -> -3
<br>
clear; a=3||3,a  <span class="selection">// a=(3||3),a</span> -> (0,3)
<br>
clear; 1||a=3  <span class="selection">// (1||a)=3</span> -> [MyErr]Invalid binary operation
<br>
clear; 1||=3  <span class="selection">// (1||)=3</span> -> [MyErr]Invalid binary operation
<br>
clear; 1||0=3  <span class="selection">// (1||0)=3</span> -> 2
<br>
clear; 0||0=3  <span class="selection">// (0||0)=3</span> -> 3
<br>
clear; i||0=3  <span class="selection">// (i||0)=3</span> -> 3-i
<br>
clear; 0||i=3  <span class="selection">// (0||i)=3</span> -> 3-i
<br>
<br>
論理AND||OR演算子の留意事項を列挙する
<br>
・論理AND演算子は全operandを評価して<a href="#span-out-num-false">false判定値</a>の短絡評価を再現する
<br>
・論理OR演算子は全operandを評価してnot(<a href="#span-out-num-false">false判定値</a>)の短絡評価を再現する
<br>
・<a href="#span-out-option1">LA既定</a>の場合、<a href="#span-out-type-ope">中置2項演算子</a>のright-operandよりleft-operandを優先して左から評価する
<br>
・<a href="#span-out-option1">RA選択</a>の場合、<a href="#span-out-type-ope">中置2項演算子</a>のleft-operandよりright-operandを優先して右から評価する
<br>
<br>
論理ORを厳密に短絡評価して処理を切替える場合
<br>
・<a href="#span-out-FNh-switch">switch高階関数</a>を使用
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; switch(1,set_a0=&gt;:1,set_a1=&gt;); a  <span class="selection">// NG</span> -> 1
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; switch(1,<span class="condition">=&lt;</span>set_a0=&gt;:1,<span class="condition">=&lt;</span>set_a1=&gt;); a  <span class="selection">// OK</span> -> 0
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; switch(0,<span class="condition">=&lt;</span>set_a0=&gt;:1,<span class="condition">=&lt;</span>set_a1=&gt;); a  <span class="selection">// OK</span> -> 1
<br>
・<span class="run">Ver.2.157.38</span>以降、<a href="#span-out-FNh-switch">switch高階関数</a>代替の<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を追加
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; set_a2=&lt;a=2; set_a0=&gt;|||set_a1=&gt;|||set_a2=&gt;; a -> 2
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; set_a2=&lt;a=2; ~~(set_a0=&gt;)|||set_a1=&gt;|||set_a2=&gt;; a -> 0
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; set_a2=&lt;a=2; set_a0=&gt;&amp;&amp;&amp;set_a1=&gt;&amp;&amp;&amp;set_a2=&gt;; a -> 0
<br>
clear; set_a0=&lt;a=0; set_a1=&lt;a=1; set_a2=&lt;a=2; ~~(set_a0=&gt;)&amp;&amp;&amp;set_a1=&gt;&amp;&amp;&amp;set_a2=&gt;; a -> 1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
論理演算子
<br>
（短絡評価）
    </th>
    <td>
<span id="span-out-prec-ope-logical-short-circuit"></span>
論理演算子（短絡評価）と付随する留意事項について記述する
<br>
・通常の<a href="#span-out-prec-ope-logical">論理演算子</a>と区別してANDs||ORsと表記する
<br>
・<span class="run">Ver.2.258.60</span>以降、operandを拡張
<br>
　operand：<a href="#span-out-vars">変数</a>　⇒　<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
<br>
<br>
論理演算子（短絡評価）は<a href="#span-out-substitution-equation">式変数への式代入</a>直後の<a href="#span-out-prec">演算のprecedence</a>で<a href="#span-out-FNc">最上位関数</a>より優先する
<br>
実装の詳細は<a href="#span-in-short-circuit">内部仕様</a>参照
<br>
<br>
論理ORs
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
0|||1 -> 1
<br>
0|||1|||2 -> 1
<br>
2|||1|||0 -> 2
<br>
2i|||1i|||0i -> 2i
<br>
0i|||1i|||2i -> i
<br>
0(1-i)|||1(1-i)|||2(1-i) -> 1-i
<br>
0(1-i)|||1(1-i)|||2(1-i)|||3(1-i) -> 1-i
<br>
real(0(1-i)|||1(1-i)|||2(1-i)|||3(1-i)) -> 1
<br>
imag(0(1-i)|||1(1-i)|||2(1-i)|||3(1-i)) -> -1
<br>
(0,0)|||1 -> (0,0)
<br>
clear; (a=0)|||hasVar(a) -> 1
<br>
clear; x=1; y=&lt;x|||1/0|||-x; y -> 1
<br>
clear; x=(1,2); y=&lt;x|||1/0|||-x; y -> (1,2)
<br>
clear; x=1; y=x|||1/0|||-x; y -> 1
<br>
clear; x=1; y=&lt;x|||1/0|||-x; y -> 1
<br>
clear; x=1; y=(x|||1/0)|||-x; y -> 1
<br>
clear; x=1; y=x|||(1/0|||-x); y -> 1
<br>
clear; x=1; y=~~x|||1/0|||~~-x; y -> 0
<br>
clear; x=1; y=~~(x|||1/0)|||~~-x; y -> 0
<br>
clear; x=1; y=~~x|||(1/0|||~~-x); y -> 0
<br>
clear; x=1; y=~~x|||y|||~~-x; y -> [MyErr]Undef var|||
<br>
clear; x=1; y=~~x|||x=&gt;|||~~-x; y -> [MyErr]Invalid REv(x)
<br>
clear; x=&lt;0|||y=3; x,y -> [MyErr]Invalid REv(y)
<br>
clear; x=&lt;0|||(y=3); x,y -> (0,3)
<br>
clear; (x=2)|||1|||x; x -> 2
<br>
clear; x=(1,2); y=&lt;1&amp;&amp;&amp;x|||1/0|||-x&amp;&amp;&amp;0; y -> (1,2)
<br>
clear; x=(1,2); y=&lt;{0&amp;&amp;&amp;x|||Infinity|||-x&amp;&amp;&amp;1}; y -> Infinity
<br>
・<a href="#span-out-option1">RA選択</a>
<br>
0|||1 -> 1
<br>
0|||1|||2 -> 2
<br>
2|||1|||0 -> 1
<br>
2i|||1i|||0i -> i
<br>
0i|||1i|||2i -> 2i
<br>
0(1-i)|||1(1-i)|||2(1-i) -> 2-2i
<br>
0(1-i)|||1(1-i)|||2(1-i)|||3(1-i) -> 3-3i
<br>
real(0(1-i)|||1(1-i)|||2(1-i)|||3(1-i)) -> 3
<br>
imag(0(1-i)|||1(1-i)|||2(1-i)|||3(1-i)) -> -3
<br>
(0,0)|||1 -> 1
<br>
clear; (a=0)|||hasVar(a) -> 0
<br>
clear; x=1; y=&lt;x|||1/0|||-x; y -> -1
<br>
clear; x=(1,2); y=&lt;x|||1/0|||-x; y -> (-1,-2)
<br>
clear; x=1; y=x|||1/0|||-x; y -> -1
<br>
clear; x=1; y=&lt;x|||1/0|||-x; y -> -1
<br>
clear; x=1; y=(x|||1/0)|||-x; y -> -1
<br>
clear; x=1; y=x|||(1/0|||-x); y -> -1
<br>
clear; x=1; y=~~x|||1/0|||~~-x; y -> 0
<br>
clear; x=1; y=~~(x|||1/0)|||~~-x; y -> 0
<br>
clear; x=1; y=~~x|||(1/0|||~~-x); y -> 0
<br>
clear; x=1; y=~~x|||y|||~~-x; y -> [MyErr]Undef |||var
<br>
clear; x=1; y=~~x|||x=&gt;|||~~-x; y -> [MyErr]Undef |||var
<br>
clear; x=&lt;0|||y=3; x,y -> [MyErr]Invalid REv
<br>
clear; x=&lt;0|||(y=3); x,y -> (0,3)
<br>
clear; (x=2)|||1|||x; x -> [MyErr]Undef |||var
<br>
clear; x=(1,2); y=&lt;1&amp;&amp;&amp;x|||1/0|||-x&amp;&amp;&amp;0; y -> 1
<br>
clear; x=(1,2); y=&lt;{0&amp;&amp;&amp;x|||Infinity|||-x&amp;&amp;&amp;1}; y -> (-1,-2)
<br>
<br>
論理ANDs
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
0&amp;&amp;&amp;1&amp;&amp;&amp;2 -> 0
<br>
2&amp;&amp;&amp;1&amp;&amp;&amp;0 -> 0
<br>
1&amp;&amp;&amp;0&amp;&amp;&amp;2 -> 0
<br>
1i&amp;&amp;&amp;0i&amp;&amp;&amp;2i -> 0
<br>
1&amp;&amp;&amp;2&amp;&amp;&amp;3 -> 3
<br>
1i&amp;&amp;&amp;2i&amp;&amp;&amp;3i -> 3i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i) -> 3-3i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i) -> 4-4i
<br>
real(1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i)) -> 4
<br>
imag(1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i)) -> -4
<br>
1(1-i)|||2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i) -> 1-i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)|||3(1-i)&amp;&amp;&amp;4(1-i) -> 2-2i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)|||4(1-i) -> 3-3i
<br>
(0,0)&amp;&amp;&amp;1 -> 1
<br>
clear; (a=0)&amp;&amp;&amp;hasVar(a) -> 0
<br>
clear; x=1; y=&lt;x&amp;&amp;&amp;1/0&amp;&amp;&amp;-x; y -> NaN
<br>
clear; x=(1,2); y=&lt;x&amp;&amp;&amp;-i&amp;&amp;&amp;-x; y -> (-1,-2)
<br>
clear; x=1; y=x&amp;&amp;&amp;-i&amp;&amp;&amp;-x; y -> -1
<br>
clear; x=1; y=&lt;x&amp;&amp;&amp;-i&amp;&amp;&amp;-x; y -> -1
<br>
clear; x=1; y=(x&amp;&amp;&amp;-i)&amp;&amp;&amp;-x; y -> -1
<br>
clear; x=1; y=x&amp;&amp;&amp;(-i&amp;&amp;&amp;-x); y -> -1
<br>
clear; x=1; y=~~x&amp;&amp;&amp;-i&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=1; y=~~(x&amp;&amp;&amp;-i)&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=1; y=~~x&amp;&amp;&amp;(-i&amp;&amp;&amp;~~-x); y -> 0
<br>
clear; x=1; y=~~x&amp;&amp;&amp;y&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=1; y=~~x&amp;&amp;&amp;x=&gt;&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=&lt;0&amp;&amp;&amp;y=3; x,y -> [MyErr]Invalid REv(y)
<br>
clear; x=&lt;0&amp;&amp;&amp;(y=3); x,y -> [MyErr]Invalid REv(y)
<br>
clear; (x=2)&amp;&amp;&amp;1&amp;&amp;&amp;x; x -> 2
<br>
clear; x=(1,2); y=&lt;1|||x&amp;&amp;&amp;1/0&amp;&amp;&amp;-x|||0; y -> 1
<br>
clear; x=(1,2); y=&lt;{0|||x&amp;&amp;&amp;Infinity&amp;&amp;&amp;-x|||1}; y -> (-1,-2)
<br>
・<a href="#span-out-option1">RA選択</a>
<br>
0&amp;&amp;&amp;1&amp;&amp;&amp;2 -> 0
<br>
2&amp;&amp;&amp;1&amp;&amp;&amp;0 -> 0
<br>
1&amp;&amp;&amp;0&amp;&amp;&amp;2 -> 0
<br>
1i&amp;&amp;&amp;0i&amp;&amp;&amp;2i -> 0
<br>
1&amp;&amp;&amp;2&amp;&amp;&amp;3 -> 1
<br>
1i&amp;&amp;&amp;2i&amp;&amp;&amp;3i -> i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i) -> 1-i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i) -> 1-i
<br>
real(1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i)) -> 1
<br>
imag(1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i)) -> -1
<br>
1(1-i)|||2(1-i)&amp;&amp;&amp;3(1-i)&amp;&amp;&amp;4(1-i) -> 2-2i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)|||3(1-i)&amp;&amp;&amp;4(1-i) -> 3-3i
<br>
1(1-i)&amp;&amp;&amp;2(1-i)&amp;&amp;&amp;3(1-i)|||4(1-i) -> 4-4i
<br>
(0,0)&amp;&amp;&amp;1 -> (0,0)
<br>
clear; (a=0)&amp;&amp;&amp;hasVar(a) -> 0
<br>
clear; x=1; y=&lt;x&amp;&amp;&amp;1/0&amp;&amp;&amp;-x; y -> NaN
<br>
clear; x=(1,2); y=&lt;x&amp;&amp;&amp;-i&amp;&amp;&amp;-x; y -> (1,2)
<br>
clear; x=1; y=x&amp;&amp;&amp;-i&amp;&amp;&amp;-x; y -> 1
<br>
clear; x=1; y=&lt;x&amp;&amp;&amp;-i&amp;&amp;&amp;-x; y -> 1
<br>
clear; x=1; y=(x&amp;&amp;&amp;-i)&amp;&amp;&amp;-x; y -> 1
<br>
clear; x=1; y=x&amp;&amp;&amp;(-i&amp;&amp;&amp;-x); y -> 1
<br>
clear; x=1; y=~~x&amp;&amp;&amp;-i&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=1; y=~~(x&amp;&amp;&amp;-i)&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=1; y=~~x&amp;&amp;&amp;(-i&amp;&amp;&amp;~~-x); y -> 0
<br>
clear; x=1; y=~~x&amp;&amp;&amp;y&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=1; y=~~x&amp;&amp;&amp;x=&gt;&amp;&amp;&amp;~~-x; y -> 0
<br>
clear; x=&lt;0&amp;&amp;&amp;y=3; x,y -> [MyErr]Undef &amp;&amp;&amp;var
<br>
clear; x=&lt;0&amp;&amp;&amp;(y=3); x,y -> (0,3)
<br>
clear; (x=2)&amp;&amp;&amp;1&amp;&amp;&amp;x; x -> [MyErr]Undef &amp;&amp;&amp;var
<br>
clear; x=(1,2); y=&lt;1|||x&amp;&amp;&amp;1/0&amp;&amp;&amp;-x|||0; y -> 1
<br>
clear; x=(1,2); y=&lt;{0|||x&amp;&amp;&amp;Infinity&amp;&amp;&amp;-x|||1}; y -> 1
<br>
<br>
通常の<a href="#span-out-prec-ope-logical">論理演算子</a>と異なり、<a href="#span-out-ope-extended">拡張行列演算</a>の対象外
<br>
0&amp;&amp;(1,1) || (0&amp;&amp;1,0&amp;&amp;1) -> (0,0)
<br>
<a href="#span-out-option1">LA既定</a>　0||(1,0:0,1)||(2,3) || ((0||1,0||0)||(2,3):(0||0,0||1)||(2,3)) -> (1,3:2,1)
<br>
<a href="#span-out-option1">RA選択</a>　0||(1,0:0,1)||(2,3) || ((0||1,0||0)||(2,3):(0||0,0||1)||(2,3)) -> (2,3:2,3)
<br>
0&amp;&amp;&amp;(1,1) -> 0
<br>
<a href="#span-out-option1">LA既定</a>　0|||(1,0:0,1)|||(2,3) -> (1,0:0,1)
<br>
<a href="#span-out-option1">RA選択</a>　0|||(1,0:0,1)|||(2,3) -> (2,3)
<br>
・<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-ope">無次元の演算</a>に対応
<br>
<a href="#span-out-option1">LA既定</a>　0|||(1,0:0,1)|||(2,3) -> 1
<br>
<a href="#span-out-option1">RA選択</a>　0|||(1,0:0,1)|||(2,3) -> 3
<br>
<br>
<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-literal">NaN</a>に対応
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
NaN||1 || NaN|||1 -> 1
<br>
NaN&amp;&amp;1 || NaN&amp;&amp;&amp;1 -> NaN
<br>
NaN|1 -> 1
<br>
NaN&amp;1 -> 0
<br>
~NaN || ~0 -> -1
<br>
~~NaN || ~~(~~true) -> 1
<br>
<br>
<span class="clear">Ver.2.165.40</span>以降、<a href="#span-out-literal">false</a>に対応
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
<del>false|||1 -> false</del>
<br>
<del>false&amp;&amp;&amp;1 -> 1</del>
<br>
false|||1 -> 1
<br>
false&amp;&amp;&amp;1 -> false
<br>
<br>
<span class="run">Ver.2.258.60</span>以降、operandを拡張
<br>
・((x)=&gt;x)||false  <span class="selection">// ES2015</span> -> (x)=&gt;x
<br>
((x)=&lt;x)|||false -> [MyErr]Invalid BTe([object Object])
<br>
(=&lt;(x)=&lt;x)|||false -> [MyErr]Invalid BTe([object Object],[object Object])
<br>
・(((x)=&gt;x)||false)(2)  <span class="selection">// ES2015</span> -> 2
<br>
(((x)=&lt;x)|||false)(2) -> [MyErr]Invalid FN operation
<br>
(((x)=&lt;x)|||false)(2)=&gt; -> 2
<br>
・pipe
<br>
clear; ((=&lt;(x)=&lt;x)|||false)(2)=&gt; -> [MyErr]Invalid args.length=0(no-name)
<br>
clear; (((=&lt;(x)=&lt;x)|||false)=&gt;)(2)=&gt; -> 2
<br>
・=&lt;　⇔　<a href="#span-in-pass-by-equation">遅延評価</a>の<a href="#span-out-eqns-return">return</a>
<br>
clear; (((()=&lt;(x)=&lt;x)|||false)()=&gt;)(2)=&gt; -> 2
<br>
・a=-1; (((a=&gt;b=&gt;[a,b])||false)(1))(2)  <span class="selection">// ES2015</span> -> [1, 2]
<br>
clear; ((((a)=&lt;(b)=&lt;(a,b))|||false)(1)=&gt;)(2)=&gt; -> (1,2)
<br>
clear; a=-1; ((((a<span class="clear">/*not-closed*/</span>)=&lt;(b)=&lt;(a,b))|||false)(1)=&gt;)(2)=&gt; -> (-1,2)
<br>
・<span class="clear">Ver.2.262.62</span>以降、define判別<span class="condition">id</span>が消失する致命的な不具合を修正（値のid　⇒　nameのid継承）
<br>
clear; $a=-1; ((((a)=&lt;(b)=&lt;(a,b))|||false)(1)=&gt;)(2)=&gt; -> <del>(-1,2)</del>[MyErr]Invalid SEv-scope-const(a)
<br>
・<a href="#span-out-scope-vars-has1BT">単独scope</a>
<br>
clear; a=-1; ((((a/*closed@1st-call*/)=&lt;[(b)=&lt;(a,b)])|||false)(1)=&gt;)(2)=&gt; -> (1,2)
<br>
clear; a=-1; (([(a/*closed@1st-call*/)=&lt;(b)=&lt;(a,b)]|||false)(1)=&gt;)(2)=&gt; -> (1,2)
<br>
clear; a=-1; ([((a/*closed@1st-call*/)=&lt;(b)=&lt;(a,b))|||false](1)=&gt;)(2)=&gt; -> (1,2)
<br>
clear; a=-1; [(((a/*closed@1st-call*/)=&lt;(b)=&lt;(a,b))|||false)(1)=&gt;](2)=&gt; -> (1,2)
<br>
・nest
<br>
clear; (((x)=&lt;((=&lt;x)|||false)=&gt;)|||false)(2)=&gt; -> 2
<br>
clear; (((x)=&lt;((()=&lt;x)|||false)()=&gt;)|||false)(2)=&gt; -> 2
<br>
・((b=&gt;((a=&gt;[a,b])||false)(1))||false)(2)  <span class="selection">// ES2015</span> -> [1, 2]
<br>
clear; (((b)=&lt;(((a)=&lt;[a,b])|||false)(1)=&gt;)|||false)(2)=&gt; -> (1,2)
<br>
<br>
論理ANDs||ORs演算子の留意事項を列挙する
<br>
・可読性に難あり
<br>
・<a href="#span-out-special-substitution">代入処理</a>は<a href="#span-out-BT">括弧</a>を明示する方が間違いが少ない（<a href="#span-eqn-short-circuit">short_circuit</a>参照）
<br>
clear; a=&lt;b=1&amp;&amp;&amp;c=2; a=&gt; -> [MyErr]Invalid operation
<br>
clear; a=&lt;b=1&amp;&amp;&amp;(c=2); a=&gt;; b,c -> (0,2)
<br>
clear; a=&lt;(b=1)&amp;&amp;&amp;(c=2); a=&gt;; b,c -> [MyErr]Invalid REv(c)
<br>
clear; a=&lt;(b=1)|||(c=2); a=&gt;; b,c -> (1,2)
<br>
clear; a=0|||b=1&amp;&amp;&amp;c=2 -> [MyErr]Invalid ans isFound
<br>
clear; a=0|||~~(b=1)&amp;&amp;&amp;(c=2)|||3; a,b,c -> (3,1,2)
<br>
clear; (a=0)|||~~(b=1)&amp;&amp;&amp;(c=2)|||3; a,b,c -> (0,1,2)
<br>
・通常の<a href="#span-out-prec-ope-logical">論理演算子</a>と異なる点を列挙する
<br>
　・有次元の<a href="#span-out-ope-extended">拡張行列演算</a>の対象外
<br>
　・<a href="#span-out-prec-ope">演算子のprecedence</a>を変更不可（<a href="#span-out-config">内部option</a>の対象外）
<br>
　・<a href="#span-out-FNh-switch">switch高階関数</a>を代替可（低負荷の一方、難読化の可能性あり）
<br>
　・論理ANDs演算子は厳密に<a href="#span-out-num-false">false判定値</a>を短絡評価する
<br>
　　operand=<a href="#span-out-num-false">false判定値</a>以降、評価を省略
<br>
　・論理ORs演算子は厳密にnot(<a href="#span-out-num-false">false判定値</a>)を短絡評価する
<br>
　　operand=not(<a href="#span-out-num-false">false判定値</a>)以降、評価を省略
<br>
・operand省略時、error終了
<br>
0&amp;&amp; -> [MyErr]Invalid binary operation
<br>
||0 -> [MyErr]Invalid binary operation
<br>
0&amp;&amp;&amp; -> [MyErr]Invalid binary operation
<br>
|||0 -> [MyErr]Invalid binary operation
<br>
&amp;&amp;&amp; -> [MyErr]Invalid binary operation
<br>
||| -> [MyErr]Invalid binary operation
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
論理演算子
<br>
（literal）
    </th>
    <td>
<span id="span-out-prec-ope-logical-short-circuit-literal"></span>
論理演算子（literal）と付随する留意事項について記述する
<br>
・通常の<a href="#span-out-prec-ope-logical">論理演算子</a>と区別してANDss||ORssと表記する
<br>
・<span class="run">Ver.2.258.60</span>以降、operandを拡張
<br>
　operand：<a href="#span-out-vars">変数</a>　⇒　<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
<br>
<br>
<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-prec-ope-conditional">条件演算子</a>代替のANDss||ORss演算子を追加
<br>
・0を返す<a href="#span-out-special-substitution">代入処理</a>と<a href="#span-out-literal-FN">論理値literalを返す関数</a>||<a href="#span-out-literal-ope">演算子</a>を活用
<br>
<br>
論理ORss
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
0||||1 -> 0
<br>
false||||1 -> 1
<br>
NaN||||1 -> 1
<br>
・<a href="#span-out-option1">RA選択</a>
<br>
0||||1 -> 1
<br>
false||||1 -> 1
<br>
NaN||||1 -> 1
<br>
<br>
論理ANDss
<br>
・<a href="#span-out-option1">LA既定</a>
<br>
0&amp;&amp;&amp;&amp;1 -> 1
<br>
false&amp;&amp;&amp;&amp;1 -> false
<br>
NaN&amp;&amp;&amp;&amp;1 -> NaN
<br>
・<a href="#span-out-option1">RA選択</a>
<br>
0&amp;&amp;&amp;&amp;1 -> 0
<br>
false&amp;&amp;&amp;&amp;1 -> false
<br>
NaN&amp;&amp;&amp;&amp;1 -> NaN
<br>
<br>
論理ANDss||ORss演算子の留意事項を列挙する
<br>
・可読性に難あり
<br>
・<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>と異なる点を列挙する
<br>
　・論理ANDss演算子は厳密に<a href="#span-out-literal">false||NaN</a>を短絡評価する
<br>
　・論理ORss演算子は厳密にnot(<a href="#span-out-literal">false||NaN</a>)を短絡評価する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
条件演算子
    </th>
    <td>
<span id="span-out-prec-ope-conditional"></span>
条件演算子と付随する留意事項について記述する
<br>
<br>
条件演算子は未実装で代替案を示す
<br>
<br>
<a href="#span-out-FNh-switch">switch高階関数</a>
<br>
・Nativeの一例
<br>
var y = ((x &lt; 0)? -x: x);
<br>
・値渡し
<br>
y=&lt;switch(x&lt;0,-x:1,x);
<br>
y=&lt;switch(lt(real(x),0),-real(x):1,real(x));
<br>
x=2; y -> 2
<br>
x=-2; y -> 2
<br>
・<a href="#span-out-pass-by-equation">式渡し</a>
<br>
y=&lt;switch(x&lt;0,=&lt;-x:1,=&lt;{x});
<br>
y=&lt;switch(lt(real(x),0),=&lt;-real(x):1,=&lt;real(x));
<br>
x=2; y -> 2
<br>
x=-2; y -> 2
<br>
・<a href="#span-out-eqns">式変数</a>を使用
<br>
cond_m=&lt;lt(real(x),0); proc_m=&lt;-real(x); cond_p=&lt;1; proc_p=&lt;real(x);
<br>
x=-2; (cond_m,proc_m:cond_p,proc_p) -> (1,2:1,-2)
<br>
x=-2; switch(cond_m,proc_m:cond_p,proc_p) -> 2
<br>
x=-2; (cond_m,=&lt;proc_m:cond_p,=&lt;proc_p) -> [MyErr]Invalid BTe([object Object])
<br>
x=-2; switch(cond_m,=&lt;proc_m:cond_p,=&lt;proc_p) -> 2
<br>
・値渡し
<br>
cp_m=&lt;(cond_m,proc_m); cp_p=&lt;(cond_p,proc_p);
<br>
cp_mp=&lt;(cp_m:cp_p);
<br>
x=-2; (cp_mp) -> (1,2:1,-2)
<br>
x=-2; switch(cp_mp) -> 2
<br>
・<a href="#span-out-pass-by-equation">式渡し</a>
<br>
cp_m=&lt;(cond_m,=&lt;proc_m); cp_p=&lt;(cond_p,=&lt;proc_p);
<br>
cp_mp=&lt;(cp_m:cp_p);
<br>
x=-2; (cp_mp) -> [MyErr]Invalid BTe([object Object])
<br>
x=-2; switch(cp_mp) -> 2
<br>
<br>
<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>
<br>
・left||rightのexpressionを分岐する<span class="run">Python</span>記法の一例（<a href="#span-out-option1">LA既定</a>）
<br>
sw_equation(isLeft,=&lt;left,=&lt;right)=&lt;(isLeft&amp;&amp;&amp;{left=&gt;,}|||{right=&gt;,})[0];
<br>
sw_equation(false,=&lt;0,=&lt;1) || sw_equation(0,=&lt;0,=&lt;1) -> 1
<br>
sw_equation(true,=&lt;0,=&lt;1) || sw_equation(1,=&lt;0,=&lt;1) -> 0
<br>
・<a href="#span-out-ope">無次元</a>の場合、left=0を返却不能の対策が必要
<br>
sw_NG(isLeft)=&lt;isLeft&amp;&amp;&amp;{=&lt;0}=&gt;|||{=&lt;1}=&gt;;
<br>
sw_NG(false),sw_NG(true) -> (1,1)
<br>
sw_OK(isLeft)=&lt;isLeft&amp;&amp;&amp;~~(left=2)|||~~(right=3);
<br>
sw_OK(false),right -> (1,3)
<br>
sw_OK(true),left -> (1,2)
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>を追加
<br>
sw_OK(isLeft)=&lt;isLeft&amp;&amp;&amp;&amp;{=&lt;0}=&gt;||||{=&lt;1}=&gt;;
<br>
sw_OK(false),sw_OK(true) -> (1,0)
<br>
sw_OK(isLeft)=&lt;isLeft&amp;&amp;&amp;&amp;(left=2)||||(right=3);
<br>
sw_OK(false),right -> (0,3)
<br>
sw_OK(true),left -> (0,2)
<br>
・<a href="#span-out-ope">有次元</a>の場合、対策不要
<br>
sw_mat(isLeft,=&lt;left,=&lt;right)=&lt;(isLeft&amp;&amp;&amp;left=&gt;|||right=&gt;);
<br>
l=&lt;[a=1,a:2a,3a];
<br>
r=&lt;[a=-1,a:2a,3a];
<br>
sw_mat(false,=&lt;l,=&lt;r),sw_mat(true,=&lt;l,=&lt;r),sw_mat(0,=&lt;l,=&lt;r)+sw_mat(1,=&lt;l,=&lt;r) ->
<br>
(
<br>
0,-1,0,1,0,0:
<br>
-2,-3,2,3,0,0
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
浮動小数点
<br>
演算
    </th>
    <td>
<span id="span-out-float"></span>
JavaScriptによる実数の浮動小数点演算について記述する
<br>
・<span class="run">Ver.2.139.35</span>以降、最新の演算結果と本manual一部の記述内容に<a href="#span-out-epsilon">Machine epsilon</a>程度の相違がある
<br>
<br>
<span class="run">JavaScript</span>の<a href="#span-out-number">Number</a>型はIEEE754規格の倍精度64bit2進形式の浮動小数点数を使用する
<br>
・浮動小数点数による演算を以降、浮動小数点演算と呼ぶ
<br>
・64bitの上位から順に3つのfield（符号部・指数部・仮数部）を持つ
<br>
10進換算の浮動小数点数
<br>
=(-1)^(符号部1bit)*pow(基数2,指数部11bit-bias)*(0||1+仮数部52bit)
<br>
・指数部・仮数部は符号なしの2進数
<br>
・指数部は符号ありを符号なしに変換する次のbiasを持つ
<br>
bias=2^(11-1)-1=1023
<br>
・<a href="#span-out-FN-pow">pow関数</a>(base,exponent)はbase^exponentのNative関数
<br>
・10進換算の指数に相当する
<br>
pow(2,10) || 2^10 || 1024 -> 1.024e3
<br>
・仮数部が小数点以下の有効桁を保持する（10進換算の有効数字の最大桁数≒16）
<br>
・10進換算で有効数字の<a href="#span-out-ope">実数演算</a>結果を示す（最上位bitから最下位bitまで）
<br>
pow(2,-1) || 2^(-1) -> 0.5
<br>
pow(2,-2) || 2^(-2) -> 0.25
<br>
...
<br>
pow(2,-51) || 2^(-51) -> 4.440892098500626e-16
<br>
pow(2,-52) || 2^(-52) -> 2.220446049250313e-16
<br>
・この最小値O(1e-16)より小さな有効数字は保持できない
<br>
・これを丸める<a href="#span-out-error">誤差</a>を<a href="#span-out-epsilon">Machine epsilon</a>と呼ぶ
<br>
<br>
64bit2進形式の浮動小数点演算の挙動を示す
<br>
・16桁の小数を入力した場合、同じ
<br>
0.9999999999999999 -> 0.9999999999999999
<br>
-0.9999999999999999 -> -0.9999999999999999
<br>
・17桁の小数を入力した場合、<a href="#span-out-epsilon">Machine epsilon</a>が生じる
<br>
0.99999999999999999 -> 1
<br>
-0.99999999999999999 -> -1
<br>
・整数も小数同様に、<a href="#span-out-number">Number</a>型で保存される
<br>
・よって17桁以上の整数を入力した場合、<a href="#span-out-epsilon">Machine epsilon</a>が生じる
<br>
9007199254740991 -> 9007199254740991
<br>
90071992547409911 -> 90071992547409900
<br>
900719925474099111 -> 900719925474099100
<br>
9007199254740991111 -> 9007199254740991000
<br>
90071992547409911111 -> 90071992547409900000
<br>
900719925474099111111 -> 900719925474099100000
<br>
9007199254740991111111 -> 9.007199254740991e+21
<br>
・1000で割って1000を掛けた場合、<a href="#span-out-epsilon">Machine epsilon</a>が生じる
<br>
9007199254740991/1000 -> 9007199254740.99
<br>
ans*1000 -> 9007199254740990
<br>
0.9999999999999999/1000 -> 0.0009999999999999998
<br>
ans*1000 -> 0.9999999999999998
<br>
・<a href="#span-out-ope">実数演算</a>の場合、2の累乗倍で演算すれば仮数部の有効桁が保持される
<br>
9007199254740991/1024 -> 8796093022207.999
<br>
ans*1024 -> 9007199254740991
<br>
9007199254740991/2^100 -> 7.105427357601001e-15
<br>
ans*2^100 -> 9007199254740991
<br>
9007199254740991/2^(-100) -> 1.1417981541647678e+46
<br>
ans*2^(-100) -> 9007199254740991
<br>
0.9999999999999999/1024 -> 0.0009765624999999999
<br>
ans*1024 -> 0.9999999999999999
<br>
0.9999999999999999/2^100 -> 7.888609052210117e-31
<br>
ans*2^100 -> 0.9999999999999999
<br>
0.9999999999999999/2^(-100) -> 1.2676506002282293e+30
<br>
ans*2^(-100) -> 0.9999999999999999
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Machine
<br>
epsilon
    </th>
    <td>
<span id="span-out-epsilon"></span>
浮動小数点演算のMachine epsilonについて記述する
<br>
<br>
<a href="#span-out-float">仮数部</a>の最下位bitの有効数字未満を丸める<a href="#span-out-error">相対誤差</a>をMachine epsilonと呼ぶ
<br>
・次のepsilonで定義する
<br>
epsilon || eps || pow(2,-52) -> 2.220446049250313e-16
<br>
・test caseを列挙する
<br>
1+epsilon -> 1.0000000000000002
<br>
1+epsilon/2 -> 1
<br>
10+10epsilon -> 10.000000000000002
<br>
10+10epsilon/2 -> 10.000000000000002
<br>
10+10epsilon/4 -> 10
<br>
100+100epsilon/4 -> 100
<br>
1000+1000epsilon/4 -> 1000
<br>
1e4+1e4epsilon/4 -> 10000
<br>
1-epsilon -> 0.9999999999999998
<br>
1-epsilon/2 -> 0.9999999999999999
<br>
1-epsilon/4 -> 1
<br>
10-10epsilon/4 -> 10
<br>
100-100epsilon/4 -> 100
<br>
1000-1000epsilon/4 -> 1000
<br>
1e4-1e4epsilon/4 -> 10000
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Number型
<br>
定数
    </th>
    <td>
<span id="span-out-number"></span>
Number型の定数について記述する
<br>
<br>
<span class="run">JavaScript</span>のNumber型の<a href="#span-out-FN0">定数</a>を定義して列挙する
<br>
EPSILON -> 2.220446049250313e-16
<br>
MIN_SAFE_INTEGER || -(2^53-1) -> -9007199254740991
<br>
MAX_SAFE_INTEGER || +(2^53-1) -> 9007199254740991
<br>
MIN_VALUE -> 5e-324
<br>
MAX_VALUE -> 1.7976931348623157e+308
<br>
INF || INFINITY || POSITIVE_INFINITY -> Infinity
<br>
NINF || NINFINITY || NEGATIVE_INFINITY -> -Infinity
<br>
ln2 -> 0.6931471805599453
<br>
ln10 -> 2.302585092994046
<br>
log2e -> 1.4426950408889634
<br>
log10e -> 0.4342944819032518
<br>
sqrt1_2 -> 0.7071067811865476
<br>
sqrt2 -> 1.4142135623730951
<br>
e -> 2.718281828459045
<br>
pi -> 3.141592653589793
<br>
<br>
test caseを列挙する
<br>
MIN_VALUE/2 -> 0
<br>
MIN_VALUE*(1-EPSILON) -> 5e-324
<br>
MAX_VALUE*2 -> Infinity
<br>
MAX_VALUE*(1+EPSILON) -> Infinity
<br>
・Nativeの場合
<br>
Math.pow(2,Math.pow(2,10)) || 2**(2**10) -> Infinity
<br>
・<a href="#span-out-ope">実数演算</a>の場合、Nativeに同義
<br>
pow(2,pow(2,10)) || 2**(2**10) || 2^(2^10) -> Infinity
<br>
・<a href="#span-out-com">複素数</a>演算の場合、MAX_VALUEに近い値が得られる
<br>
pow(2,pow(2,10)) || 2**(2**10) || 2^(2^10) -> 1.7976931348622732e+308
<br>
(1+106epsilon)2^(2^10) -> 1.7976931348623155e+308
<br>
(1+107epsilon)2^(2^10) -> Infinity
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
literal
    </th>
    <td>
<span id="span-out-literal"></span>
literalについて記述する
<br>
<br>
<span class="run">JavaScript</span>のliteralの一部を定義して列挙する
<br>
・<a href="#span-out-num">実数値</a>以外の非数NaN（Not a Number）
<br>
NaN || nan || NAN -> NaN
<br>
・論理値
<br>
false || FALSE -> false
<br>
true || TRUE -> true
<br>
・<span class="clear">Ver.2.161.39</span>以降、<a href="#span-out-UI-simple">指数表記</a>選択の場合、error終了を修正
<br>
<br>
test caseを列挙する
<br>
false==false || FALSE==0 -> 1
<br>
true==true || TRUE==1 -> 1
<br>
NaN==NaN -> 0
<br>
NaN*0 || NaN*i -> NaN
<br>
0/0 -> NaN
<br>
1/0 -> NaN
<br>
・<a href="#span-out-ope">実数演算</a>
<br>
1/0 -> Infinity
<br>
・<span class="run">Ver.2.184.44</span>以降、auto-real selected時
<br>
1/0 -> Infinity
<br>
<br>
留意事項を列挙する
<br>
・isNaN判定の方法を示す
<br>
NaN==NaN -> 0
<br>
x=NaN; x&lt;&gt;x || ~~(x==x) -> 1
<br>
isNaN_(x)=&lt;(x&lt;&gt;x); isNaN_(NaN),isNaN_(Infinity) -> (1,0)
<br>
a=0; b=a/a; c=1/a; isNaN_(a),isNaN_(b),isNaN_(c) -> (0,1,1)
<br>
・<span class="run">Ver.2.159.38</span>以降、<a href="#span-out-FN-isNaN">isNaN関数</a>を追加
<br>
a=0; b=a/a; c=1/a; isNaN(a),isNaN(b),isNaN(c) -> (false,true,true)
<br>
・<a href="#span-out-ope">実数演算</a>
<br>
a=0; b=a/a; c=1/a; isNaN_(a),isNaN_(b),isNaN_(c) -> (0,1,0+O(1e+0))
<br>
a=0; b=a/a; c=1/a; isNaN(a),isNaN(b),isNaN(c) -> (false,true,false+O(1e+0))
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
関数list
    </th>
    <td>
<span id="span-out-literal-FN"></span>
論理値literalのみを返す関数を列挙する
<br>
・<span class="run">Ver.2.159.38</span>以降、<a href="#span-out-FN-isNaN">isNaN関数</a>
<br>
・<span class="run">Ver.2.172.42</span>以降、<a href="#span-out-FNm-isFalse">isFalse/isTrue行列関数</a>
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-FNc">最上位関数</a>
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-FN-ope">演算子代替関数</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算子list
    </th>
    <td>
<span id="span-out-literal-ope"></span>
<span class="run">Ver.2.196.46</span>以降、論理値literalのみを返す演算子を列挙する
<br>
・<a href="#span-out-prec-ope-comparison">比較演算子</a>
<br>
・<a href="#span-out-prec-ope-relational">関係演算子</a>
<br>
・<a href="#span-out-prec-ope-logical-not">論理NOT演算子</a>
<br>
・<a href="#span-out-prec-ope-logical-xor">論理XOR演算子</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
誤差の扱い
    </th>
    <td>
<span id="span-out-error"></span>
誤差の種類とその扱いについて記述する
<br>
<br>
本manualでは大きく分けて次の2種類に分類する
<br>
・丸め誤差: 計算機での数値表現由来の誤差
<br>
　・情報落ち（絶対値の大きく異なる2つの数値の差||和を取る場合）
<br>
　・桁落ち（丸め誤差を含む同符号の2つの近い数値の差を取る場合）
<br>
　・Rumpの例題の要求桁数＞10進数で37桁（<a href="#span-eqn-Rump">Rump</a>参照）
<br>
・数値誤差: 数学的な近似由来の誤差
<br>
　・離散化誤差（<a href="#span-out-FNh-DX">微分</a>・<a href="#span-out-FNh-IX">積分</a>の無限小を有限の幅で離散化する場合）
<br>
　・打切り誤差（絶対収束する無限級数を有限の次数で打切る場合）
<br>
　・modelling誤差（数値誤差を許容して対象を理論的にmodel化する場合）
<br>
<br>
丸め誤差は無理数等を<a href="#span-out-float">仮数部</a>の有効桁に丸める際の、
<br>
近似値の真値に対する絶対誤差||相対誤差と定義する
<br>
・円周率20桁の演算結果を一例に示す
<br>
3.14159265358979323846 -> 3.141592653589793
<br>
pi -> 3.141592653589793
<br>
・円周率20桁の絶対誤差は<a href="#span-out-epsilon">Machine epsilon</a>に相当する
<br>
0.00000000000000023846 -> 2.3846e-16
<br>
epsilon -> 2.220446049250313e-16
<br>
・円周率20桁の相対誤差
<br>
0.00000000000000023846/pi -> 7.590417545938672e-17
<br>
<br>
2つの数値の減算||加算で情報落ちが発生した場合、警告文を表示する
<br>
・警告文は前置のinfoLost[実部r虚部i]とする
<br>
1+1e-16 -> infoLost[r ] 1
<br>
(1-1e-16)i -> infoLost[r ] 0.9999999999999999i
<br>
i+1e-16i -> infoLost[ i] i
<br>
1-1e-16+i-1e-16i -> infoLost[ri] 0.9999999999999999+0.9999999999999999i
<br>
1+epsilon -> 1.0000000000000002
<br>
1+epsilon/2 -> infoLost[r ] 1
<br>
1-epsilon -> 0.9999999999999998
<br>
1-epsilon/2 -> infoLost[r ] 0.9999999999999999
<br>
<br>
<a href="#span-out-com">虚数単位</a>iを求める<a href="#span-out-com">複素数</a>演算を一例に誤差情報の特徴を示す
<br>
(-1)^0.5 -> 6.123233995736766e-17+i
<br>
・実部に<a href="#span-out-epsilon">Machine epsilon</a>が残るため、1を加算すると情報落ちが発生する
<br>
ans+1 -> infoLost[r ] 1+i
<br>
・さらに演算を繰り返すと、誤差情報は消えることなく伝播する
<br>
ans+1 -> infoLost[r ] 2+i
<br>
ans+1 -> infoLost[r ] 3+i
<br>
ans+1 -> infoLost[r ] 4+i
<br>
ans+1 -> infoLost[r ] 5+i
<br>
・真値が0との乗算では本来、誤差情報も消えるが、逐次判定しないため、誤差情報が残る
<br>
ans*0 -> infoLost[r ] 0
<br>
<br>
桁落ちは判定困難で評価にかかる<a href="#span-out-ope">演算量</a>を見積もれないため、評価しない
<br>
・整数演算を一例に示す
<br>
・丸め誤差を含む2つの整数を作る
<br>
・<a href="#span-out-comment">comment文</a>に有効桁のbit列を示す
<br>
255  <span class="selection">// 11111111</span> -> 255
<br>
255&gt;&gt;2  <span class="selection">// 111111</span> -> 63
<br>
ans&lt;&lt;2  <span class="selection">// 11111100</span> -> 252
<br>
255&gt;&gt;3  <span class="selection">// 11111</span> -> 31
<br>
ans&lt;&lt;3  <span class="selection">// 11111000</span> -> 248
<br>
・2つの整数の差を取ると有効桁が減少して丸め誤差が拡大する
<br>
252-248  <span class="selection">// 100</span> -> 4
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
数値解の
<br>
数値誤差
    </th>
    <td>
<span id="span-out-error-numerical"></span>
数値解の数値誤差について記述する
<br>
<br>
Computer Algebra Systemで解析的に真値||厳密解||解析解が得られない場合
<br>
・数値誤差を許容した数値解を得る（例えば、<a href="#span-out-FNh-DX">微分</a>・<a href="#span-out-FNh-IX">積分</a>）
<br>
・<a href="#span-out-application">application</a>の数値解のthroughputを優先するため、Computer Algebra System未実装
<br>
・よって解析解が得られるcaseも数値誤差を許容する
<br>
詳細は<a href="#span-out-development-problems-CAS">未実装のCAS</a>参照
<br>
<br>
無限を有限で数学的に近似する際、数値誤差の定義を列挙する
<br>
・近似値の真値に対する絶対誤差||相対誤差
<br>
・近似解の厳密解に対する絶対誤差||相対誤差
<br>
・数値解の解析解に対する絶対誤差||相対誤差（以降、解析誤差と呼ぶ）
<br>
<br>
数値誤差は目安の解析誤差（絶対誤差）のOrderを表示する
<br>
・Order表示は後置の+O(実部+虚部i)とする
<br>
・目安のため、解のdouble-checkが必要
<br>
<br>
f(x)=x^2のx=1+iにおける1階微分の数値解
<br>
x=1+i; _dx(=&lt;{x^2})
<br>
-> 1.9999999999996223+1.9999999999996223i+O(1e-12+1e-12i)
<br>
・上記微分の解析解
<br>
x=1+i; 2x -> 2+2i
<br>
・<a href="#span-out-vars">変数</a>を使用
<br>
ansn=1.9999999999996223+1.9999999999996223i;
<br>
ansa=2+2i;
<br>
dans=ansn-ansa;
<br>
・絶対誤差
<br>
erra=abs(real(dans))+abs(imag(dans))i; erra
<br>
-> 3.7769787297747826e-13+3.7769787297747826e-13i
<br>
・絶対誤差の<a href="#span-out-FNm-norm">Euclidean norm</a>
<br>
normc(erra) -> 5.341454544442203e-13
<br>
・相対誤差
<br>
errr=abs(real(erra)/real(ansa))+abs(imag(erra)/imag(ansa))i; errr
<br>
-> 1.8884893648873913e-13+1.8884893648873913e-13i
<br>
・相対誤差の<a href="#span-out-FNm-norm">Euclidean norm</a>
<br>
normc(errr) -> 2.6707272722211015e-13
<br>
<br>
f(x)=x^4の積分区間[0,1+i]における定積分の数値解
<br>
a=0; b=1+i; _ix(=&lt;{x^4},a,b) || ab=[0,1+i]; _ix(=&lt;{x^4},ab)
<br>
-> -0.8000000053333336-0.8000000053333334i+O(1e-8+1e-8i)
<br>
・解析解
<br>
a=0; b=1+i; (b^5-a^5)/5 -> -0.8000000000000003-0.8000000000000002i
<br>
・<a href="#span-out-vars">変数</a>を使用
<br>
ansn=-0.8000000053333336-0.8000000053333334i;
<br>
ansa=-0.8000000000000003-0.8000000000000002i;
<br>
dans=ansn-ansa;
<br>
・絶対誤差
<br>
erra=abs(real(dans))+abs(imag(dans))i; erra
<br>
-> 5.333333330526102e-9+5.3333332195038e-9i
<br>
・絶対誤差の<a href="#span-out-FNm-norm">Euclidean norm</a>
<br>
normc(erra) -> 7.54247225018186e-9
<br>
・相対誤差
<br>
errr=abs(real(erra)/real(ansa))+abs(imag(erra)/imag(ansa))i; errr
<br>
-> 6.666666663157625e-9+6.666666524379749e-9i
<br>
・相対誤差の<a href="#span-out-FNm-norm">Euclidean norm</a>
<br>
normc(errr) -> 9.428090312727323e-9
<br>
<br>
数値誤差の特徴を示す
<br>
・数値誤差を含む演算結果に対して
<br>
x=1+i; _dx(=&lt;{x^2})
<br>
-> 1.9999999999996223+1.9999999999996223i+O(1e-12+1e-12i)
<br>
・演算すると目安の解析誤差も演算される
<br>
ans*1e3 -> 1999.9999999996223+1999.9999999996223i+O(1e-9+1e-9i)
<br>
ans/1e3 -> 1.9999999999996223+1.9999999999996223i+O(1e-12+1e-12i)
<br>
ans*ans -> 7.999999999996978i+O(8e-12i)
<br>
sinh(ans) -> 0.9893582466238214i+O(1e-12i)
<br>
・解析誤差は符号がないため、減算||加算では誤差の最大値を選択する
<br>
ans+2ans -> 2.968074739871464i+O(2e-12i)
<br>
ans-2ans -> -2.968074739871464i+O(5e-12i)
<br>
・真値が0との乗算では、目安の解析誤差も消える
<br>
ans*0 -> 0
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算flow
    </th>
    <td>
<span id="span-out-flow"></span>
演算実行確定1回の演算flowについて記述する
<br>
<br>
次の3関数による演算flowを示す
<br>
main関数　⇔　parse関数　⇔　operation関数
<br>
・main関数
<br>
　pre処理：入力dataを作ってparse関数に渡す
<br>
　post処理：出力dataから演算結果を外部に表示する
<br>
・parse関数
<br>
　pre処理：入力dataから実行文を作ってoperation関数に渡す
<br>
　post処理：演算結果から出力dataを作ってmain関数に返す
<br>
・operation関数
<br>
　run処理：実行文から演算結果を作ってparse関数に返す
<br>
<br>
parse関数とoperation関数の役割分担を示す
<br>
<br>
parse関数の役割はcompiler
<br>
・<a href="#span-out-BT">括弧</a>のnestingによる構文を解析し、深さ方向に<a href="#span-in-tree">tree構造</a>を階層化する
<br>
・<span class="clear">Ver.2.228.56</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>も同様に、<a href="#span-out-BT">括弧</a>に変換して階層化
<br>
・入力dataの字句を解析してtagを付ける
<br>
・逐次、入力dataを実行文のtreeに置換する
<br>
<br>
operation関数の役割はinterpreter
<br>
・<a href="#span-out-prec">演算のprecedence</a>に従って実行文を実行する
<br>
・逐次、実行文のtreeを演算結果のtreeに置換する
<br>
・再帰的に<a href="#span-in-tree">単位tree構造</a>に帰結する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算仕様
    </th>
    <td>
<span id="span-out-ope"></span>
演算量||演算速度に関係する演算仕様の概要について記述する
<br>
<br>
<a href="#span-out-UI-simple">UI設定</a>によって対応する用途を4種類示す
<br>
・有次元の<a href="#span-out-com">複素数</a>の<a href="#span-out-mat">行列</a>演算（complex selected &amp;&amp; matrix checked）
<br>
・有次元の実数の<a href="#span-out-mat">行列</a>演算（real selected &amp;&amp; matrix checked）
<br>
・無次元の<a href="#span-out-com">複素数</a>演算（complex selected &amp;&amp; matrix unchecked）
<br>
・無次元の実数演算（real selected &amp;&amp; matrix unchecked）
<br>
<br>
次の2次の正方行列の<a href="#span-out-mat-product">行列積</a>を一例に
<br>
(0,0:0,1+i)(1,0:0,1)
<br>
・上記の用途順に演算結果のみ示す
<br>
-> (0,0:0,1+i)
<br>
-> (0,0:0,1)
<br>
-> 1+i
<br>
-> 1
<br>
<br>
用途によらず、行列要素は左から右にすべて演算する
<br>
・行vectorをcolon:区切りで列挙
<br>
(x=1,x=2x:x=2x,x) -> (0,0:0,4)
<br>
・列vectorをcolon:区切りで列挙
<br>
{x=1,x=2x:x=2x,x} -> (0,0:0,4)
<br>
<br>
その上で、無次元の演算の場合、operandの<a href="#span-out-FNm-last">最終要素</a>を取り出して演算する
<br>
(x=1,x=2x:x=2x,x)*1 || {x=1,x=2x:x=2x,x}*1 || (0,0:0,4)*1 || (4)*1 -> 4
<br>
・よって行列の積は次の乗算に変換される
<br>
(x=1,x=2x:x=2x,x){x=1,x=2x:x=2x,x} || (4)*{4} -> 16
<br>
<br>
以上より、n次の正方行列の<a href="#span-out-mat-product">行列積</a>の演算量を用途順に概算して示す
<br>
4*(n*n)*(n*n)
<br>
(n*n)*(n*n)
<br>
4
<br>
1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
real自動切替
    </th>
    <td>
<span id="span-out-auto-switching"></span>
real自動切替機能について記述する
<br>
<br>
<span class="run">Ver.2.184.44</span>以降、real自動切替機能を追加
<br>
・complex　⇒　auto-real selected既定
<br>
<br>
real自動切替機能の仕様を列挙する
<br>
・real判別方法：虚部が無次元の0（厳密等価）
<br>
・real判別対象：<a href="#span-out-FN">関数の引数vector</a>||<a href="#span-out-prec-ope">四則演算子のoperand</a>
<br>
<br>
test caseを列挙する
<br>
eps -> 2.220446049250313e-16
<br>
MIN_VALUE -> 5e-324
<br>
1/0 -> Infinity
<br>
2**3 -> 8
<br>
2^3 -> 8
<br>
(2**3)i -> 8i
<br>
(-1)**0.5 -> NaN
<br>
(-1)^0.5 -> NaN
<br>
sqrt(-1) -> NaN
<br>
sqrt(2) -> 1.4142135623730951
<br>
sqrt(4) -> 2
<br>
sqrt(i) -> 0.7071067811865476+0.7071067811865475i
<br>
pow(-1,0.5) -> NaN
<br>
pow(2,2) -> 4
<br>
pow(2,4) -> 16
<br>
pow(i,4) -> 1-2.4492935982947064e-16i
<br>
pow(2,i) -> 0.7692389013639721+0.6389612763136348i
<br>
log(-1) -> NaN
<br>
log(2) -> 0.6931471805599453
<br>
log(4) -> 1.3862943611198906
<br>
log(i) -> 1.5707963267948966i
<br>
sqrt(-1+false*i) -> NaN
<br>
sqrt(-1+eps*i) -> 6.123233995736766e-17+i
<br>
sqrt(-1+MIN_VALUE*i) -> 6.123233995736766e-17+i
<br>
pow(-1+(eps)i,0.5) -> 6.123233995736766e-17+i
<br>
pow(-1+(MIN_VALUE)i,0.5) -> 6.123233995736766e-17+i
<br>
log(-1+i*eps) -> 3.141592653589793i
<br>
log(-1-i*eps) -> -3.141592653589793i
<br>
pow(2+MIN_VALUE*i,3) -> 7.999999999999998
<br>
complex(2,false)**3 -> 7.999999999999998+O(2e-15)
<br>
imag(NaN*(1+2i)) -> NaN
<br>
2.2%2 -> 0.20000000000000018
<br>
NaN&amp;NaN -> 0
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
拡張行列演算
    </th>
    <td>
<span id="span-out-ope-extended"></span>
拡張行列演算の演算仕様について記述する
<br>
<br>
<span class="run">Ver.2.73.29</span>以降、<span class="clear">本来、定義できない<a href="#span-out-mat">行列</a>演算を拡張</span>して<span class="run">拡張行列演算</span>を定義する
<br>
・定義できない<a href="#span-out-mat">行列</a>演算は実用しないため、拡張前の演算結果に影響なし
<br>
・<span class="run">Ver.2.74.29</span>以降、<a href="#span-out-type-ope">演算子のoperand</a>を追加で拡張
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を拡張対象に追加
<br>
詳細は<a href="#span-out-ope-extended-history2">拡張履歴</a>参照
<br>
<br>
拡張行列演算の仕様を列挙する
<br>
・拡張対象：<a href="#span-out-FN">関数の引数vector</a>||<a href="#span-out-type-ope">演算子のoperand</a>
<br>
・<a href="#span-out-FNh-RX">再帰高階関数</a>の反復処理より高速に演算可
<br>
・<a href="#span-out-FNm">行列関数</a>||<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>は拡張対象外（変更なし）
<br>
<br>
test caseを列挙する
<br>
・Hadamard積
<br>
(1,2,3)*(4,5,6) -> (4,10,18)
<br>
・<a href="#span-out-ope">実数演算</a>
<br>
min(1,2:3,4) || (min(1,2):min(3,4)) -> (1:3)
<br>
max(1,2:3,4) || (max(1,2):max(3,4)) -> (2:4)
<br>
(2,3,4)^(1,2) || (2,3,4)^(1,2,2) -> (2,9,16)
<br>
(2,3)**{1,2} || (2,3:2,3)**{1,2:1,2} || (2,3:2,3)**(1,1:2,2) -> (2,3:4,9)
<br>
(1,2:3,4:5)**{1,2} || (1,2:3,4:5)**{1,2,2:1,2} || (1,2:3,4:5)**(1,1:2,2:2) -> (1,2:9,16:25)
<br>
(3,5,7)%(1,5) || (3,5,7)%(1,5,5) -> (0,0,2)
<br>
(1,2,4)/2 || (1,2,4)/(2,2,2) -> (0.5,1,2)
<br>
2/(1,2,4) || (2,2,2)/(1,2,4) -> (2,1,0.5)
<br>
<span class="condition">
(1,2,4)2 || (1,2,4)*2 || (1,2,4)*(2,2,2) -> (2,4,8)
<br>
(2,3)(1,2,4) || (2,3)*(1,2,4) || (2,3,3)*(1,2,4) -> (2,6,12)
<br>
(1,2,4)-2 || (1,2,4)-(2,2,2) -> (-1,0,2)
<br>
(2,3)+(1,2,4) || (2,3,3)+(1,2,4) -> (3,5,7)
<br>
(2,3)=(1,2,4) || (2,3,3)=(1,2,4) || =(1,2,4)-(2,3,3) -> (-1,-1,1)
<br>
clear; x=(2,3); x=(1,2,4); x -> (1,2,4)
<br>
clear; x=(2,3); (1,2,4)=x || (1,2,4)=(2,3) || =(2,3,3)-(1,2,4) -> (1,1,-1)
</span>
<br>
(2,4,8)&gt;&gt;(3,1) || (2,4,8)&gt;&gt;(3,1,1) -> (0,2,4)
<br>
clear; (x={0,1,2,3,4,5,6,7})||~(x&lt;&lt;1)%3 -> (-1:-3:-2:-1:-3:-2:-1:-3)
<br>
・<a href="#span-out-com">複素数</a>演算
<br>
camin((1,2:3,4)i) || (camin(1i,2i):camin(3i,4i)) -> (1:3)
<br>
camax((1,2:3,4)i) || (camax(1i,2i):camax(3i,4i)) -> (2:4)
<br>
(5,3,1)/(2i,i) || (5,3,1)/(2i,i,i) -> (-2.5i,-3i,-i)
<br>
clear; x={0,1,2,3,4,5,6,7}; y=(x*1,x*2,x*3)/(i,-2,3); y ->
<br>
(
<br>
0,0,0:
<br>
-i,-1,1:
<br>
-2i,-2,2:
<br>
-3i,-3,3:
<br>
-4i,-4,4:
<br>
-5i,-5,5:
<br>
-6i,-6,6:
<br>
-7i,-7,7
<br>
)
<br>
min(y),max(y) -> (0,0:-1,1:-2,2:-3,3:-4,4:-5,5:-6,6:-7,7)
<br>
clear; x={0,1,2,3,4,5,6,7}; N=sizer(x); f=e^((x*2*pi/N)i); f ->
<br>
(
<br>
1:
<br>
0.7071067811865476+0.7071067811865475i:
<br>
6.123233995736766e-17+i:
<br>
-0.7071067811865475+0.7071067811865476i:
<br>
-1+1.2246467991473532e-16i:
<br>
-0.7071067811865477-0.7071067811865475i:
<br>
-1.8369701987210297e-16-i:
<br>
0.7071067811865474-0.7071067811865477i
<br>
)
<br>
round_real(f,n)=&lt;round(real(f)*round(10**(n||1)))/round(10**(n||1));
<br>
round_imag(f,n)=&lt;round(imag(f)*round(10**(n||1)))/round(10**(n||1));
<br>
round_f(f,nr,ni)=&lt;round_real(=&lt;f,nr)+(round_imag(=&lt;f,ni))i;
<br>
round_f(=&lt;f,,2) -> (1:0.7+0.71i:i:-0.7+0.71i:-1:-0.7-0.71i:-i:0.7-0.71i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
型の種類
    </th>
    <td>
<span id="span-out-types"></span>
型の種類について記述する
<br>
<br>
演算単位として唯一定義する型、structureを次に示す
<br>
・<a href="#span-out-float">浮動小数点数</a>の実部と虚部から成る<a href="#span-out-com">複素数</a>の<a href="#span-out-mat">行列</a>
<br>
<br>
演算単位のstructureを以降、<a href="#span-in-tree">単位tree構造</a>と呼ぶ
<br>
・複素数や整数、文字列等の型は定義しない（必要に応じて変数名で区別する）
<br>
・<a href="#span-out-vars-symbol">変数名symbol</a>のみ、call時に内部で判別する
<br>
・よって<a href="#span-out-ope">用途</a>をseamlessに切替えて<a href="#span-out-ope">演算量</a>を調整する
<br>
<br>
詳細は<a href="#span-in-tree">単位tree構造</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数の種類
    </th>
    <td>
<span id="span-out-types-vars"></span>
変数の種類について記述する
<br>
<br>
変数の種類は以下2種類で代入記号と読出し方法が異なる
<br>
・<a href="#span-out-vars">変数</a>
<br>
・<a href="#span-out-eqns">式変数</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
const宣言
    </th>
    <td>
<span id="span-out-const-vars"></span>
const宣言について記述する
<br>
・<span class="clear">Ver.2.741.109</span>以降、memory確保の致命的な不具合を修正
<br>
　<a href="#span-out-eqns">式変数</a>の<a href="#span-out-eqns-call">式読出し</a>：常に動的に確保　⇒　const宣言の場合、静的に確保（<a href="#span-in-options">useStaticScopes2dArray</a>同様）
<br>
$make_f=&lt;[,=&lt;()=&lt;1]=&gt;; _r(=&lt;make_f(),,1e8) -> <del><span class="clear">out of memory</span></del>static memory
<br>
<br>
<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止するconst宣言を暫定追加（$開始のbeta版）
<br>
・<span class="run">Ver.2.254.59</span>以降、<a href="#span-out-option8">$let宣言</a>の再代入の仕様変更（初回のみ、$あり　⇒　常時、$あり）
<br>
・<span class="run">Ver.2.261.61</span>以降、define判別<span class="condition">id</span>を追加して<a href="#span-out-eqns">式変数</a>のre-callに対応（<a href="#span-out-eqns-re-use">再利用</a>の場合、id削除）
<br>
[$f=&lt;0,$a=1,$b=2,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;f,f(3)=&gt;,f(4)=&gt;,f(5)=&gt; -> (0,6,7,8)
<br>
f(c)=&lt;[$f=&lt;0,$a=1,$b=2,=&lt;f=&gt;+a+b+c]=&gt;,f(3)=&gt;,f(4)=&gt;,f(5)=&gt;
<br>
-> <del>[MyErr]Invalid SEe-scope-duplicate(f)</del>(0,6,7,8)
<br>
・<span class="run">Ver.2.262.61</span>以降、<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>に対応
<br>
[$f=&lt;0,$a=1,$b=2,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;$g,g=&lt;1 -> [MyErr]Invalid SEe-scope-const(g)
<br>
f(c)=&lt;[$f=&lt;0,$a=1,$b=2,=&lt;f=&gt;+a+b+c]=&gt;$f,f(3)=&gt; -> [MyErr]Invalid SEe-scope-existed(f)
<br>
・<span class="clear">Ver.2.262.62</span>以降、define判別<span class="condition">id</span>が消失する致命的な不具合を修正（value-id　⇒　name-id継承）
<br>
clear; $a=-1; ((((a)=&lt;(b)=&lt;(a,b))|||false)(1)=&gt;)(2)=&gt; -> <del>(-1,2)</del>[MyErr]Invalid SEv-scope-const(a)
<br>
・<span class="run">Ver.2.264.62</span>以降、<a href="#span-out-eqns-re-use">式変数の再利用</a>に対応（id削除　⇒　name-id保持）
<br>
clear -> local storage cleared
<br>
$x=-1; x -> -1
<br>
f(x)=&lt;x; f(1)=&gt; -> <del>1</del>[MyErr]Invalid SEv-scope-const(x)
<br>
f(x)=&lt;[=&lt;x]=&gt;; f(1)=&gt; -> 1
<br>
clear -> local storage cleared
<br>
$f=&lt;-1; f=&gt; -> -1
<br>
f(x)=&lt;[=&lt;x]=&gt;; f(1)=&gt; -> <del>1</del>[MyErr]Invalid SEe-scope-const(f)
<br>
g(=&lt;f)=&lt;f=&gt;; g(=&lt;1)=&gt; -> <del>1</del>[MyErr]Invalid SEe-scope-const(f)
<br>
g(=&lt;f)=&lt;[=&lt;f=&gt;]=&gt;; g(=&lt;1)=&gt; -> 1
<br>
・<a href="#span-out-scope-reference">scope参照</a>
<br>
clear; $a=2; f(?a)=&lt;a=3; f(?a) -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; $a=2; f(?a)=&lt;last[,a=3]; f(?a) -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; $a=2; f(a)=&lt;a=3; f(a) -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; $a=2; f(a)=&lt;last[,a=3]; f(a) -> 0
<br>
・<span class="run">Ver.2.298.72</span>~<span class="run">2.372.86</span>以降、<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>
<br>
clear; $A=(1,2:3,4); A.unshift(5); A -> [MyErr]Invalid const var(A.unshift)
<br>
clear; $A=(1,2:3,4); A.push(5); A -> [MyErr]Invalid const var(A.push)
<br>
clear; $A=(1,2:3,4); A.shift(); A -> [MyErr]Invalid const var(A.shift)
<br>
clear; $A=(1,2:3,4); A.pop(); A -> [MyErr]Invalid const var(A.pop)
<br>
clear; $A=(1,2:3,4); A.flip(); A -> [MyErr]Invalid const var(A.flip)
<br>
<br>
<a href="#span-out-option8">$const宣言</a>（$開始のbeta版）
<br>
・<a href="#span-out-vars">変数</a>
<br>
clear; $a=1; a -> 1
<br>
・<a href="#span-out-matching">行列要素pattern matching</a>はlet宣言
<br>
clear; a=1; ($a)=2; a -> 2
<br>
clear; ($a)=2; a=1; a -> 1
<br>
clear; ($a)=2; $a=1; a -> [MyErr]Invalid SEv-scope-existed(a)
<br>
clear; $a=1; a=2; a -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; $a=-1; a=-2; a -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; $a=1; ($a)=2; a -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; a=1; $a=2; a -> [MyErr]Invalid SEv-scope-existed(a)
<br>
clear; ($a)=1; $a=2; a -> [MyErr]Invalid SEv-scope-existed(a)
<br>
clear; $a=1; $a=2; a -> [MyErr]Invalid SEv-scope-duplicate(a)
<br>
clear; ($a=0,[$a=1,[$a=2,[$a=3,a],a],a],a) -> (0,0,0,0,3,2,1,0)
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>はlet宣言
<br>
clear; $n=1; f(n)=&lt;(n,n); f(1),f(2) -> [MyErr]Invalid SEv-scope-const(n)
<br>
clear; $n=1; f(m)=&lt;(m=2,m); f(n),f(n) -> (0,2,0,2)
<br>
・<a href="#span-out-scope-vars-has1BT">単独scope</a>
<br>
clear; $n=1; f(n)=&lt;[n,n]; f(1),f(2) -> (1,1,2,2)
<br>
・dummy変数はlet宣言
<br>
clear; _s((n)=&lt;n+1,1,3) -> 9
<br>
clear; _s((n)=&lt;n+1,1,3); $n=1; n -> 1
<br>
clear; n=1; _s((n)=&lt;n+1,n,3) -> 9
<br>
・<a href="#span-out-terms">scope変数</a>の宣言と干渉あり仕様
<br>
clear; $n=1; _s((n)=&lt;n+1,n,3) -> [MyErr]Invalid SEv-scope-const(n)
<br>
clear; _s((n)=&lt;n+1,1,3); $n=1; n -> 1
<br>
・<a href="#span-out-eqns">式変数</a>
<br>
clear; $f=&lt;1; f -> 1
<br>
clear; $f=&lt;1; f=&lt;2; f -> [MyErr]Invalid SEe-scope-const(f)
<br>
clear; f=&lt;1; $f=&lt;2; f -> [MyErr]Invalid SEe-scope-existed(f)
<br>
clear; $f=&lt;1; $f=&lt;2; f -> [MyErr]Invalid SEe-scope-duplicate(f)
<br>
clear; ($f=&lt;0,[$f=&lt;1,[$f=&lt;2,[$f=&lt;3,f],f],f],f) -> (0,0,0,0,3,2,1,0)
<br>
<br>
<a href="#span-out-option8">$let宣言</a>（$開始のbeta版）
<br>
・<a href="#span-out-vars">変数</a>
<br>
clear; a=1; a -> 1
<br>
・<a href="#span-out-matching">行列要素pattern matching</a>はlet宣言
<br>
clear; $a=1; ($a)=2; a -> 2
<br>
・<span class="run">Ver.2.254.59</span>以降、$let宣言の再代入の仕様変更（初回のみ、$あり　⇒　常時、$あり）
<br>
clear; ($a)=2; a=1; a -> <del>1</del>[MyErr]Invalid SEv-scope-existed(a)
<br>
clear; ($a)=2; $a=1; a -> <del>[MyErr]Invalid SEv-scope-duplicate(a)</del>1
<br>
clear; a=1; $a=2; a -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; a=-1; $a=-2; a -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; a=1; ($a)=2; a -> [MyErr]Invalid SEv-scope-const(a)
<br>
clear; a=1; a=2; a -> [MyErr]Invalid SEv-scope-<del>existed</del>duplicate(a)
<br>
clear; $a=1; $a=2; a -> <del>[MyErr]Invalid SEv-scope-duplicate(a)</del>2
<br>
clear; $a=1; a=2; a -> <del>2</del>[MyErr]Invalid SEv-scope-existed(a)
<br>
clear; ($a)=1; a=2; a -> <del>2</del>[MyErr]Invalid SEv-scope-existed(a)
<br>
clear; (a=0,[a=1,[a=2,[a=3,a],a],a],a) -> (0,0,0,0,3,2,1,0)
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>はlet宣言
<br>
clear; n=1; f(n)=&lt;(n,n); f(1),f(2) -> [MyErr]Invalid SEv-scope-const(n)
<br>
clear; n=1; f(m)=&lt;(m=2,m); f(n),f(n) -> <del>(0,2,0,2)</del>[MyErr]Invalid SEv-scope-existed(m)
<br>
clear; n=1; f(m)=&lt;($m=2,m); f(n),f(n) -> (0,2,0,2)
<br>
・<a href="#span-out-scope-vars-has1BT">単独scope</a>
<br>
clear; n=1; f(n)=&lt;[n,n]; f(1),f(2) -> (1,1,2,2)
<br>
・dummy変数はlet宣言
<br>
clear; _s((n)=&lt;n+1,1,3) -> 9
<br>
clear; _s((n)=&lt;n+1,1,3); n=1; n -> 1
<br>
clear; $n=1; _s((n)=&lt;n+1,n,3) -> 9
<br>
・<a href="#span-out-terms">scope変数</a>の宣言と干渉あり仕様
<br>
clear; n=1; _s((n)=&lt;n+1,n,3) -> [MyErr]Invalid SEv-scope-const(n)
<br>
clear; _s((n)=&lt;n+1,1,3); n=1; n -> 1
<br>
・<a href="#span-out-eqns">式変数</a>
<br>
clear; f=&lt;1; f -> 1
<br>
clear; f=&lt;1; $f=&lt;2; f -> [MyErr]Invalid SEe-scope-const(f)
<br>
clear; f=&lt;1; f=&lt;2; f -> [MyErr]Invalid SEe-scope-<del>existed</del>duplicate(f)
<br>
clear; $f=&lt;1; $f=&lt;2; f -> <del>[MyErr]Invalid SEe-scope-duplicate(f)</del>2
<br>
clear; $f=&lt;1; f=&lt;2; f -> <del>2</del>[MyErr]Invalid SEe-scope-existed(f)
<br>
clear; (f=&lt;0,[f=&lt;1,[f=&lt;2,[f=&lt;3,f],f],f],f) -> (0,0,0,0,3,2,1,0)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-vars">変数</a>の場合、参照ではなく、<a href="#span-out-mat">行列</a>iterableのconst宣言として定義する
<br>
clear; $A=(1,2:3,4); A[1][1]=-1; A -> [MyErr]Invalid SEv-scope-const(A)
<br>
clear; $A=(1,2:3,4); A.push(5); A -> [MyErr]Invalid const var(A.push)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数のscope
    </th>
    <td>
<span id="span-out-scope"></span>
変数のscopeについて記述する
<br>
<br>
<del>各変数にscopeの概念はない</del><span class="run">Ver.2.31.17</span>以降、<a href="#span-out-scope-vars">変数のscope</a>を追加
<br>
・変数毎に<a href="#span-out-storage">storage</a>を共有する
<br>
・<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>のdummy変数のみ、scopeが独立する
<br>
<br>
次の<a href="#span-out-command">命令文</a>の組合せで完全独立のlocal scopeを代替可
<br>
・<a href="#span-out-comment">comment文</a>を使用
<br>
x=2; store; clear; x=3<span class="selection">/*independent local scope*/</span>; restore; x -> 2
<br>
<br>
<span class="run">Ver.2.31.17</span>以降、<a href="#span-out-BT-square">角括弧[]</a>に変数のscopeを追加
<br>
・Nativeのvar宣言の場合、関数宣言に紐付くfunction-scope（<a href="#span-out-option6">useScopeWith</a>参照）に対して
<br>
・let||const宣言同様に、<a href="#span-out-BT">括弧</a>に紐付くblock-scopeとして扱う<del>ため、
<br>
・scope不定の<a href="#span-out-eqns-args">式変数のarguments</a>を削除する等、closure機能が異なる</del>
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-terms">scope変数</a>から削除しない仕様に変更
<br>
・<span class="run">Ver.2.290.71</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-terms">scope変数</a>保持条件の仕様変更
<br>
　保持条件：無条件　⇒　<a href="#span-out-eqns">式変数</a>が未解決（右代入を含む）
<br>
・<span class="run">Ver.2.291.71</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-search">search-precedence</a>の仕様変更
<br>
<br>
特徴を列挙する
<br>
・<a href="#span-out-bracket">直列scope内</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>はreadonly（pollution disabled）
<br>
・block-scope範囲の可読性を優先（block単位の<a href="#span-out-BT-square">角括弧[]</a>内と対応）
<br>
・<a href="#span-out-scope-vars-has1BT">単独scope</a>を意識する負担あり
<br>
・<a href="#span-in-scope-vars">static scopes2d array</a>を共有するため、複数の状態を保持不可（new演算子は未実装）
<br>
<br>
<span class="run">Ver.2.213.47</span>以降、function-scopeに変更する場合、<a href="#span-out-config">useScope</a>||<a href="#span-out-option6">useScopeWith</a>||<a href="#span-out-config">内部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
参照透過性
    </th>
    <td>
<span id="span-out-ref-transparency"></span>
参照透過性について記述する
<br>
<br>
原則、参照透過性あり：実装関数の引数||<a href="#span-out-pass-by-equation">式渡し</a>が同値||同義の場合、常に同じ結果を返す
<br>
<del>一部、参照透過性なし：実装関数が作る<a href="#span-out-terms">scope変数</a>の再利用の可否を意識する負担あり
<br>
<br>
<a href="#span-out-terms">scope変数</a>を参照する実装関数を列挙する
<br>
・<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>
<br>
<br>
<a href="#span-out-terms">scope変数</a>を参照、上書きする実装関数を列挙する
<br>
・<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>||<a href="#span-eqn-solvex_iteration">solvex_iteration</a>||<a href="#span-eqn-solveAinv">solveAinv</a>||<a href="#span-eqn-solvex_non_linear">solvex_non_linear</a>
<br>
・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-eqn-explicit-ODE_RK4">explicit ODE_RK4</a></del><span class="run">Ver.2.234.56</span>以降、対策完了
<br>
<br>
<del>引数省略時、<a href="#span-out-terms">scope変数</a>を参照する実装関数を列挙する
<br>
・<a href="#span-out-FNh-DX">微分高階関数</a></del><span class="run">Ver.2.857.158</span>以降、対策完了
<br>
<br>
暫定対策を列挙する
<br>
・<a href="#span-out-storage">local変数</a>を追加/削除する<a href="#span-out-FNc">add/del最上位関数</a>
<br>
・<span class="run">Ver.2.222.50</span>以降、<a href="#span-out-command">命令文</a>を拡張
<br>
・<span class="clear">Ver.2.225.53</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>のdummy変数が<a href="#span-out-terms">scope変数</a>に残存する不具合を修正
<br>
・<span class="clear">Ver.2.226.56</span>以降、<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>のdummy変数が<a href="#span-out-terms">scope変数</a>に残存する不具合を修正
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-terms">scope変数</a>から削除しない仕様に変更
<br>
　上書き不可の仕様を維持（<a href="#span-out-eqns-re-call">再帰call</a>の参照透過性を維持）
<br>
・<span class="run">Ver.2.231.56</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の対策を実施
<br>
　dummy変数の<a href="#span-out-vars-symbol">変数名symbol</a>：関数名の一部　⇒　関数の引数（<span class="run">Ver.2.812.131</span>以降、旧仕様廃止）
<br>
・<span class="run">Ver.2.234.56</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の対策を完了
<br>
　<a href="#span-out-terms">scope変数</a>を参照、上書きする　⇒　<a href="#span-out-terms">scope変数</a>から独立する（引数のみ有効）
<br>
・<span class="run">Ver.2.857.158</span>以降、<a href="#span-out-FNh-DX">微分高階関数</a>の対策を完了
<br>
　<a href="#span-out-terms">scope変数</a>を参照する　⇒　<a href="#span-out-terms">scope変数</a>から独立する（引数のみ有効）
<br>
・以上より、<span class="clear">Ver.2.835.141</span>~<span class="clear">2.857.159</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の関連項目を一括削除
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
storage
    </th>
    <td>
<span id="span-out-storage"></span>
storageについて記述する
<br>
・<span class="clear">Ver.2.139.36</span>以降、global storageの初期化処理を修正（初回のClear実行でerror発生時の対策）
<br>
<br>
storageは<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>を別々に保存するobjectで次の3種類
<br>
・local storage
<br>
・global storage
<br>
・local buffer
<br>
<br>
local storage
<br>
・演算実行確定1回の各実行文の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>を保存する
<br>
・保存された変数を<a href="#span-out-terms">local変数</a>と呼ぶ
<br>
<br>
global storage
<br>
・演算実行確定1回毎に返る<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>を累積保存する
<br>
・保存された変数を<a href="#span-out-terms">global変数</a>と呼ぶ
<br>
<br>
local buffer
<br>
・local storageを一時的に記憶する
<br>
・演算実行確定1回毎に初期化する
<br>
<br>
演算実行確定1回のstorageのflowを示す
<br>
・演算実行開始　global storage　⇒　local storageに復帰
<br>
・演算実行途中　local storageのread-write　⇔　local buffer
<br>
・演算実行終了　local storage　⇒　global storageに保存
<br>
<br>
<span class="run">Ver.2.31.17</span>以降、<a href="#span-in-scope-vars">static scopes2d array</a>を追加
<br>
・保存された変数を<a href="#span-out-terms">scope変数</a>と呼ぶ
<br>
・<a href="#span-out-terms">scope変数</a>（<a href="#span-out-terms">local storage</a>を除く）は演算実行確定1回毎に初期化
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>に対応
<br>
・演算実行開始で<a href="#span-out-eqns">式変数</a>の復帰時、<a href="#span-in-scope-vars">scope-ids</a>を更新
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
階層とscope
<br>
の関係
    </th>
    <td>
<span id="span-out-bracket"></span>
階層とscopeの関係について記述する
<br>
・<span class="clear">Ver.2.195.46</span>以降、追記
<br>
<br>
<a href="#span-out-flow">parse</a>段階で<a href="#span-out-BT">括弧</a>のnestingによる構文を解析し、深さ方向に<a href="#span-in-tree">tree構造</a>を階層化する
<br>
・<span class="clear">Ver.2.228.56</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>も同様に、<a href="#span-out-BT">括弧</a>に変換して階層化
<br>
・深さ0の0階層に<a href="#span-out-storage">local storage</a>を統合・共通化する（<a href="#span-out-command">命令文</a>を含む）
<br>
・既定で<a href="#span-out-BT-square">角括弧[]</a>のみ<a href="#span-out-scope-vars">変数のscope</a>を使用する
<br>
・0階層を除く階層は実行文毎に独立する
<br>
<span class="clear">・0階層を最上位の階層とする</span>
<br>
<span class="clear">・0階層から階層の深さを昇順に定義する</span>
<br>
・以上より、階層の概念を次に示す
<br>
実行文A[,];
<br>
実行文B[,[],[],[,[,[,]]]]; ->
<br>
0階層[A-1階層,];
<br>
0階層[B-1階層,[B-2階層並列1],[B-2階層並列2],[B-2階層並列3,[B-3階層直列,[B-4階層直列,]]]];
<br>
<br>
定義を列挙する
<br>
・階層毎に並列に並んだ<a href="#span-out-scope-vars">scope</a>は互いに独立で、並列scopeと定義する
<br>
・階層の深さ方向に直列に並んだ<a href="#span-out-scope-vars">scope</a>を直列scopeと定義する
<br>
・自身の階層<span class="clear">以上（深さの降順）の直列scopeは参照可能（readonly）</span>で、直列scope内と定義する
<br>
・それ以外の参照できない<a href="#span-out-scope-vars">scope</a>を直列scope外と定義する
<br>
・同じ階層の並列scopeは直列scope外に含む
<br>
・よって0階層の<a href="#span-out-storage">local storage</a>はすべての<a href="#span-out-scope-vars">scope</a>の直列scope内で共通化される
<br>
・以上より、<a href="#span-out-flow">parse</a>段階で作る<a href="#span-out-scope-vars">scope</a>の配列を<a href="#span-in-scope-vars">static scopes2d array</a>と定義する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
search-
<br>
precedence
    </th>
    <td>
<span id="span-out-search"></span>
<a href="#span-out-terms">scope変数</a>のsearch-precedenceについて記述する
<br>
<br>
<a href="#span-out-bracket">階層</a>の概念
<br>
実行文A[,];
<br>
実行文B[,[],[],[,[,[,]]]]; ->
<br>
0階層[A-1階層,];
<br>
0階層[B-1階層,[B-2階層並列1],[B-2階層並列2],[B-2階層並列3,[B-3階層直列,[B-4階層直列,]]]];
<br>
<br>
<a href="#span-out-terms">直列scope内変数</a>のsearch-precedenceの一例
<br>
・上記B-2階層並列1の場合、次の論理ORを短絡評価
<br>
B-2階層並列1 || B-1階層 || 0階層
<br>
・上記B-3階層直列の場合、次の論理ORを短絡評価
<br>
B-3階層直列 || B-2階層並列3 || B-1階層 || 0階層
<br>
・上記B-4階層直列の場合、次の論理ORを短絡評価
<br>
B-4階層直列 || B-3階層直列 || B-2階層並列3 || B-1階層 || 0階層
<br>
・よって直列scope内の<a href="#span-out-bracket">階層</a><span class="clear">（深さの降順）で0階層（<a href="#span-out-storage">local storage</a>）</span>が最下位のprecedence
<br>
<br>
<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>のsearch-precedence
<br>
・<a href="#span-out-vars">変数</a>を<a href="#span-out-eqns">式変数</a>より優先
<br>
・<span class="run">Ver.2.291.71</span>以降、<a href="#span-out-option9">useMutex</a>とともに仕様変更
<br>
　<a href="#span-out-vars">変数</a>||<a href="#span-out-eqns">式変数</a>のsearch-precedence：全階層　⇒　階層毎
<br>
clear; f=&lt;-1; f=1; [f=2,=&lt;f]=&gt;,[f=&lt;-2,=&lt;f]=&gt; -> (2,<del>1</del>eqn)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope継承
    </th>
    <td>
<span id="span-out-scope-inherited"></span>
scope継承について記述する
<br>
・<span class="run">Ver.2.31.17</span>以降、<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>を追加
<br>
・<span class="run">Ver.2.219.50</span>以降、<a href="#span-out-scope-inherited-pass">式変数のscope継承pass</a>を追加
<br>
<br>
留意事項を列挙する
<br>
・scope継承はcall時に実施（<a href="#span-out-substitution-equation">式代入</a>の継承を含む）
<br>
・<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の<a href="#span-out-pass-by-equation">式渡し</a>は非対応（対応予定なし）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope参照
    </th>
    <td>
<span id="span-out-scope-reference"></span>
scope参照について記述する
<br>
・<span class="run">Ver.2.303.73</span>以降、<a href="#span-out-terms">scope変数</a>のscope参照の仕様追加
<br>
　参照渡し記号：?symbol
<br>
・<span class="clear">Ver.2.303.74</span>以降、<a href="#span-out-reference-mat">行列への参照</a>を適用する参照渡しの不具合を修正
<br>
clear; f(?a)=&lt;a[0][0]=2; a=1,a,f(?a),a -> <del>(0,1,0,1)</del>(0,1,0,2)
<br>
・<span class="clear">Ver.2.304.76</span>以降、<a href="#span-out-eqns-re-use">再利用</a>の不具合を修正
<br>
clear; A=1,f(?A)=&lt;A=3,[A=2,f(?A),A];
<br>
A=4; A -> <del>Cannot read properties of undefined</del>4
<br>
clear; g=&lt;1,f(?g)=&lt;g=&lt;3,[g=&lt;2,f(?g),g()];
<br>
g=&lt;4; g() -> <del>Cannot read properties of undefined</del>4
<br>
・<span class="clear">Ver.2.343.83</span>以降、<a href="#span-out-vars">変数</a>の代入時に右辺のscope参照を削除する仕様に修正
<br>
clear; arr=(1,2),f=(?arr)=&lt;[arr1=arr,arr1[][1]=-1],f(?arr)=&gt;; arr -> <del>(1,-1)</del>(1,2)
<br>
clear; arr=(1,2),f=(?arr)=&lt;[arr1=arr,arr1[][1]=-1,arr=arr1],f(?arr)=&gt;; arr -> <del>(1,2)</del>(1,-1)
<br>
clear; arr=(1,2),f=(?arr)=&lt;[arr1=arr+0,arr1[][1]=-1,arr=arr1],f(?arr)=&gt;; arr -> (1,-1)
<br>
・<span class="clear">Ver.2.346.85</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>も同様に修正
<br>
clear; arr=(1,2),f=(?arr)=&lt;[($arr1)=(=&lt;arr),arr1[][1]=-1,],f(?arr)=&gt;; arr -> <del>(1,-1)</del>(1,2)
<br>
clear; arr=(1,2),f=(?arr)=&lt;[($arr1)=(=&lt;arr),arr1[][1]=-1,arr=arr1],f(?arr)=&gt;; arr -> <del>(1,2)</del>(1,-1)
<br>
<br>
留意事項を列挙する
<br>
・<span class="clear">Ver.2.343.83</span>以降、改善するが、右代入の併用困難（<a href="#span-eqn-Call-by-Reference">Call-by-Reference</a>参照）
<br>
・読出し時に参照を不使用のため、意図とは異なる可能性あり（現状、代入時のみ参照を使用）
<br>
・<a href="#span-out-terms">scope変数</a>未定義の場合、error終了
<br>
clear; a=1,f(?a)=&lt;a=2,a,f(?a),a -> (0,0,1,0,2)
<br>
clear; f(?a)=&lt;a=2,f(?a),a -> [MyErr]Undef scope-var(a)
<br>
clear; a=1,[f(?a)=&lt;a=2,a,f(?a),a] -> [MyErr]Undef scope-var(a)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
用語集
    </th>
    <td>
<span id="span-out-terms"></span>
用語を整理する
<br>
・<a href="#span-in-scope-vars">static scopes2d array</a>：全<a href="#span-out-bracket">scope</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の集合
<br>
・直列scope内変数：<a href="#span-out-bracket">直列scope内</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の集合
<br>
・直列scope内self変数：<a href="#span-in-scope-vars">self-ids</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>（<a href="#span-in-scope-vars">static scopes2d array</a>の単位要素）
<br>
・scope変数：直列scope内self変数（<a href="#span-out-eqns-args">式変数のarguments</a>の保存先||dummy変数のbuffer）
<br>
・<a href="#span-out-storage">local storage</a>：<a href="#span-in-scope-vars">static scopes2d array</a>の<a href="#span-out-bracket">0階層</a>に共通化
<br>
・local変数：<a href="#span-out-storage">local storage</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
<br>
・global変数：<a href="#span-out-storage">global storage</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
出力仕様
    </th>
    <td>
<span id="span-out-plot2d"></span>
Graphing Calculator's plot2dの出力仕様について記述する
<br>
<br>
plot2dの演算は高速化のため、<a href="#span-out-error">誤差</a>を評価しない・logを作らない
<br>
・<a href="#span-out-error">誤差</a>を含めたlogを作る場合、別途、通常の演算が必要
<br>
・<span class="clear">Ver.2.224.51</span>以降、<a href="#span-out-vars-symbol">変数名symbol</a>残存時のerror処理を追加（logを作る場合、log作成中に検出）
<br>
<br>
csv/history-txt出力のplot2d-command-logとplot2d-options-logについて記述する
<br>
・整合性保証のため、plot2dの演算実行確定時のlogを表示する
<br>
・よって演算終了後に変更した現在のzをlogに残す場合、再演算が必要
<br>
・<span class="clear">Ver.2.843.152</span>以降、<a href="#span-out-UI-graphing-v">v入力欄</a>を含むhistory-txt出力の不具合を修正（log出力無効　⇒　有効）
<br>
<br>
semi-colon;区切りで行列の<a href="#span-out-FNm-last">最終要素</a>の数値をgraphに描画する
<br>
・命令文||代入文||<a href="#span-out-mat-empty">空行列</a>のみを各軸に入力した場合、0を返して描画する
<br>
・処理を列挙する場合、最終列挙の要素が<a href="#span-out-FNm-last">最終要素</a>とは限らない点、留意が必要
<br>
詳細は<a href="#span-out-FNm-last">last行列関数</a>参照
<br>
<br>
媒介変数tの区間[t0,t1]の<a href="#span-out-storage">local storage</a>は独立
<br>
・<a href="#span-out-storage">global storage</a>をreadonlyで共有する場合、shared storage checked
<br>
<br>
x軸とy軸の<a href="#span-out-storage">local storage</a>はx軸優先で共通
<br>
・<a href="#span-out-storage">global storage</a>をreadonlyで共有する場合、shared storage checked
<br>
<br>
t0/t1の演算を実行後、x/yの演算を実行
<br>
・t0/t1の演算はSingle-thread実行で中断不可
<br>
・x/yの演算は<a href="#span-out-option3">Multi-thread実行</a>を選択可
<br>
<br>
<span class="run">Ver.2.162.39</span>以降、<a href="#span-out-literal">NaN</a>を含む演算結果の描画に対応
<br>
・<a href="#span-out-literal">NaN</a>要素のmarker出力を省略
<br>
・<a href="#span-out-literal">NaN</a>要素へのline出力を省略
<br>
・全要素が<a href="#span-out-literal">NaN</a>の場合、error終了（plot範囲の初期化失敗）
<br>
[MyErr]Invalid plot2d isInf
<br>
・非対応の機能を列挙する
<br>
　・<a href="#span-out-UI-graphing-string-path">string-path</a>
<br>
　・svg出力（marker||line出力の標準機能を除く）
<br>
<br>
svg出力機能について記述する
<br>
・<a href="#span-out-UI-graphing-post1">canvas-globalCompositeOperation</a>無効（source-over）
<br>
・既定markerのdestination-outは背景色source-overで代替（透明の場合、白）
<br>
・canvas描画処理の継承互換性のため、group化等による最適化はしない
<br>
・<a href="#span-out-UI-graphing-z">z入力欄</a>から入力不可のsemi-colon;等の特殊文字を直接file編集可
<br>
・その他、font-family等も直接file編集可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
-command
<br>
入力仕様
    </th>
    <td>
<span id="span-out-plot2d-command"></span>
Graphing Calculator's plot2d-commandの入力仕様について記述する
<br>
<br>
以下2種類のplot2d-commandは操作panel中段のtext入力欄から実行する
<br>
<a href="#span-out-plot2d-command-from-log">plot2d("t0","t1","xt","yt")</a> || <a href="#span-out-plot2d-command-from-log">plot2d(""t0"",""t1"",""xt"",""yt"")</a>　<span class="clear">Ver.2.843.151</span>以降、<a href="#span-out-spec-plot-history">仕様訂正</a>
<br>
<a href="#span-out-plot2d-command-from-arr">plot2d(xt,yt)</a>
<br>
<a href="#span-out-plot2d-command-from-arr">plot2d{xt,yt}</a>　<span class="run">Ver.2.175.42</span>以降、追加
<br>
・plot2d-command最優先で他の実行文は破棄other sentences ignored
<br>
・plot-button実行中の割込み不可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
-from-log
<br>
入力仕様
    </th>
    <td>
<span id="span-out-plot2d-command-from-log"></span>
plot2d-from-logの入力仕様について記述する
<br>
<br>
csv/history-txtに記録されるlogからplot2d-commandを実行する
<br>
・<span class="run">Ver.2.175.42</span>~<span class="clear">2.176.44</span>以降、実行後、空白文字が消失する不具合を修正
<br>
・<span class="run">Ver.2.810.131</span>以降、<span class="condition">更新箇所</span>
<br>
・<span class="clear">Ver.2.843.151</span>以降、<a href="#span-out-plot2d-command-from-log">plot2d-from-log</a>の<a href="#span-out-SR">区切り文字</a>と<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>の記号衝突を訂正
<br>
　tokenの区切り文字：'　⇒　["]{1,2}
<br>
<br>
plot2d-from-logのformatを次に示す
<br>
plot2d("t0","t1","xt","yt") || plot2d(""t0"",""t1"",""xt"",""yt"")
<br>
plot2d("t0","t1","xt","yt","N") || plot2d(""t0"",""t1"",""xt"",""yt"",""N"")
<br>
plot2d("t0","t1","xt","yt","N","z") || plot2d(""t0"",""t1"",""xt"",""yt"",""N"",""z"")
<br>
・<span class="clear">Ver.2.837.145</span>以降、<a href="#span-out-spaces">改行文字</a>に対応（<a href="#span-out-comment">line comment</a>を含む場合、実行不能を修正）
<br>
plot2d("t0","t1","xt
<br>
<span class="selection">// line comment</span>
<br>
","yt","N","z")
<br>
・<span class="run">Ver.2.25.12</span>以降、第5引数Nにsingle quotation mark<span class="condition">（tokenの区切り文字）</span>を付与
<br>
・<span class="run">Ver.2.27.14</span>以降、第6引数zと<a href="#span-out-comment">comment文</a>入力に対応<del><span class="condition">（commandの改行不可）</span></del>
<br>
　<span class="clear">Ver.2.837.145</span>以降、<a href="#span-out-spaces">改行文字</a>に対応
<br>
・plot2d-commandの一例を示す
<br>
plot2d("-5","5","t;","SND<span class="condition">(t)</span>=&lt;exp(-t^2/2)/sqrt(2pi),SND<span class="condition">(t)</span>;")
<br>
plot2d("-5","5","t;","SND<span class="condition">(t)</span>=&lt;exp(-t^2/2)/sqrt(2pi),SND<span class="condition">(t)</span>;","50")
<br>
plot2d("-5","5","t;","SND<span class="condition">(t)</span>=&lt;exp(-t^2/2)/sqrt(2pi),SND<span class="condition">(t)</span>;","50","circle")
<br>
　<span class="clear">Ver.2.843.150</span>以降、<a href="#span-out-UI-graphing-v">v入力欄</a>をcommandに追加
<br>
plot2d("-5","5","t;","SND<span class="condition">(t)</span>=&lt;exp(-t^2/2)/sqrt(2pi),SND<span class="condition">(t)</span>;","50","circle","","","")
<br>
・N入力値は<del>select値が存在するcaseのみ有効</del><span class="run">Ver.2.149.37</span>以降、数値のみ有効
<br>
・<a href="#span-out-comment">comment文</a>入力の一例を示す
<br>
plot2d("1e-3(1+i)<span class="selection">/*t0*/</span>","1e2(1+i)<span class="selection">/*t1*/</span>","x=t,x<span class="selection">/*xt*/</span>;","x;2x;3x;4x;5x;6x;7x;8x;9x;10x<span class="selection">/*yt*/</span>;","10","circle<span class="selection">/*marker*/</span>;")
<br>
plot2d("1e-3(1+i)<span class="selection">/*t0*/</span>","1e2(1+i)<span class="selection">/*t1*/</span>","x=t,x
<br>
<span class="selection">// xt</span>
<br>
;","x;2x;3x;4x;5x;6x;7x;8x;9x;10x<span class="selection">/*yt*/</span>;","10","circle<span class="selection">/*marker*/</span>;")
<br>
・<span class="clear">Ver.2.837.145</span>以降、plot終了の<a href="#span-out-log">log表示</a>を追加
<br>
-> plot2d-from-log finished
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
-from-arr
<br>
入力仕様
    </th>
    <td>
<span id="span-out-plot2d-command-from-arr"></span>
plot2d-from-arrの入力仕様について記述する
<br>
<br>
任意の時系列dataからplot2d-commandを実行する
<br>
・<span class="run">Ver.2.129.35</span>以降、各(x,y)の<a href="#span-out-FNm-size">行size</a>を独立化
<br>
　csv出力時、<a href="#span-out-mat-blank">欠損要素</a>=undefined
<br>
　svg出力時、<a href="#span-out-mat-blank">欠損要素</a>=<a href="#span-out-num">NaN</a>
<br>
・<span class="run">Ver.2.175.42</span>~<span class="clear">2.175.43</span>以降、<a href="#span-out-mat-blank">欠損要素</a>の<a href="#span-out-literal">NaN</a>変換不具合（一部legendが消失）を修正
<br>
<br>
plot2d-from-arrのformatを次に示す
<br>
・引数が列vectorの場合
<br>
plot2d(<span class="condition">x(t)<a href="#span-out-vars-symbol">変数名symbol</a>,y(t)<a href="#span-out-vars-symbol">変数名symbol</a></span>)
<br>
・<span class="run">Ver.2.175.42</span>以降、引数が行vectorの場合
<br>
plot2d{<span class="condition">x(t)<a href="#span-out-vars-symbol">変数名symbol</a>,y(t)<a href="#span-out-vars-symbol">変数名symbol</a></span>}
<br>
・<span class="condition">xt,yt</span>の場合
<br>
plot2d(<span class="condition">xt,yt</span>)
<br>
plot2d{<span class="condition">xt,yt</span>}
<br>
・<span class="run">Ver.2.175.42</span>以降、<a href="#span-out-BT">括弧</a>内の<del><a href="#span-out-spaces">white spaces</a>を無効化</del><span class="clear">Ver.2.176.44</span>以降、空白文字を無効化
<br>
plot2d(<span class="condition">xt, yt</span>)
<br>
plot2d{<span class="condition">xt, yt</span>}
<br>
・<span class="clear">Ver.2.837.145</span>以降、<a href="#span-out-spaces">改行文字</a>に対応
<br>
plot2d(<span class="condition">xt,
<br>
yt</span>)
<br>
plot2d{<span class="condition">xt,
<br>
yt</span>}
<br>
・plot終了の<a href="#span-out-log">log表示</a>
<br>
-> plot2d-from-arr finished
<br>
・circleを描く時系列data作成の一例を示す
<br>
・<a href="#span-out-eqns">式変数</a>の<a href="#span-out-eqns-call">式読出し</a>記号=&gt;を省略する場合、変数名の重複に留意する
<br>
clear;
<br>
t0=0;
<br>
t1=2pi;
<br>
tn=&lt;t0+(t1-t0)n/N;
<br>
N=10;
<br>
/*init=&lt;last{xt=zeros(N+1,1),yt=zeros(N+1,1)};*/
<br>
init=&lt;last{xt=vectorc(N+1),yt=vectorc(N+1)};
<br>
stepn=&lt;last{xt[n]=cos(tn),yt[n]=sin(tn)};
<br>
evolutionN=&lt;_sn(=&lt;stepn,0,N);
<br>
init; evolutionN; xt,yt ->
<br>
・<a href="#span-out-config-strict">strict-mode</a>の場合
<br>
clear;
<br>
t0=0;
<br>
t1=2*pi;
<br>
tn=&lt;t0+(t1-t0)*n/N;
<br>
N=10;
<br>
/*init=&lt;last{xt=zeros(N+1,1),yt=zeros(N+1,1)};*/
<br>
init=&lt;last{xt=vectorc(N+1),yt=vectorc(N+1)};
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様廃止
<br>
<del>stepn=&lt;last{xt[n]=cos(tn=&gt;tn),yt[n]=sin(tn)};</del>
<br>
stepn=&lt;last{tn=tn=&gt;,xt[n]=cos(tn),yt[n]=sin(tn)};
<br>
/*evolutionN=&lt;_sn(=&lt;{stepn=&gt;},0,N);*/
<br>
evolutionN=&lt;_sn(=&lt;stepn,0,N);
<br>
init=&gt;; evolutionN=&gt;; xt,yt ->
<br>
(
<br>
1,0:
<br>
0.8090169943749475,0.5877852522924731:
<br>
0.30901699437494745,0.9510565162951535:
<br>
-0.3090169943749471,0.9510565162951536:
<br>
-0.8090169943749473,0.5877852522924732:
<br>
-1,1.2246467991473532e-16:
<br>
-0.8090169943749478,-0.5877852522924727:
<br>
-0.30901699437494756,-0.9510565162951535:
<br>
0.30901699437494723,-0.9510565162951536:
<br>
0.8090169943749473,-0.5877852522924734:
<br>
1,-2.4492935982947064e-16
<br>
)
<br>
<br>
複数の時系列dataを作成してplot2d-commandを実行する一例を以下に示す
<br>
・上記xt,ytの元dataを結合して作る場合
<br>
xt4=(xt*0,xt*1,xt*2,xt*3); yt4=(yt*0,yt*1,yt*2,yt*3);
<br>
plot2d(xt4,yt4)
<br>
・同義
<br>
xt4=xt*(0,1,2,3); xt4 ->
<br>
(
<br>
0,1,2,3:
<br>
0,0.8090169943749475,1.618033988749895,2.4270509831248424:
<br>
0,0.30901699437494745,0.6180339887498949,0.9270509831248424:
<br>
0,-0.3090169943749471,-0.6180339887498942,-0.9270509831248414:
<br>
0,-0.8090169943749473,-1.6180339887498947,-2.427050983124842:
<br>
0,-1,-2,-3:
<br>
0,-0.8090169943749478,-1.6180339887498956,-2.4270509831248432:
<br>
0,-0.30901699437494756,-0.6180339887498951,-0.9270509831248427:
<br>
0,0.30901699437494723,0.6180339887498945,0.9270509831248417:
<br>
0,0.8090169943749473,1.6180339887498947,2.427050983124842:
<br>
0,1,2,3
<br>
)
<br>
yt4=yt*(0,1,2,3); yt4 ->
<br>
(
<br>
0,0,0,0:
<br>
0,0.5877852522924731,1.1755705045849463,1.7633557568774194:
<br>
0,0.9510565162951535,1.902113032590307,2.8531695488854605:
<br>
0,0.9510565162951536,1.9021130325903073,2.853169548885461:
<br>
0,0.5877852522924732,1.1755705045849465,1.7633557568774196:
<br>
0,1.2246467991473532e-16,2.4492935982947064e-16,3.6739403974420594e-16:
<br>
0,-0.5877852522924727,-1.1755705045849454,-1.763355756877418:
<br>
0,-0.9510565162951535,-1.902113032590307,-2.8531695488854605:
<br>
0,-0.9510565162951536,-1.9021130325903073,-2.853169548885461:
<br>
0,-0.5877852522924734,-1.1755705045849467,-1.76335575687742:
<br>
0,-2.4492935982947064e-16,-4.898587196589413e-16,-7.347880794884119e-16
<br>
)
<br>
・case違いの演算を繰り返してxt,ytを作り直す場合
<br>
・<a href="#span-out-config-strict">strict-mode</a>の場合
<br>
clear;
<br>
t0=0;
<br>
t1=2*pi;
<br>
tn=&lt;t0+(t1-t0)*n/N;
<br>
N=10;
<br>
M=3;
<br>
init=&lt;last{xt=zeros(N+1,M+1),yt=zeros(N+1,M+1)};
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様廃止
<br>
<del>stepnm=&lt;last{,xt[n][m]=cos(tn=&gt;tn)*m,yt[n][m]=sin(tn)*m};</del>
<br>
stepnm=&lt;last{tn=tn=&gt;,xt[n][m]=cos(tn)*m,yt[n][m]=sin(tn)*m};
<br>
casesM=&lt;_sm(=&lt;stepnm,0,M);
<br>
evolutionN=&lt;_sn(=&lt;casesM,0,N);
<br>
init=&gt;; evolutionN=&gt;;
<br>
xt4=xt; xt4 ->
<br>
(
<br>
0,1,2,3:
<br>
0,0.8090169943749475,1.618033988749895,2.4270509831248424:
<br>
0,0.30901699437494745,0.6180339887498949,0.9270509831248424:
<br>
0,-0.3090169943749471,-0.6180339887498942,-0.9270509831248414:
<br>
0,-0.8090169943749473,-1.6180339887498947,-2.427050983124842:
<br>
0,-1,-2,-3:
<br>
0,-0.8090169943749478,-1.6180339887498956,-2.4270509831248432:
<br>
0,-0.30901699437494756,-0.6180339887498951,-0.9270509831248427:
<br>
0,0.30901699437494723,0.6180339887498945,0.9270509831248417:
<br>
0,0.8090169943749473,1.6180339887498947,2.427050983124842:
<br>
0,1,2,3
<br>
)
<br>
yt4=yt; yt4 ->
<br>
(
<br>
0,0,0,0:
<br>
0,0.5877852522924731,1.1755705045849463,1.7633557568774194:
<br>
0,0.9510565162951535,1.902113032590307,2.8531695488854605:
<br>
0,0.9510565162951536,1.9021130325903073,2.853169548885461:
<br>
0,0.5877852522924732,1.1755705045849465,1.7633557568774196:
<br>
0,1.2246467991473532e-16,2.4492935982947064e-16,3.6739403974420594e-16:
<br>
0,-0.5877852522924727,-1.1755705045849454,-1.763355756877418:
<br>
0,-0.9510565162951535,-1.902113032590307,-2.8531695488854605:
<br>
0,-0.9510565162951536,-1.9021130325903073,-2.853169548885461:
<br>
0,-0.5877852522924734,-1.1755705045849467,-1.76335575687742:
<br>
0,-2.4492935982947064e-16,-4.898587196589413e-16,-7.347880794884119e-16
<br>
)
<br>
<br>
<a href="#span-out-evolution-space">斜方投射</a>の時系列dataを作成する一例を以下に示す
<br>
・total時間積分回数がplot2d-buttonのN回に対して1回で済むため、圧倒的に速い
<br>
・時間刻みを次の<a href="#span-out-eqns">式変数</a>dtnで定義してevolutionNで時間発展する
<br>
dtn=&lt;switch(n&lt;=0,0:1,dt);
<br>
・<a href="#span-out-config-strict">strict-mode</a>の場合
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
dt=0.5;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
f=&lt;{z_v,z_a-(kCdA_sphere/m)*z_v};
<br>
/*{$z_x,$z_v}=x_initial=&gt;;*/
<br>
t0=0;
<br>
t1=5;
<br>
N=round((t1-t0)/dt);
<br>
init=&lt;last{xt=vectorc(N+1),yt=vectorc(N+1)};
<br>
dtn=&lt;switch(n&lt;=0,0:1,dt);
<br>
step=&lt;{x_next=_otdummy(=&lt;f,=&lt;x,=&lt;x_initial,0,dtn=&gt;)};
<br>
stepn=&lt;last{step=&gt;,xt[n]=real(z_x),yt[n]=imag(z_x)};
<br>
evolutionN=&lt;_sn(=&lt;stepn,0,N);
<br>
init=&gt;; evolutionN=&gt;; xt,yt ->
<br>
(
<br>
0,0:
<br>
7.864583333333332+O(6e-2),6.818229166666667:
<br>
12.636583116319443+O(6e-2),9.028508843315972:
<br>
15.532093401308412+O(6e-2),8.442819167949535:
<br>
17.289004589856408+O(6e-2),6.160616838886046:
<br>
18.355047055824333+O(6e-2),2.849020113178252:
<br>
19.001890531268412+O(6e-2),-1.0871831084100707:
<br>
19.394376285899845+O(6e-2),-5.402379334009235:
<br>
19.63252519430902+O(6e-2),-9.947537460479563:
<br>
19.77702700592188+O(6e-2),-14.6322297611764:
<br>
19.86470649057239+O(6e-2),-19.40158732904714
<br>
)
<br>
・<a href="#span-out-evolution-space">斜方投射</a>の各時刻の位置z_xの近似解に一致する
<br>
xt+yt*i ->
<br>
(
<br>
0:
<br>
7.864583333333332+6.818229166666667i+O(6e-2):
<br>
12.636583116319443+9.028508843315972i+O(6e-2):
<br>
15.532093401308412+8.442819167949535i+O(6e-2):
<br>
17.289004589856408+6.160616838886046i+O(6e-2):
<br>
18.355047055824333+2.849020113178252i+O(6e-2):
<br>
19.001890531268412-1.0871831084100707i+O(6e-2):
<br>
19.394376285899845-5.402379334009235i+O(6e-2):
<br>
19.63252519430902-9.947537460479563i+O(6e-2):
<br>
19.77702700592188-14.6322297611764i+O(6e-2):
<br>
19.86470649057239-19.40158732904714i+O(6e-2)
<br>
)
<br>
<br>
大規模csvの時系列dataを入力する場合、<a href="#span-out-csv-format">csv-format</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
csv-format
<br>
入力仕様
    </th>
    <td>
<span id="span-out-csv-format"></span>
csv-formatの入力仕様と付随する留意事項について記述する
<br>
・<span class="run">Ver.2.142.36</span>以降、<a href="#span-out-num">実数値</a>の大規模csv入力に対応
<br>
・<span class="jF">Ver.2.143.36</span>以降、<a href="#span-out-BT">括弧</a>なしのformatに対応
<br>
<br>
次の不具合を回避するため、<a href="#span-out-flow">parse</a>段階で<a href="#span-in-tree">単位tree構造</a>のarrに変換する
<br>
Maximum call stack size exceeded
<br>
Out of Memory
<br>
・<span class="run">Ver.2.140.36</span>以降、演算実行の<a href="#span-out-UI-graphing">cancel-button</a>を追加
<br>
・<span class="clear">Ver.2.144.36</span>以降、<a href="#span-out-flow">operation</a>段階の<a href="#span-out-concatenation">行列結合</a>を含む<a href="#span-in-options">depthMax</a>制限を追加（browser crashの2重対策）
<br>
<a href="#span-out-num">実数値</a>以外を含む大規模csv -> [MyErr]Nesting depthMax over
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-concatenation">行列結合</a>の最適化を実施
<br>
<br>
csv-formatを次に示す
<br>
<span class="jF">実数値,実数値,...,実数値</span>
<br>
・<span class="condition">formatの適用範囲</span>
<br>
{<span class="condition">実数値,実数値,...,実数値</span>}
<br>
(<span class="condition">実数値,実数値,...,実数値</span>)
<br>
[<span class="condition">実数値,実数値,...,実数値</span>]
<br>
・<span class="run">Ver.2.151.38</span>以降、-0入力に対応
<br>
<span class="jF">実数値</span>
<br>
<del>-0 -> 0</del>
<br>
-0 -> -0
<br>
<br>
test caseを示す
<br>
<span class="jF">0,1,2,3,4,5,6,7,8,9</span>; xt=ans; xt -> (0,1,2,3,4,5,6,7,8,9)
<br>
<span class="jF">0,1,2,3,4,5,6,7,8,9</span>; xt=trans(ans); xt -> (0:1:2:3:4:5:6:7:8:9)
<br>
xt={<span class="condition">0,1,2,3,4,5,6,7,8,9</span>}; xt -> (0:1:2:3:4:5:6:7:8:9)
<br>
xt=(<span class="condition">0,1,2,3,4,5,6,7,8,9</span>); xt -> (0,1,2,3,4,5,6,7,8,9)
<br>
xt=[<span class="condition">0,1,2,3,4,5,6,7,8,9</span>]; xt -> (0,1,2,3,4,5,6,7,8,9)
<br>
xt=trans(<span class="condition">0,1,2,3,4,5,6,7,8,9</span>); xt -> (0:1:2:3:4:5:6:7:8:9)
<br>
・<a href="#span-out-com">複素数</a>vectorに変換する場合
<br>
zr={<span class="condition">0,1,2,3</span>}; zi={<span class="condition">0,1,2,3</span>}; z=zr+(zi)i; z -> (0:1+i:2+2i:3+3i)
<br>
・<a href="#span-out-type-ope">前置単項</a>の符号を含む場合
<br>
zr={<span class="condition">0,1,2,3</span>}; zi={<span class="condition">-0,-1,-2,-3</span>}; z=zr+(zi)i; z -> (0:1-i:2-2i:3-3i)
<br>
・<a href="#span-out-RW">operand記号</a>を含む場合
<br>
xt={<span class="condition">+0.0,-1e-1,+2.2e+2,-012.345e+6,0xff,0x00</span>}; xt -> (0:-0.1:220:-12345000:255:0)
<br>
xt={+0.0,-1e-1,+2.2e+2,-012.345e+6,+0xff,-0x00}; xt -> (0:-0.1:220:-12345000:255:0)
<br>
・<a href="#span-out-mat-blank">欠損要素</a>は0
<br>
<span class="jF">,1,</span> -> (0,1,0)
<br>
(<span class="condition">,,,</span>) -> (0,0,0,0)
<br>
[(<span class="condition">,,,</span>)] -> (0,0,0,0)
<br>
((<span class="condition">,,,</span>)) -> (0,0,0,0)
<br>
{(<span class="condition">,,,</span>)} -> (0,0,0,0)
<br>
xt={<span class="condition">,,,</span>}; {xt} -> (0:0:0:0)
<br>
xt={<span class="condition">,,,</span>}; (xt) -> (0:0:0:0)
<br>
xt={<span class="condition">,,,</span>}; [xt] -> (0:0:0:0)
<br>
・comma以外で列挙の場合、判別不可
<br>
(1,2,3:) -> (1,2,3:0,0,0)
<br>
(1,2,3:,,) -> (1,2,3:0,0,0)
<br>
x0=(<span class="condition">1,2,3</span>); x1=(<span class="condition">,,</span>); (x0:x1) -> (<span class="condition">1,2,3</span>:<span class="condition">0,0,0</span>)
<br>
・多重列挙の場合
<br>
(,,(<span class="condition">1,2,3</span>),,(,,(<span class="condition">4,5,6</span>),,),,) -> (0,0,<span class="condition">1,2,3</span>,0,0,0,<span class="condition">4,5,6</span>,0,0,0,0)
<br>
・<a href="#span-out-num">実数値</a>以外を含む場合
<br>
(,,(<span class="condition">1,2,3</span>),,(,,(4i,5,6),,),,) -> (0,0,<span class="condition">1,2,3</span>,0,0,0,4i,5,6,0,0,0,0)
<br>
(,,(<span class="condition">1,2,3</span>),,(,,(z=i,5z,6),,),,) -> (0,0,<span class="condition">1,2,3</span>,0,0,0,0,5i,6,0,0,0,0)
<br>
<br>
留意事項を列挙する
<br>
<del>・1重列挙の<a href="#span-out-BT">括弧</a>が必須（<span class="condition">formatの適用範囲</span>の判別用）</del><span class="jF">Ver.2.143.36</span>以降、不要
<br>
・csv要素は<a href="#span-out-num">実数値</a>のみ対応
<br>
・任意の要素数の時系列dataを入力可（<a href="#span-out-FNm-init">初期化行列関数</a>の<a href="#span-in-options">matSizeMax</a>制限とは無関係）
<br>
・全要素が<a href="#span-out-num">実数値</a>の場合、<a href="#span-out-BT">括弧</a>内の要素数上限=Order(10000)
<br>
・要素が<a href="#span-out-num">実数値</a>以外を含む場合、<a href="#span-out-BT">括弧</a>内の要素数上限=Order(<del>100</del><span class="run">1000</span>)
<br>
　<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-flow">operation</a>段階で<a href="#span-out-concatenation">行列結合</a>のnestingを削減する最適化を実施
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
white
<br>
spaces
<br>
入力仕様
    </th>
    <td>
<span id="span-out-spaces"></span>
white spacesの入力仕様と付随する留意事項について記述する
<br>
<br>
以下のwhite spacesは<a href="#span-out-flow">parse</a>段階で除去する
<br>
・空白文字
<br>
・改行文字
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
comment文
<br>
入力仕様
    </th>
    <td>
<span id="span-out-comment"></span>
comment文の入力仕様と付随する留意事項について記述する
<br>
<br>
次のcomment文2種類は実行文に含まれない
<br>
<span class="selection">// line comment</span>
<br>
<span class="selection">/* block comment */</span>
<br>
<br>
test caseを示す
<br>
x=-0xff; <span class="selection">/*16進数<a href="#span-out-num">literal</a>*/</span> x&gt;&gt;3 <span class="selection">// 右<a href="#span-out-prec-ope-bit">shift</a>3回</span>
<br>
-> -32
<br>
・<a href="#span-out-flow">parse</a>後の実行文を示す
<br>
x=-0xff; x&gt;&gt;3 -> -32
<br>
・同義
<br>
x=-255; floor(x*0.5*0.5*0.5) -> -32
<br>
・<span class="run">Ver.2.87.32</span>以降、<a href="#span-out-FN-int">int関数</a>は0側に丸める
<br>
x=-255; int(x*0.5*0.5*0.5) -> -31
<br>
<br>
留意事項を列挙する
<br>
・block commentのnesting不可（Native同様）
<br>
<span class="selection">/*/**/</span><span class="clear">*/</span> -> [MyErr]Invalid operation <span class="clear">*/</span>
<br>
<del>・<span class="clear">Ver.2.837.143</span>以降、block commentよりline commentを優先</del><span class="clear">Ver.2.837.144</span>以降、優先度なし
<br>
clear;<span class="selection">// /*</span>
<br>
<span class="clear">*/</span>1
<br>
2 -> <del>2</del>[MyErr]Invalid operation <span class="clear">*/</span>
<br>
clear;2*<span class="selection">/*//2*/</span>
<br>
3<span class="selection">/*4*/</span> -> <del>[MyErr]Invalid operation number*</del>6
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
命令文
<br>
入力仕様
    </th>
    <td>
<span id="span-out-command"></span>
命令文の入力仕様と付随する留意事項について記述する
<br>
<br>
命令文は最上位の実行文に相当する
<br>
・semi-colon;以外で区切った場合、error終了
<br>
clear || clear; -> local storage cleared
<br>
clear, || clear: -> [MyErr]Invalid clear called
<br>
・<a href="#span-out-BT">括弧</a>の中からcallの場合、error終了
<br>
(clear) || {clear} -> [MyErr]Invalid clear called
<br>
・<a href="#span-out-substitution">変数への代入</a>不可
<br>
clear; x=clear -> [MyErr]Invalid clear called
<br>
・<a href="#span-out-substitution-equation">式変数への式代入</a>不可
<br>
f=&lt;clear -> [MyErr]Invalid clear called
<br>
<br>
命令文を以下に示す
<br>
<br>
clear
<br>
・call時点までの<del><a href="#span-out-storage">local storage</a></del><span class="run">Ver.2.222.50</span>以降、<a href="#span-in-scope-vars">static scopes2d array</a>をclearする
<br>
・<span class="clear">Ver.2.226.54</span>以降、<a href="#span-out-storage">local storage</a>が<a href="#span-out-terms">scope変数</a>に残存する致命的な不具合を修正（後方互換性を復帰）
<br>
x=3; x -> 3
<br>
clear -> local storage cleared
<br>
x -> 3
<br>
clear; x -> [MyErr]Invalid REv(x)
<br>
x -> 3
<br>
clear; ans -> [MyErr]Invalid REv(ans)
<br>
ans -> 3
<br>
・続けて<a href="#span-out-storage">global storage</a>をclearする場合
<br>
Clear実行確定 ->
<br>
storage cleared
<br>
x -> [MyErr]Invalid REv(x)
<br>
ans -> [MyErr]Invalid REv(ans)
<br>
・<a href="#span-out-storage">global storage</a>に一切の変数を残さない場合
<br>
x=3; y=3x; y; clear -> local storage cleared
<br>
x -> [MyErr]Invalid REv(x)
<br>
y -> [MyErr]Invalid REv(y)
<br>
ans -> [MyErr]Invalid REv(ans)
<br>
<br>
store
<br>
・call時点までの<del><a href="#span-out-storage">local storage</a></del><span class="run">Ver.2.222.50</span>以降、<a href="#span-in-scope-vars">static scopes2d array</a>を<a href="#span-out-storage">local buffer</a>に保存する
<br>
・<a href="#span-in-deep-copy">deep-copy</a>で新規複製
<br>
<br>
restore
<br>
・<a href="#span-out-storage">local buffer</a>に保存された<del><a href="#span-out-storage">local storage</a></del><span class="run">Ver.2.222.50</span>以降、<a href="#span-in-scope-vars">static scopes2d array</a>を復帰する
<br>
・<del>複製した新規objectを復帰</del><span class="clear">Ver.2.30.17</span>以降、元objectの参照を保存
<br>
clear; x=2; store; x=3; restore; x -> 2
<br>
clear; x=2; store; clear; restore; x -> 2
<br>
<span class="clear">Ver.2.30.17</span>以降、<a href="#span-in-deep-copy">deep-copy</a>で復帰（再利用に対応）
<br>
clear; a=2; store; a=3; restore; a; a=3; restore; a -> 2
<br>
clear; a=2; store; a=3; restore; a; a=3; b=4; restore; b -> [MyErr]Invalid REv(b)
<br>
・HTML5描画canvas等、<a href="#span-out-callstack">stack</a>方式と異なり、最新のstore時点のobjectのみ再利用可
<br>
clear; a=2; store; a=3; store; restore; a; a=4; restore; a  <span class="selection">// not stacked</span> -> 3
<br>
・store~restore間に新規に定義された<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>は参照不可
<br>
clear; x=2; store; y=3; clear; restore; x+y -> [MyErr]Invalid binary operation
<br>
clear; x=2; store; y=3; store; clear; restore; x+y -> 5
<br>
・store;clear~restore間の<a href="#span-out-scope-vars">変数のscope</a>は完全独立
<br>
clear; x=2; store; clear; x=3; restore; x -> 2
<br>
clear; x=2; store; clear; x -> [MyErr]Invalid REv(x)
<br>
・<a href="#span-out-storage">local buffer</a>は演算実行確定1回毎に初期化
<br>
storage cleared
<br>
restore -> null buffer
<br>
x=2; store -> local storage stored
<br>
restore -> null buffer
<br>
restore; x -> [MyErr]Invalid REv(x)
<br>
<br>
stop
<br>
・call時点以降、演算を中断する
<br>
x=3; 3x; stop; x -> operation stopped
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-in-scope-vars">static scopes2d array</a>の<a href="#span-out-terms">scope変数</a>（<a href="#span-out-storage">local storage</a>を除く）は演算実行確定1回毎に初期化
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
区切り文字
<br>
入力仕様
    </th>
    <td>
<span id="span-out-SR"></span>
区切り文字の入力仕様と付随する留意事項について記述する
<br>
<br>
区切り文字を優先順に列挙する
<br>
・実行文を区切るsemi-colon;
<br>
実行文; 実行文; ...
<br>
・<a href="#span-out-mat">行列</a>のvectorを区切るcolon:
<br>
vector: vector: ...
<br>
・vectorの要素||<a href="#span-out-FN">関数</a>の引数を区切るcomma,
<br>
要素, 要素, ...
<br>
引数, 引数, ...
<br>
<br>
区切り文字は<a href="#span-out-associativity">2項演算子のassociativity</a>や<a href="#span-out-bracket">階層</a>の深さとは無関係に左から順に演算する
<br>
・区切り文字の<a href="#span-out-prec">演算のprecedence</a>は最優先
<br>
x=3,(x=9),2x -> (0,0,18)
<br>
x -> 9
<br>
・よって<a href="#span-out-vars">変数</a>は実行直前ではなく列挙直前の代入値を参照する
<br>
x=3; x=2:3x -> (0:6)
<br>
<br>
区切り文字はNativeの<a href="#span-out-option4">comma演算子</a>同様に働くが、<a href="#span-out-mat">行列</a>の次元は残る
<br>
(x=1,x=2x:x=2x,x) -> (0,0:0,4)
<br>
{x=1,x=2x:x=2x,x} -> (0,0:0,4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
最上位関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNc"></span>
最上位関数の入力仕様と付随する留意事項について記述する
<br>
<br>
以下の最上位関数は<a href="#span-out-BT">括弧</a>より優先する
<br>
・<span class="run">Ver.2.31.17</span>以降、addVar/addEqn/hasV/hasE最上位関数を追加
<br>
・<span class="run">Ver.2.243.56</span>以降、hasVs/hasEs最上位関数を追加
<br>
・<span class="run">Ver.2.268.62</span>以降、var||eqnを統合
<br>
　hasVs　⇒　hass(varName_in_self_scope)
<br>
　hasEs　⇒　hass(=&lt;eqnName_in_self_scope)
<br>
　hasV　⇒　has(varName)
<br>
　hasE　⇒　has(=&lt;eqnName)
<br>
　hasVar　⇒　has__(varName_in_storage)
<br>
　hasEqn　⇒　has__(=&lt;eqnName_in_storage)
<br>
　delVar　⇒　del__(varName_in_storage)
<br>
　delEqn　⇒　del__(=&lt;eqnName_in_storage)
<br>
　addVar　⇒　add__(varName_in_storage)
<br>
　addEqn　⇒　add__(=&lt;eqnName_in_storage)
<br>
・double-underscore__の意味：仕様廃止の可能性あり
<br>
clear;
<br>
t0=(1,2,3:4,5,6);
<br>
representation_scope2storage=&lt;[xt=t0.,yt=(t0)i.,out_lazy=&lt;{=&lt;xt,=&lt;yt},=&lt;out_lazy]=&gt;;
<br>
representation_scope2storage=&gt;xy;
<br>
xt=(xy=&gt;)[0]=&gt;;
<br>
yt=(xy=&gt;)[1]=&gt;;
<br>
(xt,yt) -> (1,4,i,4i:2,5,2i,5i:3,6,3i,6i)
<br>
clear;
<br>
t0=(1,2,3:4,5,6);
<br>
representation_scope2storage=&lt;[xt=t0,yt=(t0)i,out_lazy=&lt;{=&lt;xt,=&lt;yt},=&lt;out_lazy]=&gt;;
<br>
representation_scope2storage=&gt;xy;
<br>
xt=(xy=&gt;)[0]=&gt;;
<br>
yt=(xy=&gt;)[1]=&gt;;
<br>
(xt:yt) -> (1,2,3:4,5,6:i,2i,3i:4i,5i,6i)
<br>
<br>
hasVar最上位関数
<br>
・<a href="#span-out-vars">変数</a>の<a href="#span-out-storage">local storage</a>存在可否を判定する
<br>
・引数
<br>
　・第1引数: <a href="#span-out-vars-symbol">変数名symbol</a>
<br>
・返値
<br>
　・exist時: 1を返す
<br>
　・not exist時: 0を返す
<br>
・test caseを列挙する
<br>
clear; a=2; hasVar(a) -> 1
<br>
clear; a=2; hasVar(b) -> 0
<br>
・第1引数は<a href="#span-out-FNm-last">最終要素</a>を参照する
<br>
clear; a=2; hasVar(b,c:a) -> 1
<br>
clear; a=2; hasVar(a,b:c) -> 0
<br>
clear; a=2; hasVar((b,a),c) -> 0
<br>
clear; a=2; hasVar({b,a},c) -> 1
<br>
・引数不正の場合、error終了
<br>
hasVar() -> [MyErr]Invalid FNc(hasvar)
<br>
hasVar(2) || hasVar(a=2) -> [MyErr]Invalid hasvar arguments
<br>
<br>
hasEqn最上位関数
<br>
・<a href="#span-out-eqns">式変数</a>の<a href="#span-out-storage">local storage</a>存在可否を判定する
<br>
・hasVar最上位関数同様
<br>
・test caseを列挙する
<br>
clear; a=2; hasEqn(a) -> 0
<br>
clear; a=&lt;2; hasEqn(a) -> 1
<br>
clear; a=&lt;2; hasEqn(b) -> 0
<br>
<br>
delVar最上位関数
<br>
・<a href="#span-out-vars">変数</a>を<a href="#span-out-storage">local storage</a>から削除する
<br>
・引数
<br>
　・第1引数: <a href="#span-out-vars-symbol">変数名symbol</a>
<br>
・返値
<br>
　・削除対象exist時: 1を返す
<br>
　・削除対象not exist時: 0を返す
<br>
・test caseを列挙する
<br>
clear; a=2; delVar(a) -> 1
<br>
clear; a=2; delVar(b) -> 0
<br>
clear; a=2; (delVar(a)) -> 1
<br>
clear; a=2; (delVar(a),a)  <span class="selection">// a deleted</span> -> [MyErr]Invalid REv(a)
<br>
clear; a=2; (delVar(b),a) -> (0,2)
<br>
clear; a=2; a*delVar(a)  <span class="selection">// a deleted</span> -> [MyErr]Invalid binary operation
<br>
・第1引数は<a href="#span-out-FNm-last">最終要素</a>を参照する
<br>
clear; a=2; (delVar(b,c:a),a)  <span class="selection">// a deleted</span> -> [MyErr]Invalid REv(a)
<br>
clear; a=2; (delVar(a,b:c),a) -> (0,2)
<br>
clear; a=2; (delVar((b,a),c),a) -> (0,2)
<br>
clear; a=2; (delVar({b,a},c),a)  <span class="selection">// a deleted</span> -> [MyErr]Invalid REv(a)
<br>
<br>
delEqn最上位関数
<br>
・<a href="#span-out-eqns">式変数</a>を<a href="#span-out-storage">local storage</a>から削除する
<br>
・delVar最上位関数同様
<br>
・test caseを列挙する
<br>
clear; a=2; delEqn(a) -> 0
<br>
clear; a=&lt;2; delEqn(a) -> 1
<br>
clear; a=&lt;2; delEqn(b) -> 0
<br>
clear; a=&lt;2; (delEqn(a)) -> 1
<br>
clear; a=&lt;2; (delEqn(a),a=&gt;)  <span class="selection">// a deleted</span> -> [MyErr]Invalid REv(a)
<br>
clear; a=&lt;2; (delEqn(b),a=&gt;) -> (0,2)
<br>
・<a href="#span-out-command">命令文</a>を使用
<br>
clear; a=&lt;2; store; delEqn(a); a=&gt;  <span class="selection">// a deleted</span> -> [MyErr]Invalid REv(a)
<br>
clear; a=&lt;2; store; delEqn(a); restore; a=&gt; -> 2
<br>
<del>・自身をdelete不可</del><span class="run">Ver.2.194.45</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-eqns-re-call">再帰call</a>に対応
<br>
<del>clear; delete=&lt;delEqn(delete); delete=&gt; -> [MyErr]Invalid delEqnSelf(delete)</del>
<br>
<br>
addVar最上位関数
<br>
・<a href="#span-out-terms">scope変数</a>の<a href="#span-out-vars">変数</a>を<a href="#span-out-storage">local storage</a>に追加する
<br>
・引数
<br>
　・第1引数: <a href="#span-out-vars-symbol">変数名symbol</a>
<br>
・返値
<br>
　・追加対象exist時: 1を返す
<br>
　・追加対象not exist時: 0を返す
<br>
・test caseを列挙する
<br>
clear; a=&lt;2; addVar(a) -> 0
<br>
clear; a=2; addVar(a) -> 1
<br>
clear; a=2; addVar(a),addVar(a) -> (1,1)
<br>
clear; a=2; addVar(a); a -> 2
<br>
clear; a=2; addVar(b) -> 0
<br>
clear; a=2; addVar(b); a -> 2
<br>
clear; [a=2,]; a -> [MyErr]Invalid REv(a)
<br>
clear; [a=2,addVar(a)]; a -> 2
<br>
clear; [a=2,[a=3,addVar(a)]]; a -> 3
<br>
clear; [a=2,[a=3,[a=4,addVar(a)]]]; a -> 4
<br>
clear; [a=2,[a=3,[a=4,[a=5,],addVar(a)]]]; a -> 4
<br>
clear; [a=2,[a=3,[[a=5,],addVar(a)]]]; a -> [MyErr]Invalid REv(a)
<br>
clear; [a=2,[a=3,([a=5,],addVar(a))]]; a -> 3
<br>
<br>
addEqn最上位関数
<br>
・<a href="#span-out-terms">scope変数</a>の<a href="#span-out-eqns">式変数</a>を<a href="#span-out-storage">local storage</a>に追加する
<br>
・addVar最上位関数同様
<br>
・test caseを列挙する
<br>
clear; a=2; addEqn(a) -> 0
<br>
clear; a=&lt;2; addEqn(a) -> 1
<br>
clear; a=&lt;2; addEqn(a),addEqn(a) -> (1,1)
<br>
clear; a=&lt;2; addEqn(a); a=&gt; -> 2
<br>
clear; a=&lt;2; addEqn(b) -> 0
<br>
clear; a=&lt;2; addEqn(b); a=&gt; -> 2
<br>
clear; [a=&lt;2,]; a=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; [a=&lt;2,addEqn(a)]; a=&gt; -> 2
<br>
clear; [a=&lt;2,[a=&lt;3,addEqn(a)]]; a=&gt; -> 3
<br>
clear; [a=&lt;2,[a=&lt;3,[a=&lt;4,addEqn(a)]]]; a=&gt; -> 4
<br>
clear; [a=&lt;2,[a=&lt;3,[a=&lt;4,[a=&lt;5,],addEqn(a)]]]; a=&gt; -> 4
<br>
clear; [a=&lt;2,[a=&lt;3,[[a=&lt;5,],addEqn(a)]]]; a=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; [a=&lt;2,[a=&lt;3,([a=&lt;5,],addEqn(a))]]; a=&gt; -> 3
<br>
<br>
hasV最上位関数
<br>
・<a href="#span-out-vars">変数</a>の<a href="#span-out-terms">直列scope内</a>存在可否を判定する
<br>
・引数
<br>
　・第1引数: <a href="#span-out-vars-symbol">変数名symbol</a>
<br>
・返値
<br>
　・exist時: 1を返す
<br>
　・not exist時: 0を返す
<br>
・test caseを列挙する
<br>
clear; a=&lt;2; hasV(a) -> 0
<br>
clear; a=2; hasV(a) -> 1
<br>
clear; a=2; hasV(b) -> 0
<br>
clear; a=2; hasV(a),[b=3,hasV(a),hasV(b)],hasV(b) -> (1,0,1,1,0)
<br>
clear; a=2; hasV(a),[b=3,[hasV(a),hasV(b)]],hasV(b) -> (1,0,1,1,0)
<br>
<br>
hasVs最上位関数
<br>
・<a href="#span-out-vars">変数</a>の<a href="#span-out-terms">scope変数</a>存在可否を判定する
<br>
<br>
hasE最上位関数
<br>
・<a href="#span-out-eqns">式変数</a>の<a href="#span-out-terms">直列scope内</a>存在可否を判定する
<br>
・hasV最上位関数同様
<br>
・test caseを列挙する
<br>
clear; a=2; hasE(a) -> 0
<br>
clear; a=&lt;2; hasE(a) -> 1
<br>
clear; a=&lt;2; hasE(b) -> 0
<br>
clear; a=&lt;2; hasE(a),[b=&lt;3,hasE(a),hasE(b)],hasE(b) -> (1,0,1,1,0)
<br>
clear; a=&lt;2; hasE(a),[b=&lt;3,[hasE(a),hasE(b)]],hasE(b) -> (1,0,1,1,0)
<br>
<br>
hasEs最上位関数
<br>
・<a href="#span-out-eqns">式変数</a>の<a href="#span-out-terms">scope変数</a>存在可否を判定する
<br>
<br>
留意事項を列挙する
<br>
・add/del最上位関数は<a href="#span-out-ref-transparency">参照透過性</a>の対策用で<a href="#span-out-bracket">scope</a>単位の操作不可（<a href="#span-out-command">命令文</a>参照）
<br>
・引数に<a href="#span-out-prec-ope">演算子</a>（上位を含む）の使用不可
<br>
hasVar(a||b) -> [MyErr]Invalid binary operation
<br>
・<span class="run">Ver.2.157.38</span>以降、最上位関数より上位の<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を追加
<br>
hasVar(a|||b) -> [MyErr]Undef var|||
<br>
clear; a=1; b=1; hasVar(a) &amp;&amp; hasVar(b) -> 1
<br>
clear; a=1; b=1; hasVar(a) &amp;&amp;&amp; hasVar(b) -> 1
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
<br>
・<span class="run">Ver.2.268.62</span>以降、error判定処理を削除
<br>
has__(a|||b) || has__(a) -> <del>[MyErr]Undef var|||</del>false
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
括弧
<br>
入力仕様
    </th>
    <td>
<span id="span-out-BT"></span>
括弧の入力仕様と付随する留意事項について記述する
<br>
<br>
実行文の一部を括る括弧は3種類使用可
<br>
<br>
優先順に列挙する
<br>
・波括弧{}
<br>
・丸括弧()
<br>
・<a href="#span-out-BT-square">角括弧[]</a>
<br>
<br>
括弧は<a href="#span-out-SR">区切り文字</a>に含める
<br>
・実行文を区切るsemi-colon;を括弧の中で使用した場合、error終了
<br>
(;) -> [MyErr]Invalid {([])}
<br>
・対応関係が取れない括弧のnestingが見つかった場合、error終了
<br>
[(0]) -> [MyErr]Invalid {([])}
<br>
<br>
丸括弧()は行vectorをcolon:区切りで列挙する
<br>
・<a href="#span-out-BT-square">角括弧[]</a>は丸括弧()に準ずる
<br>
(行vector: 行vector: ...) || [行vector: 行vector: ...]
<br>
<br>
波括弧{}は列vectorをcolon:区切りで列挙する
<br>
{列vector: 列vector: ...}
<br>
<br>
<a href="#span-out-ope">無次元</a>の演算の場合、要素を括る丸括弧()と波括弧{}は区別しない
<br>
・列挙しなければ括弧の種類は区別しない
<br>
<br>
<a href="#span-out-ope">有次元</a>の場合、vectorを括る丸括弧()と波括弧{}は互いに<a href="#span-out-FNm-trans">転置の関係</a>
<br>
(1,2:3,4) -> (1,2:3,4)
<br>
{1,2:3,4} -> (1,3:2,4)
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
transpose({1,2:3,4}) || trans({1,2:3,4}) -> (1,2:3,4)
<br>
<br>
<a href="#span-out-FN">関数</a>の引数を括る括弧は丸括弧()で統一する（<a href="#span-out-FNm-last">last行列関数</a>を除く）
<br>
・波括弧{}を使用した場合、引数が転置される
<br>
trans(1,2:3,4) -> (1,3:2,4)
<br>
trans{1,2:3,4} -> (1,2:3,4)
<br>
max(2,1) -> 2
<br>
<del>max{2,1} -> 1</del><span class="run">Ver.2.73.29</span>以降、<a href="#span-out-ope-extended">拡張行列演算</a>参照
<br>
max{2,1} -> (2:1)
<br>
<br>
括弧なしで要素を列挙した場合、行vector扱いの丸括弧()で括られる
<br>
1,2,3 -> (1,2,3)
<br>
<br>
演算結果のlog表示は丸括弧()
<br>
{1,2:3,4} || [1,3:2,4] -> (1,3:2,4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
括弧の
<br>
associativity
<br>
入力仕様
    </th>
    <td>
<span id="span-out-BT-associativity"></span>
括弧のassociativityの入力仕様と付随する留意事項について記述する
<br>
<br>
vectorを括る丸括弧()と波括弧{}は互いに<a href="#span-out-FNm-trans">転置の関係</a>で<a href="#span-out-BT">括弧</a>のassociativityが存在する
<br>
・<a href="#span-out-concatenation">行列結合</a>の逐次、<a href="#span-out-BT">括弧</a>の種類を判別
<br>
<br>
1重列挙の場合、外側に<a href="#span-out-BT">括弧</a>のassociativityは存在しない
<br>
(1,2) || {(1,2)} || ({(1,2)}) || {({(1,2)})} -> (1,2)
<br>
{1,2} || ({1,2}) || {({1,2})} || ({({1,2})}) -> (1:2)
<br>
・よって上流で列挙しない限り、<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>は任意の<a href="#span-out-BT">括弧</a>で括れる
<br>
x=(1,2); y={1,2}; x*y || (x)(y) || {x}{y} || ({x}{y}) || {{x}{y}}  -> 5
<br>
x=&lt;(1,2); y=&lt;{1,2}; x*y || (x)(y) || {x}{y} || ({x}{y}) || {{x}{y}}  -> 5
<br>
<br>
2重列挙の場合
<br>
・<a href="#span-out-vars">変数</a>を使用
<br>
x=(1,2); y={3,4}; (x,y) -> (1,2,3:0,0,4)
<br>
x=(1,2); y={3,4}; (x:y) -> (1,2:3:4)
<br>
x=(1,2); y={3,4}; {x,y} -> (1,2:3:4)
<br>
x=(1,2); y={3,4}; {x:y} -> (1,2,3:0,0,4)
<br>
・<a href="#span-out-eqns">式変数</a>も同様
<br>
x=&lt;(1,2); y=&lt;{3,4}; (x,y) -> (1,2,3:0,0,4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; (x:y) -> (1,2:3:4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; {x,y} -> (1,2:3:4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; {x:y} -> (1,2,3:0,0,4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; z=&lt;(x,y); z -> (1,2,3:0,0,4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; z=&lt;(x:y); z -> (1,2:3:4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; z=&lt;{x,y}; z -> (1,2:3:4)
<br>
x=&lt;(1,2); y=&lt;{3,4}; z=&lt;{x:y}; z -> (1,2,3:0,0,4)
<br>
・<a href="#span-out-mat-blank">欠損要素</a>は0として演算する
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
trans(trans((1,2:3:4))) -> (1,2:3,0:4,0)
<br>
trans(trans{(1,2:3:4)}) -> (1,2:3,0:4,0)
<br>
trans{trans{(1,2:3:4)}} -> (1,2:3,0:4,0)
<br>
x=(1,2); y={3,4}; trans(trans((x:y))) -> (1,2:3,0:4,0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
角括弧
<br>
入力仕様
    </th>
    <td>
<span id="span-out-BT-square"></span>
角括弧[]の入力仕様と付随する留意事項について記述する
<br>
<br>
角括弧[]は次の規則で直前の<a href="#span-out-mat">行列</a>要素の行/列indexを指定する
<br>
<a href="#span-out-mat">行列</a>[行index][列index]
<br>
<a href="#span-out-vars">変数</a>[行index][列index]
<br>
<a href="#span-out-eqns">式変数</a>[行index][列index]=&gt; || (<a href="#span-out-eqns">式変数</a>=&gt;)[行index][列index]
<br>
<a href="#span-out-eqns">式変数</a>[行index][列index](<a href="#span-out-eqns-args">arguments</a>)=&gt; || (<a href="#span-out-eqns">式変数</a>(<a href="#span-out-eqns-args">arguments</a>)=&gt;)[行index][列index]
<br>
<br>
詳細は<a href="#span-out-array">行列操作</a>参照
<br>
<br>
仕様を列挙する
<br>
・<a href="#span-out-BT">括弧</a>の中で最下位の<a href="#span-out-prec">演算のprecedence</a>
<br>
・Right-Associativity（右から左を参照）
<br>
・<span class="clear">Ver.2.158.38</span>以降、<a href="#span-out-concatenation">行列結合</a>用の<a href="#span-out-mat-empty">空行列</a>に流用
<br>
[] -> []
<br>
・複数の要素を持つ場合、<a href="#span-out-mat">行列</a>として代用可
<br>
A=(1,2:3,4); A[1,2:3,4] -> (7,10:15,22)
<br>
[1,2][0][0] -> 1
<br>
[1,2:3,4][0] -> (1,2)
<br>
[1,2:3,4][1] -> (3,4)
<br>
・<span class="run">Ver.2.170.41</span>以降、<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>の[e]を<a href="#span-out-mat-empty">空行列</a>で代替可
<br>
　<span class="clear">Ver.2.747.112</span>以降、列参照と列代入の[e]を廃止
<br>
[1,2:3,4][][1] -> (2:4)
<br>
A=[1,2:3,4]; A[][1]={-2,-4}; A -> (1,-2:3,-4)
<br>
<br>
<span class="run">Ver.2.31.17</span>以降、<a href="#span-out-scope-vars">変数のscope</a>を追加（上記仕様の冗長性を活用）
<br>
・複数の要素を持つcaseのみ、<a href="#span-out-scope-vars">変数のscope</a>有効
<br>
clear; 3*[a=2] || 3*[0] -> [MyErr]Invalid BRdm(*)
<br>
clear; [a=2]*3 || [0]*3 -> [MyErr]Invalid reference
<br>
clear; 3*[a=2,a] || 3*[0,2] -> (0,6)
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>を括る場合、closure無効
<br>
clear; f(x)=&lt;x; f(2)=&gt;,x -> (2,2)
<br>
clear; f[x]=&lt;x; f(2)=&gt;,x -> (2,2)
<br>
clear; f[x,y]=&lt;x; f(2,false)=&gt;,x -> (2,2)
<br>
clear; x=1; f[x]=&lt;x; f(2)=&gt;,x -> (2,1)
<br>
・<a href="#span-out-scope-vars-has1BT">単独scope</a>
<br>
clear; x=1; f[x]=&lt;last[,x]; f(2)=&gt;,x -> (2,1)
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
<del>clear; [a=2,a]*3 || [0,2]*3 -> [MyErr]Invalid matrix operation</del>
<br>
<span class="condition">clear; [a=2,a]*3 || [0,2]*3 -> (0,6)</span>
<br>
clear; 3*[a=2,a]; a -> [MyErr]Invalid REv(a)
<br>
<br>
詳細は<a href="#span-out-scope-vars">変数のscope</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
空括弧
<br>
入力仕様
    </th>
    <td>
<span id="span-out-BT-empty"></span>
空括弧の入力仕様と付随する留意事項について記述する
<br>
<br>
以下の空括弧は<a href="#span-out-flow">parse</a>段階で除去する
<br>
() ->
<br>
{} ->
<br>
・<span class="clear">Ver.2.158.38</span>以降、<a href="#span-out-mat-empty">空行列</a>を除く
<br>
<del>[] -></del>
<br>
[] -> []
<br>
・<span class="run">Ver.2.272.63</span>以降、<a href="#span-out-BT-empty">空括弧</a>の判別を厳格化
<br>
　無条件に削除　⇒　定数<a href="#span-out-BT">()</a>のみ削除・<a href="#span-out-BT">波括弧{}</a>禁止
<br>
<br>
test caseを列挙する
<br>
()3()3() || 3*3 -> 9
<br>
()3()/()3() || 3/3 -> 1
<br>
(()) -> 0
<br>
((())) -> 0
<br>
{{}} -> 0
<br>
{{{}}} -> 0
<br>
・<a href="#span-out-FN0">定数</a>
<br>
pi() -> 3.141592653589793
<br>
e() -> 2.718281828459045
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
予約語
<br>
入力仕様
    </th>
    <td>
<span id="span-out-RW"></span>
予約語の入力仕様と付随する留意事項について記述する
<br>
<br>
予約語の種類を列挙する
<br>
・<a href="#span-out-UI-graphing">Graphing Calculator</a>'s <a href="#span-out-plot2d-command">plot2d-command</a>
<br>
・<a href="#span-out-spaces">white spaces</a>
<br>
・<a href="#span-out-comment">comment文</a>
<br>
・<a href="#span-out-command">命令文</a>
<br>
・<a href="#span-out-SR">区切り文字</a>・<a href="#span-out-BT">括弧</a>
<br>
・<a href="#span-out-FN0">定数</a>含む<a href="#span-out-FN">関数</a>名
<br>
・<a href="#span-out-prec-ope">演算子</a>記号
<br>
・reserved token記号\||?||#||.||'||"||`　<span class="run">Ver.2.165.39</span>以降、追加
<br>
・<a href="#span-out-vars-escape">escape記号</a>　<span class="run">Ver.2.301.72</span>以降、追加
<br>
・operand記号
<br>
　・<a href="#span-out-literal">NaN||論理値literal</a>　<span class="run">Ver.2.158.38</span>以降、追加
<br>
　・<a href="#span-out-ans">予約変数</a>
<br>
　・<a href="#span-out-num">実数値</a>の10進数literal小数点.
<br>
　・<a href="#span-out-num">実数値</a>の10進数literal指数e||E
<br>
　・<a href="#span-out-num">実数値</a>の16進数literal接頭辞0x||0X
<br>
　・<a href="#span-out-num">実数値</a>の2進数literal接頭辞<span class="run">0b||0B</span>　<span class="clear">Ver.2.146.37</span>以降、ECMAScript6対応環境の場合
<br>
　・<a href="#span-out-num">実数値</a>の8進数literal接頭辞<span class="run">0o||0O</span>　<span class="clear">Ver.2.146.37</span>以降、ECMAScript6対応環境の場合
<br>
<br>
予約語の規則を列挙する
<br>
・大文字・小文字・全角・半角を区別しない
<br>
・<a href="#span-out-vars">変数</a>名・<a href="#span-out-eqns">式変数</a>名に使用不可（<a href="#span-out-vars-rule2">変数の命名規則</a>参照）
<br>
stop=3 -> [MyErr]Invalid stop called
<br>
max=3 -> [MyErr]Invalid ans isFound
<br>
max=&lt;3 -> [MyErr]Invalid BTe([object Object])
<br>
ＭＡＸ=3 -> [MyErr]Invalid ans isFound
<br>
・<span class="run">Ver.2.221.50</span>以降、実装関数名の大文字・小文字のformatを選択する<a href="#span-out-option7">useFunc</a>を追加
<br>
<br>
予約語の一覧は<a href="#span-in-FN">内部仕様</a>参照
   </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
実数値
<br>
入力仕様
    </th>
    <td>
<span id="span-out-num"></span>
実数値の入力仕様と付随する留意事項について記述する
<br>
<br>
実数値の定義：<a href="#span-out-number">built-inのNumber関数</a>が数値と認識する文字列
<br>
非数NaNの定義：<a href="#span-out-number">built-inのNumber関数</a>が数値と認識しない文字列
<br>
<br>
test caseを列挙する
<br>
123 -> 123
<br>
-123 -> -123
<br>
・0開始の場合、10進数literal（古いbrowserでは8進数literalの可能性あり）
<br>
0123 -> 123
<br>
00123 -> 123
<br>
-0123 -> -123
<br>
-00123 -> -123
<br>
・10進数literal小数（小数表記）
<br>
0.123 -> 0.123
<br>
-0.123 -> -0.123
<br>
.123 -> 0.123
<br>
-.123 -> -0.123
<br>
123. -> 123
<br>
-123. -> -123
<br>
・10進数literal指数（指数表記）
<br>
0123e0 -> 123
<br>
0123e+1 -> 1230
<br>
-0123e-2 -> -1.23
<br>
0.123e+1 -> 1.23
<br>
-0.123e-2 -> -0.00123
<br>
-0123.4e+5 -> -12340000
<br>
・16進数literal（符号なし）
<br>
0x0 -> 0
<br>
0x000 -> 0
<br>
0xf -> 15
<br>
0xfff -> 4095
<br>
0x0b -> 11
<br>
・非数<a href="#span-out-literal">NaN</a>（演算を伴うため、実数値以外の判定）
<br>
+0x00 || +(0x00) -> 0
<br>
-0x00 || -(0x00) -> 0
<br>
-0xff || -(0xff) -> -255
<br>
0x0e+1 || (0x0e)+1 -> 15
<br>
0x1e-2 || (0x1e)-2 -> 28
<br>
-0x1e2 || -(0x1e2) -> -482
<br>
0x0.0 -> [MyErr]Invalid ans isFound
<br>
00x0 -> [MyErr]Invalid ans isFound
<br>
・<span class="clear">Ver.2.146.37</span>以降、<a href="#span-out-RW">接頭辞</a>判定の<a href="#span-in-re-prifix">正規表現</a>を修正
<br>
<del>0x3i -> 3i</del>
<br>
0x3i -> [MyErr]Invalid varName(0x3i)
<br>
0x0o -> [MyErr]Invalid varName(0x0o)
<br>
・<span class="clear">Ver.2.146.37</span>以降、2進数literal（符号なし）
<br>
0b011 -> 3
<br>
0b02 -> [MyErr]Invalid varName(0b02)
<br>
0b0f -> [MyErr]Invalid varName(0b0f)
<br>
・<span class="clear">Ver.2.146.37</span>以降、8進数literal（符号なし）
<br>
0o17 -> 15
<br>
0b08 -> [MyErr]Invalid varName(0b08)
<br>
0b0f -> [MyErr]Invalid varName(0b0f)
<br>
<br>
<a href="#span-out-number">built-inのNumber関数</a>の挙動を確認する場合、<a href="../69_number/index.html">Number変換</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
false判定値
<br>
入力仕様
    </th>
    <td>
<span id="span-out-num-false"></span>
false判定値の入力仕様と付随する留意事項について記述する
<br>
<br>
false判定値の定義：無次元の0||<a href="#span-out-literal">false</a>||<a href="#span-out-literal">NaN</a>（<a href="#span-out-error-numerical">数値誤差</a>は無視）
<br>
・<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-literal">NaN</a>を追加
<br>
・<span class="run">Ver.2.159.38</span>以降、虚部のisNaN判定を統一：isNaN(実部&amp;&amp;虚部)　⇒　isNaN(実部)||isNaN(虚部)
<br>
・<span class="clear">Ver.2.165.40</span>以降、<a href="#span-out-literal">false</a>を追加
<br>
<br>
無次元のtrue判定値の定義
<br>
・<a href="#span-out-ope">実数演算</a>：false判定値以外の<a href="#span-out-num">実数値</a>
<br>
・<a href="#span-out-com">複素数</a>演算：false判定値以外の<a href="#span-out-com">複素数</a>
<br>
<br>
<a href="#span-out-ope">有次元</a>のtrue判定の定義：要素数が2以上（値は無視）
<br>
<br>
<a href="#span-out-ope">有次元</a>のtrue判定を使用する項目を列挙する
<br>
・<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>
<br>
<br>
test caseを列挙する
<br>
val=0; val==0,val==false,val===0,val===false -> (1,1,1,0+O(1e+0))
<br>
val=false; val==0,val==false,val===0,val===false -> (1,1,0+O(1e+0),1)
<br>
val=1; val==1,val==true,val===1,val===true -> (1,1,1,0+O(1e+0))
<br>
val=true; val==1,val==true,val===1,val===true -> (1,1,0+O(1e+0),1)
<br>
・<span class="run">Ver.2.172.42</span>以降、<a href="#span-out-FNm-isFalse">isFalse/isTrue行列関数</a>を追加
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
欠損値
<br>
入力仕様
    </th>
    <td>
<span id="span-out-num-NaN"></span>
欠損値の入力仕様と付随する留意事項について記述する
<br>
<br>
各機能の欠損値の定義を列挙する
<br>
・<a href="#span-out-UI-graphing-config-csv">csv-read</a>の欠損値=NaN
<br>
・<a href="#span-out-plot2d-command">plot2d-command</a>の欠損値=NaN+(NaN)i
<br>
・<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>の欠損値=NaN+(NaN)i
<br>
・<a href="#span-out-FN-interp">補間関数</a>の欠損値=NaN+(NaN)i
<br>
・<a href="#span-out-FNm-reshape">reshape行列関数</a>の欠損値=NaN+(NaN)i
<br>
・<a href="#span-out-FNm-coo">座標形式行列関数</a>の欠損値=<a href="#span-out-prec-ope-arithmetic-ite">.filter演算子</a>の欠損値=NaN+(NaN)i
<br>
・<span class="run">Ver.2.819.132</span>以降、区間[∞,∞]の<a href="#span-out-limit">極限</a>が有限でない場合、<a href="#span-out-FNh-IX">積分</a>の欠損値=NaN+(NaN)i
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
定数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN0"></span>
定数の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-number">Number</a>型を含む定数は引数<a href="#span-out-BT">括弧</a>なしで厳密には<a href="#span-out-FN">関数</a>に含めない
<br>
・実行文を作る<a href="#span-out-flow">parse</a>段階で数値に変換する
<br>
・<span class="run">Excel</span>準拠で<a href="#span-out-BT-empty">空括弧</a>()付を許容する
<br>
・<a href="#span-out-BT-empty">空括弧</a>()は<a href="#span-out-flow">parse</a>段階で除去する（<span class="clear">Ver.2.158.38</span>以降、<a href="#span-out-mat-empty">空行列</a>を除く）
<br>
<br>
<a href="#span-out-FN">関数</a>を使用して円周率piとNapier数eを一例に示す
<br>
PI() || pi || 2acos(0) || 2asin(1) || 4atan(1) -> 3.141592653589793
<br>
E() || e || e^1 || exp(1) -> 2.718281828459045
<br>
<br>
eは<a href="#span-out-num">指数表記</a>と区別するため、<a href="#span-out-BT-empty">空括弧</a>()を付ける方が間違いが少ない
<br>
2e-1 || 2E-1 -> 0.2
<br>
2e()-1 || 2E()-1 -> 4.43656365691809
<br>
・<a href="#span-out-BRmo">記号省略乗算</a>を許容した弊害への対策
<br>
<br>
<span class="run">Ver.2.30.15</span>以降、乱数は引数0個の<a href="#span-out-FN-rand">関数</a>に昇格
<br>
<del>random() || random || rand -> 0.7479324154774045</del>
<br>
・本来、<a href="#span-out-FN">関数</a>call時に<a href="#span-out-BT-empty">空括弧</a>を含めて判別するが、
<br>
・定数の引数<a href="#span-out-BT">括弧</a>の有無と<a href="#span-out-BRmo">記号省略乗算</a>を同時に許容した弊害への対策
<br>
<br>
次の場合、代入errorとは判別されず、右辺に移項して演算される
<br>
pi=3 || pi()=3 || =3-pi -> -0.14159265358979312
<br>
・<a href="#span-out-flow">parse</a>後の実行文を示す
<br>
3.141592653589793=3 || =3-3.141592653589793 -> -0.14159265358979312
<br>
<br>
詳細は<a href="#span-out-special-equal">特殊仕様</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
記号省略乗算
<br>
入力仕様
    </th>
    <td>
<span id="span-out-BRmo"></span>
記号省略乗算入力仕様と付随する留意事項について記述する
<br>
<br>
2πの演算方法を円周率piを使用して次に示す
<br>
2pi || 2*pi -> 6.283185307179586
<br>
・pi2と入力した場合、<a href="#span-out-vars">変数</a>と判別される
<br>
pi2 -> [MyErr]Invalid REv(pi2)
<br>
・piの後に続ける場合、<a href="#span-out-BT">括弧</a>で区切るか乗算記号*を明示する
<br>
pi(2) || pi*2 -> 6.283185307179586
<br>
<br>
<a href="#span-out-BT-square">角括弧[]</a>は使用不可
<br>
pi[2] -> [MyErr]Invalid reference of array
<br>
[2]pi -> [MyErr]Invalid reference
<br>
x=2; x[0] -> 2
<br>
x=2; x[2] -> [MyErr]Invalid reference of array
<br>
x=2; [2]x -> [MyErr]Invalid reference
<br>
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を追加
<br>
・記号省略乗算より<a href="#span-out-eqns-args">call先arguments</a>を優先する（<span class="clear">Ver.2.43.22</span>追記）
<br>
clear; x(t)=&lt;-t; f=&lt;x(1)+1; f -> 0
<br>
clear; x(t)=&lt;-t; f=&lt;x(1)2+1; f -> -1
<br>
clear; x(t)=&lt;-t; f=&lt;x(1)(2)+1; f -> -1
<br>
clear; x(t)=&lt;-t; f=&lt;(x(1))(2)+1; f -> -1
<br>
clear; x(t)=&lt;-t; f=&lt;x(1(-2))+1; f -> 3
<br>
clear; x(t)=&lt;-t; f=&lt;x(1(-2))(2)+1; f -> 5
<br>
clear; x(t)=&lt;-t; f=&lt;x(1(-2))2+1; f -> 5
<br>
clear; x(t)=&lt;-t; f=&lt;x((1(-2))3)+1; f -> 7
<br>
clear; x(t)=&lt;-t; f=&lt;x((1(-2))3+1); f -> 5
<br>
clear; x(t)=&lt;-t; x=-999; f=&lt;x(1)+1; f -> -998
<br>
clear; x(t)=&lt;-t; x=-999; f=&lt;x(1)=&gt;+1; f -> 0
<br>
clear; x(t)=&lt;-t; x=-999; f=&lt;x(1)=&gt;2+1; f -> -1
<br>
clear; x(t)=&lt;-t; x=-999; f=&lt;x(1)=&gt;(x)+1; f -> 1000
<br>
clear; x(t)=&lt;-t; x=-999; f=&lt;x(1)=&gt;x+1; f -> 0
<br>
clear; x(t)=&lt;-t; x=-999; f=&lt;x(1)=&gt;x+1; f; x -> -1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
複素数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-com"></span>
複素数の入力仕様と付随する留意事項について記述する
<br>
<br>
虚数単位iは<a href="#span-out-type-ope">後置単項演算子</a>とする
<br>
(+1)i || +(1)i || +1(i) || +(i) -> i
<br>
(-1)i || -(1)i || -1(i) || -(i) -> -i
<br>
(i)i || i(i) || i*i -> -1
<br>
3i/2 -> 1.5i
<br>
1/2i || 1/(2i) -> -0.5i
<br>
・<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-literal">literal</a>を追加
<br>
0i || (0)i || (false)i || 0*i -> 0
<br>
1i || (1)i || (true)i || 1*i -> i
<br>
(NaN)i || NaN*i -> NaN
<br>
<br>
複素数を宣言する<a href="#span-out-FN">関数</a>を示す
<br>
complex(1,-1) || comp(1,-1) -> 1-i
<br>
<br>
複素数を実部と虚部に分離する<a href="#span-out-FN">関数</a>を示す
<br>
real(3+i) -> 3
<br>
imag(3+i) -> 1
<br>
<br>
iの2乗の演算結果を示す
<br>
i*i || (-i)*(-i) -> -1
<br>
・<a href="#span-out-type-ope">中置2項演算子</a>||<a href="#span-out-FN-pow">pow関数</a>を使用
<br>
(i)^2 || (i)**2 || pow(i,2) -> -1+1.2246467991473532e-16i
<br>
・<a href="#span-out-float">浮動小数点演算</a>では、次の<a href="#span-out-epsilon">Machine epsilon</a>が残る
<br>
epsilon || eps -> 2.220446049250313e-16
<br>
・この傾向は<a href="#span-out-ope">演算量</a>に応じて<a href="#span-out-ope">実数演算</a>より顕著に現れる
<br>
<br>
-1の正の平方根の演算結果を示す
<br>
・<a href="#span-out-type-ope">中置2項演算子</a>||<a href="#span-out-FN-sqrt">sqrt関数</a>||<a href="#span-out-FN-pow">pow関数</a>を使用
<br>
(-1)^0.5 || sqrt(-1) || pow(-1,0.5) -> 6.123233995736766e-17+i
<br>
・先頭の丸括弧()を省略した場合、次のように演算される
<br>
-1^0.5 || -(1^0.5) -> -1
<br>
・符号付の分母の丸括弧()を省略した場合、error終了
<br>
1/-i || (1/)(-i) -> [MyErr]Invalid binary operation
<br>
1/(-i) -> i
<br>
<br>
<a href="#span-out-FN0">Napier数e</a>の<a href="#span-out-BT-empty">空括弧</a>()を省略してEulerの公式から<a href="#span-out-complex">極形式</a>の複素数を示す
<br>
(sqrt2)e^(i{pi/4}) || sqrt2()ecomp(pi/4) -> 1.0000000000000002+i
<br>
sqrt2 || sqrt2() -> 1.4142135623730951
<br>
<br>
<a href="#span-out-vars">変数</a>を使用
<br>
・複素数zの偏角/piを示す
<br>
z=e^(i{pi/4}); arg(z)/pi -> 0.25
<br>
・複素数zの絶対値を示す
<br>
z=e^(i{pi/4}); abs(z) -> 1
<br>
<br>
以上より、次の複素数演算をtest caseとして初期表示する
<br>
e^(-i(1pi()2/2i(5-3-1)i/(-4)))
<br>
・<a href="#span-out-associativity">2項演算子のassociativity</a>は<a href="#span-out-option1">LA既定</a>で除算より<a href="#span-out-BRmo">記号省略乗算</a>を優先する
<br>
e^(-i(1pi(){2/{2i({5-3}-1)i}}/(-4)))
<br>
<br>
<a href="#span-out-associativity">2項演算子のassociativity</a>や<a href="#span-out-prec-ope">演算子のprecedence</a>によって解が異なる場合、入力を見直す
<br>
<br>
具体的には次のように対策する
<br>
a={5-3}-1; b=2/{2i(a)i}; e^(-i(1pi()b/(-4)))
<br>
・一部分を変数に代入し、semi-colon;区切りで演算順序を明確化する
<br>
・<a href="#span-out-type-ope">中置2項演算子</a>が連続する場合、<a href="#span-out-BT">括弧</a>を明示する
<br>
<br>
<a href="#span-out-ope">実数演算</a>の場合、虚数は0のため、次の<a href="#span-out-complex">極形式</a>は使用不可
<br>
t=pi/4; e^(i{t}) || e^(real(i)t) || e^(0)  <span class="selection">// NG</span> -> 1
<br>
・<a href="#span-out-complex">極形式</a>の<a href="#span-out-FN">関数</a>を使用
<br>
pcomp(1,t) || ecomp(t) || cos(t)+real(i)sin(t) || cos(t) -> 0.7071067811865476
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN"></span>
関数の入力仕様と付随する留意事項について記述する
<br>
<br>
関数の引数を括る<a href="#span-out-BT">括弧</a>は丸括弧()で統一する（<a href="#span-out-FNm-last">last行列関数</a>を除く）
<br>
<br>
関数の引数に<a href="#span-out-mat">行列</a>を指定した場合、<del>最終行vector</del>
<br>
<span class="run">Ver.2.73.29</span>以降、各行vectorの左から順に参照する
<br>
・引数1個の関数の場合
<br>
clear; x=(1,2,3); log(x) || log(1) -> 0
<br>
clear; x=(1,2,3:4,5,6); log(x) || (log(1):log(4)) -> (0:1.3862943611198906)
<br>
・引数1個||2個の関数の場合
<br>
clear; x=(1,2,3); log_ex(x) || log_ex(1,2) -> 0
<br>
clear; x=(1,2,3:4); log_ex(x) || (log_ex(1,2):log_ex(4)) -> (0:0.6020599913279623)
<br>
・引数2個の関数の場合
<br>
clear; x=(1,2,3); atan2(x) || atan2(1,2) -> 0.4636476090008061
<br>
clear; x=(1,2,3:4,5,6); atan2(x) || (atan2(1,2):atan2(4,5)) ->
<br>
(0.4636476090008061:0.6747409422235527)
<br>
clear; x=(1,2,3:4); atan2(x) || (atan2(1,2):atan2(4)) -> (0.4636476090008061:NaN)
<br>
・引数不定の関数の場合
<br>
clear; x=(1,2,3); max(x) || max(1,2,3) -> 3
<br>
clear; x=(1,2,3:4,5,6); max(x) || (max(1,2,3):max(4,5,6)) -> (3:6)
<br>
clear; x=(1,2,3:4,5,6); lcm(x) || (lcm(1,2,3):lcm(4,5,6)) -> (6:60)
<br>
clear; x=(1,2,3:4*(1,2,3)); gcd(x) || (gcd(1,2,3):gcd(4*(1,2,3))) -> (1:4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
関数の引数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-args"></span>
関数の引数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="clear">Ver.2.170.42</span>以降、実装関数の引数が<a href="#span-out-literal">NaN</a>の場合、発生する不具合を一括修正
<br>
<del>pow(nan,2) -> 0</del>
<br>
pow(NaN,2) -> NaN
<br>
pow(2,NaN) -> NaN
<br>
・引数不足の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
pow(2) -> NaN
<br>
・引数不定の関数の場合、同じ引数を追加して正常化
<br>
camin(NaN) || camin(NaN,NaN) -> NaN
<br>
camin(i) || camin(i,i) -> 1
<br>
<br>
詳細は<a href="#span-in-FN-NaN">NaN対応</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
isNaN関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-isNaN"></span>
isNaN関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.159.38</span>以降、isNaN関数を追加
<br>
<br>
test caseを列挙する
<br>
isNaN(NaN) -> true
<br>
isNaN(Infinity) -> false
<br>
isNaN(0) -> false
<br>
isNaN(false) -> false
<br>
isNaN(true) -> false
<br>
val=NaN; isNaN(val) -> true
<br>
mat=(NaN,2:3,NaN); isNaN(mat) || isNaN(NaN:3) -> (true:false)
<br>
a=0; b=a/a; c=1/a; isNaN(a),isNaN(b),isNaN(c) -> (false,true,true)
<br>
・<a href="#span-out-ope">実数演算</a>
<br>
a=0; b=a/a; c=1/a; isNaN(a),isNaN(b),isNaN(c) -> (false,true,false+O(1e+0))
<br>
・<span class="run">Ver.2.163.39</span>以降、虚部のNaNを<a href="#span-out-log">log表示</a>する場合、<a href="#span-in-options">内部option</a>参照
<br>
nan*i -> NaN+(NaN)i
<br>
・<span class="clear">Ver.2.167.41</span>以降、実部NaN+虚部iの演算結果の<a href="#span-out-log">log表示</a>不具合を修正
<br>
<del>NaN+i -> i</del>
<br>
NaN+i -> NaN
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-literal">論理値literal</a>を返す
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
演算子
<br>
代替関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-ope"></span>
演算子代替関数の入力仕様と付随する留意事項について記述する
<br>
<br>
演算子代替関数の仕様を列挙する
<br>
・<del><span class="clear"><a href="#span-out-option1">LA既定</a></span></del><span class="run">Ver.2.193.44</span>以降、<span class="clear"><a href="#span-out-associativity">2項演算子のassociativity</a>に依存する代替関数</span>に対応
<br>
・<a href="#span-out-error-numerical">数値誤差</a>は無視
<br>
<del>・false||true返値=0||1</del><span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
<br>
・<span class="clear">Ver.2.170.42</span>以降、引数不足の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
pow(2) -> NaN
<br>
<del>or(NaN) || or(0)  <span class="selection">// NaN||undefined</span> -> undefined</del>
<br>
or(NaN) || or(0) -> NaN
<br>
<br>
表記上の留意事項を列挙する
<br>
・<span class="condition">追加実装の演算子</span>
<br>
・<span class="clear"><a href="#span-out-associativity">2項演算子のassociativity</a>に依存する演算子と代替関数</span>
<br>
<br>
<a href="#span-out-com">複素数</a>演算の演算子代替関数（operandが<a href="#span-out-ope">無次元</a>の<a href="#span-out-com">複素数</a>）
<br>
・<span class="condition">left**right</span>代替のべき乗関数: pow(left, right) || power(left, right)
<br>
・<span class="run">Ver.2.168.41</span>以降、strict equal判定関数: cseq(left, right)
<br>
・<span class="run">Ver.2.168.41</span>以降、strict not equal判定関数: csne(left, right)
<br>
・equal判定関数: ceq(left, right)
<br>
・not equal判定関数: cne(left, right)
<br>
・<span class="run">Ver.2.168.41</span>以降、以下の代替関数を追加
<br>
・<span class="condition">~~(right)</span>: cnot(right)
<br>
・<span class="clear">left&amp;&amp;right: cand(left, right)</span>
<br>
・cnot(cand(left, right)): cnand(left, right)　<span class="run">Ver.2.766.116</span>以降、追加
<br>
・<span class="condition">left@@right</span>: cxor(left, right)
<br>
・cnot(cxor(left, right)): cxnor(left, right)　<span class="run">Ver.2.766.116</span>以降、追加
<br>
・<span class="clear">left||right: cor(left, right)</span>
<br>
・cnot(cor(left, right)): cnor(left, right)　<span class="run">Ver.2.766.116</span>以降、追加
<br>
<br>
<a href="#span-out-ope">実数演算</a>の演算子代替関数（operandが<a href="#span-out-ope">無次元</a>の<a href="#span-out-num">実数値</a>）
<br>
・left%right代替の剰余関数: mod(left, right)
<br>
　<del>left%right代替の</del>常に正の余りを返すmodulo関数: fmod(left, right)　<span class="run">Ver.2.721.101</span>以降、<a href="#span-out-spec-changed-history">演算仕様変更</a>
<br>
・<span class="condition">left%%right</span>代替の整数商関数: quot(left, right)
<br>
　fmod対応のfquot関数: fquot(left, right)　<span class="run">Ver.2.721.101</span>以降、追加
<br>
・<span class="run">Ver.2.167.40</span>以降、left===rightを代替するstrict equal判定関数: seq(left, right)
<br>
・<span class="run">Ver.2.167.40</span>以降、left!==rightを代替するstrict not equal判定関数: sne(left, right)
<br>
・left==rightを代替するequal判定関数: eq(left, right)
<br>
・left&lt;&gt;rightを代替するnot equal判定関数: ne(left, right)
<br>
・left&lt;rightを代替するless than判定関数: lt(left, right)
<br>
・left&lt;=rightを代替するless or equal判定関数: le(left, right)
<br>
・left&gt;rightを代替するgreater than判定関数: gt(left, right)
<br>
・left&gt;=rightを代替するgreater or equal判定関数: ge(left, right)
<br>
・<span class="run">Ver.2.167.40</span>以降、以下の代替関数を追加
<br>
・~right: bitnot(right)
<br>
・left&amp;right: bitand(left, right)
<br>
・left^rightを表す<span class="condition">left@right</span>: bitxor(left, right)
<br>
・left|right: bitor(left, right)
<br>
・(right?0:1)を表す<span class="condition">~~(right)</span>: not(right)
<br>
・<span class="clear">left&amp;&amp;right: and(left, right)</span>
<br>
・not(and(left, right)): nand(left, right)　<span class="run">Ver.2.766.116</span>以降、追加
<br>
・(left?1:0)^(right?1:0)を表す<span class="condition">left@@right</span>: xor(left, right)
<br>
・not(xor(left, right)) || Kdelta(left, right): xnor(left, right)　<span class="run">Ver.2.766.116</span>以降、追加
<br>
・<span class="clear">left||right: or(left, right)</span>
<br>
・not(or(left, right)): nor(left, right)　<span class="run">Ver.2.766.116</span>以降、追加
<br>
<br>
test caseを列挙する
<br>
i**i,i^i -> (0.20787957635076193,0.20787957635076193)
<br>
pow(i,i),power(i,i) -> (0.20787957635076193,0.20787957635076193)
<br>
5.2%3 -> 2.2
<br>
・<span class="run">Ver.2.721.101</span>以降、fmod関数は常に正の余りを返す
<br>
mod(5.2,3),fmod(5.2+i,3),fmod(5.2,3+i) -> (2.2,2.2,2.2)
<br>
1%5,mod(1,5),fmod(1,5) -> (1,1,1)
<br>
-1%5,mod(-1,5),fmod(-1,5) -> (-1,-1,<del>-1</del>4)
<br>
1%(-5),mod(1,-5),fmod(1,-5) -> (1,1,1)
<br>
-1%(-5),mod(-1,-5),fmod(-1,-5) -> (-1,-1,<del>-1</del>4)
<br>
-7%5,mod(-7,5),fmod(-7,5) -> (-2,-2,<del>-2</del>3)
<br>
・<span class="run">Ver.2.721.101</span>以降、fquot関数を追加
<br>
quot(5.2,3),quot(5.2,2),fquot(5.2,3),fquot(5.2,2) -> (1,2,1,2)
<br>
1%%5,quot(1,5),fquot(1,5) -> (0,0,0)
<br>
-1%%5,quot(-1,5),fquot(-1,5) -> (0,0,-1)
<br>
1%%(-5),quot(1,-5),fquot(1,-5) -> (0,0,0)
<br>
-1%%(-5),quot(-1,-5),fquot(-1,-5) -> (0,0,1)
<br>
-7%%5,quot(-7,5),fquot(-7,5) -> (-1,-1,-2)
<br>
ceq(2+3i,3*i-(-2)) -> 1
<br>
cne(2+3i,3*i-(-2)) -> 0
<br>
eq(2+3i,2-3i) || eq(2,2) -> 1
<br>
ne(5,-5) -> 1
<br>
lt(1,2)&amp;lt(3,4) || 1&amp;1  <span class="selection">// AND</span> -> 1
<br>
lt(1,2)&amp;gt(3,4) || 1&amp;0  <span class="selection">// AND</span> -> 0
<br>
lt(1,2)@lt(3,4) || 1@1  <span class="selection">// XOR</span> -> 0
<br>
lt(1,2)@gt(3,4) || 1@0  <span class="selection">// XOR</span> -> 1
<br>
lt(1,2)|lt(3,4) || 1|1  <span class="selection">// OR</span> -> 1
<br>
lt(1,2)|gt(3,4) || 1|0  <span class="selection">// OR</span> -> 1
<br>
le(1,1)*ge(1,1) || 1*1 -> 1
<br>
le(1,1)*ge(1,2) || 1*0 -> 0
<br>
・<a href="#span-out-ope-extended">拡張行列演算</a>
<br>
left={5.2,5.2,5.2+i,5.2+i};
<br>
right={3,3+i,2,2+i,1,1+i};
<br>
left%right,mod(left,right),quot(left,right) ->
<br>
(
<br>
2.2,2.2,1:
<br>
2.2,2.2,1:
<br>
1.2000000000000002,1.2000000000000002,2:
<br>
1.2000000000000002,1.2000000000000002,2:
<br>
0.20000000000000018,NaN,NaN:
<br>
0.20000000000000018,NaN,NaN
<br>
)
<br>
right=(false:true:NaN:0:1:i);
<br>
cnot(right),not(right) ->
<br>
(
<br>
1,1:
<br>
0,0:
<br>
1,1:
<br>
1,1:
<br>
0,0:
<br>
0,1
<br>
)
<br>
<br>
留意事項を列挙する
<br>
<del>・<a href="#span-out-option1">RA選択</a>の場合、<a href="#span-out-associativity">2項演算子のassociativity</a>に依存する代替関数<span class="clear">and||or()</span>は未対応（代替不可）
<br>
　関数call前に引数のleftとrightを交換する特殊な条件分岐が増えるため、対応見送り</del>
<br>
・<span class="run">Ver.2.193.44</span>以降、mix-in切替で<span class="clear"><a href="#span-out-associativity">2項演算子のassociativity</a>に依存する代替関数</span>に対応
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-literal">論理値literal</a>を返す
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
int関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-int"></span>
int関数の入力仕様と付随する留意事項について記述する
<br>
<br>
int関数
<br>
・<span class="run">Ver.2.87.32</span>以降、0側に丸める
<br>
int(3.2) -> 3
<br>
int(-3.2) -> -3
<br>
int(-4) -> -4
<br>
int(-3.2i) -> 0
<br>
<br>
floor関数
<br>
floor(3.2) -> 3
<br>
floor(-3.2) -> -4
<br>
floor(-4) -> -4
<br>
floor(-3.2i) -> 0
<br>
<br>
<a href="#span-out-prec-ope-arithmetic-mod">剰余・整数商演算子</a>||<a href="#span-out-FN-ope">演算子代替関数</a>との関係
<br>
clear; a=-3.2; b=2; m=a-int(a/b)*b; m || mod(a,b) || -3.2%2 -> -1.2000000000000002
<br>
clear; a=-3.2; b=2; q=int(a/b); q || quot(a,b) || -3.2%%2 -> -1
<br>
clear; a=-3.2; b=2; m=a-floor(a/b)*b; m  <span class="selection">// NG</span> -> 0.7999999999999998
<br>
clear; a=-3.2; b=2; q=floor(a/b); q  <span class="selection">// NG</span> -> -2
<br>
<br>
留意事項を列挙する
<br>
・operandは実数のみ対応
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
乱数関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-rand"></span>
乱数関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.30.15</span>以降、乱数の即時callに対応
<br>
・<span class="run">Ver.2.272.63</span>以降、引数0個の関数callを厳格化
<br>
　<a href="#span-out-BT">丸括弧()</a>の省略可　⇒　省略不可
<br>
<br>
乱数の仕様はbuilt-inのMath.random()に同義
<br>
・返値は区間[0,1)の一様乱数（0以上~1未満の擬似乱数）
<br>
・乱数生成器のseed値は現在時刻（指定不可）
<br>
<br>
test caseを列挙する
<br>
random() || random || rand -> 0.7479324154774045
<br>
rand,rand -> (0.31204941180294865,0.4245907180242292)
<br>
A=0; _rn(=&lt;A=(A,rand),,2); A -> (0,0.12740820474199377,0.7111903938956377)
<br>
・<span class="clear">Ver.2.158.38</span>以降、<a href="#span-out-concatenation">行列結合</a>用の<a href="#span-out-mat-empty">空行列</a>を追加
<br>
A=[]; _rn(=&lt;A=(A,rand),,2); A -> (0.3371037693804637,0.6437029689436904)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
その他の乱数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-rand-else"></span>
確率分布に従う乱数の入力仕様と付随する留意事項について記述する
<br>
<br>
確率密度関数の確率分布に従う乱数の生成方法
<br>
・乱数の返値xを定義
<br>
・確率密度関数の累積分布関数y=P(x)
<br>
　確率分布が一様の場合、yは線形
<br>
　確率分布が非一様の場合、yは非線形
<br>
・累積分布関数の許容誤差範囲内で
<br>
・xの区間=[x0,x1)を定義
<br>
・yの区間=[P(x0),P(x1))を満たす
<br>
・一様乱数生成器rand=[0,1)の関数y=y(rand)を定義
<br>
・以上より、y=P(x)の逆変換x=Pinv(y(rand))を返す
<br>
・<a href="#span-out-FNspecial">標準正規分布</a>の許容誤差=5σの一例
<br>
　xの区間=[-5,5)
<br>
　yの区間=(rand-0.5)*2*0.999999426697
<br>
SND(t)=&lt;exp(-t^2/2)/sqrt(2*pi);
<br>
P(x,N)=&lt;_it(=&lt;SND(t)=&gt;,0,x,N)*2;
<br>
P(5,10000) -> 0.9999994266968594+O(1e-13)
<br>
・逆変換x=Pinv(y)の方法
<br>
　厳密には逆変換の解析関数を使用
<br>
　簡単には逆変換の<a href="#span-out-FN-interp">lookup-table</a>を使用
<br>
<br>
乱数生成の一例を示す
<br>
・<a href="#span-out-FNspecial">標準正規分布</a>の非常に粗い逆変換table：x=Pinv(y)
<br>
csv0=(
<br>
-0.999999427,-0.999936657,-0.997300203,-0.954499736,-0.682689492,0,
<br>
0.682689492,0.954499736,0.997300203,0.999936657,0.999999427:
<br>
-5,-4,-3,-2,-1,0,1,2,3,4,5
<br>
);
<br>
・<a href="#span-out-FN-statistic">統計関数</a>を使用して昇順sort
<br>
table=sort0(csv0);
<br>
・yの範囲を取得
<br>
ymin=min(table)[0];
<br>
ymax=max(table)[0];
<br>
・一様乱数を生成してyに変換
<br>
y=ymin+(ymax-ymin)*rand;
<br>
・<a href="#span-out-FN-interp1">線形補間</a>を使用してxに逆変換（その他の<a href="#span-out-FN-interp">補間関数</a>は次数が不適切で近似困難）
<br>
x=interp(y:table); x -> 0.2128604699061138
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
階乗関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-fact"></span>
階乗関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="clear">Ver.2.69.28</span>以降、階乗の仕様を見直して次の致命的な不具合に繋がる入力を回避
<br>
<span class="clear">Maximum call stack size exceeded</span>
<br>
・再帰処理を単なるfor-loopに修正
<br>
・順列||組合せ関数の引数不足による無限loopを修正
<br>
<br>
階乗の仕様を列挙する
<br>
・operandは0を含む自然数のみ対応
<br>
・<span class="jF">operandが負の場合、<del>未定義で0を返す</del></span><span class="clear">Ver.2.170.42</span>以降、<span class="clear"><a href="#span-out-literal">false</a></span>を返す
<br>
・<span class="condition">operand=0の場合、1を返す</span>
<br>
・<span class="run">Ver.2.205.46</span>以降、引数の丸め方をfloor　⇒　roundに<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
<br>
階乗fact(n)
<br>
fact(3.3) || 3.3! || 3! || 3*2*1 -> 6
<br>
fact(3i) || (3i)! || 0! -> 1
<br>
fact(3+3i) || (3+3i)! || 3! || 3*2*1 -> 6
<br>
<span class="jF">fact(-3) || (-3)! -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="condition">fact(0) || 0! -> 1</span>
<br>
fact(1) || 1! || 1 -> 1
<br>
fact(2) || 2! || 2*1 -> 2
<br>
fact(3) || 3! || 3*2*1 -> 6
<br>
fact(4) || 4! || 4*3*2*1 -> 24
<br>
fact(5) || 5! || 5*4*3*2*1 -> 120
<br>
fact(6) || 6! || 6*5*4*3*2*1 -> 720
<br>
fact(7) || 7! || 7*6*5*4*3*2*1 -> 5040
<br>
fact(8) || 8! || 8*7*6*5*4*3*2*1 -> 40320
<br>
fact(9) || 9! || 9*8*7*6*5*4*3*2*1 -> 362880
<br>
fact(10) || 10! || 10*9*8*7*6*5*4*3*2*1 -> 3628800
<br>
fact(1e2) || 1e2! -> 9.332621544394418e+157
<br>
fact(1e3) || 1e3! -> Infinity
<br>
<span class="clear">fact(1e4) || 1e4! -> Infinity</span>
<br>
<span class="clear">fact(1e5) || 1e5! -> Infinity</span>
<br>
<span class="clear">fact(1e6) || 1e6! -> Infinity</span>
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>NaN! || fact(NaN) -> 1</del>
<br>
NaN! || fact(NaN) -> NaN
<br>
<br>
順列permutation(n,k)
<br>
permut(3.3,1.6) || permut(3,1) || permutation(3,1) -> 3
<br>
permut(3i,1) || permut(0,1) -> 0
<br>
permut(3+3i,1) || permut(3,1) -> 3
<br>
permut(0,3) -> 0
<br>
<span class="jF">permut(-1,3) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="jF">permut(-1,0) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="jF">permut(0,-1) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="jF">permut(3,-1) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="condition">permut(0,0) -> 1</span>
<br>
permut(3,0) || 1 -> 1
<br>
permut(3,1) || 3 -> 3
<br>
permut(3,2) || 3*2 -> 6
<br>
permut(3,3) || 3*2*1 -> 6
<br>
permut(5,5) || 5*4*3*2*1 -> 120
<br>
permut(5,4) || 5*4*3*2 -> 120
<br>
permut(5,3) || 5*4*3 -> 60
<br>
permut(5,2) || 5*4 -> 20
<br>
permut(5,1) || 5 -> 5
<br>
permut(5,0) || 1 -> 1
<br>
<span class="jF">permut(5,-1) -> <del>0</del></span><span class="clear">false</span>
<br>
・<span class="clear">Ver.2.170.42</span>以降、引数不足の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
<span class="clear">permut(5) -> <del>0</del></span>NaN
<br>
permut(1e2,1e2) || 1e2! -> 9.332621544394418e+157
<br>
permut(1e3,1e3) || 1e3! -> Infinity
<br>
<span class="clear">permut(1e4,1e4) || 1e4! -> Infinity</span>
<br>
<span class="clear">permut(1e5,1e5) || 1e5! -> Infinity</span>
<br>
<span class="clear">permut(1e6,1e6) || 1e6! -> Infinity</span>
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>permut(NaN,1) -> 1</del>
<br>
permut(NaN,1) -> NaN
<br>
<br>
組合せcombination(n,r)
<br>
・<span class="run">Ver.2.205.46</span>以降、引数の丸め方をfloor　⇒　roundに<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
<del>combin(3.3,1.6) || combin(3,1) || combination(3,1) -> 3</del>
<br>
combin(3.3,1.6) || combin(3,2) || combination(3,2) -> 3
<br>
combin(3i,1) || combin(0,1) -> 0
<br>
combin(3+3i,1) || combin(3,1) -> 3
<br>
combin(0,3) -> 0
<br>
<span class="jF">combin(-1,3) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="jF">combin(-1,0) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="jF">combin(0,-1) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="jF">combin(3,-1) -> <del>0</del></span><span class="clear">false</span>
<br>
<span class="condition">combin(0,0) -> 1</span>
<br>
combin(3,0) || permut(3,0)/fact(0) || (1)/(1) -> 1
<br>
combin(3,1) || permut(3,1)/fact(1) || (3)/(1) -> 3
<br>
combin(3,2) || permut(3,2)/fact(2) || (3*2)/(2*1) -> 3
<br>
combin(3,3) || permut(3,3)/fact(3) || (3*2*1)/(3*2*1) -> 1
<br>
combin(5,5) || permut(5,5)/fact(5) || (5*4*3*2*1)/(5*4*3*2*1) -> 1
<br>
combin(5,4) || permut(5,4)/fact(4) || (5*4*3*2)/(4*3*2*1) -> 5
<br>
combin(5,3) || permut(5,3)/fact(3) || (5*4*3)/(3*2*1) -> 10
<br>
combin(5,2) || permut(5,2)/fact(2) || (5*4)/(2*1) -> 10
<br>
combin(5,1) || permut(5,1)/fact(1) || (5)/(1) -> 5
<br>
combin(5,0) || permut(5,0)/fact(0) || (1)/(1) -> 1
<br>
<span class="jF">combin(5,-1) -> <del>0</del></span><span class="clear">false</span>
<br>
permut(5,-1)/fact(-1) || (0)/(0) -> NaN
<br>
・<span class="clear">Ver.2.170.42</span>以降、引数不足の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
<span class="clear">combin(5) -> <del>0</del></span>NaN
<br>
combin(1e2,1e2) -> 1
<br>
・<a href="#span-out-com">複素数</a>演算の場合
<br>
permut(1e2,1e2)/fact(1e2)  <span class="selection">// NG</span> -> NaN
<br>
9.332621544394418e+157/9.332621544394418e+157  <span class="selection">// NG</span> -> NaN
<br>
・<a href="#span-out-ope">実数演算</a>の場合
<br>
permut(1e2,1e2)/fact(1e2)  <span class="selection">// OK</span> -> 1
<br>
9.332621544394418e+157/9.332621544394418e+157  <span class="selection">// OK</span> -> 1
<br>
combin(1e3,1e3) || Infinity/Infinity -> NaN
<br>
<span class="clear">combin(1e4,1e4) || Infinity/Infinity -> NaN</span>
<br>
<span class="clear">combin(1e5,1e5) || Infinity/Infinity -> NaN</span>
<br>
<span class="clear">combin(1e6,1e6) || Infinity/Infinity -> NaN</span>
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>combin(NaN,1) -> 1</del>
<br>
combin(NaN,1) -> NaN
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
gcd/lcm関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-gcd"></span>
gcd/lcm関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>gcd(1,NaN) -> <span class="clear">Maximum call stack size exceeded</span></del>
<br>
gcd(1,NaN) -> NaN
<br>
<br>
最大公約数を求めるgcd関数（Euclidの互除法）
<br>
・引数は正の整数のみ有効
<br>
a=111*12345; b=111*6789; c=111*111213; gcd(a,b,c) -> 333
<br>
・結合的演算
<br>
gcd(gcd(a,b),c) || gcd(a,gcd(b,c)) -> 333
<br>
・同義
<br>
gcd_(a0,b0)=&lt;last[a=a0,b=b0,_rn(=&lt;last{ia=int(a),ib=int(b),a=ib,b=ia%ib},,1e6,=&lt;{b==0}),a];
<br>
gcd_(gcd_(a,b),c) || gcd_(a,gcd_(b,c)) -> 333
<br>
・<span class="clear">Ver.2.170.42</span>以降、厳密な記述
<br>
・<span class="run">Ver.2.205.46</span>以降、整数の丸め方をfloor　⇒　roundに<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
gcd_(a0,b0)=&lt;last[
<br>
a=a0,b=b0,_rn(=&lt;last{ia=round(a),ib=round(b),a=ia&lt;0||ib===0&amp;&amp;&amp;ia|||ib,b=ia%(ib||1)},
<br>
isBreak_a=&lt;isNaN(a)|||a&lt;0&amp;&amp;&amp;~~(a=false),1e6,=&lt;{isBreak_a|||b==0}),a];
<br>
・0を含む場合
<br>
gcd(,) -> 0
<br>
gcd(0,2) -> 2
<br>
gcd(2,0) -> 2
<br>
gcd_(,) -> 0
<br>
gcd_(0,2) -> 2
<br>
gcd_(2,0) -> 2
<br>
・引数不正の場合
<br>
gcd(1) -> 1
<br>
gcd(-1) -> false
<br>
gcd(-1,2,-3) -> false
<br>
gcd(-1,2) -> false
<br>
gcd(-0.1,2) -> false
<br>
gcd(1,-0.2) -> false
<br>
gcd_(-1) -> [MyErr]Invalid args.length=2(gcd_)
<br>
gcd_(-1,2) -> false
<br>
gcd_(-0.1,2) -> false
<br>
gcd_(1,-0.2) -> false
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
gcd(NaN) || gcd(NaN,1) || gcd(1,NaN) -> NaN
<br>
gcd_(NaN,1) || gcd_(1,NaN) -> NaN
<br>
<br>
最小公倍数を求めるlcm関数（gcdを使用）
<br>
・引数は0を含む自然数のみ有効
<br>
<del>a=111*12345; b=111*6789; c=111*111213; lcm(a,b,c) -> 114956340053534.98</del>
<br>
・<span class="run">Ver.2.187.44</span>以降、<a href="#span-out-float">仮数部</a>の桁数確保のため、<a href="#span-out-BT">括弧</a>を明示
<br>
a=111*12345; b=111*6789; c=111*111213; lcm(a,b,c) -> 114956340053535
<br>
・同義
<br>
ab=a*(b/gcd(a,b)); ab*(c/gcd(ab,c)) -> 114956340053535
<br>
・0を含む場合
<br>
lcm(0,2) -> 0
<br>
lcm(2,0) -> 0
<br>
・引数不正の場合
<br>
lcm(1) -> 1
<br>
lcm(-1) -> false
<br>
lcm(-1,2,-3) -> false
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
lcm(NaN) || lcm(NaN,1) || lcm(1,NaN) -> NaN
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
min/max関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-min"></span>
min/max関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-num">実数値</a>の最小値を返すmin関数
<br>
x=(1,-2,3,-4,5,-6);
<br>
min(x) -> -6
<br>
min(x:x*2) -> (-6:-12)
<br>
・<a href="#span-out-com">複素数</a>を含む場合、虚部=0
<br>
z=(-i,-2,3,-4,5+i,-6);
<br>
min(z) -> -6
<br>
<br>
<a href="#span-out-num">実数値</a>の最大値を返すmax関数
<br>
x=(1,-2,3,-4,5,-6);
<br>
max(x) -> 5
<br>
max(x:x*2) -> (5:10)
<br>
・<a href="#span-out-com">複素数</a>を含む場合、虚部=0
<br>
z=(-i,-2,3,-4,5+i,-6);
<br>
max(z) -> 5
<br>
<br>
<span class="run">Ver.2.186.44</span>以降、cmin/cmax関数の仕様変更
<br>
<br>
<a href="#span-out-com">複素数</a>絶対値が最小の要素を返すcmin関数
<br>
z=(-i,-2,3,-4,5+i,-6);
<br>
cmin(z) -> -i
<br>
cmin(z:z*(1+i)) -> (-i:1-i)
<br>
cmin(NaN,1) -> NaN
<br>
<br>
<a href="#span-out-com">複素数</a>絶対値が最大の要素を返すcmax関数
<br>
z=(-i,-2,3,-4,5+i,-6);
<br>
cmax(z) -> -6
<br>
cmax(z:z*(1+i)) -> (-6:-6-6i)
<br>
cmax(1,NaN) -> NaN
<br>
<br>
偏角不問の場合、<a href="#span-out-FN-statistic">統計関数</a>で代替可
<br>
z=(-6,6,-6i,6i,1,-2,3,-4,5);
<br>
z_sorted=csort(z); z_sorted -> (1,-2,3,-4,5,-6,6,-6i,6i)
<br>
z_reversed=creverse(z); z_reversed -> (6i,-6i,6,-6,5,-4,3,-2,1)
<br>
first(z_sorted) -> 1
<br>
last(z_sorted) -> 6i
<br>
first(z_reversed) -> 6i
<br>
last(z_reversed) -> 1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
camin
<br>
/camax関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-camin"></span>
camin/camax関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.186.44</span>以降、cmin/cmax関数　⇒　camin/camax関数に関数名を変更
<br>
<br>
<a href="#span-out-com">複素数</a><span class="clear">絶対値</span>の最小値を返すcamin関数
<br>
z=(1,-2,3,-4,5,-6)i;
<br>
camin(z) -> 1
<br>
camin(z:z*(1+i)) -> (1:1.4142135623730951)
<br>
・同義
<br>
min(trans(abs(trans(z)))) -> 1
<br>
min(trans(abs(trans(z)),abs(trans(z*(1+i))))) -> (1:1.4142135623730951)
<br>
・<span class="clear">Ver.2.170.42</span>以降、引数1個の場合、同じ引数を2個目に追加して正常化
<br>
<del>camin(i) -> i</del>
<br>
camin(i) || camin(i,i) -> 1
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
camin(NaN) || camin(NaN,NaN) -> NaN
<br>
<br>
<a href="#span-out-com">複素数</a><span class="clear">絶対値</span>の最大値を返すcamax関数
<br>
z=(1,-2,3,-4,5,-6)i;
<br>
camax(z) -> 6
<br>
camax(z:z*(1+i)) -> (6:8.48528137423857)
<br>
・同義
<br>
max(trans(abs(trans(z)))) -> 6
<br>
max(trans(abs(trans(z)),abs(trans(z*(1+i))))) -> (6:8.48528137423857)
<br>
・<span class="clear">Ver.2.170.42</span>以降、引数1個の場合、同じ引数を2個目に追加して正常化
<br>
<del>camax(i) -> i</del>
<br>
camax(i) || camax(i,i) -> 1
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
camax(NaN) || camax(NaN,NaN) -> NaN
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
sqrt関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-sqrt"></span>
sqrt関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-com">虚数単位</a>
<br>
sqrt(-1) -> 6.123233995736766e-17+i
<br>
・<span class="run">Ver.2.184.44</span>以降、auto-real selected時
<br>
sqrt(-1) -> NaN
<br>
<br>
test caseを列挙する
<br>
sqrt(2) -> 1.4142135623730951
<br>
sqrt(4) -> 2
<br>
sqrt(i) -> 0.7071067811865476+0.7071067811865475i
<br>
sqrt(-1+eps*i) -> 6.123233995736766e-17+i
<br>
sqrt(-1+MIN_VALUE*i) -> 6.123233995736766e-17+i
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
pow関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-pow"></span>
pow関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-com">虚数単位</a>
<br>
pow(-1,0.5) -> 6.123233995736766e-17+i
<br>
・<span class="run">Ver.2.184.44</span>以降、auto-real selected時
<br>
pow(-1,0.5) -> NaN
<br>
<br>
test caseを列挙する
<br>
pow(2,2) -> 4
<br>
pow(2,4) -> 16
<br>
pow(i,4) -> 1-2.4492935982947064e-16i
<br>
pow(2,i) -> 0.7692389013639721+0.6389612763136348i
<br>
pow(-1+(eps)i,0.5) -> 6.123233995736766e-17+i
<br>
pow(-1+(MIN_VALUE)i,0.5) -> 6.123233995736766e-17+i
<br>
pow(2+MIN_VALUE*i,3) -> 7.999999999999998
<br>
<br>
詳細は<a href="#span-out-FN-ope">演算子代替関数</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
log関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-log"></span>
log関数の入力仕様と付随する留意事項について記述する
<br>
<br>
log関数の仕様は<span class="run">JavaScript</span>準拠の自然対数とする
<br>
log(e) -> 1
<br>
log(i) -> 1.5707963267948966i
<br>
<br>
底の変換
<br>
・log(x)∝log10(x)∝log2(x)
<br>
x=2; log(x) -> 0.6931471805599453
<br>
x=2; log10(x)/log10(e) -> 0.6931471805599453
<br>
x=2; log2(x)/log2(e) -> 0.6931471805599453
<br>
<br>
自然対数
<br>
ln(e) || log(e) -> 1
<br>
ln(10) || ln10() -> 2.302585092994046
<br>
ln(2) || ln2() -> 0.6931471805599453
<br>
ln(i) -> 1.5707963267948966i
<br>
・<span class="run">Ver.2.149.38</span>以降、<a href="#span-in-FN-log">log関数の内部仕様</a>を修正
<br>
<del>ln(1/(-1)) || ln(1/(1-2)) -> -3.141592653589793i<span class="clear">+O(6e+0i)</span></del>
<br>
ln(1/(-1)) || ln(1/(1-2)) -> 3.141592653589793i
<br>
ln(-1) -> 3.141592653589793i
<br>
・<span class="run">Ver.2.184.44</span>以降、auto-real selected時
<br>
ln(-1) -> NaN
<br>
log(-1) -> NaN
<br>
log(2) -> 0.6931471805599453
<br>
log(4) -> 1.3862943611198906
<br>
log(i) -> 1.5707963267948966i
<br>
log(-1+i*eps) -> 3.141592653589793i
<br>
log(-1-i*eps) -> -3.141592653589793i
<br>
<br>
常用対数
<br>
log10(10) -> 1
<br>
x=10; log(x)log10e() -> 1
<br>
x=100; log(x)log10e() -> 2
<br>
log10(i) -> 0.6821881769209206i
<br>
<br>
2進対数　<span class="run">Ver.2.89.32</span>以降、追加
<br>
log2(2) -> 1
<br>
x=2; log(x)log2e() -> 1
<br>
x=4; log(x)log2e() -> 2
<br>
log2(i) -> 2.2661800709135966i
<br>
<br>
<span class="run">Excel</span>準拠log_ex(値,底||10)
<br>
log_ex(10) || log_ex(10,10) -> 1
<br>
log_ex(e) || log10e() -> 0.43429448190325176
<br>
log_ex(e,2) || log2e() -> 1.4426950408889634
<br>
<br>
<a href="#span-app-entropy">entropy∝ln(状態数)</a>
<br>
・自然対数
<br>
ln(10**0) -> 0
<br>
ln(10**1) -> 2.302585092994046
<br>
ln(10**2) -> 4.605170185988092
<br>
ln(10**3) -> 6.907755278982137
<br>
・N進法の桁数-1
<br>
N=10; log_ex(10**0,N) -> 0
<br>
N=10; log_ex(10**1,N) -> 1
<br>
N=10; log_ex(10**2,N) -> 2
<br>
N=10; log_ex(10**3,N) -> 2.9999999999999996
<br>
・N進法の桁数（bit列長等、個数換算の+1を含む場合、状態数小で<a href="#span-out-error-numerical">誤差</a>大）
<br>
N=10; log_ex(10**0,N)+1 -> 1
<br>
N=10; log_ex(10**1,N)+1 -> 2
<br>
N=10; log_ex(10**2,N)+1 -> 3
<br>
N=10; log_ex(10**3,N)+1 -> 3.9999999999999996
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
atan2関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-atan2"></span>
atan2関数の入力仕様と付随する留意事項について記述する
<br>
<br>
atan2関数の仕様は<span class="run">JavaScript</span>準拠の引数(y,x)とする
<br>
atan2(1,0)/pi -> 0.5
<br>
deg_atan2(1,0) || degrees(atan2(1,0)) -> 90
<br>
・不定の定義
<br>
atan2(0,0) -> 0
<br>
<br>
<a href="#span-out-vars">変数</a>を使用
<br>
・実軸と虚軸の<a href="#span-out-complex">複素数平面</a>から弧度数radに変換する場合
<br>
z=e^(i{pi/6}); atan2(imag(z),real(z)) -> 0.5235987755982987
<br>
z=e^(i{pi/6}); arg(z) -> 0.5235987755982987
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>arg(NaN) -> 0</del>
<br>
arg(NaN) -> NaN
<br>
・さらに、度数degに変換する場合
<br>
degrees(ans) || deg_atan2(imag(z),real(z)) -> 29.999999999999993
<br>
・再度、弧度数radに変換
<br>
radians(ans) -> 0.5235987755982987
<br>
<br>
<span class="run">Excel</span>準拠atan2_ex(x,y)
<br>
atan2_ex(0,1)/pi -> 0.5
<br>
deg_atan2_ex(0,1) || degrees(atan2_ex(0,1)) -> 90
<br>
<br>
引数が-0の場合、留意事項を列挙する
<br>
・負から0に漸近を表す-0は未定義
<br>
x=-0,x -> (0,0)
<br>
・ただし、<a href="#span-out-csv-format">csv-format</a>の場合、-0が有効
<br>
<del>(-0,-0) -> (0,0)</del>
<br>
・<span class="run">Ver.2.151.38</span>以降、<a href="#span-in-log-m0">実部の-0表示に対応</a>
<br>
(-0,-0) -> (-0,-0)
<br>
x=(-0),x -> (0,-0)
<br>
・次の場合、pi||2*piの特殊な<a href="#span-out-error-numerical">数値誤差</a>が残る
<br>
atan2(0,-0) -> 3.141592653589793+O(3e+0)
<br>
atan2(-0,-0) -> -3.141592653589793+O(3e+0)
<br>
atan2(-0,-1) -> -3.141592653589793+O(6e+0)
<br>
・test caseを列挙する
<br>
atan2(-0||0,-1) -> 3.141592653589793
<br>
atan2(-eps,-1) -> -3.141592653589793
<br>
atan2(eps,-1) -> 3.141592653589793
<br>
clear; y=-0; x=-1; atan2(y,x) -> 3.141592653589793
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
三角関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-sin"></span>
三角関数の入力仕様と付随する留意事項について記述する
<br>
<br>
三角関数
<br>
sin(z)
<br>
cos(z)
<br>
tan(z)
<br>
<br>
逆三角関数
<br>
asin(z)
<br>
acos(z)
<br>
atan(z)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
双曲線関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-sinh"></span>
双曲線関数の入力仕様と付随する留意事項について記述する
<br>
<br>
双曲線関数
<br>
sinh(z)
<br>
cosh(z)
<br>
tanh(z)
<br>
・<span class="run">Ver.2.149.37</span>以降、追加
<br>
csch(z)
<br>
sech(z)
<br>
coth(z)
<br>
・<a href="#span-out-eqns">式変数</a>の定義
<br>
sinh_(z)=&lt;(exp(z)-exp(-z))/2;
<br>
cosh_(z)=&lt;(exp(z)+exp(-z))/2;
<br>
tanh_(z)=&lt;(exp(z)-exp(-z))/(exp(z)+exp(-z));
<br>
csch_(z)=&lt;2/(exp(z)-exp(-z));
<br>
sech_(z)=&lt;2/(exp(z)+exp(-z));
<br>
coth_(z)=&lt;(exp(z)+exp(-z))/(exp(z)-exp(-z));
<br>
<br>
逆双曲線関数
<br>
asinh(z)
<br>
acosh(z)
<br>
atanh(z)
<br>
・<span class="run">Ver.2.149.37</span>以降、追加
<br>
acsch(z)
<br>
asech(z)
<br>
acoth(z)
<br>
・<a href="#span-out-eqns">式変数</a>の定義
<br>
asinh_(z)=&lt;ln(sqrt(z*z+1)+z);
<br>
acosh_(z)=&lt;ln(sqrt(z*z-1)+z);
<br>
atanh_(z)=&lt;ln((1+z)/(1-z))/2;
<br>
acsch_(z)=&lt;asinh_(1/z);
<br>
asech_(z)=&lt;acosh_(1/z);
<br>
acoth_(z)=&lt;atanh_(1/z);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
その他の関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-else"></span>
その他の関数の入力仕様と付随する留意事項について記述する
<br>
<br>
Kroneckerのdelta関数
<br>
Kdelta(0,0) -> 1
<br>
Kdelta(0,1) -> 0
<br>
Kdelta(1,0) -> 0
<br>
Kdelta(1,1) -> 1
<br>
Kdelta(2,2) -> 1
<br>
・<a href="#span-out-FN-ope">演算子代替関数</a>を使用
<br>
Kdelta_(left,right)=&lt;not(bitxor(left,right));
<br>
Kdelta_(left,right)=&lt;eq(left,right);
<br>
Kdelta_(0,0) -> 1
<br>
Kdelta_(0,1) -> 0
<br>
Kdelta_(1,0) -> 0
<br>
Kdelta_(1,1) -> 1
<br>
Kdelta_(2,2) -> 1
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>Kdelta(NaN) -> 0</del>
<br>
Kdelta(NaN) -> NaN
<br>
Kdelta(NaN,1) -> NaN
<br>
Kdelta(1,NaN) -> NaN
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
特殊仕様関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNspecial-spec"></span>
特殊仕様関数の入力仕様と付随する留意事項について記述する
<br>
<br>
特殊仕様関数の定義を列挙する
<br>
・関数名の後に続く数字が引数に含まれる
<br>
・引数は関数call前に解決済み（未解決の<a href="#span-out-vars-symbol">変数名symbol</a>を含む場合、予期せぬerror終了）
<br>
<br>
特殊仕様関数を列挙する
<br>
・<a href="#span-out-FN-statistic">統計関数</a>のsort/reverse/csort/creverse関数
<br>
・<a href="#span-out-FN-interp">補間関数</a>のinterp関数
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
統計関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-statistic"></span>
統計関数の入力仕様と付随する留意事項について記述する
<br>
・<span class="run">Ver.2.90.32</span>以降、mean/sum/prod関数を追加
<br>
・<span class="run">Ver.2.91.32</span>以降、median/sort/reverse/cmedian/csort/creverse関数を追加
<br>
・<span class="run">Ver.2.128.34</span>以降、sort/reverse/csort/creverse関数名直後の連番sort-key-i=0~を追加
<br>
・<span class="clear">Ver.2.304.77</span>以降、median/sort/reverse/cmedian/csort/creverse関数の不具合を修正
<br>
clear; A=(1,(x)=&lt;x); sort(A) -> <del>Cannot read properties of undefined</del>[MyErr]Invalid operation(sort)
<br>
sort0(5,1,4,2,2,3:=&lt;x0,=&lt;x1,=&lt;x2,=&lt;x3,=&lt;x4,=&lt;x5) -> 
<br>
(
<br>
1,2,2,3,4,5:
<br>
$x1,$x3,$x4,$x5,$x2,$x0
<br>
)
<br>
<br>
mean関数
<br>
・各行vector要素の算術平均値
<br>
mean(1,1e-16) -> infoLost[r ] 0.5
<br>
mean(1,i) -> 0.5+0.5i
<br>
mean(-1,-i) -> -0.5-0.5i
<br>
mean(1,2,3:4,5,6) -> (2:5)
<br>
mean(trans(mean(1,2,3:4,5,6))) -> 3.5
<br>
<br>
sum関数
<br>
・各行vector要素の<a href="#span-out-FNh-SX">総和</a>
<br>
sum(1,1e-16) -> infoLost[r ] 1
<br>
sum(1,i) -> 1+i
<br>
sum(-1,-i) -> -1-i
<br>
sum(1,2,3:4,5,6) -> (6:15)
<br>
sum(trans(sum(1,2,3:4,5,6))) -> 21
<br>
<br>
prod関数
<br>
・各行vector要素の<a href="#span-out-FNh-PX">総乗</a>
<br>
prod(1,1e-16) -> 1e-16
<br>
prod(1,i) -> i
<br>
prod(-1,-i) -> i
<br>
prod(1,2,3:4,5,6) -> (6:120)
<br>
prod(trans(prod(1,2,3:4,5,6))) -> 720
<br>
<br>
median関数
<br>
・sort後中央値=各行vector[floor(vectorの長さ/2)]を参照
<br>
median(1,-2,3,-1:4,-5,6,-3:7) -> (1:4:7)
<br>
median(1,-2i,3:4,-5,6i:7) -> (1:6i:7)
<br>
・<a href="#span-out-reference-mat-col">列参照</a>を使用
<br>
(sort(1,-2i,3:4,-5,6i:7))[][1] -> (1:6i:0)
<br>
<br>
sort関数
<br>
・実数昇順にBubble Sort
<br>
sort(1,-2,3,-1:4,-5,6,-3:7) -> (-2,-1,1,3:-5,-3,4,6:7)
<br>
sort(1,-2i,3:4,-5,6i:7) -> (-2i,1,3:-5,6i,4:7)
<br>
sort(trans(1,-2i,3:4,-5,6i:7)) -> (1,4,7:-5,-2i,0:6i,0,3)
<br>
・<span class="run">Ver.2.128.34</span>以降、<a href="#span-out-mat">欠損要素なしの行列</a>table用に関数名直後の連番sort-key-i=0~を追加
<br>
table=(2,3,1:6,4,5);
<br>
sort(table) -> (1,2,3:4,5,6)
<br>
・i=0（1行目）をkeyにsort
<br>
sort0(table) -> (1,2,3:5,6,4)
<br>
・i=1（2行目）をkeyにsort
<br>
sort1(table) -> (3,1,2:4,5,6)
<br>
・<a href="#span-out-mat-blank">欠損要素</a>が存在する場合、error終了
<br>
table=(2,3,1:6,4,5,7);
<br>
sort0(table) -> [MyErr]Invalid table size
<br>
sort0(trans(trans(table))) -> (0,1,2,3:7,5,6,4)
<br>
・key行が存在しない場合、error終了
<br>
sort2(table) -> [MyErr]Invalid table size
<br>
・<a href="#span-out-ope">無次元の演算</a>も同様に、key有効の仕様とする
<br>
table=(2,3,1:6,4,5);
<br>
sort(table) -> (4,5,6)
<br>
sort0(table) -> (5,6,4)
<br>
sort1(table) -> (4,5,6)
<br>
<br>
reverse関数
<br>
・実数降順にBubble Sort
<br>
reverse(1,-2,3,-1:4,-5,6,-3:7) -> (3,1,-1,-2:6,4,-3,-5:7)
<br>
reverse(1,-2i,3:4,-5,6i:7) -> (3,1,-2i:4,6i,-5:7)
<br>
reverse(trans(1,-2i,3:4,-5,6i:7)) -> (7,4,1:0,-2i,-5:3,0,6i)
<br>
sort(reverse(1,-2i,3:4,-5,6i:7)) -> (-2i,1,3:-5,6i,4:7)
<br>
・<a href="#span-out-reference-mat-area">area参照</a>の<span class="selection">反転参照</span>を使用
<br>
(sort(1,-2i,3:4,-5,6i:7))[0][<span class="selection">-1</span>]<span class="clear">[][]</span> -> (3,1,-2i:4,6i,-5:0,0,7)
<br>
<br>
cmedian関数
<br>
・csort後中央値=各行vector[floor(vectorの長さ/2)]を参照
<br>
cmedian(1,-2,3,-1:4,-5,6,-3:7) -> (-2:-5:7)
<br>
cmedian(1,-2i,3:4,-5,6i:7) -> (-2i:-5:7)
<br>
・<a href="#span-out-reference-mat-col">列参照</a>を使用
<br>
(csort(1,-2i,3:4,-5,6i:7))[][1] -> (-2i:-5:0)
<br>
<br>
csort関数
<br>
・<a href="#span-out-com">複素数</a>の絶対値昇順にBubble Sort
<br>
csort(1,-2,3,-1:4,-5,6,-3:7) -> (1,-1,-2,3:-3,4,-5,6:7)
<br>
csort(1,-2i,3:4,-5,6i:7) -> (1,-2i,3:4,-5,6i:7)
<br>
csort(trans(1,-2i,3:4,-5,6i:7)) -> (1,4,7:0,-2i,-5:0,3,6i)
<br>
<br>
creverse関数
<br>
・<a href="#span-out-com">複素数</a>の絶対値降順にBubble Sort
<br>
creverse(1,-2,3,-1:4,-5,6,-3:7) -> (3,-2,-1,1:6,-5,4,-3:7)
<br>
creverse(1,-2i,3:4,-5,6i:7) -> (3,-2i,1:6i,-5,4:7)
<br>
creverse(trans(1,-2i,3:4,-5,6i:7)) -> (7,4,1:-5,-2i,0:6i,3,0)
<br>
csort(creverse(1,-2i,3:4,-5,6i:7)) -> (1,-2i,3:4,-5,6i:7)
<br>
・<a href="#span-out-reference-mat-area">area参照</a>の<span class="selection">反転参照</span>を使用
<br>
(csort(1,-2i,3:4,-5,6i:7))[0][<span class="selection">-1</span>]<span class="clear">[][]</span> -> (3,-2i,1:6i,-5,4:0,0,7)
<br>
<br>
留意事項を列挙する
<br>
・統計関数のalgorithmは未最適化
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
補間関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-interp"></span>
補間関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.176.43</span>以降、<a href="#span-out-interpolation-linear">線形補間</a>のinterp関数を追加
<br>
・<span class="run">Ver.2.178.44</span>以降、lookup-table標本点の仕様変更
<br>
　実部と虚部の各keyに対する各value（query困難）　⇒　<a href="#span-out-num">実数値</a>keyに対する<a href="#span-out-com">複素数</a>value
<br>
・<span class="run">Ver.2.179.44</span>以降、interp0/interp1関数を追加
<br>
・<span class="run">Ver.2.181.44</span>以降、interp2/interp3関数を追加
<br>
<br>
補間関数を列挙する
<br>
・<a href="#span-out-FN-interp0">interp0関数</a>：最近傍補間
<br>
・<a href="#span-out-FN-interp1">interp||interp1関数</a>：<a href="#span-out-interpolation-linear">線形補間</a>
<br>
・<a href="#span-out-FN-interp2">interp2関数</a>：<a href="#span-out-interpolation-Lagrange">Lagrange補間</a>
<br>
・<a href="#span-out-FN-interp3">interp3関数</a>：<a href="#span-out-interpolation-spline">3次の自然spline補間</a>
<br>
<br>
引数(x:table)の仕様を列挙する
<br>
・x：query点<a href="#span-out-num">実数値</a>の行vector（任意要素数のquery行）
<br>
・table：標本点{昇順key,value}の行vector（lookup-table行）
<br>
　key：<a href="#span-out-num">実数値</a>x（虚部は無視）
<br>
　value：<a href="#span-out-com">複素数</a>z=f(x)
<br>
・table-key範囲外の<a href="#span-out-num-NaN">欠損値</a>=NaN+(NaN)i
<br>
<br>
留意事項を列挙する
<br>
・table-key行が降順の場合、<a href="#span-out-num-NaN">欠損値</a>を返す
<br>
interp(1.5:2,1:2,1) -> NaN
<br>
・table-key範囲外の場合、<a href="#span-out-num-NaN">欠損値</a>を返す（<a href="#span-out-FN-interp2">interp2関数</a>を除く）
<br>
interp(0:1,2:1,2) -> NaN
<br>
・table要素数不足の場合、<a href="#span-out-num-NaN">欠損値</a>を返す
<br>
interp(1:1:1) -> NaN
<br>
・table要素数が不正の場合、error終了
<br>
interp(1:1,2:1,2,3) -> [MyErr]Invalid table(interp)
<br>
interp(1:1,2:1,2:3) -> [MyErr]Invalid table(interp)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0次補間関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-interp0"></span>
0次補間関数の入力仕様と付随する留意事項について記述する
<br>
<br>
interp0(x:table)関数：<a href="#span-out-num">実数値</a>keyに対する<a href="#span-out-com">複素数</a>valueの最近傍補間
<br>
<br>
test caseを示す
<br>
x=(-1,0,0.25,0.5,0.75,1,2);
<br>
table=(0,1:1+i,2+3i);
<br>
interp0(x:table) ->
<br>
(
<br>
NaN,1+i,1+i,2+3i,2+3i,2+3i,NaN
<br>
)
<br>
・中間点は繰り上げる（四捨五入に同様）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
1次補間関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-interp1"></span>
1次補間関数の入力仕様と付随する留意事項について記述する
<br>
<br>
interp||interp1(x:table)関数：<a href="#span-out-num">実数値</a>keyに対する<a href="#span-out-com">複素数</a>valueの<a href="#span-out-interpolation-linear">線形補間</a>
<br>
<br>
test caseを示す
<br>
・標本点の元data
<br>
csv0=(1,2,5,4,3:-1,-2,-3,-4,-5); csv0 ->
<br>
(
<br>
1,2,5,4,3:
<br>
-1,-2,-3,-4,-5
<br>
)
<br>
・<a href="#span-out-FN-statistic">sort関数</a>（虚部は無視）を使用して昇順sort
<br>
csv0_sorted_key0=sort0(csv0); csv0_sorted_key0 ->
<br>
(
<br>
1,2,3,4,5:
<br>
-1,-2,-5,-4,-3
<br>
)
<br>
・lookup-tableを定義
<br>
table=csv0_sorted_key0*(1+i); table ->
<br>
(
<br>
1+i,2+2i,3+3i,4+4i,5+5i:
<br>
-1-i,-2-2i,-5-5i,-4-4i,-3-3i
<br>
)
<br>
・query点を定義
<br>
x=(table[0]-(1+i)/2,table[0]+(1+i)/2); x ->
<br>
(
<br>
0.5+0.5i,1.5+1.5i,2.5+2.5i,3.5+3.5i,4.5+4.5i,1.5+1.5i,2.5+2.5i,3.5+3.5i,4.5+4.5i,5.5+5.5i
<br>
)
<br>
・<span class="run">Ver.2.178.44</span>以降、同義
<br>
x=trans(real(trans(x))); x ->
<br>
(
<br>
0.5,1.5,2.5,3.5,4.5,1.5,2.5,3.5,4.5,5.5
<br>
)
<br>
・補間を実行
<br>
interp(x:table) ->
<br>
(
<br>
NaN,-1.5-1.5i,-3.5-3.5i,-4.5-4.5i,-3.5-3.5i,-1.5-1.5i,-3.5-3.5i,-4.5-4.5i,-3.5-3.5i,NaN
<br>
)
<br>
・table-key範囲外の場合、<a href="#span-out-num-NaN">欠損値</a>を返す
<br>
interp(x:csv0_sorted_key0) ->
<br>
(
<br>
NaN,-1.5,-3.5,-4.5,-3.5,-1.5,-3.5,-4.5,-3.5,NaN
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
n次補間関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-interp2"></span>
n次補間関数の入力仕様と付随する留意事項について記述する
<br>
<br>
interp2(x:table)関数：<a href="#span-out-num">実数値</a>keyに対する<a href="#span-out-com">複素数</a>valueの<a href="#span-out-interpolation-Lagrange">Lagrange補間</a>
<br>
・補間多項式の性質上、table-key範囲外の外挿を許容する
<br>
・<a href="#span-out-com">複素数</a>演算の場合、<a href="#span-eqn-plot2d_Lagrange">plot2d_Lagrange</a>の演算結果と<a href="#span-out-epsilon">Machine epsilon</a>程度の相違がある
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
3次補間関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FN-interp3"></span>
3次補間関数の入力仕様と付随する留意事項について記述する
<br>
<br>
interp3(x:table)関数：<a href="#span-out-num">実数値</a>keyに対する<a href="#span-out-com">複素数</a>valueの<a href="#span-out-interpolation-spline">3次の自然spline補間</a>
<br>
・<a href="#span-out-com">複素数</a>演算の場合、<a href="#span-eqn-plot2d_nspline">plot2d_nspline</a>の演算結果と<a href="#span-out-epsilon">Machine epsilon</a>程度の相違がある
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
特殊関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNspecial"></span>
特殊関数の入力仕様と付随する留意事項について記述する
<br>
<br>
特殊関数（非初等関数）は<a href="#span-out-eqns">式変数</a>と<a href="#span-out-FNh">高階関数</a>を使用して定義する
<br>
・標準正規分布SNDの確率密度関数（<span class="run">Ver.2.811.131</span>以降、<a href="#span-eqn-SND_Px_erfx_erfcx">SND/P(x)/erf(x)/erfc(x)</a>参照）
<br>
SNDt=&lt;exp(-t^2/2)/sqrt(2pi);
<br>
SND(t)=&lt;exp(-t^2/2)/sqrt(2*pi);
<br>
・SNDの累積分布関数P(x)
<br>
Px=&lt;_i((t)=&lt;SNDt(),0,x)*2;
<br>
P(x)=&lt;_i((t)=&lt;SND(t),0,x)*2;
<br>
P(x)=&lt;_i0((t)=&lt;SND(t),0,x)*2;
<br>
P(x)=&lt;_o45((t,x)=&lt;SND(t),,,NI=100,x/NI,NI)*2;
<br>
・誤差関数erf(x)
<br>
erfx=&lt;_i((t)=&lt;SNDt(),0,x(sqrt2))*2;
<br>
erf(x)=&lt;P(x*sqrt2);
<br>
・同義
<br>
erfx=&lt;_i((t)=&lt;{exp(-t^2)},0,x)(2/sqrt(pi));
<br>
・相補誤差関数erfc(x)
<br>
erfcx=&lt;1-erfx;
<br>
erfc(x)=&lt;1-erf(x);
<br>
・複素標準正規分布cSNDの確率密度関数（<span class="run">Ver.2.811.131</span>以降、<a href="#span-eqn-cSND_cP">cSND/cP</a>参照）
<br>
cSND(z)=&lt;exp(-abs(z)^2)/pi;
<br>
・cSNDの累積分布関数cP
<br>
cP_z(z)=&lt;_i((y)=&lt;_i((x)=&lt;cSND(x+(y)i)=&gt;,0,real(z))*2,0,imag(z))*2;
<br>
cP_r(r)=&lt;_i((t)=&lt;_i((r)=&lt;cSND(r*e^(i*t))=&gt;,0,r),0,2*pi)/sqrt(pi);
<br>
・正規化cP_r(r)=cP_z(r+abs(r)i)=erf(r)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列
<br>
入力仕様
    </th>
    <td>
<span id="span-out-mat"></span>
行列の入力仕様と付随する留意事項について記述する
<br>
<br>
vectorの入力方法2種類
<br>
・各vectorの要素はcomma,で区切る
<br>
行vector(1,2) || [1,2] -> (1,2)
<br>
列vector{1,3} -> (1:3)
<br>
<br>
2行2列の行列の入力方法
<br>
1　2
<br>
3　4
<br>
・各vectorはcolon:で区切る
<br>
(1,2:3,4) || [1,2:3,4] || {1,3:2,4} -> (1,2:3,4)
<br>
<br>
行vector列挙指定の行列（以降、行指定の行列と呼ぶ）
<br>
((1,2):(3,4)) -> (1,2:3,4)
<br>
((1:2):(3:4)) -> (1:2:3:4)
<br>
<br>
列vector列挙指定の行列（以降、列指定の行列と呼ぶ）
<br>
{{1,2}:{3,4}} || {1,2:3,4} -> (1,3:2,4)
<br>
{{1:2}:{3:4}} || {1:2:3:4} -> (1,2,3,4)
<br>
<br>
行指定の行列と列指定の行列は互いに<a href="#span-out-FNm-trans">転置の関係</a>
<br>
(1,2:3,4) -> (1,2:3,4)
<br>
{1,2:3,4} -> (1,3:2,4)
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
transpose({1,2:3,4}) || trans({1,2:3,4}) || trans{1,2:3,4} -> (1,2:3,4)
<br>
({1,2},{3:4}) || (trans(1,2),trans(3:4)) -> (1,3,4:2)
<br>
・1重列挙の場合、外側に<a href="#span-out-BT-associativity">括弧のassociativity</a>は存在しない
<br>
(1,2) || {(1,2)} || ({(1,2)}) || {({(1,2)})} -> (1,2)
<br>
{1,2} || ({1,2}) || {({1,2})} || ({({1,2})}) -> (1:2)
<br>
2*(1,2) || {2*(1,2)} || ({2*(1,2)}) || {({2*(1,2)})} -> (2,4)
<br>
{1,2}*2 || ({1,2}*2) || {({1,2}*2)} || ({({1,2}*2)}) -> (2:4)
<br>
・多重列挙の場合、vectorを括る<a href="#span-out-BT-associativity">括弧のassociativity</a>に依存する
<br>
{(1,2),(3:4)} -> (1,2:3:4)
<br>
({1,2}:{3:4}) || (trans(1,2):trans(3:4)) -> (1:2:3,4)
<br>
<br>
定義可能な行列演算
<br>
・<a href="#span-out-mat-product">行列積</a>
<br>
・乗算記号*同様に積の記号*は省略可
<br>
(1,2:3,4)(1,2:3,4) -> (7,10:15,22)
<br>
・標準内積
<br>
(1,2,3){1,2,3} -> 14
<br>
・Hermit内積
<br>
(1+i,1){1-i,1} -> 3
<br>
・直積
<br>
{1,2,3}(1,2,3) -> (1,2,3:2,4,6:3,6,9)
<br>
{1,2,3}(1,2) -> (1,2:2,4:3,6)
<br>
{1-i,1}(1+i,1) -> (2,1-i:1+i,1)
<br>
・単位行列
<br>
k=1; (k,:,k) -> (1,0:0,1)
<br>
・<a href="#span-out-FNm-init">scalar行列</a>
<br>
k=-3; (k,:,k) -> (-3,0:0,-3)
<br>
・左右可換の<a href="#span-out-FNm-init">scalar倍</a>（同sizeの<a href="#span-out-FNm-init">scalar行列</a>との積）
<br>
k=-3; (k,:,k)(1,2:3,4) || (1,2:3,4)(k,:,k) -> (-3,-6:-9,-12)
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
<del>k=-3; k(1,2:3,4)  <span class="selection">// NG</span> -> [MyErr]Invalid matrix operation</del>
<br>
<span class="condition">k=-3; k(1,2:3,4) || (1,2:3,4)k -> (-3,-6:-9,-12)</span>
<br>
・符号
<br>
-(1,2:3,4) || (,:,)-(1,2:3,4) || (-1,:,-1)(1,2:3,4) -> (-1,-2:-3,-4)
<br>
・差
<br>
(1,2:3,4)-(1,2:3,4) -> (0,0:0,0)
<br>
・和
<br>
(1,2:3,4)+(1,2:3,4) -> (2,4:6,8)
<br>
・<a href="#span-out-vars">変数</a>を使用
<br>
x=1; y=(x,2x:3x,4x); y*y-y || (7,10:15,22)-(1,2:3,4) -> (6,8:12,18)
<br>
t=pi/4; (cos(t),sin(t):,){i(sin(t)),i(cos(t)):,} -> (i,0:0,0)
<br>
<br>
定義できない<a href="#span-out-mat-product">行列積</a>の場合、error終了
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
<del>(1,2)(1,2) -> [MyErr]Invalid matrix operation</del>
<br>
<span class="condition">(1,2)(1,2) -> (1,4)</span>
<br>
<br>
<a href="#span-out-reference-mat-size">行列size</a>の一致しない差と和の場合、error終了
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
<del>
(1,2:3,4)-(-1) -> [MyErr]Invalid matrix operation
<br>
(1,2:3,4)-(-1,2) -> [MyErr]Invalid matrix operation
<br>
(1,2:3,4)+(-1:) -> [MyErr]Invalid matrix operation
<br>
(1,2:3,4)+(-1,2:,,) -> [MyErr]Invalid matrix operation
<br>
A=(1,2:); A[0]+A[1] -> [MyErr]Invalid matrix operation
</del>
<br>
<span class="condition">
(1,2:3,4)-(-1) -> (2,3:4,5)
<br>
(1,2:3,4)-(-1,2) -> (2,0:4,2)
<br>
(1,2:3,4)+(-1:) -> (0,1:3,4)
<br>
(1,2:3,4)+(-1,2:,,) -> (0,4:3,4,4)
<br>
A=(1,2:); A[0]+A[1] -> (1,2)
</span>
<br>
A=(1,2:); ttA=trans(trans(A)); ttA[0]+ttA[1] -> (1,2)
<br>
A=(1,2:,); A[0]+A[1] -> (1,2)
<br>
<br>
<a href="#span-out-ope">無次元</a>の演算の場合、行列の演算規則とは無関係に<a href="#span-out-FNm-last">最終要素</a>を演算する
<br>
(1,2:3)1 || (3)*1 -> 3
<br>
(1,2)/(3,4) || (2)/(4) -> 0.5
<br>
(1,2,3)+(4,5) || (3)+(5) -> 8
<br>
(1,2:3)-(4,5:6:7) || (3)-(7) -> -4
<br>
<br>
<span class="run">Ver.2.73.29</span>以降、定義できない行列演算の場合、<a href="#span-out-ope-extended">拡張行列演算</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
欠損要素
<br>
入力仕様
    </th>
    <td>
<span id="span-out-mat-blank"></span>
欠損要素の入力仕様と付随する留意事項について記述する
<br>
・空要素と欠損要素を混同するため、本仕様は見直しの可能性がある
<br>
<br>
<a href="#span-out-mat">行列</a>演算の欠損要素の扱い：欠損要素=空要素=0
<br>
・test caseを列挙する
<br>
(()) -> 0
<br>
(,) -> (0,0)
<br>
(2,:)(1,2:3,4) || (2,:,)(1,2:3,4) -> (2,4:0,0)
<br>
(1,2:3,4)(2,:) || (1,2:3,4)(2,:,) -> (2,0:6,0)
<br>
(1,2,3:){1,2,3:} || (1,2,3:,,){1,2,3:,,} -> (14,0:0,0)
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
trans(1,2,3:) -> (1,0:2,0:3,0)
<br>
trans({1,2,3:}) -> (1,2,3:0,0,0)
<br>
<br>
欠損要素を埋めて<a href="#span-out-reference-mat-size">行列size</a>が一致する場合、差と和の演算を許容する
<br>
(1,2:3,4)-(-1,:) || (1,2:3,4)-(-1,:,) || (1,2:3,4)-(-1,0:0,0) -> (2,2:3,4)
<br>
(1,2:3,4)-(-1,2:) || (1,2:3,4)-(-1,2:,) || (1,2:3,4)-(-1,2:0,0) -> (2,0:3,4)
<br>
(1,2:3,4)+(-1,:) || (1,2:3,4)+(-1,:,) || (1,2:3,4)+(-1,0:0,0) -> (0,2:3,4)
<br>
(1,2:3,4)+(-1,2:) || (1,2:3,4)+(-1,2:,) || (1,2:3,4)+(-1,2:0,0) -> (0,4:3,4)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-num-NaN">欠損値</a>の定義とは異なる
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
空行列
<br>
入力仕様
    </th>
    <td>
<span id="span-out-mat-empty"></span>
空行列の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="clear">Ver.2.158.38</span>以降、<a href="#span-out-concatenation">行列結合</a>用の空行列を追加
<br>
・<span class="run">Ver.2.170.41</span>以降、<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>の[e]を空行列で代替可
<br>
　<span class="clear">Ver.2.747.112</span>以降、列参照と列代入の[e]を廃止
<br>
・<a href="#span-out-BT-square">角括弧[]</a>を使用
<br>
[] -> []
<br>
[[]] -> []
<br>
[[[]]] -> []
<br>
x=[]; x -> []
<br>
<br>
空行列を返す行列関数を列挙する
<br>
・<a href="#span-out-FNm-init">初期化行列関数</a>
<br>
<br>
test caseを示す
<br>
test_concat(k0,N)=&lt;[arr=[],_rk(=&lt;last{arr=(arr,k),k+1},k0,N),=&lt;arr]=&gt;;
<br>
vecr=test_concat(N=5,N)=&gt;; vecr -> (0,1,2,3,4)
<br>
sizer(vecr) -> 1
<br>
sizec(vecr) -> 5
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-concatenation">行列結合</a>の前提
<br>
[],[] -> []
<br>
[]:[] -> []
<br>
[],1,[]:1:[] -> (1:1)
<br>
x=[]; (x,2),(2,x),{x,2},{2,x} -> (2,2,2,2)
<br>
・<span class="clear">Ver.2.286.69</span>以降、空行列との演算の場合、error終了を正常化
<br>
3*() || 3/() -> <del>Cannot read properties of null (reading 'length')</del>[MyErr]Invalid () operation
<br>
x=[]; 3*x || 3/x -> <del>Cannot read properties of null (reading 'length')</del>[MyErr]Invalid () operation
<br>
・<a href="#span-out-mat-blank">欠損要素</a>
<br>
(,) -> (0,0)
<br>
(:) -> (0:0)
<br>
・<a href="#span-out-BT-empty">空括弧</a>
<br>
((),2) -> (0,2)
<br>
x=(); (x,2) -> [MyErr]Invalid ans isFound
<br>
・任意要素への代入不可
<br>
clear; x=[]; x[0]=1 -> [MyErr]Invalid reference of array
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
定数扱いの
<br>
行列
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm0"></span>
定数扱いの行列の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-FN0">定数</a>同様に扱う行列を列挙する
<br>
vector2r || vector2r() -> (0,0)
<br>
vector3r -> (0,0,0)
<br>
vector4r -> (0,0,0,0)
<br>
vector2c -> (0:0)
<br>
vector3c -> (0:0:0)
<br>
vector4c -> (0:0:0:0)
<br>
zeros2 -> (0,0:0,0)
<br>
zeros3 -> (0,0,0:0,0,0:0,0,0)
<br>
zeros4 -> (0,0,0,0:0,0,0,0:0,0,0,0:0,0,0,0)
<br>
ones2 -> (1,1:1,1)
<br>
ones3 -> (1,1,1:1,1,1:1,1,1)
<br>
ones4 -> (1,1,1,1:1,1,1,1:1,1,1,1:1,1,1,1)
<br>
identity2 -> (1,0:0,1)
<br>
identity3 -> (1,0,0:0,1,0:0,0,1)
<br>
identity4 -> (1,0,0,0:0,1,0,0:0,0,1,0:0,0,0,1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm"></span>
行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-FNmh">高階化</a>しない行列関数の前提を列挙する
<br>
・引数は関数call前に解決済み
<br>
<br>
<a href="#span-out-FNmh">高階化</a>しない行列関数の条件を列挙する
<br>
・引数が<a href="#span-out-mat">行列</a>単体の場合
<br>
・<a href="#span-out-mat-blank">欠損要素</a>なしの前提で複数の引数を<a href="#span-out-concatenation">行列結合</a>する場合
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
初期化
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-init"></span>
行列を初期化する行列関数の入力仕様と付随する留意事項について記述する
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>identity(NaN) -> Invalid array length</del>
<br>
identity(NaN) -> [MyErr]Invalid matrix size
<br>
<br>
行vector
<br>
vectorr(3.3) || vectorr(3) || vector3r -> (0,0,0)
<br>
vectorr(6) -> (0,0,0,0,0,0)
<br>
vectorr(9) -> (0,0,0,0,0,0,0,0,0)
<br>
vectorr(-1) -> [MyErr]Invalid matrix size
<br>
vectorr(1001) -> [MyErr]Invalid matSizeMax over
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-reference-mat-size">行列size</a>=0の場合、<a href="#span-out-mat-empty">空行列</a>を返す
<br>
vectorr(0) -> []
<br>
<br>
列vector
<br>
vectorc(3) || vector3c -> (0:0:0)
<br>
vectorc(6) -> (0:0:0:0:0:0)
<br>
vectorc(9) -> (0:0:0:0:0:0:0:0:0)
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-reference-mat-size">行列size</a>=0の場合、<a href="#span-out-mat-empty">空行列</a>を返す
<br>
vectorc(0) -> []
<br>
<br>
単位行列
<br>
identity(3) -> (1,0,0:0,1,0:0,0,1)
<br>
identity(5) -> (1,0,0,0,0:0,1,0,0,0:0,0,1,0,0:0,0,0,1,0:0,0,0,0,1)
<br>
・<a href="#span-out-reference-mat-size">行列size</a>は正の整数に<del>floor</del><span class="run">Ver.2.127.34</span>以降、roundに<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
<del>identity(2.5) || identity(2) -> (1,0:0,1)</del>
<br>
identity(2.5) || identity(3) -> (1,0,0:0,1,0:0,0,1)
<br>
identity(3.3) || identity(3) -> (1,0,0:0,1,0:0,0,1)
<br>
・<a href="#span-out-reference-mat-size">行列size</a>が負の場合、error終了
<br>
identity(-1)  -> [MyErr]Invalid matrix size
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-reference-mat-size">行列size</a>=0の場合、<a href="#span-out-mat-empty">空行列</a>を返す
<br>
identity(0) -> []
<br>
・<a href="#span-in-options">matSizeMax</a>を超過の場合、error終了
<br>
identity(1001) -> [MyErr]Invalid matSizeMax over
<br>
・出力logの文字数制限log.length&lt;5000
<br>
identity(100) -> (1,0,0,...,0,0,0,...
<br>
・log表示負荷を下げる場合、変数に代入して<a href="#span-out-BT">括弧</a>で括る
<br>
(A=identity(100),A2=A*A) -> (0,0)
<br>
<br>
scalar行列
<br>
scalars(2,-3) -> (-3,0:0,-3)
<br>
scalars(3,i) -> (i,0,0:0,i,0:0,0,i)
<br>
scalars(4,3-5i) -> (3-5i,0,0,0:0,3-5i,0,0:0,0,3-5i,0:0,0,0,3-5i)
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-reference-mat-size">行列size</a>=0の場合、<a href="#span-out-mat-empty">空行列</a>を返す
<br>
scalars(0,1) -> []
<br>
・任意size行列Aのscalar倍
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
A=(1,2,3,4:5,6,7,8); scalars(sizer(A),2)*A || A*scalars(sizec(A),2) || <span class="condition">A*2 || 2*A</span> ->
<br>
(
<br>
2,4,6,8:
<br>
10,12,14,16
<br>
)
<br>
A={1,2,3,4:5,6,7,8}; scalars(sizer(A),2)*A || A*scalars(sizec(A),2) || <span class="condition">A*2 || 2*A</span> ->
<br>
(
<br>
2,10:
<br>
4,12:
<br>
6,14:
<br>
8,16
<br>
)
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
N=10; z=1+i; A=htrans(scalars(N,z))identity(N)scalars(N,z); A ->
<br>
N=10; z=1+i; A=scalars(N,z)identity(N)htrans(scalars(N,z)); A ->
<br>
(
<br>
2,0,0,0,0,0,0,0,0,0:
<br>
0,2,0,0,0,0,0,0,0,0:
<br>
0,0,2,0,0,0,0,0,0,0:
<br>
0,0,0,2,0,0,0,0,0,0:
<br>
0,0,0,0,2,0,0,0,0,0:
<br>
0,0,0,0,0,2,0,0,0,0:
<br>
0,0,0,0,0,0,2,0,0,0:
<br>
0,0,0,0,0,0,0,2,0,0:
<br>
0,0,0,0,0,0,0,0,2,0:
<br>
0,0,0,0,0,0,0,0,0,2
<br>
)
<br>
<br>
zeros行列
<br>
zeros(2,2) -> (0,0:0,0)
<br>
zeros(3,5) -> (0,0,0,0,0:0,0,0,0,0:0,0,0,0,0)
<br>
zeros(-1,1)  -> [MyErr]Invalid matrix size
<br>
zeros(1001,1) -> [MyErr]Invalid matSizeMax over
<br>
・<a href="#span-out-substitution-mat-band">band代入</a>を使用
<br>
mat3x3=zeros(3,3); pivot=1; mat3x3[0][0][0]=(pivot,pivot,pivot); mat3x3 ->
<br>
(
<br>
1,0,0:
<br>
0,1,0:
<br>
0,0,1
<br>
)
<br>
・<span class="run">Ver.2.185.44</span>以降、正方行列の場合、第2引数を省略可
<br>
zeros(NaN) -> [MyErr]Invalid matrix size
<br>
zeros(1) -> 0
<br>
zeros(2) -> (0,0:0,0)
<br>
zeros(3) -> (0,0,0:0,0,0:0,0,0)
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-reference-mat-size">行列size</a>=0の場合、<a href="#span-out-mat-empty">空行列</a>を返す
<br>
zeros(0) || zeros(0,1) || zeros(1,0) -> []
<br>
<br>
ones行列
<br>
ones(2,2) -> (1,1:1,1)
<br>
ones(5,3) -> (1,1,1:1,1,1:1,1,1:1,1,1:1,1,1)
<br>
・<span class="run">Ver.2.185.44</span>以降、正方行列の場合、第2引数を省略可
<br>
ones(NaN) -> [MyErr]Invalid matrix size
<br>
ones(1) -> 1
<br>
ones(2) -> (1,1:1,1)
<br>
ones(3) -> (1,1,1:1,1,1:1,1,1)
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-reference-mat-size">行列size</a>=0の場合、<a href="#span-out-mat-empty">空行列</a>を返す
<br>
ones(0) || ones(0,1) || ones(1,0) -> []
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
space
<br>
初期化
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-init-space"></span>
spaceを初期化する行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.183.44</span>以降、linspace関数を追加
<br>
・<span class="run">Ver.2.228.55</span>以降、整数の丸め方を最適化
<br>
<br>
引数(a,b,opt_Np1)の仕様を列挙する
<br>
・[a,b]：<a href="#span-out-com">複素数</a>valueの区間
<br>
・opt_Np1||50：区間分割数N+1の離散点数
<br>
<br>
linspace(a,b,opt_Np1)関数：linear-scaleの初期化
<br>
・test caseを列挙する
<br>
linspace(0,5,6):linspace(0,5,6)**2 -> (0,1,2,3,4,5:0,1,4,9,16,25)
<br>
linspace(1+2i,10+10i,9) -> (1+2i,2.125+3i,3.25+4i,4.375+5i,5.5+6i,6.625+7i,7.75+8i,8.875+9i,10+10i)
<br>
linspace(10+10i,1+2i,9) -> (10+10i,8.875+9i,7.75+8i,6.625+7i,5.5+6i,4.375+5i,3.25+4i,2.125+3i,1+2i)
<br>
・複数行の初期化
<br>
linspace(0,5,6:0,5,6) -> (0,1,2,3,4,5:0,1,2,3,4,5)
<br>
linspace(0,5,6:0,10,11) -> (0,1,2,3,4,5:0,1,2,3,4,5,6,7,8,9,10)
<br>
・<a href="#span-out-reference-mat-size">行列size</a>=1の場合、区間下端を返す
<br>
linspace([2,3],1) || linspace(2,3,1) -> 2
<br>
・<a href="#span-out-reference-mat-size">行列size</a>=0の場合、error終了
<br>
linspace(1,2,0) -> [MyErr]Invalid matrix size
<br>
linspace(1,2,NaN) -> [MyErr]Invalid matrix size
<br>
linspace(1,2,1001) -> [MyErr]Invalid matSizeMax over
<br>
linspace(1) -> [MyErr]Invalid args.length=2||3(linspace)
<br>
linspace(1,NaN,2) -> (NaN,NaN)
<br>
args=(trans(linspace(2,2,4)),trans(linspace(1,4,4))); pow(args) ->
<br>
(2:4:7.999999999999998:15.999999999999998)
<br>
・<span class="run">Ver.2.184.44</span>以降、auto-real selected時
<br>
args=(trans(linspace(2,2,4)),trans(linspace(1,4,4))); pow(args) -> (2:4:8:16)
<br>
N=8; pow(trans(linspace(2,2,N:1,N,N))) -> (2:4:8:16:32:64:128:256)
<br>
<br>
留意事項を列挙する
<br>
・整数の丸め方
<br>
round(linspace(1,1000,1000).).
<br>
linspace(1,1000,1000).map((x)=&lt;round(x))
<br>
・<span class="run">Ver.2.228.55</span>以降、対策済み（round不要）
<br>
linspace(1,1000,1000)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
isFalse
<br>
/isTrue
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-isFalse"></span>
isFalse/isTrue行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.172.42</span>以降、isFalse/isTrue行列関数を追加
<br>
<br>
isFalse行列関数
<br>
・引数が<a href="#span-out-num-false">false判定値</a>を判定
<br>
isFalse(false),isFalse(true),isFalse(NaN) -> (true,false,true)
<br>
isFalse(0),isFalse(1),isFalse(i) -> (true,false,false)
<br>
isFalse(false,false),isFalse(NaN,NaN),isFalse(,) -> (false,false,false)
<br>
・<a href="#span-out-ope">実数演算</a>
<br>
isFalse(false),isFalse(true),isFalse(NaN) -> (true,false,true)
<br>
isFalse(0),isFalse(1),isFalse(i) -> (true,false,<span class="clear">true</span>)
<br>
isFalse(false,false),isFalse(NaN,NaN),isFalse(,) -> (false,false,false)
<br>
<br>
isTrue行列関数
<br>
・引数が<a href="#span-out-num-false">true判定値</a>を判定
<br>
isTrue(false),isTrue(true),isTrue(NaN) -> (false,true,false)
<br>
isTrue(0),isTrue(1),isTrue(i) -> (false,true,true)
<br>
isTrue(false,false),isTrue(NaN,NaN),isTrue(,) -> (true,true,true)
<br>
・<a href="#span-out-ope">実数演算</a>
<br>
isTrue(false),isTrue(true),isTrue(NaN) -> (false,true,false)
<br>
isTrue(0),isTrue(1),isTrue(i) -> (false,true,<span class="clear">false</span>)
<br>
isTrue(false,false),isTrue(NaN,NaN),isTrue(,) -> (true,true,true)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-literal">論理値literal</a>を返す
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
転置
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-trans"></span>
転置行列関数の入力仕様と付随する留意事項について記述する
<br>
・<span class="run">Ver.2.192.44</span>以降、<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>を追加
<br>
<br>
<a href="#span-out-mat">行列</a>の非共役転置
<br>
trans(1,2:3,4) -> (1,3:2,4)
<br>
trans(1,2i:3,4i:-5i) -> (1,3,-5i:2i,4i,0)
<br>
・行vectorを列vectorに変換
<br>
transpose(1,2,3) || trans(1,2,3) -> (1:2:3)
<br>
・列vectorを行vectorに変換
<br>
trans({1,2,3}) || trans{1,2,3} -> (1,2,3)
<br>
<br>
<a href="#span-out-com">複素数</a>の<a href="#span-out-mat">行列</a>の共役転置（Hermit転置）
<br>
htrans(1-i,1-2i:1-3i,1-4i) || Hermitian(1-i,1-2i:1-3i,1-4i) -> (1+i,1+3i:1+2i,1+4i)
<br>
htrans(1,2i:3,4i:-5i) -> (1,3,5i:-2i,-4i,0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
last
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-last"></span>
last行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
行列要素を取得
<br>
・最初要素（<a href="#span-out-mat">行列</a>の最初行の最初列の要素）
<br>
first(1,2:3,4) -> 1
<br>
first{1,2:3,4} -> 1
<br>
・最終要素（<a href="#span-out-mat">行列</a>の最終行の最終列の要素）
<br>
last(1,2:3,4) -> 4
<br>
last{1,2:3,4} -> 4
<br>
・<a href="#span-in-tree">単位tree構造</a>の仕様上、行vectorの欠損要素を自動で埋めない
<br>
A=(1,2:3,(,:,4),5); A ->
<br>
(
<br>
1,2:
<br>
3,0,0,5:
<br>
<del class="clear">0,</del>0,4
<br>
)
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-concatenation-irregular">irregular行列</a>の<a href="#span-out-concatenation">行列結合</a>の<span class="clear">仕様変更</span>
<br>
last(A) -> 4
<br>
last(trans(trans(A))) -> 0
<br>
<br>
last行列関数はNativeの<a href="#span-out-option4">comma演算子</a>同様に、<a href="#span-out-BT">括弧</a>内の最終要素を返す
<br>
・同じ<a href="#span-out-BT">括弧</a>でcomma,を括る場合
<br>
last((1,2):(3,4)) -> 4
<br>
last{{1,2}:{3,4}} -> 4
<br>
・colon:を含めて括る場合、意図とは異なる可能性あり
<br>
・最終列挙の要素が最終要素とは限らない
<br>
(1,(2:3),4) ->
<br>
(
<br>
1,2,4:
<br>
<del class="clear">0,</del>3
<br>
)
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-concatenation-irregular">irregular行列</a>の<a href="#span-out-concatenation">行列結合</a>の<span class="clear">仕様変更</span>
<br>
last(1,(2:3),4) -> 3
<br>
・<a href="#span-out-BT">括弧</a>を統一しない場合、意図とは異なる可能性あり
<br>
({1,2},3,4) ->
<br>
(
<br>
1,3,4:
<br>
2
<br>
)
<br>
last({1,2},3,4) -> 2
<br>
<br>
最終列挙の要素を取得する場合
<br>
・常にlast行列関数で<a href="#span-out-BT">括弧</a>内の最終要素を取り出す
<br>
last(1,last(2:3),4) -> 4
<br>
last(last{1,2},3,4) -> 4
<br>
last(last(last{1,2},3),4) -> 4
<br>
last(last(1,2),last(3,4)) -> 4
<br>
last(last(1,2),last(3:4)) -> 4
<br>
last(last(1,2),last{3:4}) -> 4
<br>
last(last{1,2},last(3:4)) -> 4
<br>
last(last{1,2},last{3:4}) -> 4
<br>
last(last{1,2}:last{3:4}) -> 4
<br>
・仕様上、<a href="#span-out-substitution">変数への代入</a>は次元を残さず、無次元の0を返す
<br>
(vc={1,2,3},vr=(1,2,3),normc(vc)) -> (0,0,3.7416573867739413)
<br>
last(ans) -> 3.7416573867739413
<br>
・次元を残した場合（参考）
<br>
({0,0,0},(0,0,0),1) -> (0,0,0,0,1:0:0)
<br>
(last{0,0,0},last(0,0,0),1) -> (0,0,1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
size
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-size"></span>
size行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-reference-mat-size">m行n列の行列size</a>（欠損要素を自動で埋める）
<br>
・<span class="run">Ver.2.185.44</span>以降、size行列関数の非正方行列の返値の仕様変更（n　⇒　{m,n}）
<br>
size(1,2:3,4) -> 2
<br>
<del>size(1,2:3,4:) -> 2</del>
<br>
size(1,2:3,4:) -> (3:2)
<br>
・行size:=m
<br>
sizer(1,2:3,4) -> 2
<br>
sizer(1,2:3,4)[0] || sizer(1,2) -> 1
<br>
sizer(1:3,4) -> 2
<br>
sizer(1:3,4:) -> 3
<br>
・列size:=n
<br>
sizec(1,2:3,4) -> 2
<br>
sizec(1,2:3,4)[0] || sizec(1,2) -> 2
<br>
sizec(1,2:3) -> 2
<br>
sizec(1,2:3:4,5,) -> 3
<br>
・<span class="clear">Ver.2.280.66</span>以降、未定義の<a href="#span-out-vars">変数</a>を<a href="#span-out-flow">operation</a>段階で検知するため、error終了
<br>
<del>・定義済み<a href="#span-out-vars">変数</a>を含まない場合
<br>
clear; sizer(a,b:c,d) || sizer(,:,) -> 2
<br>
clear; sizec(a,b:c,d) || sizec(,:,) -> 2
<br>
・定義済み<a href="#span-out-vars">変数</a>を含む場合
<br>
clear; A=(,:,); sizer(A,b:c,d) || sizer(A,:,) -> 3
<br>
clear; A=(,:,); sizec(A,b:c,d) || sizec(A,:,) -> 3
<br>
clear; A=(,:,); sizer(A,b:c,A) || sizer(A,:,A) -> 4
<br>
clear; A=(,:,); sizec(A,b:c,A) || sizec(A,:,A) -> 3</del>
<br>
clear; A=(,:,); sizer(A,A:A,A) -> 4
<br>
clear; A=(,:,); sizec(A,A:A,A) -> 4
<br>
<br>
test caseを示す
<br>
size(1) -> 1
<br>
size(identity(2)) -> 2
<br>
size(zeros(2,3)) -> (2:3)
<br>
size_mn(mat)=&lt;{sizer(mat),sizec(mat)};
<br>
mat=(1,2:3,4:5,6);
<br>
size(mat) -> (3:2)
<br>
size_mn(=&lt;mat) -> (3:2)
<br>
{$m,$n}=size_mn(=&lt;mat);
<br>
(m,n) -> (3,2)
<br>
=((size_mn(=&lt;mat))[0],(size_mn(=&lt;mat))[1]) -> (3,2)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
reshape
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-reshape"></span>
reshape行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.234.56</span>以降、reshaper/reshape/reshapec行列関数を追加
<br>
・<span class="run">Ver.2.240.56</span>以降、既定形式の仕様変更
<br>
　reshape：reshapec　⇒　reshaper（列vector形式　⇒　行vector形式）
<br>
・<span class="run">Ver.2.825.139</span>以降、reshapez行列関数を追加
<br>
<br>
留意事項を列挙する
<br>
・行列要素の参照を再配置して返す（<a href="#span-out-development-problems-share">参照非共有</a>）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
norm
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-norm"></span>
norm行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.187.44</span>以降、normr/norm/normc行列関数を追加して返値の仕様変更
<br>
・最終行/最終列vectorのnorm　⇒　各行/各列vectorのnorm（<a href="#span-out-FNm-normalize">正規化行列関数</a>に準拠）
<br>
・<span class="run">Ver.2.240.56</span>以降、既定形式の仕様変更
<br>
　norm：normc　⇒　normr（列vector形式　⇒　行vector形式）
<br>
<br>
各行vectorのEuclidean norm（vectorの長さ）
<br>
normr(1,2,3) || norm(1,2,3) || euclidean(1,2,3) -> 3.7416573867739413
<br>
normr(NaN) -> NaN
<br>
・行vector形式の<a href="#span-out-linear">連立方程式</a>x*A=bのnorm(x)想定
<br>
normr(-i,2i,-3i) -> 3.7416573867739413
<br>
<del>・<a href="#span-out-mat">行列</a>を指定した場合、最終行を参照
<br>
mat=(1,2:3,4); normr(mat),normr(mat[1]),normr(3,4) -> (5,5,5)</del>
<br>
・<a href="#span-out-mat">行列</a>の場合
<br>
mat=(1,2:3,4); normr(mat) -> (2.23606797749979:5)
<br>
・正規化の<a href="#span-out-ope-extended">拡張行列演算</a>
<br>
mat=(4,3i:-3,4i); mat/normr(mat) -> (0.8,0.6i:-0.6,0.8i)
<br>
<br>
各列vectorのEuclidean norm（vectorの長さ）
<br>
normc(1:2:3) -> 3.7416573867739413
<br>
normc(NaN) -> NaN
<br>
・列vector形式の<a href="#span-out-linear">連立方程式</a>A*x=bのnorm(x)想定
<br>
normc(1:2:3) || normc{1,2,3} || normc({1,2,3}) -> 3.7416573867739413
<br>
normc(-i:2i:-3i) || normc{-i,2i,-3i} || normc({-i,2i,-3i}) -> 3.7416573867739413
<br>
normc((1-i)/sqrt2:2i:-3i) || normc({(1-i)/sqrt2,2i,-3i}) -> 3.7416573867739413
<br>
x=((1-i)/sqrt2,2i,-3i); normc(trans(x)) -> 3.7416573867739413
<br>
・<a href="#span-out-ope">有次元</a>の場合、同義
<br>
x=((1-i)/sqrt2,2i,-3i); sqrt(x*htrans(x)) -> 3.7416573867739413
<br>
x={(1-i)/sqrt2,2i,-3i}; sqrt(htrans(x)x) -> 3.7416573867739413
<br>
・Hermit内積
<br>
x=((1-i)/sqrt2,2i,-3i); x*htrans(x) -> 14
<br>
x={(1-i)/sqrt2,2i,-3i}; htrans(x)x -> 14
<br>
・標準内積
<br>
x={(1-i)/sqrt2,2i,-3i}; trans(x)x -> -13-0.9999999999999998i
<br>
・よって<a href="#span-out-com">複素数</a>の場合、非同義
<br>
x={(1-i)/sqrt2,2i,-3i}; abs(sqrt(trans(x)x))  <span class="selection">// NG</span> -> 3.6108731368472777
<br>
<del>・行vectorを誤入力した場合
<br>
normc((1-i)/sqrt2,2i,-3i) || normc(-3i)  <span class="selection">// NG</span> -> 3
<br>
・<a href="#span-out-mat">行列</a>を指定した場合、最終列を参照
<br>
mat={1,2:3,4}; normc(mat),normc(mat[][1]),normc(3:4),normc{3,4},normc({3,4}),normc{{3,4}} -> (5,5,5,5,5,5)</del>
<br>
・<a href="#span-out-mat">行列</a>の場合
<br>
mat={1,2:3,4}; normc(mat) -> (2.23606797749979,5)
<br>
・正規化の<a href="#span-out-ope-extended">拡張行列演算</a>
<br>
mat={4,3i:-3,4i}; mat/normc(mat) -> (0.8,-0.6:0.6i,0.8i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
正規化
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-normalize"></span>
正規化行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
各行vectorの正規化
<br>
・<span class="run">Ver.2.240.56</span>以降、既定形式の仕様変更
<br>
　normalize：normalizec　⇒　normalizer（列vector形式　⇒　行vector形式）
<br>
vr=(1,i,-i); normalizer(vr) || normalize(vr) ->
<br>
(0.5773502691896258,0.5773502691896258i,-0.5773502691896258i)
<br>
normc(trans(normalizer(vr)))
<br>
・同義
<br>
・行vectorの左からnormの逆数を積
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
vr=(1,i,-i); (1/normc(trans(vr)))vr ->
<br>
(0.5773502691896258,0.5773502691896258i,-0.5773502691896258i)
<br>
・<a href="#span-out-FNm-init">zeros-vector</a>の場合、不定として<a href="#span-out-literal">NaN</a>を返す
<br>
normalizer(0,0,0)  <span class="selection">// NG</span> -> (NaN,NaN,NaN)
<br>
・<a href="#span-out-mat">行列</a>の場合
<br>
A=(1:1,i:1,i,-i); A -> (1:1,i:1,i,-i)
<br>
normalizer(A) ->
<br>
(1,0,0:
<br>
0.7071067811865475,0.7071067811865475i,0:
<br>
0.5773502691896258,0.5773502691896258i,-0.5773502691896258i)
<br>
・各行vectorを<a href="#span-out-array">行列操作</a>で正規化する場合
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
(1/normc(trans(A[0])))A[0] -> 1
<br>
(1/normc(trans(A[1])))A[1]
<br>
-> (0.7071067811865475,0.7071067811865475i)
<br>
(1/normc(trans(A[2])))A[2]
<br>
-> (0.5773502691896258,0.5773502691896258i,-0.5773502691896258i)
<br>
<br>
各列vectorの正規化
<br>
vc={1,i,-i}; normalizec(vc) -> 
<br>
(0.5773502691896258:0.5773502691896258i:-0.5773502691896258i)
<br>
・同義
<br>
・列vectorの右からnormの逆数を積
<br>
vc={1,i,-i}; vc(1/normc(vc)) ->
<br>
(0.5773502691896258:0.5773502691896258i:-0.5773502691896258i)
<br>
・行vectorを誤入力した場合
<br>
vr=(1,i,-i); normalizec(vr)  <span class="selection">// NG</span> -> (1,i,-i)
<br>
・<a href="#span-out-FNm-init">zeros-vector</a>の場合、不定として<a href="#span-out-literal">NaN</a>を返す
<br>
normalizec({0,0,0})  <span class="selection">// NG</span> -> (NaN:NaN:NaN)
<br>
・<a href="#span-out-mat">行列</a>の場合
<br>
tA={1:1,i:1,i,-i}; tA -> (1,1,1:0,i,i:0,0,-i)
<br>
normalizec(tA) ->
<br>
(1,0.7071067811865475,0.5773502691896258:
<br>
0,0.7071067811865475i,0.5773502691896258i:
<br>
0,0,-0.5773502691896258i)
<br>
・各列vectorを<a href="#span-out-array">行列操作</a>で正規化する場合
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
tA={1:1,i:1,i,-i}; A=trans(tA); A -> (1,0,0:1,i,0:1,i,-i)
<br>
trans((1/normc(trans(A[0])))A[0]) -> (1:0:0)
<br>
trans((1/normc(trans(A[1])))A[1])
<br>
-> (0.7071067811865475:0.7071067811865475i:0)
<br>
trans((1/normc(trans(A[2])))A[2])
<br>
-> (0.5773502691896258:0.5773502691896258i:-0.5773502691896258i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
座標形式
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNm-coo"></span>
座標形式行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.123.34</span>以降、疎行列を扱う座標形式（以降、COO形式と呼ぶ）の<a href="#span-out-FNm">行列関数</a>を追加
<br>
<span class="run">Ver.2.124.34</span>以降、memory使用量と<a href="#span-out-ope">演算量</a>=Order(N^3)の削減のため、COO形式の<a href="#span-out-method-Gauss">Gaussの消去法</a>を追加
<br>
・ただし、<a href="#span-out-ope">演算量</a>より要素探索の制御文がneckでthroughputは低い
<br>
・<span class="clear">Ver.2.128.35</span>以降、<a href="#span-out-linear">pivot選択</a>でのerror終了を修正（pivot=0でも通るように）
<br>
・<span class="run">Ver.2.135.35</span>以降、制御文低減のため、COO形式⇒LIL形式の変換処理を追加（<a href="#span-out-linear">Gauss関数</a>の完全互換）
<br>
・<span class="run">Ver.2.217.50</span>以降、<a href="#span-out-num-NaN">欠損値</a>の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
<br>
COO形式の<a href="#span-out-mat">行列</a>から<a href="#span-out-reference-mat-size">m行n列の行列</a>を復元
<br>
・COO行列:=(aA:mA:nA)
<br>
clear; aA=(1); mA=(1); nA=(2); coo=(aA:mA:nA); A=coo2mat(coo); A -> (0,1)
<br>
clear; aA=(1,1+i,1-i); mA=(1,2,3); nA=(1,2,3); coo=(aA:mA:nA); A=coo2mat(coo); A ->
<br>
(
<br>
1,0,0:
<br>
0,1+i,0:
<br>
0,0,1-i
<br>
)
<br>
clear; aA=(1,1+i,1-i); mA=(1,2,3); nA=(1,4,3); coo=(aA:mA:nA); A=coo2mat(coo); A ->
<br>
(
<br>
1,0,0,0:
<br>
0,0,0,1+i:
<br>
0,0,1-i,0
<br>
)
<br>
clear; aA=(1,1+i,1-i); mA=(1,2,3); nA=(1,2,3); coo=(aA:mA:2*nA); A=coo2mat(coo); A ->
<br>
(
<br>
0,1,0,0,0,0:
<br>
0,0,0,1+i,0,0:
<br>
0,0,0,0,0,1-i
<br>
)
<br>
・重複定義の場合、<del>配列の後要素で上書き</del><span class="run">Ver.2.124.34</span>以降、error終了
<br>
clear; aA=(1,1+i,1-i); mA=(1,2,1); nA=(1,4,1); coo=(aA:mA:nA); A=coo2mat(coo); A ->
<br>
[MyErr]Invalid duplication of coo
<br>
<del>(
<br>
1-i,0,0,0:
<br>
0,0,0,1+i
<br>
)</del>
<br>
・引数不正の場合、error終了
<br>
clear; aA=(1,1+i,1-i); mA=(1,2,3); nA=(1,2,3);
<br>
coo=(aA:mA); A=coo2mat(coo); A -> [MyErr]Invalid coo2matSize
<br>
clear; aA=(1,1+i); mA=(1,2,3); nA=(1,2,3);
<br>
coo=(aA:mA:nA); A=coo2mat(coo); A -> [MyErr]Invalid coo2matSize
<br>
clear; aA=(1,1+i:1-i); mA=(1,2,3); nA=(1,2,3);
<br>
coo=(aA:mA:nA); A=coo2mat(coo); A -> [MyErr]Invalid coo2matSize
<br>
・<a href="#span-out-reference-mat-size">行列size</a>の制限によるerror終了
<br>
clear; aA=(1,1+i,1-i); mA=(0,2,3); nA=(1,2,3);
<br>
coo=(aA:mA:nA); A=coo2mat(coo); A -> [MyErr]Invalid matrix size
<br>
clear; aA=(1,1+i,1-i); mA=(1001,2,3); nA=(1,2,3);
<br>
coo=(aA:mA:nA); A=coo2mat(coo); A -> [MyErr]Invalid matSizeMax over
<br>
・<span class="run">Ver.2.126.34</span>以降、逆変換を追加
<br>
clear; A=(1,2,:3,4,:,,,); mat2coo(A) -> 
<br>
(
<br>
1,2,3,4:
<br>
1,1,2,2:
<br>
1,2,1,2
<br>
)
<br>
clear; A=(1,2,:3,4,:,,,); cA=mat2coo(A); aA=cA[0]; mA=cA[1]; nA=cA[2];
<br>
aA -> (1,2,3,4)
<br>
mA -> (1,1,2,2)
<br>
nA -> (1,2,1,2)
<br>
・<a href="#span-out-error-numerical">数値誤差</a>のみの要素を保持する
<br>
clear; num0=_dx(=&lt;{1},1,); mcA=coo2mat(mat2coo(1,2,num0:3,4:5,,)); mcA ->
<br>
(
<br>
1,2,0+O(1e-12+1e-12i):
<br>
3,4,0
<br>
5,0,0
<br>
)
<br>
・<span class="clear">Ver.2.170.42</span>以降、<a href="#span-out-literal">NaN</a>の引数に対応
<br>
<del>mat2coo(NaN) || mat2coo(0) -> (:: )</del>
<br>
・<span class="run">Ver.2.217.50</span>以降、<a href="#span-out-literal">NaN</a>を返す
<br>
<del>mat2coo(NaN) || mat2coo(0) -> (false:false:false)</del>
<br>
mat2coo(NaN) || mat2coo(0) -> (NaN:NaN:NaN)
<br>
<br>
COO形式の<a href="#span-out-method-Gauss">Gaussの消去法</a>
<br>
aA=(1,2,3);
<br>
mA=(1,2,3);
<br>
nA=(1,2,3);
<br>
b={4,5,6};
<br>
coo=(aA:mA:nA);
<br>
x=Gauss_coo(aA:mA:nA:trans(b)); x -> (4:2.5:2)
<br>
x=Gauss_coo(1,2,3:1,2,3:1,2,3:4,5,6); x -> (4:2.5:2)
<br>
・要素の順序を任意に交換可
<br>
aA=(3,1,2);
<br>
mA=(3,1,2);
<br>
nA=(3,1,2);
<br>
coo=(aA:mA:nA);
<br>
b={4,5,6};
<br>
x=Gauss_coo(coo:trans(b)); x -> (4:2.5:2)
<br>
・<span class="run">Ver.2.128.34</span>以降、COO行列のi=1（2行目のmA）をkeyにsort
<br>
clear; aA=(3,1,2); mA=(3,1,2); nA=(3,1,2); coo=(aA:mA:nA);
<br>
coo_sorted=sort1(coo); coo_sorted -> (1,2,3:1,2,3:1,2,3)
<br>
・Aとbの<a href="#span-out-reference-mat-size">行列size</a>不一致の場合、error終了
<br>
clear; aA=(1,2,3); mA=(1,2,3); nA=(1,2,3); b={4,5}; coo=(aA:mA:nA);
<br>
x=Gauss_coo(coo:trans(b)); x -> [MyErr]Invalid coo2matSize
<br>
・定義不正の場合、error終了
<br>
clear; aA=(1,2,3); mA=(2,2,3); nA=(1,2,3); b={4,5,6}; coo=(aA:mA:nA);
<br>
x=Gauss_coo(coo:trans(b)); x -> [MyErr]Invalid gauss_coo2mat
<br>
・test caseを示す
<br>
aA=(1,1,-2,1+i,3i,1,1-i,-1,-i);
<br>
mA=(1,1,2,2,2,3,3,4,4);
<br>
nA=(1,2,1,2,3,1,3,3,4);
<br>
coo=(aA:mA:nA);
<br>
b={4,5,6,7i};
<br>
x=Gauss_coo(coo:trans(b)); x ->
<br>
(
<br>
2.0588235294117645+5.235294117647058i:
<br>
1.9411764705882355-5.235294117647059i:
<br>
4.588235294117647-0.6470588235294115i:
<br>
-6.352941176470589+4.588235294117647i
<br>
)
<br>
・double-check
<br>
A=coo2mat(coo); x-Gauss(A,b) -> (0,0,0,0)
<br>
A*x ->
<br>
(
<br>
4-8.881784197001252e-16i:
<br>
5+1.7763568394002505e-15i:
<br>
6:
<br>
7i
<br>
)
<br>
<br>
留意事項を列挙する
<br>
・COO形式のみ<a href="#span-out-reference-mat-size">行列size</a>の連番を使用（<a href="#span-out-reference-mat">行列への参照</a>は<a href="#span-out-reference-mat-index">行列index</a>の連番を使用）
<br>
<br>
<span class="run">Ver.2.130.35</span>以降、COO形式の挙動を確認する場合、<a title="[test]solver" href="../03_solver/index.html">[test]solver</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列操作
<br>
入力仕様
    </th>
    <td>
<span id="span-out-array"></span>
行列操作の入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-reference-mat">行列への参照</a>方法を列挙する
<br>
・<a href="#span-out-reference-mat-size">行列size</a>
<br>
・<a href="#span-out-reference-mat-index">行列index</a>
<br>
・<a href="#span-out-reference-mat-row">行参照</a>
<br>
・<a href="#span-out-reference-mat-col">列参照</a>
<br>
・<a href="#span-out-reference-mat-elem">要素参照</a>
<br>
・<a href="#span-out-reference-mat-area">area参照</a>
<br>
・<a href="#span-out-reference-mat-band">band参照</a>
<br>
<br>
<a href="#span-out-substitution-mat">行列への代入</a>方法を列挙する
<br>
・<a href="#span-out-substitution-mat-row">行代入</a>
<br>
・<a href="#span-out-substitution-mat-col">列代入</a>
<br>
・<a href="#span-out-substitution-mat-elem">要素代入</a>
<br>
・<a href="#span-out-substitution-mat-area">area代入</a>
<br>
・<a href="#span-out-substitution-mat-band">band代入</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列への参照
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat"></span>
行列への参照の入力仕様と付随する留意事項について記述する
<br>
<br>
行列への参照は<a href="#span-out-BT-square">角括弧[]</a>で指定する
<br>
<br>
行列への参照方法を列挙する
<br>
・<a href="#span-out-reference-mat-row">行参照</a>
<br>
・<a href="#span-out-reference-mat-col">列参照</a>
<br>
・<a href="#span-out-reference-mat-elem">要素参照</a>
<br>
・<a href="#span-out-reference-mat-area">area参照</a>
<br>
・<a href="#span-out-reference-mat-band">band参照</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列size
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-size"></span>
行列sizeの入力仕様と付随する留意事項について記述する
<br>
<br>
m行n列の行列の<a href="#span-out-FNm-size">行列size</a>を定義する
<br>
行size:=m=1~<a href="#span-out-FNm">matSizeMax</a>
<br>
列size:=n=1~<a href="#span-out-FNm">matSizeMax</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列index
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-index"></span>
行列indexの入力仕様と付随する留意事項について記述する
<br>
<br>
m行n列の行列の行列indexを定義する（以降、ij参照の行列と呼ぶ）
<br>
行index:=i=0~m-1
<br>
列index:=j=0~n-1
<br>
・<span class="clear">Ver.2.747.112</span>以降、行列indexの判別を厳格化
<br>
A=(1,2:3,4); A[i] -> <del>(1,2)</del>[MyErr]Invalid reference of array[1i]
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行参照
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-row"></span>
行参照の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.78.31</span>以降、行列の行参照と<a href="#span-out-substitution-mat-row">行代入</a>の<span class="selection">反転機能</span>を追加
<br>
<br>
行参照
<br>
<a href="#span-out-mat">行列</a>[行index]
<br>
<a href="#span-out-vars">変数</a>[行index]
<br>
<a href="#span-out-eqns">式変数</a>[行index]=&gt;
<br>
<a href="#span-out-eqns">式変数</a>[行index](<a href="#span-out-eqns-args">arguments</a>)=&gt;
<br>
・行vectorを参照する場合、<span class="clear">1個の<a href="#span-out-BT-square">角括弧[]</a></span>で行indexを指定する
<br>
A=(1,2:3,4); A[0] || (1,2:3,4)[0] -> (1,2)
<br>
A=(1,2:3,4); A[1] || (1,2:3,4)[1] -> (3,4)
<br>
・以降、<a href="#span-out-eqns">式変数</a>を使用
<br>
A=&lt;(1,2:3,4); A[0]=&gt; -> (1,2)
<br>
A=&lt;(1,2:3,4); A[1]=&gt; -> (3,4)
<br>
A(t)=&lt;(t,2t:3t,4t)[0]; A(-1)=&gt; || (A(-1)=&gt;)[0]; -> (-1,-2)
<br>
A(t)=&lt;(t,2t:3t,4t)[1]; A(-1)=&gt; || (A(-1)=&gt;)[0]; -> (-3,-4)
<br>
A(t)=&lt;(t,2t:3t,4t); A[0](-1)=&gt; || (A(-1)=&gt;)[0] -> (-1,-2)
<br>
A(t)=&lt;(t,2t:3t,4t); A[1](-1)=&gt; || (A(-1)=&gt;)[1] -> (-3,-4)
<br>
A(t)=&lt;(t,2t:3t,4t); A(-1)=&gt;[1] -> [MyErr]Invalid REe(=&gt;)
<br>
A(t)=&lt;(t,2t:3t,4t); A(-1)[1]=&gt; -> [MyErr]Invalid reference of array
<br>
・欠損要素を自動で埋めない
<br>
A=&lt;(1:3,4); A[0]=&gt; -> 1
<br>
A=&lt;(1:3,4); A[1]=&gt; -> (3,4)
<br>
・行indexが負の場合、<span class="selection">反転参照</span>を定義する
<br>
A=&lt;(1:3,4:); A[<span class="selection">-1</span>]=&gt; -> 0
<br>
A=&lt;(1:3,4:); A[<span class="selection">-2</span>]=&gt; -> (3,4)
<br>
A=&lt;(1:3,4:); A[<span class="selection">-3</span>]=&gt; -> 1
<br>
・未定義の行列要素の参照不可
<br>
A=&lt;(1:3,4:); A[<span class="selection">-4</span>]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1:3,4:); A[3]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1:3,4:); A[0.3]=&gt; -> [MyErr]Invalid reference of array
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
列参照
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-col"></span>
列参照の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.76.29</span>以降、行列の列参照と<a href="#span-out-substitution-mat-col">列代入</a>を追加
<br>
・<span class="run">Ver.2.78.31</span>以降、行列の列参照と<a href="#span-out-substitution-mat-col">列代入</a>の<span class="selection">反転機能</span>を追加
<br>
・<span class="run">Ver.2.79.31</span>以降、行index=-1　⇒　<span class="condition"><a href="#span-out-FN0">Napier数e</a></span>に<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
・<span class="run">Ver.2.170.41</span>以降、列参照の[e]を<a href="#span-out-mat-empty">空行列</a>で代替可
<br>
　<span class="clear">Ver.2.747.112</span>以降、列参照と列代入の[e]を廃止
<br>
<br>
列参照
<br>
<a href="#span-out-mat">行列</a>[<span class="condition">e</span>][列index]
<br>
<a href="#span-out-vars">変数</a>[<span class="condition">e</span>][列index]
<br>
<a href="#span-out-eqns">式変数</a>[<span class="condition">e</span>][列index]=&gt;
<br>
<a href="#span-out-eqns">式変数</a>[<span class="condition">e</span>][列index](<a href="#span-out-eqns-args">arguments</a>)=&gt;
<br>
・列vectorを参照する場合、<span class="clear">2個の<a href="#span-out-BT-square">角括弧[]</a></span>で行indexに<span class="condition"><a href="#span-out-FN0">Napier数e</a></span>||<a href="#span-out-mat-empty">空行列</a>を指定する
<br>
A=(1,2:3,4); A[][0] || (1,2:3,4)[][0] -> (1:3)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][0] || (1,2:3,4)[<span class="condition">e</span>][0] -> (1:3)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][1] || (1,2:3,4)[<span class="condition">e</span>][1] -> (2:4)
<br>
・欠損要素を自動で埋める
<br>
A=(1:3,4); A[<span class="condition">e</span>][1] || (1:3,4)[<span class="condition">e</span>][1] -> (0:4)
<br>
A=(1:3,4:); A[<span class="condition">e</span>][1] || (1:3,4)[<span class="condition">e</span>][1] -> (0:4:0)
<br>
A=(1:3,4:); A[<span class="condition">e</span>][0] || (1:3,4)[<span class="condition">e</span>][0] -> (1:3:0)
<br>
・同義
<br>
get_vectorc(A,ic)=&lt;trans((trans(A))[ic]);
<br>
A=(1:3,4:); get_vectorc(=&lt;A,0) -> (1:3:0)
<br>
A=(1:3,4:); get_vectorc(=&lt;A,1) -> (0:4:0)
<br>
・未定義の行列要素の参照不可
<br>
A=(1:3,4:); get_vectorc(=&lt;A,2) -> [MyErr]Invalid reference of array
<br>
A=(1:3,4:); A[<span class="condition">e</span>][2] || (1:3,4)[<span class="condition">e</span>][2] -> [MyErr]Invalid reference of array(column)
<br>
A=(1:3,4:); A[<span class="condition">e</span>][0.3] || (1:3,4)[<span class="condition">e</span>][0.3] -> [MyErr]Invalid reference of array(column)
<br>
・列indexが負の場合、<span class="selection">反転参照</span>を定義する
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-1</span>] || (1,2:3,4)[<span class="condition">e</span>][<span class="selection">-1</span>] -> (2:4)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-2</span>] || (1,2:3,4)[<span class="condition">e</span>][<span class="selection">-2</span>] -> (1:3)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-3</span>] || (1,2:3,4)[<span class="condition">e</span>][<span class="selection">-3</span>] -> [MyErr]Invalid reference of array(column)
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
A=(1,2:3,4); trans((trans(A))[1]) || htrans((htrans(A))[1]) -> (2:4)
<br>
A=(i,2i:3i,4i); trans((trans(A))[1]) || htrans((htrans(A))[1]) -> (2i:4i)
<br>
trans((trans(1,2:3,4))[1]) || htrans((htrans(1,2:3,4))[1]) -> (2:4)
<br>
trans((trans(i,2i:3i,4i))[1]) || htrans((htrans(i,2i:3i,4i))[1]) -> (2i:4i)
<br>
・<a href="#span-out-BT">括弧</a>は<a href="#span-out-FNm">関数</a>より優先するため、<a href="#span-out-FN">関数</a>の外側を上位の<a href="#span-out-BT">括弧</a>で括る
<br>
A=(1,2:3,4); (trans(A))[1]  <span class="selection">// OK</span> -> (2,4)
<br>
(trans(1,2:3,4))[1]  <span class="selection">// OK</span> -> (2,4)
<br>
A=(1,2:3,4); trans(A)[1] || trans((A)[1])  <span class="selection">// NG</span> -> (3:4)
<br>
trans(1,2:3,4)[1] || trans((1,2:3,4)[1])  <span class="selection">// NG</span> -> (3:4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
要素参照
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-elem"></span>
要素参照の入力仕様と付随する留意事項について記述する
<br>
<br>
要素参照
<br>
<a href="#span-out-mat">行列</a>[行index][列index]
<br>
<a href="#span-out-vars">変数</a>[行index][列index]
<br>
<a href="#span-out-eqns">式変数</a>[行index][列index]=&gt;
<br>
<a href="#span-out-eqns">式変数</a>[行index][列index](<a href="#span-out-eqns-args">arguments</a>)=&gt;
<br>
・行列要素を参照する場合、<span class="clear">2個の<a href="#span-out-BT-square">角括弧[]</a></span>で行/列indexを指定する
<br>
A=(1,2:3,4); A[0][0] || (1,2:3,4)[0][0] -> 1
<br>
A=(1,2:3,4); A[0][1] || (1,2:3,4)[0][1] -> 2
<br>
A=(1,2:3,4); A[1][0] || (1,2:3,4)[1][0] -> 3
<br>
A=(1,2:3,4); A[1][1] || (1,2:3,4)[1][1] -> 4
<br>
・任意要素を演算
<br>
(1,2:3,4)[0][0]3 || 1*3 -> 3
<br>
(1)[0][0]3=(x=3) || 1*3=0 -> -3
<br>
・以降、<a href="#span-out-eqns">式変数</a>を使用
<br>
A=&lt;(1,2:3,4); A[0][0]=&gt; -> 1
<br>
A=&lt;(1,2:3,4); A[0][1]=&gt; -> 2
<br>
A=&lt;(1,2:3,4); A[1][0]=&gt; -> 3
<br>
A=&lt;(1,2:3,4); A[1][1]=&gt; -> 4
<br>
A(t)=&lt;(t,2t:3t,4t); A[0][0](-1)=&gt; || (A(-1)=&gt;)[0][0] -> -1
<br>
A(t)=&lt;(t,2t:3t,4t); A[0][1](-1)=&gt; || (A(-1)=&gt;)[0][1] -> -2
<br>
A(t)=&lt;(t,2t:3t,4t); A[1][0](-1)=&gt; || (A(-1)=&gt;)[1][0] -> -3
<br>
A(t)=&lt;(t,2t:3t,4t); A[1][1](-1)=&gt; || (A(-1)=&gt;)[1][1] -> -4
<br>
A(t)=&lt;(t,2t:3t,4t)[0]; A[0][0](-1)=&gt; || (A(-1)=&gt;)[0][0] -> -1
<br>
A(t)=&lt;(t,2t:3t,4t)[0]; A[0][1](-1)=&gt; || (A(-1)=&gt;)[0][1] -> -2
<br>
A(t)=&lt;(t,2t:3t,4t)[0]; A[1][0](-1)=&gt; || (A(-1)=&gt;)[1][0] -> [MyErr]Invalid reference of array
<br>
A(t)=&lt;(t,2t:3t,4t)[1]; A[0][0](-1)=&gt; || (A(-1)=&gt;)[0][0] -> -3
<br>
A(t)=&lt;(t,2t:3t,4t)[1]; A[0][1](-1)=&gt; || (A(-1)=&gt;)[0][1] -> -4
<br>
A(t)=&lt;(t,2t:3t,4t)[1]; A[1][0](-1)=&gt; || (A(-1)=&gt;)[1][0] -> [MyErr]Invalid reference of array
<br>
A(t)=&lt;(t,2t:3t,4t)[0][0]; A[0][0](-1)=&gt; || (A(-1)=&gt;)[0][0] -> -1
<br>
A(t)=&lt;(t,2t:3t,4t)[0][0]; A[0][1](-1)=&gt; || (A(-1)=&gt;)[0][1] -> [MyErr]Invalid reference of array
<br>
・<span class="run">Ver.2.79.31</span>以降、<span class="selection">反転参照</span>可
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-1</span>][<span class="selection">-1</span>]=&gt; -> 4
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-2</span>][<span class="selection">-2</span>]=&gt; -> 1
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-1</span>][0]=&gt; -> 3
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-2</span>][0]=&gt; -> 1
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-1</span>][1]=&gt; -> 4
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-2</span>][1]=&gt; -> 2
<br>
A=&lt;(1,2:3,4); A[0][<span class="selection">-1</span>]=&gt; -> 2
<br>
A=&lt;(1,2:3,4); A[0][<span class="selection">-2</span>]=&gt; -> 1
<br>
A=&lt;(1,2:3,4); A[1][<span class="selection">-1</span>]=&gt; -> 4
<br>
A=&lt;(1,2:3,4); A[1][<span class="selection">-2</span>]=&gt; -> 3
<br>
・未定義の行列要素の参照不可
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-3</span>][0]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[<span class="selection">-3</span>][1]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[0][<span class="selection">-3</span>]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[1][<span class="selection">-3</span>]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[0][2]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[2][0]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[0.1][0]=&gt; -> [MyErr]Invalid reference of array
<br>
A=&lt;(1,2:3,4); A[0][0.2]=&gt; -> [MyErr]Invalid reference of array
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
area参照
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-area"></span>
area参照の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.77.30</span>以降、行列のarea参照と<a href="#span-out-substitution-mat-area">area代入</a>を追加
<br>
・<span class="clear">Ver.2.77.31</span>以降、開始行/列indexが非整数の場合、<span class="clear">予期せぬerror終了</span>を修正
<br>
・<span class="clear">Ver.2.77.31</span>以降、参照行/列sizeが非整数の場合、<span class="clear">error終了</span>に修正
<br>
・<span class="run">Ver.2.78.31</span>以降、<span class="selection">反転機能の有効範囲</span>を修正
<br>
・<span class="clear">Ver.2.79.32</span>以降、参照行/列sizeが負の場合、<span class="clear">予期せぬerror終了</span>を修正
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindexを厳格化
<br>
　index：[0]　⇒　<a href="#span-out-mat-empty">空行列</a>[]（[0]指定の場合、初期化と異なり、size不正のerror終了）
<br>
<br>
area参照
<br>
<a href="#span-out-mat">行列</a>[開始行index][開始列index][参照行size][参照列size]
<br>
<a href="#span-out-vars">変数</a>[開始行index][開始列index][参照行size][参照列size]
<br>
<a href="#span-out-eqns">式変数</a>[開始行index][開始列index][参照行size][参照列size]=&gt;
<br>
<a href="#span-out-eqns">式変数</a>[開始行index][開始列index][参照行size][参照列size](<a href="#span-out-eqns-args">arguments</a>)=&gt;
<br>
・矩形範囲の行列要素を参照する場合、<span class="clear">4個の<a href="#span-out-BT-square">角括弧[]</a></span>でindex/sizeを指定する
<br>
A=(1,2:3,4:); A[0][0]<span class="clear">[][]</span> || A[0][0][sizer(A)][sizec(A)] -> (1,2:3,4:0,0)
<br>
・参照行/列size=0の場合、参照size=<a href="#span-out-FNm-size">行列size</a>
<br>
A=(1,2:3,4:); A[0][0]<span class="clear">[]</span>[1] || A[0][0][sizer(A)][1] -> (1:3:0)
<br>
A=(1,2:3,4:); A[0][0][1]<span class="clear">[]</span> || A[0][0][1][sizec(A)] -> (1,2)
<br>
・欠損要素を自動で埋める
<br>
A=(1,2:3,4:); A -> (1,2:3,4:0)
<br>
A=(1,2:3,4:); A[0][0]<span class="clear">[][]</span> || trans(trans(A)) -> (1,2:3,4:0,0)
<br>
・参照行/列sizeを指定
<br>
A=(1,2:3,4:); A[0][0][1][1] || A[0][0] -> 1
<br>
A=(1,2:3,4:); A[1][0][1][1] || A[1][0] -> 3
<br>
A=(1,2:3,4:); A[0][1][1][1] || A[0][1] -> 2
<br>
A=(1,2:3,4:); A[0][0][2][2] -> (1,2:3,4)
<br>
・周期境界条件を適用
<br>
A=(1,2:3,4:); A[0][1][2][2] -> (2,1:4,3)
<br>
A=(1,2:3,4:); A[1][1][2][2] -> (4,3:0,0)
<br>
A=(1,2:3,4:); A[1][0][2][2] -> (3,4:0,0)
<br>
A=(1,2:3,4:); A[2][0][2][2] -> (0,0:1,2)
<br>
A=(1,2:3,4:); A[2][1][2][2] -> (0,0:2,1)
<br>
A=(1,2:3,4:); A[1][0]<span class="clear">[][]</span> -> (3,4:0,0:1,2)
<br>
A=(1,2:3,4:); A[2][0]<span class="clear">[][]</span> -> (0,0:1,2:3,4)
<br>
A=(1,2:3,4:); A[0][1]<span class="clear">[][]</span> -> (2,1:4,3:0,0)
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindex=0の場合、error終了
<br>
A=(1,2:3,4:); A[0][0][0][0] || A[0][0][0][] || A[0][0][][0] -> [MyErr]Invalid reference of array(area)
<br>
・未定義の行列要素の参照不可
<br>
A=(1,2:3,4:); A[3][0]<span class="clear">[][]</span> -> [MyErr]Invalid reference of array(area)
<br>
A=(1,2:3,4:); A[0][2]<span class="clear">[][]</span> -> [MyErr]Invalid reference of array(area)
<br>
<span class="clear">A=(1,2:3,4:); A[0.1][0]<span class="clear">[][]</span> -> [MyErr]Invalid reference of array(area)</span>
<br>
<span class="clear">A=(1,2:3,4:); A[0][0.1]<span class="clear">[][]</span> -> [MyErr]Invalid reference of array(area)</span>
<br>
<span class="clear">A=(1,2:3,4:); A[0][0][0.1][0] -> [MyErr]Invalid reference of array(area)</span>
<br>
<span class="clear">A=(1,2:3,4:); A[0][0][0][0.1] -> [MyErr]Invalid reference of array(area)</span>
<br>
A=(1,2:3,4:); A[0][0][<span class="clear">-1</span>][0] -> [MyErr]Invalid reference of array(area)
<br>
A=(1,2:3,4:); A[0][0][0][<span class="clear">-1</span>] -> [MyErr]Invalid reference of array(area)
<br>
・開始行/列indexが負の場合、<span class="selection">反転参照</span>を定義する
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>]<span class="clear">[][]</span> -> (0,0:4,3:2,1)
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][0]<span class="clear">[][]</span> -> (0,0:3,4:1,2)
<br>
A=(1,2:3,4:); A[<span class="selection">-2</span>][0]<span class="clear">[][]</span> -> (3,4:1,2:0,0)
<br>
<span class="selection">A=(1,2:3,4:); A[-3][0]<span class="clear">[][]</span> -> (1,2:0,0:3,4)</span>
<br>
<span class="selection">A=(1,2:3,4:); A[-4][0]<span class="clear">[][]</span> -> [MyErr]Invalid reference of array(area)</span>
<br>
A=(1,2:3,4:); A[0][<span class="selection">-1</span>]<span class="clear">[][]</span> -> (2,1:4,3:0,0)
<br>
<span class="selection">A=(1,2:3,4:); A[0][-2]<span class="clear">[][]</span> -> (1,2:3,4:0,0)</span>
<br>
<span class="selection">A=(1,2:3,4:); A[0][-3]<span class="clear">[][]</span> -> [MyErr]Invalid reference of array(area)</span>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
band参照
<br>
入力仕様
    </th>
    <td>
<span id="span-out-reference-mat-band"></span>
band参照の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.80.32</span>以降、行列のband参照と<a href="#span-out-substitution-mat-band">band代入</a>を追加
<br>
<br>
band参照
<br>
<a href="#span-out-mat">行列</a>[帯index1][帯index2][帯index3]...
<br>
<a href="#span-out-vars">変数</a>[帯index1][帯index2][帯index3]...
<br>
<a href="#span-out-eqns">式変数</a>[帯index1][帯index2][帯index3]...=&gt;
<br>
<a href="#span-out-eqns">式変数</a>[帯index1][帯index2][帯index3]...(<a href="#span-out-eqns-args">arguments</a>)=&gt;
<br>
・帯状範囲の行列要素を参照する場合、<span class="clear">奇数個の<a href="#span-out-BT-square">角括弧[]</a></span>で対角基準の相対indexを指定する
<br>
　対角要素の場合、相対index=0
<br>
　下三角行列範囲の場合、相対index&lt;0
<br>
　上三角行列範囲の場合、相対index&gt;0
<br>
・<a href="#span-out-substitution-mat-area">area代入</a>を使用
<br>
A0=(1,2,3,4,5:6:7,,8,:9); A0 ->
<br>
(
<br>
1,2,3,4,5:
<br>
6:
<br>
7,0,8,0:
<br>
9
<br>
)
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindexを厳格化（[0]　⇒　<a href="#span-out-mat-empty">空行列</a>[]）
<br>
A=A0; A[0][0]<span class="clear">[][]</span>=A; A ->
<br>
(
<br>
1,2,3,4,5:
<br>
6,0,0,0,0:
<br>
7,0,8,0,0:
<br>
9,0,0,0,0
<br>
)
<br>
・欠損要素を自動で埋める
<br>
A=A0; A[-1][0][1] ->
<br>
(
<br>
6,1,2:
<br>
0,0,0:
<br>
0,8,0:
<br>
<span class="clear">0</span>,0,0
<br>
)
<br>
・帯状範囲の行列要素を列vectorに変換（<span class="clear">上詰めで範囲外の行列要素=0</span>）
<br>
A=A0; A[-3][-2][-1][0][0][1][2][3][4] ->
<br>
(
<br>
9,7,6,1,1,2,3,4,5:
<br>
<span class="clear">0</span>,0,0,0,0,0,0,0,<span class="clear">0</span>:
<br>
<span class="clear">0,0</span>,0,8,8,0,0,<span class="clear">0,0</span>:
<br>
<span class="clear">0,0,0</span>,0,0,0,<span class="clear">0,0,0</span>
<br>
)
<br>
A=A0; A[-3][-3][-3] ->
<br>
(
<br>
9,9,9:
<br>
<span class="clear">0,0,0</span>:
<br>
<span class="clear">0,0,0</span>:
<br>
<span class="clear">0,0,0</span>
<br>
)
<br>
A=A0; A[-1][-1][-1] ->
<br>
(
<br>
6,6,6:
<br>
0,0,0:
<br>
0,0,0:
<br>
<span class="clear">0,0,0</span>
<br>
)
<br>
A=A0; A[0][0][0] ->
<br>
(
<br>
1,1,1:
<br>
0,0,0:
<br>
8,8,8:
<br>
0,0,0
<br>
)
<br>
A=A0; A[1][1][1] ->
<br>
(
<br>
2,2,2:
<br>
0,0,0:
<br>
0,0,0:
<br>
0,0,0
<br>
)
<br>
A=A0; A[3][3][3] ->
<br>
(
<br>
4,4,4:
<br>
0,0,0:
<br>
<span class="clear">0,0,0</span>:
<br>
<span class="clear">0,0,0</span>
<br>
)
<br>
・対角要素の列vectorを<a href="#span-out-reference-mat-col">列参照</a>
<br>
A=A0; (A[-1][0][1])[<span class="condition">e</span>][1] ->
<br>
A=A0; (A[0][0][0])[<span class="condition">e</span>][0] ->
<br>
A=A0; A000=A[0][0][0]; A000[<span class="condition">e</span>][0] ->
<br>
(
<br>
1:
<br>
0:
<br>
8:
<br>
0
<br>
)
<br>
・列vectorの<a href="#span-out-FNm-size">行size</a>
<br>
A=A0; min(sizer(A),sizec(A)) -> 4
<br>
・未定義の行列要素の参照不可
<br>
A=A0; A[-4][0][0] -> [MyErr]Invalid reference of array(band)
<br>
A=A0; A[5][0][0] -> [MyErr]Invalid reference of array(band)
<br>
A=A0; A[-0.3][0][0] -> [MyErr]Invalid reference of array(band)
<br>
A=A0; A[0.3][0][0] -> [MyErr]Invalid reference of array(band)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列への代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-mat"></span>
行列への代入の入力仕様と付随する留意事項について記述する
<br>
<br>
行列への代入は<a href="#span-out-vars">変数</a>を使用する
<br>
・よって<a href="#span-out-substitution">変数への代入</a>に同義として扱う
<br>
<br>
行列への参照は<a href="#span-out-BT-square">角括弧[]</a>で指定する
<br>
<br>
行列への代入方法を列挙する
<br>
・<a href="#span-out-substitution-mat-row">行代入</a>
<br>
・<a href="#span-out-substitution-mat-col">列代入</a>
<br>
・<a href="#span-out-substitution-mat-elem">要素代入</a>
<br>
・<a href="#span-out-substitution-mat-area">area代入</a>
<br>
・<a href="#span-out-substitution-mat-band">band代入</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-mat-row"></span>
行代入の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.78.31</span>以降、行列の<a href="#span-out-reference-mat-row">行参照</a>と行代入の<span class="selection">反転機能</span>を追加
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat">行列への代入</a>の<a href="#span-out-FNm-size">行列size</a>比較を厳格化
<br>
A=(1,2:3,4); A[0]=A; A -> <del>(3,4:3,4)</del>[MyErr]Invalid store array<span class="run">[0]</span>
<br>
A=(1,2:3,4); A[0]=1 -> [MyErr]Invalid store size of array<span class="run">[0]</span>
<br>
<br>
行代入
<br>
・行vectorを代入する場合、<span class="clear">1個の<a href="#span-out-BT-square">角括弧[]</a></span>で<a href="#span-out-reference-mat-row">行index</a>を指定する
<br>
A=(,:,); A[0]=(1,2); A -> (1,2:0,0)
<br>
A=(,:,); A[1]=(1,2); A -> (0,0:1,2)
<br>
・<a href="#span-out-reference-mat-row">行参照</a>を使用
<br>
A=(1,2:3,4); A[0]=A[1]; A -> (3,4:3,4)
<br>
A=(1,2:3,4); A[1]=A[0]; A -> (1,2:1,2)
<br>
・欠損要素を自動で埋めない
<br>
A=(,:); A[0]=(1,2); A -> (1,2:0)
<br>
A=(:,); A[1]=(1,2); A -> (0:1,2)
<br>
・<a href="#span-out-reference-mat-row">行index</a>が負の場合、<span class="selection">反転代入</span>を定義する
<br>
A=(,:,); A[<span class="selection">-1</span>]=(1,2); A -> (0,0:1,2)
<br>
A=(,:,); A[<span class="selection">-2</span>]=(1,2); A -> (1,2:0,0)
<br>
・未定義の行列要素への代入不可
<br>
A=(,:,); A[<span class="selection">-3</span>]=(1,2); A -> [MyErr]Invalid reference of array
<br>
A=(,:,); A[2]=(1,2); A -> [MyErr]Invalid reference of array
<br>
A=(,:,); A[0.3]=(1,2); A -> [MyErr]Invalid reference of array
<br>
・行列を代入した場合、最終行vectorを代入
<br>
A=(1,2:3,4); A[0]=A; A -> (3,4:3,4)
<br>
A=(1,2:3,4); A[1]=A; A -> (1,2:3,4)
<br>
A=(1,2:3,4); A[1]=trans(A); A -> (1,2:2,4)
<br>
A=(1,2:3,4); A[1]=(A:A); A -> (1,2:3,4)
<br>
・<a href="#span-out-FNm-size">列size</a>の異なる代入不可
<br>
A=(1,2:3,4); A[1]=(A,A) -> [MyErr]Invalid store array
<br>
A=(1,2:3,4); A[1]=1 -> [MyErr]Invalid store array
<br>
A=(1,2:3,4); A[1]=(,,) -> [MyErr]Invalid store array
<br>
A=(1,2:3,4); A[1]=(::) -> [MyErr]Invalid store array
<br>
A=(1,2:3); A[1]=0 -> (1,2:0)
<br>
・<a href="#span-out-eqns">式変数</a>への代入不可
<br>
clear; A=&lt;(1,2:3,4); A[1]=(,) -> [MyErr]Invalid SEv-scope(A)
<br>
clear; A=&lt;(1,2:3,4); (A=&gt;)[1]=(,) || =(,)-(A=&gt;)[1] -> (-3,-4)
<br>
<br>
test caseを列挙する
<br>
A=(1,2:3,4); A[1]=A[0]; A -> (1,2:1,2)
<br>
A=(1,2:3,4); A[1]=-A[1]; A -> (1,2:-3,-4)
<br>
A=(1,2:3,4); A[1]=-2A[1]; A -> (1,2:-6,-8)
<br>
A=(1,2:3,4); A[1]=(,); A -> (1,2:0,0)
<br>
A=(1,2:3,4); w=A[1]; A[1]=A[0]; A[0]=w; A -> (3,4:1,2)
<br>
A=(1,2:); A[0]=A[1] -> [MyErr]Invalid store array
<br>
A=(1,2:); A[1]=A[0] -> [MyErr]Invalid store array
<br>
A=(1,2:); ttA=trans(trans(A)); ttA[0]=ttA[1]; ttA -> (0,0:0,0)
<br>
A=(1,2:); ttA=trans(trans(A)); ttA[1]=ttA[0]; ttA -> (1,2:1,2)
<br>
A=(1,2:,); A[0]=A[1]; A -> (0,0:0,0)
<br>
A=(1,2:,); A[1]=A[0]; A -> (1,2:1,2)
<br>
A=(1,2:3,4); A[0]=A; A -> (3,4:3,4)
<br>
A=(1,2:3,4); A[0]=(A:A(2,:,2)); A -> (6,8:3,4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
列代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-mat-col"></span>
列代入の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.76.29</span>以降、行列の<a href="#span-out-reference-mat-col">列参照</a>と列代入を追加
<br>
・<span class="run">Ver.2.78.31</span>以降、行列の<a href="#span-out-reference-mat-col">列参照</a>と列代入の<span class="selection">反転機能</span>を追加
<br>
・<span class="run">Ver.2.78.31</span>以降、<span class="clear">error判定処理</span>を分割
<br>
・<span class="run">Ver.2.79.31</span>以降、行index=-1　⇒　<span class="condition"><a href="#span-out-FN0">Napier数e</a></span>に<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
・<span class="run">Ver.2.170.41</span>以降、列代入の[e]を<a href="#span-out-mat-empty">空行列</a>で代替可
<br>
　<span class="clear">Ver.2.747.112</span>以降、列参照と列代入の[e]を廃止
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat">行列への代入</a>の<a href="#span-out-FNm-size">行列size</a>比較を厳格化
<br>
A=(1,2:3,4); A[][0]=A; A -> <del>(2,4:2,4)</del>[MyErr]Invalid store array<span class="run">[][0]</span>
<br>
A=(1,2:3,4); A[][0]=1 -> [MyErr]Invalid store size of array<span class="run">[][0]</span>
<br>
<br>
列代入
<br>
・列vectorを代入する場合、<span class="clear">2個の<a href="#span-out-BT-square">角括弧[]</a></span>で<a href="#span-out-reference-mat-col">行index</a>に<span class="condition"><a href="#span-out-FN0">Napier数e</a></span>||<a href="#span-out-mat-empty">空行列</a>を指定する
<br>
A=(,:,); A[][0]={1,2}; A -> (1,0:2,0)
<br>
A=(,:,); A[<span class="condition">e</span>][0]={1,2}; A -> (1,0:2,0)
<br>
A=(,:,); A[<span class="condition">e</span>][1]={1,2}; A -> (0,1:0,2)
<br>
・<a href="#span-out-reference-mat-col">列参照</a>を使用
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][1]=A[e][0]; A -> (1,1:3,3)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][1]=A[e][1]; A -> (1,2:3,4)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][0]=A[e][1]; A -> (2,2:4,4)
<br>
・欠損要素を自動で埋める
<br>
A=(:,); A[<span class="condition">e</span>][1]={1,2}; A -> (0,1:0,2)
<br>
A=(:,:); A[<span class="condition">e</span>][1]={1,2,3}; A -> (0,1:0,2:0,3)
<br>
A=(:,:); A[<span class="condition">e</span>][0]={1,2,3}; A -> (1,0:2,0:3,0)
<br>
・同義
<br>
set_vectorc(A,ic,vc)=&lt;[tA=trans(A),tA[ic]=trans(vc),=&lt;trans(tA)]=&gt;;
<br>
A=(:,:); A=set_vectorc(=&lt;A,0,=&lt;{1,2,3}); A -> (1,0:2,0:3,0)
<br>
A=(:,:); A=set_vectorc(=&lt;A,1,=&lt;{1,2,3}); A -> (0,1:0,2:0,3)
<br>
・未定義の行列要素への代入不可
<br>
A=(:,:); A=set_vectorc(=&lt;A,2,=&lt;{1,2,3}); A -> [MyErr]Invalid reference of array
<br>
<span class="clear">A=(:,:); A[<span class="condition">e</span>][2]={1,2,3}; A -> [MyErr]Invalid reference of array(column)</span>
<br>
<span class="clear">A=(:,:); A[<span class="condition">e</span>][0.3]={1,2,3}; A -> [MyErr]Invalid reference of array(column)</span>
<br>
・行列を代入した場合、最終列vectorを代入
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][0]=A; A -> (2,2:4,4)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][0]=(A,A(2,:,2)); A -> (4,2:8,4)
<br>
・<a href="#span-out-FNm-size">行size</a>の異なる代入不可
<br>
<span class="clear">A=(,:,); A[<span class="condition">e</span>][0]=(A:A) -> [MyErr]Invalid store array(column)</span>
<br>
<span class="clear">A=(,:,); A[<span class="condition">e</span>][0]=(1) -> [MyErr]Invalid store array(column)</span>
<br>
<span class="clear">A=(,:,); A[<span class="condition">e</span>][0]=(1,2) -> [MyErr]Invalid store array(column)</span>
<br>
<span class="clear">A=(,:,); A[<span class="condition">e</span>][0]={1,2,3} -> [MyErr]Invalid store array(column)</span>
<br>
・<a href="#span-out-reference-mat-col">列index</a>が負の場合、<span class="selection">反転代入</span>を定義する
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-1</span>]=A[e][0]; A -> (1,1:3,3)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-1</span>]=A[e][1]; A -> (1,2:3,4)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-2</span>]=A[e][1]; A -> (2,2:4,4)
<br>
A=(1,2:3,4); A[<span class="condition">e</span>][<span class="selection">-3</span>]=A[e][1]; A -> [MyErr]Invalid reference of array(column)
<br>
・<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
A=(1,2:3,4); tA=trans(A); tA[0]=-tA[0]; A=trans(tA); A -> (-1,2:-3,4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
要素代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-mat-elem"></span>
要素代入の入力仕様と付随する留意事項について記述する
<br>
<br>
要素代入
<br>
・行列要素を代入する場合、<span class="clear">2個の<a href="#span-out-BT-square">角括弧[]</a></span>で<a href="#span-out-reference-mat-elem">行/列index</a>を指定する
<br>
A=(,:); A[0][0]=1; A -> (1,0:0)
<br>
・欠損要素を自動で埋めない
<br>
A=(,:); A[0][1]=1; A -> (0,1:0)
<br>
A=(,:); A[1][0]=1; A -> (0,0:1)
<br>
A=(,:); A[1][1]=1; A -> [MyErr]Invalid reference of array
<br>
・行列を代入した場合、<a href="#span-out-FNm-last">最終要素</a>を代入
<br>
・<span class="run">Ver.2.421.88</span>以降、<a href="#span-out-substitution-mat">行列への代入</a>の<a href="#span-out-FNm-size">行列size</a>比較を厳格化
<br>
A=(1,2:3,4); A[0][0]=A; A -> <del>(4,2:3,4)</del>[MyErr]Invalid store array<span class="run">[0][0]</span>
<br>
<del>A=(1,2:3,4); A[0][0]=last(A); A -> (4,2:3,4)
<br>
A=(1,2:3,4); A[0][0]=first(A); A -> (1,2:3,4)
<br>
A=(1,2:3,4); A[1][1]=(x=2,-2x); A -> (1,2:3,-4)</del>
<br>
・<span class="run">Ver.2.79.31</span>以降、<span class="selection">反転代入</span>可
<br>
A=(1,2:3,4); A[<span class="selection">-1</span>][<span class="selection">-1</span>]=-1; A -> (1,2:3,-1)
<br>
A=(1,2:3,4); A[<span class="selection">-2</span>][<span class="selection">-2</span>]=-1; A -> (-1,2:3,4)
<br>
A=(1,2:3,4); A[<span class="selection">-1</span>][0]=-1; A -> (1,2:-1,4)
<br>
A=(1,2:3,4); A[<span class="selection">-2</span>][0]=-1; A -> (-1,2:3,4)
<br>
A=(1,2:3,4); A[<span class="selection">-1</span>][1]=-1; A -> (1,2:3,-1)
<br>
A=(1,2:3,4); A[<span class="selection">-2</span>][1]=-1; A -> (1,-1:3,4)
<br>
A=(1,2:3,4); A[0][<span class="selection">-1</span>]=-1; A -> (1,-1:3,4)
<br>
A=(1,2:3,4); A[0][<span class="selection">-2</span>]=-1; A -> (-1,2:3,4)
<br>
A=(1,2:3,4); A[1][<span class="selection">-1</span>]=-1; A -> (1,2:3,-1)
<br>
A=(1,2:3,4); A[1][<span class="selection">-2</span>]=-1; A -> (1,2:-1,4)
<br>
・未定義の行列要素への代入不可
<br>
A=(1,2:3,4); A[<span class="selection">-3</span>][0]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[<span class="selection">-3</span>][1]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[0][<span class="selection">-3</span>]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[1][<span class="selection">-3</span>]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[0][2]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[2][0]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[0.1][0]=-1 -> [MyErr]Invalid reference of array
<br>
A=(1,2:3,4); A[0][0.2]=-1 -> [MyErr]Invalid reference of array
<br>
・<a href="#span-out-eqns">式変数</a>への代入不可
<br>
clear; A=&lt;(1,2:3,4); A[1][1]=0 -> [MyErr]Invalid SEv-scope(A)
<br>
clear; A=&lt;(1,2:3,4); (A=&gt;)[1][1]=0 || =0-4 -> -4
<br>
<br>
test caseを列挙する
<br>
A=(1,2:3,4); A[0][0]=-1; A -> (-1,2:3,4)
<br>
A=(1,2:3,4); ii=1; A[ii][ii]=-1; A -> (1,2:3,-1)
<br>
A=(1,2:3,4); A[1][1]=(x=2); A -> (1,2:3,0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
area代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-mat-area"></span>
area代入の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.77.30</span>以降、行列の<a href="#span-out-reference-mat-area">area参照</a>とarea代入を追加
<br>
・<span class="clear">Ver.2.77.31</span>以降、<a href="#span-out-reference-mat-area">開始行/列index</a>が非整数の場合、<span class="clear">予期せぬerror終了</span>を修正
<br>
・<span class="run">Ver.2.78.31</span>以降、<span class="selection">反転機能の有効範囲</span>を修正
<br>
・<span class="run">Ver.2.78.31</span>以降、<span class="clear">error判定処理</span>を分割
<br>
・<span class="clear">Ver.2.79.32</span>以降、<a href="#span-out-reference-mat-area">参照行/列size</a>が負の場合、<span class="clear">error判定処理</span>を修正
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindexを厳格化
<br>
　index：[0]　⇒　<a href="#span-out-mat-empty">空行列</a>[]（[0]指定の場合、初期化と異なり、size不正のerror終了）
<br>
<br>
area代入
<br>
・矩形範囲の行列要素を代入する場合、<span class="clear">4個の<a href="#span-out-BT-square">角括弧[]</a></span>で<a href="#span-out-reference-mat-area">index/size</a>を指定する
<br>
A=(1,2:3,4:); A[0][0]<span class="clear">[][]</span>=A; A -> (1,2:3,4:0,0)
<br>
A=(1,2:3,4:); A[0][0][sizer(A)][sizec(A)]=A; A -> (1,2:3,4:0,0)
<br>
・欠損要素を自動で埋める
<br>
A=(1,2:3,4:); A=A; A -> (1,2:3,4:0)
<br>
A=(1,2:3,4:); ttA=trans(trans(A)); ttA -> (1,2:3,4:0,0)
<br>
・周期境界条件を適用
<br>
A=(1,2:3,4:); A[1][0]<span class="clear">[][]</span>=A; A -> (0,0:1,2:3,4)
<br>
A=(1,2:3,4:); A[2][0]<span class="clear">[][]</span>=A; A -> (3,4:0,0:1,2)
<br>
A=(1,2:3,4:); A[0][1]<span class="clear">[][]</span>=A; A -> (2,1:4,3:0,0)
<br>
A=(1,2:3,4:); A[0][0][2][2]=A[1][1][2][2]; A -> (4,3:0,0:0,0)
<br>
A=(1,2:3,4:); A[1][1][2][2]=A[0][0][2][2]; A -> (1,2:2,1:4,3)
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindex=0の場合、error終了
<br>
A=(1,2:3,4:); A[0][0][0][0]=1 || A[0][0][0][]=1 || A[0][0][][0]=1 -> [MyErr]Invalid reference of array(area)
<br>
・未定義の行列要素への代入不可
<br>
A=(1,2:3,4:); A[3][0]<span class="clear">[][]</span>=A; A -> [MyErr]Invalid reference of array(area)
<br>
A=(1,2:3,4:); A[0][2]<span class="clear">[][]</span>=A; A -> [MyErr]Invalid reference of array(area)
<br>
<span class="clear">A=(1,2:3,4:); A[0.1][0]<span class="clear">[][]</span>=A; A -> [MyErr]Invalid reference of array(area)</span>
<br>
<span class="clear">A=(1,2:3,4:); A[0][0.1]<span class="clear">[][]</span>=A; A -> [MyErr]Invalid reference of array(area)</span>
<br>
A=(1,2:3,4:); A[0][0][0.1]<span class="clear">[]</span>=A; A -> [MyErr]Invalid reference of array(area)
<br>
A=(1,2:3,4:); A[0][0]<span class="clear">[]</span>[0.1]=A; A -> [MyErr]Invalid reference of array(area)
<br>
<span class="clear">A=(1,2:3,4:); A[0][0][5][5]=A; A -> [MyErr]Invalid reference of array(area)</span>
<br>
<span class="clear">A=(1,2:3,4:); A[0][0][2][2]=A; A -> [MyErr]Invalid store array(area)</span>
<br>
A=(1,2:3,4:); A[0][0][<span class="clear">-1</span>]<span class="clear">[]</span>=A; A -> <span class="clear">[MyErr]Invalid reference of array(area)</span>
<br>
A=(1,2:3,4:); A[0][0]<span class="clear">[]</span>[<span class="clear">-1</span>]=A; A -> <span class="clear">[MyErr]Invalid reference of array(area)</span>
<br>
・<a href="#span-out-reference-mat-area">開始行/列index</a>が負の場合、<span class="selection">反転代入</span>を定義する
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>]<span class="clear">[][]</span>=A; A -> (0,0:4,3:2,1)
<br>
・上下反転
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][0]<span class="clear">[][]</span>=A; A -> (0,0:3,4:1,2)
<br>
A=(1,2:3,4:); A[<span class="selection">-2</span>][0]<span class="clear">[][]</span>=A; A -> (3,4:1,2:0,0)
<br>
<span class="selection">A=(1,2:3,4:); A[-3][0]<span class="clear">[][]</span>=A; A -> (1,2:0,0:3,4)</span>
<br>
<span class="selection">A=(1,2:3,4:); A[-4][0]<span class="clear">[][]</span>=A; A -> [MyErr]Invalid reference of array(area)</span>
<br>
・左右反転
<br>
A=(1,2:3,4:); A[0][<span class="selection">-1</span>]<span class="clear">[][]</span>=A; A -> (2,1:4,3:0,0)
<br>
<span class="selection">A=(1,2:3,4:); A[0][-2]<span class="clear">[][]</span>=A; A -> (1,2:3,4:0,0)</span>
<br>
<span class="selection">A=(1,2:3,4:); A[0][-3]<span class="clear">[][]</span>=A; A -> [MyErr]Invalid reference of array(area)</span>
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindexを厳格化（[0]　⇒　<a href="#span-out-mat-empty">空行列</a>[]）
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>]<span class="clear">[][]</span>=A[-1][-1][0][0]; A -> <del>(1,2:3,4:0,0)</del>[MyErr]Invalid reference of array(area)
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>]<span class="clear">[][]</span>=A[-1][-1]<span class="clear">[][]</span>; A -> (1,2:3,4:0,0)
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>][2][2]=A[-1][-1][2][2]; A -> (1,2:3,4:0,0)
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>][2][2]=A[0][0][2][2]; A -> (1,2:4,3:2,1)
<br>
A=(1,2:3,4:); A[<span class="selection">-1</span>][<span class="selection">-1</span>][2][2]=A[1][1][2][2]; A -> (1,2:0,0:3,4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
band代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-mat-band"></span>
band代入の入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.80.32</span>以降、行列の<a href="#span-out-reference-mat-band">band参照</a>とband代入を追加
<br>
<br>
band代入
<br>
・帯状範囲の行列要素を代入する場合、<span class="clear">奇数個の<a href="#span-out-BT-square">角括弧[]</a></span>で<a href="#span-out-reference-mat-band">対角基準の相対index</a>を指定する
<br>
A0=zeros(4,4); A0=(A0,0); A0 ->
<br>
(
<br>
0,0,0,0,0:
<br>
0,0,0,0:
<br>
0,0,0,0:
<br>
0,0,0,0
<br>
)
<br>
・欠損要素を自動で埋める
<br>
A=A0; A[-1][0][1]=(1,2,3); A ->
<br>
(
<br>
2,3,0,0,0:
<br>
1,2,3,0,0:
<br>
0,1,2,3,0:
<br>
0,0,1,2,3
<br>
)
<br>
A=A0; A[-1][0][1]=(1,2,3); A[-1][0][1]=A[-1][0][1]; A ->
<br>
(
<br>
2,3,0,0,0:
<br>
1,2,3,0,0:
<br>
0,1,2,3,0:
<br>
0,0,1,2,3
<br>
)
<br>
・相対index固定の場合、後要素で上書き
<br>
A=A0; A[0][0][0]=(1,2,3); A ->
<br>
(
<br>
3,0,0,0,0:
<br>
0,3,0,0,0:
<br>
0,0,3,0,0:
<br>
0,0,0,3,0
<br>
)
<br>
・<a href="#span-out-reference-mat-band">band参照</a>で相対indexを交換する場合、意図とは異なる可能性あり
<br>
A=A0; A[-1][0][1]=(1,2,3); A[-1][0][1]=A[1][0][-1]; A ->
<br>
A=A0; A[-1][0][1]=(1,2,3); A[1][0][-1]=A[-1][0][1]; A ->
<br>
(
<br>
2,1,0,0,0:
<br>
3,2,1,0,0:
<br>
0,3,2,1,0:
<br>
0,0,3,2,<span class="clear">0</span>
<br>
)
<br>
・3重帯行列
<br>
A=A0; A[-2][0][2]=(1,2,3); A ->
<br>
(
<br>
2,0,3,0,0:
<br>
0,2,0,3,0:
<br>
1,0,2,0,3:
<br>
0,1,0,2,0
<br>
)
<br>
A=A0; A[-3][0][3]=(1,2,3); A ->
<br>
(
<br>
2,0,0,3,0:
<br>
0,2,0,0,3:
<br>
0,0,2,0,0:
<br>
1,0,0,2,0
<br>
)
<br>
A=A0; A[-3][0][4]=(1,2,3); A ->
<br>
(
<br>
2,0,0,0,3:
<br>
0,2,0,0,0:
<br>
0,0,2,0,0:
<br>
1,0,0,2,0
<br>
)
<br>
・複数行の代入
<br>
A=A0; A[-1][0][1]=(1,2,3:4,5,6); A ->
<br>
(
<br>
2,3,0,0,0:
<br>
1,5,6,0,0:
<br>
0,4,5,6,0:
<br>
0,0,4,5,6
<br>
)
<br>
A=A0; A[-1][0][1]=(1,2,3:4,5,6:7,8,9); A ->
<br>
(
<br>
2,3,0,0,0:
<br>
1,5,6,0,0:
<br>
0,4,8,9,0:
<br>
0,0,7,8,9
<br>
)
<br>
A=A0; A[-1][0][1]=(1,2,3:4,5,6:7,8,9:10,11,12); A ->
<br>
(
<br>
2,3,0,0,0:
<br>
1,5,6,0,0:
<br>
0,4,8,9,0:
<br>
0,0,7,11,12
<br>
)
<br>
A=A0; A[-1][0][1]=(1,2,3:4,5,6:7,8,9:10,11,12:13,14,15); A ->
<br>
(
<br>
2,3,0,0,0:
<br>
1,5,6,0,0:
<br>
0,4,8,9,0:
<br>
0,0,7,11,12
<br>
)
<br>
A=A0; A[-2][0][2]=(1,2,3:4,5,6:7,8,9:10,11,12:13,14,15); A ->
<br>
(
<br>
2,0,3,0,0:
<br>
0,5,0,6,0:
<br>
1,0,8,0,9:
<br>
0,4,0,11,0
<br>
)
<br>
A=A0; A[-3][0][3]=(1,2,3:4,5,6:7,8,9:10,11,12:13,14,15); A ->
<br>
(
<br>
2,0,0,3,0:
<br>
0,5,0,0,6:
<br>
0,0,8,0,0:
<br>
1,0,0,11,0
<br>
)
<br>
A=A0; A[-3][0][4]=(1,2,3:4,5,6:7,8,9:10,11,12:13,14,15); A ->
<br>
(
<br>
2,0,0,0,3:
<br>
0,5,0,0,0:
<br>
0,0,8,0,0:
<br>
1,0,0,11,0
<br>
)
<br>
・5重帯行列
<br>
A=A0; A[-2][-1][0][1][2]=(1,2,3,4,5); A ->
<br>
(
<br>
3,4,5,0,0:
<br>
2,3,4,5,0:
<br>
1,2,3,4,5:
<br>
0,1,2,3,4
<br>
)
<br>
・任意行列
<br>
A=A0; A[-2][-1][0][1][2]=(1,2,3,4,5:6,7,8,9,10:); A ->
<br>
(
<br>
3,4,5,0,0:
<br>
2,8,9,10,0:
<br>
1,7,0,0,0:
<br>
0,6,0,0,0
<br>
)
<br>
・未定義の行列要素への代入不可
<br>
A=A0; A[-4][0][0]=(1,2,3) -> [MyErr]Invalid reference of array(band)
<br>
A=A0; A[0][0][5]=(1,2,3) -> [MyErr]Invalid reference of array(band)
<br>
A=A0; A[0.3][0][0]=(1,2,3) -> [MyErr]Invalid reference of array(band)
<br>
・<a href="#span-out-FNm-size">列size</a>の異なる代入不可
<br>
A=A0; A[0][0][0]=1 -> [MyErr]Invalid store array(band)
<br>
A=A0; A[0][0][0]=(1,2) -> [MyErr]Invalid store array(band)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列結合
<br>
入力仕様
    </th>
    <td>
<span id="span-out-concatenation"></span>
行列結合の入力仕様と付随する留意事項について記述する
<br>
<br>
vectorの結合
<br>
((1,2),(3,4)) -> (1,2,3,4)
<br>
x=(1,2); y=(3,4); (x,y) -> (1,2,3,4)
<br>
A=(1,2:3,4); (A[0],A[1]) -> (1,2,3,4)
<br>
(vector4c,vector4c,vector4c) -> (0,0,0:0,0,0:0,0,0:0,0,0)
<br>
・<a href="#span-out-SR">区切り文字</a>の左から順に結合する
<br>
((1,2),{3,4},{3,4,5}) -> (1,2,3,3:0,0,4,4:0,0,0,5)
<br>
((1,2:),{3,4},{3,4,5}) -> (1,2,3,3:0,0,4,4:0,0,0,5)
<br>
((1,2:,),{3,4},{3,4,5}) -> (1,2,3,3:0,0,4,4:0,0,0,5)
<br>
((1,2:,:,),{3,4},{3,4,5}) -> (1,2,3,3:0,0,4,4:0,0,0,5)
<br>
((1,2:,:,),{3,4,},{3,4,5}) -> (1,2,3,3:0,0,4,4:0,0,0,5)
<br>
<br>
行列の結合
<br>
((1,2:5,6),(3,4:7,8):{-1,-5:-2,-6},{-3,-7:-4,-8})
<br>
-> (1,2,3,4:5,6,7,8:-1,-2,-3,-4:-5,-6,-7,-8)
<br>
(zeros2,zeros2:zeros2,zeros2) -> (0,0,0,0:0,0,0,0:0,0,0,0:0,0,0,0)
<br>
・<a href="#span-out-vars">変数</a>を使用
<br>
mat00=(1,2:5,6);
<br>
mat01=(3,4:7,8);
<br>
mat10={-1,-5:-2,-6};
<br>
mat11={-3,-7:-4,-8};
<br>
mat=(mat00,mat01:mat10,mat11);
<br>
mat -> (1,2,3,4:5,6,7,8:-1,-2,-3,-4:-5,-6,-7,-8)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
irregular
<br>
行列
<br>
入力仕様
    </th>
    <td>
<span id="span-out-concatenation-irregular"></span>
irregular行列の入力仕様と付随する留意事項について記述する
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-concatenation">行列結合</a>で<a href="#span-out-mat-blank">欠損要素</a>を埋めない（<span class="clear">挙動を明確化</span>）
<br>
<br>
列指定のirregular行列
<br>
{1:2:3,4} -> (1,2,3:<del class="clear">0,0,</del>4)
<br>
{1:2,3} -> (1,2:<del class="clear">0,</del>3)
<br>
{1:2,,3} -> (1,2:<del class="clear">0,</del>0:<del class="clear">0,</del>3)
<br>
{1,2:3,,,4} -> (1,3:2,0:<del class="clear">0,</del>0:<del class="clear">0,</del>4)
<br>
{1,,,2:3,4:5,,,,,6} -> (1,3,5:0,4,0:0,<del class="clear">0,</del>0:2,<del class="clear">0,</del>0:<del class="clear">0,0,</del>0:<del class="clear">0,0,</del>6)
<br>
<br>
行指定のirregular行列
<br>
A=(11:21,22:31,32,33,34); A -> (11:21,22:31,32,33,34)
<br>
tA={11:21,22:31,32,33,34}; tA -> (11,21,31:<del class="clear">0,</del>22,32:<del class="clear">0,0,</del>33:<del class="clear">0,0,</del>34)
<br>
・行指定の行列で欠損要素がある場合、<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
A=(11:21,22:31,32,33,34); trans(trans(A)) -> (11,0,0,0:21,22,0,0:31,32,33,34)
<br>
A=(11:21,22:31,32,33,34); htrans(htrans(A)) -> (11,0,0,0:21,22,0,0:31,32,33,34)
<br>
・<a href="#span-in-tree">単位tree構造</a>の仕様上、行vectorの欠損要素を自動で埋めない
<br>
(1,2:3),(1,2:3) ->
<br>
(
<br>
1,2,1,2:
<br>
3,3
<br>
)
<br>
(1:3,4),(1:3,4) ->
<br>
(
<br>
1,1:
<br>
3,4,3,4
<br>
)
<br>
{1,2:3},{1,2:3} ->
<br>
(
<br>
1,3,1,3:
<br>
2,2
<br>
)
<br>
{1:3,4},{1:3,4} ->
<br>
(
<br>
1,3,1,3:
<br>
<del class="clear">0,</del>4,<del class="clear">0,</del>4
<br>
)
<br>
<br>
多重列挙の結合
<br>
{(1,2),(3:4)} -> (1,2:3:4)
<br>
{(1,2):(3:4)} -> (1,2,3:<del class="clear">0,0,</del>4)
<br>
(1,{2,3}) -> (1,2:<del class="clear">0,</del>3)
<br>
(1,(2:3),4) -> (1,2,4:<del class="clear">0,</del>3)
<br>
(1,{2,(3,{4,5})}) -> (1,2:<del class="clear">0,</del>3,4:<del class="clear">0,0,</del>5)
<br>
(1,{2:3},4) -> (1,2,3,4)
<br>
{1,{2:3},4} -> (1:2,3:4)
<br>
{1,(2:3),4} -> (1:2:3:4)
<br>
<br>
irregular行列の結合
<br>
{1,2:3},{1,2:3} -> (1,3,1,3:2,2)
<br>
(1,2),{3,4:5:6,7:8} -> (1,2,3,5,6,8:<del class="clear">0,0,</del>4,<del class="clear">0,</del>7)
<br>
(1,2),{3,4:5:6,7:8,9,10} -> (1,2,3,5,6,8:<del class="clear">0,0,</del>4,<del class="clear">0,</del>7,9:<del class="clear">0,0,0,0,0,</del>10)
<br>
(1,2),{3,4:5:6,7:8,(9,10)} -> (1,2,3,5,6,8:<del class="clear">0,0,</del>4,<del class="clear">0,</del>7,9,10)
<br>
(1,(2,3):({4,5}),6,{7,8,(9,10)}) ->
<br>
(
<br>
1,2,3:
<br>
4,6,7:
<br>
5,<del class="clear">0,</del>8:
<br>
<del class="clear">0,0,</del>9,10
<br>
)
<br>
<del class="clear">・複雑なnestingは意図とは異なる可能性あり</del>
<br>
{1,(<span class="selection">2,3,4</span>),2:{<span class="condition">3,4,5</span>}:{6,,,,,7}} ->
<br>
(
<br>
1,<span class="condition">3</span>,6:
<br>
<span class="selection">2,3,4</span>,<span class="condition">4</span>,0:
<br>
2,<span class="condition">5</span>,0:
<br>
<del class="clear">0,0,</del>0:
<br>
<del class="clear">0,0,</del>0:
<br>
<del class="clear">0,0,</del>7
<br>
)
<br>
A=(1,{2,3,4,5},(6,7,{8,9}):({10,11}),12,{13,14,(15,16,{17,18})}); A ->
<br>
(
<br>
1,2,6,7,8:
<br>
<del class="clear">0,</del>3,<del class="clear">0,0,</del>9:
<br>
<del class="clear">0,</del>4:
<br>
<del class="clear">0,</del>5:
<br>
10,12,13:
<br>
11,<del class="clear">0,</del>14:
<br>
<del class="clear">0,0,</del>15,16,17:
<br>
<del class="clear">0,0,0,0,</del>18
<br>
)
<br>
ttA=trans(trans(A)); ttA ->
<br>
(
<br>
1,2,6,7,8:
<br>
<del class="clear">0,</del>3,<del class="clear">0,0,</del>9<span class="clear">,0,0,0</span>:
<br>
<del class="clear">0,</del>4<span class="clear">,0,0,0,0</span>:
<br>
<del class="clear">0,</del>5<span class="clear">,0,0,0,0</span>:
<br>
10,12,13<span class="clear">,0,0</span>:
<br>
11,<del class="clear">0,</del>14<span class="clear">,0,0,0</span>:
<br>
<del class="clear">0,0,</del>15,16,17<span class="clear">,0,0</span>:
<br>
<del class="clear">0,0,0,0,</del>18<span class="clear">,0,0,0,0</span>
<br>
)
<br>
A-ttA ->
<br>
(
<br>
0,0,0,0,0:
<br>
0,0,0,0,0:
<br>
0,0,0,0,0:
<br>
0,0,0,0,0:
<br>
0,0,0,0,0:
<br>
0,0,0,0,0:
<br>
0,0,0,0,0:
<br>
0,0,0,0,0
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
特殊仕様
<br>
行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmspecial-spec"></span>
特殊仕様行列関数の入力仕様と付随する留意事項について記述する
<br>
<br>
回転行列
<br>
・<a href="#span-out-Euclid">右手系</a>の<a href="#span-out-orthogonal">直交座標系</a>の各軸周りの回転行列を演算して返す
<br>
・返値の回転行列は引数の<a href="#span-out-error">誤差情報</a>を継承しない
<br>
<br>
rotationx(第1引数)
<br>
rotationy(第1引数)
<br>
rotationz(第1引数)
<br>
・第1引数: Euler角の弧度数実数値radを値渡し
<br>
<br>
test caseを列挙する
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationx(pi/4) ->
<br>
(1.4142135623730951,0,0:
<br>
0,1.0000000000000002,-1:
<br>
0,1,1.0000000000000002)
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationx(-pi/4) ->
<br>
(1.4142135623730951,0,0:
<br>
0,1.0000000000000002,1:
<br>
0,-1,1.0000000000000002)
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationy(pi/4) ->
<br>
(1.0000000000000002,0,1:
<br>
0,1.4142135623730951,0:
<br>
-1,0,1.0000000000000002)
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationy(-pi/4) ->
<br>
(1.0000000000000002,0,-1:
<br>
0,1.4142135623730951,0:
<br>
1,0,1.0000000000000002)
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationz(pi/4) ->
<br>
(1.0000000000000002,-1,0:
<br>
1,1.0000000000000002,0:
<br>
0,0,1.4142135623730951)
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationz(-pi/4) ->
<br>
(1.0000000000000002,1,0:
<br>
-1,1.0000000000000002,0:
<br>
0,0,1.4142135623730951)
<br>
t=_dx(=&lt;{x},1,1)pi/4+1000i; t
<br>
-> infoLost[ i] 0.7853981633974194+1000i+O(8e-13+8e-13i)
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotationx(t) ->
<br>
(1.4142135623730951,0,0:
<br>
0,1.0000000000000289,-0.9999999999999711:
<br>
0,0.9999999999999711,1.0000000000000289)
<br>
<br>
回転行列の引数の<a href="#span-out-error">誤差情報</a>を継承する場合
<br>
t=_dx(=&lt;{x},1,1)pi/4+1000i;
<br>
rt=real(t); rt -> infoLost[ i] 0.7853981633974194+O(8e-13)
<br>
rotx=&lt;(1,0,0:0,cos(rt),-sin(rt):0,sin(rt),cos(rt));
<br>
rotx ->
<br>
(1,0,0:
<br>
0,infoLost[ i] 0.7071067811865679+O(6e-13),
<br>
infoLost[ i] -0.707106781186527+O(6e-13):
<br>
0,infoLost[ i] 0.707106781186527+O(6e-13),
<br>
infoLost[ i] 0.7071067811865679+O(6e-13))
<br>
・一続きにまとめる場合
<br>
t=_dx(=&lt;{x},1,1)pi/4+1000i;
<br>
rotx=&lt;{rt=real(t),=&lt;(1,0,0:0,cos(rt),-sin(rt):0,sin(rt),cos(rt))}=&gt;;
<br>
(sqrt2,,:,sqrt2,:,,sqrt2)rotx ->
<br>
(1.4142135623730951,infoLost[ i] 0,infoLost[ i] 0:
<br>
0,infoLost[ i] 1.0000000000000289+O(8e-13),
<br>
infoLost[ i] -0.9999999999999711+O(8e-13):
<br>
0,infoLost[ i] 0.9999999999999711+O(8e-13),
<br>
infoLost[ i] 1.0000000000000289+O(8e-13))
<br>
<br>
回転行列を<a href="#span-out-eqns">式変数</a>で定義する場合
<br>
・各軸x/y/zに対するEuler角をphi/theta/psiとする
<br>
rotx=&lt;{rt=real(phi),=&lt;(1,,:,cos(rt),-sin(rt):,sin(rt),cos(rt))}=&gt;;
<br>
roty=&lt;{rt=real(theta),=&lt;(cos(rt),,sin(rt):,1,:-sin(rt),,cos(rt))}=&gt;;
<br>
rotz=&lt;{rt=real(psi),=&lt;(cos(rt),-sin(rt),:sin(rt),cos(rt),:,,1)}=&gt;;
<br>
phi=pi/5; rotx-rotationx(phi) -> (0,0,0:0,0,0:0,0,0)
<br>
theta=pi/5; roty-rotationy(theta) -> (0,0,0:0,0,0:0,0,0)
<br>
psi=pi/5; rotz-rotationz(psi) -> (0,0,0:0,0,0:0,0,0)
<br>
<br>
回転行列の一般化
<br>
・関数を使用する場合
<br>
rotx=&lt;{rotationx(phi)};
<br>
roty=&lt;{rotationy(theta)};
<br>
rotz=&lt;{rotationz(psi)};
<br>
・<a href="#span-out-eqns">式変数</a>で定義する場合
<br>
rotx=&lt;{rt=real(phi),=&lt;(1,,:,cos(rt),-sin(rt):,sin(rt),cos(rt))}=&gt;;
<br>
roty=&lt;{rt=real(theta),=&lt;(cos(rt),,sin(rt):,1,:-sin(rt),,cos(rt))}=&gt;;
<br>
rotz=&lt;{rt=real(psi),=&lt;(cos(rt),-sin(rt),:sin(rt),cos(rt),:,,1)}=&gt;;
<br>
・一般化した回転行列rot_は対象行列mat||列vectorの左から演算する
<br>
mat_after=rot_*mat_before
<br>
{$x_after,$y_after,$z_after}=rot_*{x_before,y_before,z_before}
<br>
・よって回転順序は回転行列並び順の逆順となる
<br>
・回転順序x⇒y⇒z
<br>
rot_zyx=&lt;{rotz*roty*rotx};
<br>
phi=pi/4; theta=3pi/4; psi=-3pi/4;
<br>
ans_zyx=rot_zyx; ans_zyx ->
<br>
(0.4999999999999999,0.14644660940672638,-0.8535533905932737:
<br>
0.5,-0.8535533905932737,0.14644660940672605:
<br>
-0.7071067811865476,-0.4999999999999999,-0.5)
<br>
・回転順序z⇒y⇒x
<br>
rot_xyz=&lt;{rotx*roty*rotz};
<br>
phi=-pi/4; theta=-3pi/4; psi=3pi/4;
<br>
ans_xyz=rot_xyz; ans_xyz ->
<br>
(0.4999999999999999,0.5,-0.7071067811865476:
<br>
0.14644660940672638,-0.8535533905932737,-0.4999999999999999:
<br>
-0.8535533905932737,0.14644660940672605,-0.5)
<br>
・回転の逆回転を順序通りに記憶して演算すると単位行列に戻る
<br>
rot_xyz*rot_zyx  <span class="selection">// NG</span> -> ...
<br>
ans_xyz*ans_zyx ->
<br>
(1,5.551115123125783e-17,5.551115123125783e-17:
<br>
5.551115123125783e-17,0.9999999999999999,0:
<br>
5.551115123125783e-17,0,0.9999999999999999)
<br>
ans_zyx*ans_xyz ->
<br>
(0.9999999999999999,0,-5.551115123125783e-17:
<br>
0,0.9999999999999999,-5.551115123125783e-17:
<br>
-5.551115123125783e-17,-5.551115123125783e-17,1)
<br>
・回転順序y⇒x⇒z
<br>
rot_zxy=&lt;{rotz*rotx*roty};
<br>
phi=pi/4; theta=3pi/4; psi=-3pi/4;
<br>
ans_zxy=rot_zxy; ans_zxy ->
<br>
(0.8535533905932737,0.5000000000000001,-0.14644660940672627:
<br>
0.14644660940672627,-0.5,-0.8535533905932737:
<br>
-0.5000000000000001,0.7071067811865475,-0.5)
<br>
・回転順序z⇒x⇒y
<br>
rot_yxz=&lt;{roty*rotx*rotz};
<br>
phi=-pi/4; theta=-3pi/4; psi=3pi/4;
<br>
ans_yxz=rot_yxz; ans_yxz ->
<br>
(0.8535533905932737,0.14644660940672627,-0.5000000000000001:
<br>
0.5000000000000001,-0.5,0.7071067811865475:
<br>
-0.14644660940672627,-0.8535533905932737,-0.5)
<br>
・同じく回転の逆回転を順序通りに記憶して演算すると単位行列に戻る
<br>
ans_yxz*ans_zxy ->
<br>
(1,5.551115123125783e-17,0:5.551115123125783e-17,1,0:0,0,1)
<br>
ans_zxy*ans_yxz ->
<br>
(1,0,-5.551115123125783e-17:0,1,0:-5.551115123125783e-17,0,1)
<br>
<br>
3D-graphicsで主流の<a href="#span-out-Euclid">左手系</a>
<br>
rotx_LHS=&lt;{rt=real(phi),=&lt;(1,,:,cos(rt),sin(rt):,-sin(rt),cos(rt))}=&gt;;
<br>
roty_LHS=&lt;{rt=real(theta),=&lt;(cos(rt),,-sin(rt):,1,:sin(rt),,cos(rt))}=&gt;;
<br>
rotz_LHS=&lt;{rt=real(psi),=&lt;(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)}=&gt;;
<br>
・同義
<br>
rotx_LHS=&lt;{w=phi,phi=-phi,ret=rotx,phi=w,=&lt;ret}=&gt;;
<br>
roty_LHS=&lt;{w=theta,theta=-theta,ret=roty,theta=w,=&lt;ret}=&gt;;
<br>
rotz_LHS=&lt;{w=psi,psi=-psi,ret=rotz,psi=w,=&lt;ret}=&gt;;
<br>
・test caseを示す
<br>
phi=pi/4;
<br>
rotx ->
<br>
(
<br>
1,0,0:
<br>
0,0.7071067811865476,-0.7071067811865475:
<br>
0,0.7071067811865475,0.7071067811865476
<br>
)
<br>
rotx_LHS ->
<br>
(
<br>
1,0,0:
<br>
0,0.7071067811865476,0.7071067811865475:
<br>
0,-0.7071067811865475,0.7071067811865476
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-vars"></span>
変数の入力仕様と付随する留意事項について記述する
<br>
<br>
変数への代入・再代入方法は、変数名=代入値とする
<br>
x=2; x -> 2
<br>
・漸化式を記述するため、再代入を許容する
<br>
x=2; x=4; x -> 4
<br>
x=2; x=2x; x -> 4
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数への
<br>
代入規則
    </th>
    <td>
<span id="span-out-vars-rule1"></span>
変数への代入規則と付随する留意事項について記述する
<br>
<br>
変数への代入規則を列挙する
<br>
・代入する変数の左側に数値や演算子を置けない
<br>
clear; 2x=3 -> [MyErr]Invalid ans isFound
<br>
clear; 3+x=4 -> [MyErr]Invalid binary operation
<br>
・値のみ代入可
<br>
clear; x=1; x -> 1
<br>
clear; x=(1,2); x -> (1,2)
<br>
clear; a=1; b=2; c=a+b; c -> 3
<br>
・複数の変数に多重代入不可
<br>
clear; a=b=1 -> [MyErr]Invalid ans isFound
<br>
・未定義変数の代入不可
<br>
clear; a=1; c=a+b; c -> [MyErr]Invalid binary operation
<br>
clear; x=y(z) -> [MyErr]Invalid ans isFound
<br>
・未定義変数を含む場合、<a href="#span-out-eqns">式変数</a>を使用
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数の
<br>
命名規則
    </th>
    <td>
<span id="span-out-vars-rule2"></span>
変数の命名規則と付随する留意事項について記述する
<br>
<br>
変数の命名規則を列挙する
<br>
・大文字と小文字を区別する
<br>
x=1; X=2; x+X -> 3
<br>
・変数名の後に続く数字は変数名に含まれる
<br>
x0=1; x1=2; x0+x1 -> 3
<br>
・<a href="#span-out-FNspecial-spec">特殊仕様関数</a>は関数名の後に続く数字が引数に含まれる
<br>
sort000(1) -> 1
<br>
sort000=1 -> [MyErr]Invalid ans isFound
<br>
sort0x33=1; sort0x33 -> 1
<br>
・<span class="clear">ASCII文字（code-point&lt;128）</span>の全角は半角に変換される　<span class="clear">Ver.2.869.162</span>以降、訂正
<br>
Ｘ＝３；X -> 3
<br>
・Multi-Byte文字を使用可
<br>
番号=1; 番号 -> 1
<br>
・<a href="#span-out-RW">予約語</a>は使用不可
<br>
max=3 -> [MyErr]Invalid ans isFound
<br>
・<span class="clear">Ver.2.27.15</span>以降、$から開始不可
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
<br>
<del>$a=1 -> [MyErr]Invalid <del>SEe</del>symbol(a)</del>
<br>
$a=1; a -> 1
<br>
$$a=1 -> [MyErr]Invalid symbol
<br>
・数字から開始不可
<br>
clear; 2x=4 -> [MyErr]Invalid ans isFound
<br>
・single||double quotation mark使用不可
<br>
<del>' || " || '' || "" -> [MyErr]Invalid null string
<br>
"x"=2; "x" || x -> 2
<br>
""=2 || =2 -> 2</del>
<br>
・<span class="run">Ver.2.165.39</span>以降、<a href="#span-out-RW">reserved token</a>記号の単体使用不可
<br>
. -> [MyErr]reserved token(.)
<br>
' -> [MyErr]reserved token(')
<br>
" -> [MyErr]reserved token(")
<br>
"x" -> [MyErr]reserved token(")
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
escape記号
<br>
入力仕様
    </th>
    <td>
<span id="span-out-vars-escape"></span>
escape記号と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.301.72</span>以降、$記号を<a href="#span-out-RW">予約語</a>に追加（<a href="#span-out-vars-symbol">変数名symbol</a>に使用不可）
<br>
・<span class="run">Ver.2.232.56</span>以降、symbol表記に統一
<br>
・<span class="run">Ver.2.246.57</span>以降、<a href="#span-out-pass-by-name">name渡し</a>に対応
<br>
・<span class="run">Ver.2.248.57</span>以降、$$開始の場合、<a href="#span-out-flow">parse</a>段階でerror終了
<br>
・<span class="run">Ver.2.248.57</span>以降、dummy　⇒　symbol
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
<br>
<br>
test caseを列挙する
<br>
$ -> [MyErr]Invalid null string($)
<br>
$x -> [MyErr]Invalid REv($x)
<br>
$$x || $$$x ->  [MyErr]Invalid symbol
<br>
$max || $$max || $$$max ->  [MyErr]Invalid symbol
<br>
・<span class="clear">Ver.2.30.16</span>以降、<a href="#span-out-RW">予約語</a>への代入不可
<br>
clear; ($max)=(2) -> [MyErr]Invalid symbol
<br>
clear; $0xf -> [MyErr]Invalid symbol
<br>
clear; ($0xf)=1 -> [MyErr]Invalid symbol
<br>
・<a href="#span-out-matching">行列要素pattern matching</a>
<br>
($$a)=1 -> [MyErr]Invalid symbol
<br>
($$$a)=1 -> [MyErr]Invalid symbol
<br>
・<a href="#span-out-FNh">高階関数</a>
<br>
_s$n(=&lt;{0},1,2) -> [MyErr]Invalid ans isFound
<br>
_s$$n(=&lt;{0},1,2) -> [MyErr]Invalid ans isFound
<br>
・<a href="#span-out-FNmh">高階行列関数</a>
<br>
_ex(=&lt;{$$x},2,2) -> [MyErr]Invalid symbol
<br>
_e$x(=&lt;{x},2,2) -> [MyErr]Invalid ans isFound
<br>
_e$$x(=&lt;{x},2,2) -> [MyErr]Invalid symbol
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数名
<br>
symbol
<br>
入力仕様
    </th>
    <td>
<span id="span-out-vars-symbol"></span>
変数名symbolの入力仕様と付随する留意事項について記述する
<br>
<br>
変数名symbolと表記するcaseを列挙する
<br>
・<a href="#span-out-plot2d-command">plot2d-command</a>の引数に変数名を渡す場合
<br>
・<a href="#span-out-FNc">最上位関数</a>の引数に変数名を渡す場合
<br>
・<a href="#span-out-FNh">高階関数</a>の引数に変数名を<a href="#span-out-pass-by-equation">式渡し</a>で渡す場合
<br>
・<a href="#span-out-FNmh">高階行列関数</a>の引数に変数名を<a href="#span-out-pass-by-equation">式渡し</a>で渡す場合
<br>
・<a href="#span-out-FNmh-EX">symbolic高階行列関数</a>の代入する<a href="#span-out-eqns">式変数</a>に変数名を渡す場合
<br>
<br>
変数名symbolの<a href="#span-out-pass-by-equation">式渡し</a>が不要なcaseを列挙する
<br>
・<a href="#span-out-BT">括弧</a>より関数優先の場合
<br>
<br>
変数名symbolの<a href="#span-out-pass-by-equation">式渡し</a>（<a href="#span-out-FNh">高階関数</a>の引数）について
<br>
・単体で渡す場合、<a href="#span-out-FNm-last">最終要素</a>のsymbol名を参照
<br>
・列vectorで渡す場合、各行vectorの<a href="#span-out-FNm-last">最終要素</a>のsymbol名を参照
<br>
<br>
<span class="run">Ver.2.32.17</span>以降、すべての変数名symbolは<a href="#span-out-vars-rule2">変数の命名規則</a>に準拠
<br>
・<span class="run">Ver.2.232.56</span>以降、symbol表記に統一
<br>
・<span class="run">Ver.2.246.57</span>以降、<a href="#span-out-pass-by-name">name渡し</a>に対応
<br>
・<span class="run">Ver.2.248.57</span>以降、$$開始の場合、<a href="#span-out-flow">parse</a>段階でerror終了
<br>
・<span class="run">Ver.2.248.57</span>以降、dummy　⇒　symbol
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
<br>
delVar($x) -> <del>[MyErr]Invalid <del>REv</del>symbol($x)</del>false
<br>
f(=&lt;$x)=&lt;x; f(=&lt;x) -> [MyErr]Invalid <del>REv</del>symbol($x)
<br>
f(=&lt;x)=&lt;x; f(=&lt;$x) -> [MyErr]Invalid symbol($x)
<br>
Jacobi(=&lt;{2x^2},=&lt;{$x},=&lt;{1}) -> <del>[MyErr]Invalid <del>REv</del>symbol($x)</del>[MyErr]Invalid binary operation
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
予約変数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-ans"></span>
予約変数の入力仕様と付随する留意事項について記述する
<br>
<br>
予約変数ans
<br>
・直前の実行文の演算結果を保持する
<br>
2; ans*2; ans*2; ans -> 8
<br>
2; (ans*2,ans*3); ans -> (4,6)
<br>
・<a href="#span-out-substitution">変数への代入</a>||<a href="#span-out-substitution-equation">式変数への式代入</a>の場合、ansは更新されない
<br>
2; x=3; ans -> 2
<br>
2; x=&lt;3; ans -> 2
<br>
・error終了の場合、ansは更新されない
<br>
<br>
予約変数__n__　<span class="run">Ver.2.381.86</span>以降、追加
<br>
・<a href="#span-out-FNh-RX">再帰高階関数</a>の繰り返し回数=1~のdummy変数を一時的に保持する
<br>
clear; _r(=&lt;arr.push(__n__),arr=[],10); arr -> (1,2,3,4,5,6,7,8,9,10)
<br>
<br>
予約変数__t__　<span class="run">Ver.2.736.107</span>以降、追加
<br>
・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>の時間
<br>
予約変数__x__　<span class="run">Ver.2.736.107</span>以降、追加
<br>
・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>||<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>の未知変数vector（列vector形式）
<br>
・<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>の未知変数vector（列vector形式）　<span class="run">Ver.2.739.107</span>以降、追加
<br>
<br>
<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-num">実数値</a>の<a href="#span-out-UI-graphing-config-csv">csv-fileのread機能</a>を追加
<br>
予約変数csv連番
<br>
・連番=0~read1回毎に1増加
<br>
・Clear実行確定でreset
<br>
<br>
予約変数への代入可
<br>
clear; ans=1; ans -> 1
<br>
ans=&lt;ans; ans=&gt; -> 1
<br>
・ただし、実行確定の都度、上書きされる
<br>
-1 -> -1
<br>
ans -> -1
<br>
ans=&gt; -> -1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数への
<br>
代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution"></span>
変数への代入の入力仕様と付随する留意事項について記述する
<br>
<br>
代入を<a href="#span-out-BT">括弧</a>で括った場合、0を返す
<br>
(x=3) -> 0
<br>
<br>
代入をcomma,||colon:で区切った場合、0を返す
<br>
clear; x=2,3x -> (0,6)
<br>
clear; x=2:3x -> (0:6)
<br>
<br>
詳細は<a href="#span-out-special-substitution">特殊仕様</a>参照
<br>
<br>
代入のnestingを許容する（<a href="#span-out-BT">括弧</a>より優先の<a href="#span-out-FNc">最上位関数</a>を除く）
<br>
clear; (a=(b=1),{c=2}) -> (0,0)
<br>
a,b,c -> (0,1,2)
<br>
clear; {a=((b=1),{c=2})}=(d=3)+1 -> 1
<br>
a,b,c,d -> (0,0,1,2,3)
<br>
clear; ({a=((b=1),{c=b+1})}=(d=c+1)+d) -> 3
<br>
a,b,c,d -> (0,0,1,2,3)
<br>
clear; d={a={(b=1),{c=2}}}; d -> 0
<br>
a,b,c,d -> (0,1,2,0:0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列要素
<br>
pattern
<br>
matching
<br>
入力仕様
    </th>
    <td>
<span id="span-out-matching"></span>
行列要素pattern matchingの入力仕様と付随する留意事項について記述する
<br>
<br>
行列要素pattern matchingの定義
<br>
・<a href="#span-out-BT">括弧</a>のnestingを解決後、左辺と右辺の対応する各行列要素を比較
<br>
・<span class="run">Ver.2.269.62</span>以降、<a href="#span-in-pass-by-equation">遅延評価</a>に対応
<br>
・<span class="run">Ver.2.350.86</span>以降、定義済み<a href="#span-out-substitution-mat">行列への代入</a>に対応
<br>
・<span class="run">Ver.2.440.90</span>以降、<a href="#span-out-FNm-size">行列size</a>比較を厳格化
<br>
clear; ($a,$b,$c)=(1,2); (a,b) -> <del>(1,2)</del>[MyErr]Invalid matching-size(LR)
<br>
・<span class="run">Ver.2.441.90</span>以降、代入に無関係の要素の比較不可
<br>
clear; ($a,$b,3)=(1,2,=&lt;4); (a,b) -> <del>(1,2)</del>[MyErr]Invalid matching(LR)
<br>
<br>
行列要素pattern matchingによる変数への値の代入規則を列挙する
<br>
・変数は無次元
<br>
・<a href="#span-out-vars-symbol">変数名symbol</a>に<a href="#span-out-vars-escape">escape記号$</a>を追加して右辺||左辺の値を代入
<br>
clear; ($a,{$b,3})=(1,{2,$c}); (a,{b,c}) -> (1,2:0,3)
<br>
・再代入も同様
<br>
($a,$b)=1(1,2); (a,b) -> (1,2)
<br>
・<del>代入に無関係の要素は変化しない</del><span class="run">Ver.2.441.90</span>以降、代入に無関係の要素の比較不可
<br>
<del>($a,(a,c))=(b,{$b,c},4); (a,{b,c}) -> (2,1:0,3)</del>
<br>
clear; ($a,$b,3)=(1,2,=&lt;4); (a,b) -> <del>(1,2)</del>[MyErr]Invalid matching(LR)
<br>
<del>・変数$aが定義済みの場合、変数aへの代入不可
<br>
clear; $a=-1; ($a)=1 || (-1)=1 || =1-(-1) -> 2
<br>
clear; ($a)=1; a -> 1
</del><span class="clear">Ver.2.27.15</span>以降、<a href="#span-out-vars-rule2">変数の命名規則</a>で対策済み
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
<br>
clear; $a=1; a -> 1
<br>
clear; $a=1; ($a)=1 -> [MyErr]Invalid SEv-scope-const(a)
<br>
・$でescapeしない場合、error終了
<br>
clear; (a)=1 -> [MyErr]Invalid REv(a)
<br>
・変数に代入する値を解決後、代入
<br>
clear; a=1; ($a,$b)=(-1,a); (a,b) -> (-1,1)
<br>
・変数に代入する値が存在しない場合、error終了
<br>
clear; ($a,$b)=(1,$b) -> [MyErr]Invalid matching
<br>
clear; ($a,$b)=(1) -> [MyErr]Invalid matching(vars)
<br>
<del>・<a href="#span-out-substitution">変数への代入</a>と異なり、nesting不可
<br>
clear; ($a,(($b)=3))=(1,2) -> [MyErr]Invalid matching(vars)
</del><span class="run">Ver.2.29.15</span>以降、対応
<br>
・左右未解決のmatching不可
<br>
($a,$b)=($c,2) -> [MyErr]Invalid matching(LR)
<br>
・変数を含む演算不可
<br>
clear; ($a,2)=2(1,$b) -> [MyErr]Invalid FN operation
<br>
・<a href="#span-out-substitution">変数への代入</a>と判別される場合、左右交換不可
<br>
clear; c=&lt;(1,2); ($a,$b)=c; a,b -> (1,2)
<br>
・<span class="run">Ver.2.232.56</span>以降、symbol表記に統一
<br>
・<span class="run">Ver.2.246.57</span>以降、<a href="#span-out-pass-by-name">name渡し</a>に対応
<br>
clear; c=&lt;(1,2); c=($a,$b) -> <del>[MyErr]Invalid <del>REv</del>symbol($a)</del>[MyErr]Invalid REv($a)
<br>
・1重列挙の場合
<br>
clear; c=&lt;(1,2); (c)=($a,$b); a,b -> (1,2)
<br>
clear; c=&lt;(1,2); {c}=($a,$b); a,b -> (1,2)
<br>
・2重列挙の場合
<br>
clear; c=&lt;(1,2); (c,)=($a,$b); a,b -> (1,2)
<br>
clear; c=&lt;(1,2); (,c)=($a,$b); a,b -> (0,1)
<br>
clear; c=&lt;(1,2); {c,}=($a,$b); a,b -> (1,2)
<br>
clear; c=&lt;(1,2); {,c}=($a,$b); a,b -> [MyErr]Invalid matching(vars)
<br>
・複数列挙の場合
<br>
clear; {($a,$b)=(1,2):($c,$d)=(3,4),(a,b,c,d)} -> (0,0:0,1,2,3,4)
<br>
・<span class="clear">Ver.2.146.37</span>以降、<a href="#span-out-RW">接頭辞</a>を含む変数への代入不可
<br>
<del>clear; ($0xg)=1 -> stored_var(0xg)</del>
<br>
<del>clear; ($0x0g)=1 -> stored_var(0x0g)</del>
<br>
clear; ($0xg)=1 -> [MyErr]Invalid varName(0xg)
<br>
clear; ($0x0g)=1 -> [MyErr]Invalid varName(0x0g)
<br>
clear; ($0b18)=2 -> [MyErr]Invalid varName(0b18)
<br>
clear; ($0of)=3 -> [MyErr]Invalid varName(0of)
<br>
<br>
<span class="run">Ver.2.29.15</span>以降、代入のnestingを許容する
<br>
clear; ($a,(($b)=3))=(1,2); (a,b) -> (1,3)
<br>
clear; ($a,(($b,($c)=4)=3))=(1,2); (a,b,c) -> (1,3,4)
<br>
clear; ($a,(($b,($c)=4)=(,3)))=(1,2); (a,b,c) -> (1,0,4)
<br>
clear; ($a,(($b,($c)={,4})=(,3)))=(1,2); (a,b,c) -> (1,0,0)
<br>
<br>
<span class="clear">Ver.2.102.33</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-vars-symbol">変数名symbol</a>を未知変数にcountする不具合を解消
<br>
<del>clear; f(x)=&lt;x,(1=2) -> [MyErr]Invalid matching</del>
<br>
clear; f(x)=&lt;x,(1=2) -> (0,1)
<br>
clear; f(x)=&lt;x,((a=1)=((b=2)=((c=3)=((d=4)+5)))),f(-1)*(a,b,c,d) -> (0,5,-1,-2,-3,-4)
<br>
clear; f(x)=&lt;x,((a=1)=((b=2)=((c=&lt;3)=((d=&lt;4)+5)))),f(-1)*(a,b,c,d) -> (0,5,-1,-2,-3,-4)
<br>
clear; f(x)=&lt;x,((a=&lt;1)=((b=&lt;2)=((c=3)=((d=4)+5)))),f(-1)*(a,b,c,d) -> (0,5,-1,-2,-3,-4)
<br>
clear; f(x)=&lt;x,((a=&lt;1)=((b=&lt;2)=((c=&lt;3)=((d=&lt;4)+5)))),f(-1)*(a,b,c,d) -> (0,5,-1,-2,-3,-4)
<br>
<br>
<span class="run">Ver.2.269.62</span>以降、<a href="#span-in-pass-by-equation">遅延評価</a>に対応
<br>
clear; ($A)=(=&lt;(1,2:3,4)); A -> (1,2:3,4)
<br>
・未解決の場合、error終了
<br>
clear; ($A)=((x)=&lt;(1,2:3,4)); A -> [MyErr]Invalid args isFound(x)
<br>
clear; ($A)=(=&lt;(x,2:3,4)); A -> [MyErr]Invalid matching var(A)
<br>
clear; ($A)=(=&lt;f); A -> [MyErr]Invalid matching var(A)
<br>
<br>
<span class="run">Ver.2.350.86</span>以降、定義済み<a href="#span-out-substitution-mat">行列への代入</a>に対応
<br>
clear; A=zeros(2); ($A[0][0],$A[1][1])=(1,4); A -> (1,0:0,4)
<br>
clear; A=zeros(2); ($A[0],$A[1])=(=&lt;(1,1),=&lt;(2,2)); A -> (1,1:2,2)
<br>
・<span class="run">Ver.2.373.86</span>以降、<a href="#span-out-FNm-size">行列size</a>指定のindexを厳格化（[0]　⇒　<a href="#span-out-mat-empty">空行列</a>[]）
<br>
clear; A=(1,2:3,4); ($A[-1][-1][0][0])=(=&lt;A); A -> <del>(4,3:2,1)</del>[MyErr]Invalid reference of array(area)
<br>
clear; A=(1,2:3,4); ($A[-1][-1][][])=(=&lt;A); A -> (4,3:2,1)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-in-pass-by-equation">遅延評価</a>の場合、列挙順序に依存するため、非可換
<br>
clear; A=(1,2:3,4); ($A[0],$A[][0])=(=&lt;(,),=&lt;{1,1}); A -> (1,0:1,4)
<br>
clear; A=(1,2:3,4); ($A[][0],$A[0])=(=&lt;{1,1},=&lt;(,)); A -> (0,0:1,4)
<br>
・<a href="#span-in-pass-by-equation">遅延評価</a>の場合、同時交換不可（<a href="#span-eqn-matching">matching</a>参照）
<br>
clear; A=(1,2:3,4); ($A[0],$A[1])=(=&lt;A[1],=&lt;A[0]); A  <span class="selection">// NG</span> -> (3,4:3,4)
<br>
clear; A=(1,2:3,4); B=A; ($A[0],$A[1])=(=&lt;B[1],=&lt;B[0]); A -> (3,4:1,2)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数のscope
<br>
入力仕様
    </th>
    <td>
<span id="span-out-scope-vars"></span>
変数のscopeの入力仕様と付随する留意事項について記述する
<br>
<br>
scope内での<a href="#span-out-vars">変数</a>||<a href="#span-out-eqns">式変数</a>の宣言はECMAScript6（以降、ES6と省略する）のlet宣言を想定
<br>
<a href="#span-out-bracket">直列scope内</a>の変数はreadonly（pollution disabled）
<br>
scopeから直接、<a href="#span-out-storage">local storage</a>にwriteする場合、<a href="#span-out-FNc">最上位関数</a>参照
<br>
・test caseを列挙する
<br>
clear; [a=2,[a=1,a],a] -> (0,0,1,2)
<br>
clear; [a=2,=&lt;[a=1,=&lt;a]=&gt;+a]=&gt; -> 3
<br>
・<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>はES6のlet変数同様に宣言時の<a href="#span-out-bracket">階層</a>に依存する
<br>
・よって同一scope内の変数のみ、<a href="#span-out-substitution">変数への代入</a>可
<br>
clear; a=3,[a=1,a,a=2,a],a -> (0,0,1,0,2,3)
<br>
clear; a=3; [a=1,a,a=2,a]; a -> 3
<br>
clear; [a=1,a],a -> [MyErr]Invalid REv(a)
<br>
clear; [a=1,a]; a -> [MyErr]Invalid REv(a)
<br>
・<a href="#span-out-matching">行列要素pattern matching</a>による変数への代入も同様
<br>
clear; a=3,[($a)=1,a,($a)=2,a],a -> (0,0,1,0,2,3)
<br>
clear; a=3; [($a)=1,a,($a)=2,a]; a -> 3
<br>
clear; [($a)=1,a],a -> [MyErr]Invalid REv(a)
<br>
clear; [($a)=1,a]; a -> [MyErr]Invalid REv(a)
<br>
・<a href="#span-out-substitution-mat">行列への代入</a>も同様
<br>
clear; [A=(1,2),A[0][0]=-1,A] -> (0,0,-1,2)
<br>
clear; A=(1,2); [A[0][0]=-1,A] -> [MyErr]Invalid SEv-scope(A)
<br>
・<a href="#span-out-bracket">並列scope</a>の変数を参照不可
<br>
clear; [A=(1,2),],[A] -> [MyErr]Invalid REv(A)
<br>
clear; ([A=(1,2),],[A]) -> [MyErr]Invalid REv(A)
<br>
clear; [A=(1,2),],[B=-A,] -> [MyErr]Invalid binary operation
<br>
clear; ([A=(1,2),],[B=-A,]) -> [MyErr]Invalid binary operation
<br>
・<a href="#span-out-bracket">直列scope内</a>の変数を参照可
<br>
clear; A=(1,2); [A] -> (1,2)
<br>
clear; A=(1,2); [-A] -> (-1,-2)
<br>
clear; A=(1,2); [B=-A,B] -> (0,-1,-2)
<br>
clear; A=(1,2); [B=-A,[C=A+B,C]] -> (0,0,0,0)
<br>
clear; A=(1,2); [B=-A,[C=A+B,C],C] -> [MyErr]Invalid REv(C)
<br>
clear; a=3; [($a,{($b)=a})=2,a+b] -> (0,5)
<br>
・<a href="#span-out-bracket">直列scope内</a>の変数の<a href="#span-out-search">search-precedence</a>
<br>
clear; A=(1,2); B=A; [B=-B,[C=A+B,C]] -> (0,0,0,0)
<br>
clear; A=(1,2); B=A; [B=-B,[C=A+B,C]]; B -> (1,2)
<br>
clear; A=(1,2); B=A; (B=-B,[C=A+B,C]) -> (0,0,0,0)
<br>
clear; A=(1,2); B=A; (B=-B,[C=A+B,C]); B -> (-1,-2)
<br>
・<a href="#span-out-eqns">式変数</a>も同様
<br>
clear; A=&lt;(1,2); B=&lt;A; [B=&lt;-B,[C=&lt;A+B,C]] -> Maximum call stack size exceeded
<br>
clear; A=&lt;(1,2); B=&lt;A; [D=-B,B=&lt;D,[C=&lt;A+B,C]] -> (0,0,0,0,0)
<br>
clear; A=&lt;(1,2); B=&lt;A; [D=-B,B=&lt;D,[C=&lt;A+B,C]]; B -> (1,2)
<br>
clear; A=&lt;(1,2); B=&lt;A; (D=-B,B=&lt;D,[C=&lt;A+B,C]) -> (0,0,0,0,0)
<br>
clear; A=&lt;(1,2); B=&lt;A; (D=-B,B=&lt;D,[C=&lt;A+B,C]); B -> (-1,-2)
<br>
clear; a=&lt;[3+4,]; ([a=&gt;]+[a=&gt;])*trans([a=&gt;]) -> 98
<br>
・宣言時の<a href="#span-out-bracket">階層</a>に依存するため、次の場合、error終了
<br>
let a=()=&gt;b; (function(){let b=1; return a();})();  <span class="selection">// ES6</span> -> b is not defined
<br>
clear; a=&lt;b; [b=1,=&lt;a=&gt;]=&gt; -> [MyErr]Invalid REv(b)
<br>
・<a href="#span-out-pass-by-equation">式読出し</a>時の<a href="#span-out-bracket">階層</a>を継承する場合、<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>を使用
<br>
・式読出し記号==&gt;
<br>
clear; a=&lt;b; [b=1,=&lt;a=&gt;]=&gt; -> [MyErr]Invalid REv(b)
<br>
clear; a=&lt;b; [b=1,=&lt;a==&gt;]=&gt; -> 1
<br>
clear; a=&lt;b; [b=1,=&lt;a==&gt;]==&gt; -> 1
<br>
・同義
<br>
(function(){let a=()=&gt;b; let b=1; return a();})();  <span class="selection">// ES6</span> -> 1
<br>
clear; [a=&lt;b,b=1,=&lt;a=&gt;]=&gt; -> 1
<br>
・let宣言の挙動を以下に比較して示す
<br>
(function(){let a=()=&gt;b; let c=a(); let b=1; return c;})();  <span class="selection">// ES6</span>
<br>
-> Cannot access 'b' before initialization
<br>
clear; [a=&lt;b,c=a=&gt;,b=1,=&lt;c]=&gt; -> [MyErr]Invalid REv(b)
<br>
let b=-1; (function(){let a=()=&gt;b; let c=a(); let b=1; return c;})();  <span class="selection">// ES6</span>
<br>
-> Cannot access 'b' before initialization
<br>
clear; b=-1; [a=&lt;b,c=a=&gt;,b=1,=&lt;c]=&gt;  <span class="selection">// not hoisted</span> -> -1
<br>
let b=-1; (function(){let a=()=&gt;b; let c=a(); return c;})();  <span class="selection">// ES6</span> -> -1
<br>
clear; b=-1; [a=&lt;b,c=a=&gt;,=&lt;c]=&gt; -> -1
<br>
let b=-1; (function(){let a=()=&gt;b; let b=1; let c=a(); return c;})();  <span class="selection">// ES6</span> -> 1
<br>
clear; b=-1; [a=&lt;b,b=1,c=a=&gt;,=&lt;c]=&gt; -> 1
<br>
・<a href="#span-out-FNc">最上位関数</a>を使用
<br>
clear; b=-1; a=&lt;[b,b]; a=&gt; -> (-1,-1)
<br>
clear; b=-1; a=&lt;[b,b]; b=1,a=&gt; -> (0,1,1)
<br>
clear; b=-1; a=&lt;[b,b]; [b=1,a=&gt;] -> (0,-1,-1)
<br>
clear; a=&lt;b; [b=1,a=&gt;] -> [MyErr]Invalid REv(b)
<br>
clear; a=&lt;b+1; [b=1,a=&gt;] -> [MyErr]Invalid binary operation
<br>
clear; a=&lt;[b,b]; [b=1,a=&gt;] -> [MyErr]Invalid REv(b)
<br>
clear; a=&lt;[b,b]; [b=2,addVar(b),a=&gt;] -> (0,1,2,2)
<br>
clear; [a=&lt;[b,b],b=1,a=&gt;,b=2,a=&gt;] -> (0,0,1,1,0,2,2)
<br>
clear; [a=&lt;[b,b],[b=1,],a=&gt;] -> [MyErr]Invalid REv(b)
<br>
clear; [a=&lt;[b,b],[b=2,addVar(b)],a=&gt;] -> (0,0,1,2,2)
<br>
clear; b=-1; a=&lt;[b,b]; [[b=1,],a=&gt;] -> (0,0,-1,-1)
<br>
clear; b=-1; a=&lt;[b,[b,]]; [b=1,a=&gt;] -> (0,-1,-1,0)
<br>
clear; b=-1; [a=&lt;[b,[b,]],b=1,a=&gt;] -> (0,0,1,1,0)
<br>
clear; b=-1; [a=&lt;[b,[b,]],[b=1,b],[a=&gt;,b]] -> (0,0,1,-1,-1,0,-1)
<br>
clear; b=-1; [a=&lt;[b,[b,]],[b=1,b],b=2,[a=&gt;,b]] -> (0,0,1,0,2,2,0,2)
<br>
clear; b=-1; [a=&lt;(b,[b,[b,]]),b=1,a=&gt;] -> (0,0,1,1,1,0)
<br>
clear; b=-1; [a=&lt;(b,[b=2,[b,]]),b=1,a=&gt;] -> (0,0,1,0,2,0)
<br>
clear; b=-1; [a=&lt;(b,[b=2,[b,]]),b=1,=&lt;a=&gt;]=&gt; -> (1,0,2,0)
<br>
clear; b=-1; a=&lt;(b,[b=2,[b,]]); ([b=1,a=&gt;]) -> (0,-1,0,2,0)
<br>
・scopeのnesting
<br>
clear; a=-1; [a=1,=&lt;a+1]=&gt; -> 2
<br>
clear; a=-1; [a=&lt;1,=&lt;a]=&gt; -> -1
<br>
clear; a=-1; [a=&lt;1,=&lt;a=&gt;]=&gt; -> 1
<br>
clear; a=-1; [[a=&lt;1],=&lt;a=&gt;]=&gt; -> [MyErr]Invalid reference
<br>
clear; a=-1; [[a=&lt;1,a],=&lt;a=&gt;]=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; a=&lt;-1; [[a=&lt;1,a],=&lt;a=&gt;]=&gt; -> -1
<br>
clear; [a=&lt;1,=&lt;a=&gt;+1]=&gt; -> 2
<br>
clear; a=1; [a=2,=&lt;(a,[[a=3,a],a])]=&gt;,a -> (2,0,3,2,1)
<br>
clear; a=1; [a=2,=&lt;{a,[[a=3,a],a]}]=&gt;,a -> (2,1:0,3,2)
<br>
clear; a=1; {[a=2,=&lt;{a,[[a=3,a],a]}]}=&gt;,a -> (2,1:0,3,2)
<br>
clear; a=1; {a=2,=&lt;{a,[[a=3,a],a]}}=&gt;,a -> (2,2:0,3,2)
<br>
clear; [a=1,(a=2,[a,a=3,a],a=4),a,[a,a=5,a],a] -> (0,0,2,0,3,0,4,4,0,5,4)
<br>
clear; [a=1,a[0][0]=2,(a,3)] -> (0,0,2,3)
<br>
clear; a=1,[a=2,[a=3,=&lt;a]=&gt;,a,[a,a],[($a)=4,a]],a -> (0,0,3,2,2,2,0,4,1)
<br>
clear; a=1,(a=2,[a=3,=&lt;a]=&gt;,a,[a,a],[($a)=4,a]),a -> (0,0,3,2,2,2,0,4,2)
<br>
clear; a=-1; [a=1,(a=2,[a=3,=&lt;a]=&gt;,a,[a,a],[($a)=4,a]),a],a -> (0,0,3,2,2,2,0,4,2,-1)
<br>
clear; a=-1; [a=1,(a=2,[a=&lt;3,=&lt;a]=&gt;,a,[a,a],[($a)=4,a]),a],a -> (0,0,2,2,2,2,0,4,2,-1)
<br>
clear; a=-1; [a=1,(a=2,[a=&lt;3,=&lt;a=&gt;]=&gt;,a,[a,a],[($a)=4,a]),a],a -> (0,0,3,2,2,2,0,4,2,-1)
<br>
clear; a=-1; [a=1,(a=2,[a=&lt;3,=&lt;a=&gt;]=&gt;,a,[a,a],[($a)=4,a]),=&lt;a]=&gt;,a -> (2,-1)
<br>
・<a href="#span-out-eqns-no-name-short">式渡しの直接式読出し</a>
<br>
・(function(){return (function(){return (function(){var a=1; return 3;})()+a;})()*2;})();
<br>
clear; [=&lt;[=&lt;[a=1,=&lt;3]=&gt;+a]=&gt;*2]=&gt; -> [MyErr]Invalid binary operation
<br>
・(function(){return (function(){var a=1; return (function(){return 3;})()+a;})()*2;})();
<br>
clear; [=&lt;[a=1,=&lt;[=&lt;3]=&gt;+a]=&gt;*2]=&gt; -> 8
<br>
・(function(){var a=1; return (function(){return (function(){return 3;})()+a;})()*2;})();
<br>
clear; [a=1,=&lt;[=&lt;[=&lt;3]=&gt;+a]=&gt;*2]=&gt; -> 8
<br>
・var a=1; (function(){return (function(){return (function(){return 3;})()+a;})()*2;})();
<br>
clear; a=1; [=&lt;[=&lt;[=&lt;3]=&gt;+a]=&gt;*2]=&gt; -> 8
<br>
・(function(){return (function(){return (function(){var a=1; return 3;})()+1;})()*a;})();
<br>
clear; [=&lt;[=&lt;[a=1,=&lt;3]=&gt;+1]=&gt;*a]=&gt; -> [MyErr]Invalid binary operation
<br>
・(function(){return (function(){var a=1; return (function(){return 3;})()+1;})()*a;})();
<br>
clear; [=&lt;[a=1,=&lt;[=&lt;3]=&gt;+1]=&gt;*a]=&gt; -> [MyErr]Invalid binary operation
<br>
・(function(){var a=1; return (function(){return (function(){return 3;})()+1;})()*a;})();
<br>
clear; [a=1,=&lt;[=&lt;[=&lt;3]=&gt;+1]=&gt;*a]=&gt; -> 4
<br>
・var a=1; (function(){return (function(){return (function(){return 3;})()+1;})()*a;})();
<br>
clear; a=1; [=&lt;[=&lt;[=&lt;3]=&gt;+1]=&gt;*a]=&gt; -> 4
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
単独scope
<br>
入力仕様
    </th>
    <td>
<span id="span-out-scope-vars-has1BT"></span>
単独scopeの入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を追加
<br>
・<span class="run">Ver.2.210.46</span>以降、単独scopeの判定を厳格化（<a href="#span-eqn-scope_NG">scope_NG</a>のNG範囲を最小化）
<br>
　式の長さ制限あり　⇒　長さ制限なし（単独の<a href="#span-out-BT">括弧</a>を探索）
<br>
<del>・<a href="#span-out-eqns-args">式変数のarguments</a>を残さない仕様を維持（<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>参照）</del>
<br>
・<span class="run">Ver.2.213.47</span>以降、<a href="#span-out-option6">useScopeWith</a>を追加
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-terms">scope変数</a>から削除しない仕様に変更
<br>
・<span class="run">Ver.2.290.71</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-terms">scope変数</a>保持条件の仕様変更
<br>
・<span class="run">Ver.2.291.71</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-search">search-precedence</a>の仕様変更
<br>
<br>
単独scopeの場合、<a href="#span-out-eqns-args">式変数のarguments</a>は<a href="#span-out-BT-square">角括弧[]</a>の<a href="#span-out-bracket">scope</a>内に定義する
<br>
・<span class="condition">定義の範囲</span>
<br>
f(x)=&lt;[<span class="condition">,x</span>]
<br>
f(x)=&lt;last[<span class="condition">,x</span>]
<br>
f(x)=&lt;[<span class="condition">=&lt;x</span>]=&gt;
<br>
f(x)=&lt;[<span class="condition">=&lt;x*2</span>]=&gt;x2
<br>
・<span class="run">Ver.2.210.46</span>以降、<span class="clear">不都合</span>が発生
<br>
fact_(n)=&lt;<span class="clear">n&lt;=1</span>|||last[<span class="condition">,n*fact_(n-1)</span>]; fact_(10) -> [MyErr]Invalid operation <span class="clear">n&lt;=number</span>
<br>
fact_(n)=&lt;last[<span class="condition">,n&lt;=1|||n*fact_(n-1)</span>]; fact_(10) -> 3628800
<br>
<br>
test caseを列挙する
<br>
clear; com2vec(a)=&lt;[{real(a),imag(a)}]; com2vec(2-3i) -> (2:-3)
<br>
clear; minus(a)=&lt;[,=&lt;-a]=&gt;; minus(2) -> -2
<br>
clear; add(a,b)=&lt;last[,a+b]; add(1,3) -> 4
<br>
clear; f(a,b)=&lt;[()=&lt;[a,b]],(f(1,2))()=&gt;,(a,b) -> [MyErr]Undef var(a)
<br>
・以下の場合、外側の<a href="#span-out-BT">括弧</a>を判定するため、単独scopeではない
<br>
clear; f(a,b)=&lt;(()=&lt;[a,b]),(f(1,2))()=&gt;,(a,b) -> (0,1,2,1,2)
<br>
clear; f(a,b)=&lt;([()=&lt;[a,b]]),(f(1,2))()=&gt;,(a,b) -> (0,1,2,1,2)
<br>
・明示的な代入も同様
<br>
clear; f=(x)=&lt;g=&lt;[x,x]; f(3); g() -> [MyErr]Undef var(x)
<br>
clear; f=(x)=&lt;(g=&lt;[x,x]); f(3); g() -> [MyErr]Undef var(x)
<br>
f=(x)=&lt;[g=&lt;[x,x],=&lt;g]=&gt;;
<br>
f(3)=&gt;g; g() -> (3,3)
<br>
f(5)=&gt;g; g() -> (5,5)
<br>
<br>
留意事項を列挙する
<br>
・以下のような場合、<a href="#span-out-eqns-args">定義元arguments</a>は<a href="#span-out-BT-square">角括弧[]</a>の<a href="#span-out-bracket">scope</a>外に定義する
<br>
<del>clear; com2vec_k(a,k)=&lt;[{real(a),imag(a)}]*k; com2vec_k(2-3i,i) -> (2i:-3i)
<br>
clear; minus_k(a,k)=&lt;[,=&lt;-a]=&gt;*k; minus_k(2,2) -> -4
<br>
clear; add_k(a,b,k)=&lt;last[,a+b]*k; add_k(1,3,2) -> 8</del>
<br>
・<span class="run">Ver.2.210.46</span>以降、定義不能
<br>
clear; com2vec_k(a,k)=&lt;[{real(a),imag(a)}]*k; com2vec_k(2-3i,i) -> [MyErr]Invalid binary operation
<br>
clear; minus_k(a,k)=&lt;[,=&lt;-a]=&gt;*k; minus_k(2,2) -> [MyErr]Invalid binary operation
<br>
clear; add_k(a,b,k)=&lt;last[,a+b]*k; add_k(1,3,2) -> [MyErr]Invalid binary operation
<br>
・<a href="#span-out-BT">丸括弧()</a>明示で引数を経由する場合、<a href="#span-out-BT-square">角括弧[]</a>の<a href="#span-out-bracket">scope</a>外に定義
<br>
clear; f(x)=&lt;[=&lt;x]()=&gt;; f(3) -> 3
<br>
clear; f(x)=&lt;[(x)=&lt;x](x)=&gt;; f(3) -> 3
<br>
clear; iproduct(L,R)=&lt;[(LR)=&lt;LR](=&lt;L*R.)=&gt;; iproduct(=&lt;(1,2),=&lt;(3,4)) -> 11
<br>
・複数列挙の場合、<a href="#span-out-BT-square">角括弧[]</a>の<a href="#span-out-bracket">scope</a>外に定義
<br>
clear; iproduct(L,R)=&lt;[L]*[trans(R)]; iproduct(=&lt;(1,2),=&lt;(3,4)) -> 11
<br>
clear; iproduct(L,R)=&lt;[(L)][trans(R)]; iproduct(=&lt;(1,2),=&lt;(3,4)) -> 11
<br>
clear; iproduct(L,R)=&lt;[(L)](trans(R)); iproduct(=&lt;(1,2),=&lt;(3,4)) -> 11
<br>
clear; iproduct(L,R)=&lt;(L)[trans(R)]; iproduct(=&lt;(1,2),=&lt;(3,4)) -> 11
<br>
clear; iproduct(L,R)=&lt;(L)(trans(R)); iproduct(=&lt;(1,2),=&lt;(3,4)) -> 11
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式変数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns"></span>
式変数の入力仕様と付随する留意事項について記述する
<br>
<br>
式変数への代入・再代入方法
<br>
式変数名=&lt;方程式||関数式||展開式
<br>
・<a href="#span-out-substitution-equation">式代入</a>記号=&lt;（<a href="#span-out-pass-by-equation">式渡し</a>に流用するため、一般的な記号:=で代替不可）
<br>
・式変数への代入を以降、<a href="#span-out-substitution-equation">式代入</a>と呼ぶ
<br>
<br>
test caseを列挙する
<br>
y=&lt;{a*x+b=0}; -> stored_eqn(y)
<br>
y=&lt;a*x+b=0; -> stored_eqn(y)
<br>
y=&lt;{a*x+b}; -> stored_eqn(y)
<br>
y=&lt;a*x+b; -> stored_eqn(y)
<br>
・null-rightの場合、error終了
<br>
=&lt; -> [MyErr]Invalid =&lt;null
<br>
・<span class="clear">Ver.2.27.15</span>以降、null代入不可
<br>
x=&lt;; x -> [MyErr]Invalid =&lt;null
<br>
・式変数は<a href="#span-out-vars-rule2">変数の命名規則</a>に準拠
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式読出し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-call"></span>
式読出しの入力仕様と付随する留意事項について記述する
<br>
<br>
式変数から値を読出す方法
<br>
式変数名=&gt;
<br>
・式変数からの値読出しを以降、式読出しと呼ぶ
<br>
y=&lt;a*x+b; y=&gt; -> [MyErr]Invalid binary operation
<br>
・<span class="clear">Ver.2.27.15</span>以降、null-leftの場合、error終了
<br>
=&gt; -> [MyErr]Invalid null=&gt;
<br>
<br>
<span class="run">Ver.2.31.17</span>以降、<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>の式読出し記号==&gt;を追加
<br>
clear; a=&lt;1; a=&gt; -> 1
<br>
clear; a=&lt;1; a==&gt; -> 1
<br>
clear; a=&lt;1; a==&gt;2 || 1(2) -> 2
<br>
・<span class="clear">Ver.2.119.34</span>以降、left-operand不正の場合、error終了
<br>
clear; a=&lt;1; a===&gt; -> [MyErr]Invalid BRrl(==)
<br>
clear; a=&lt;1; a====&gt; -> [MyErr]Invalid BRrl(==)
<br>
<br>
関数式の<a href="#span-out-vars">変数</a>を定義して再度読出す
<br>
y=&lt;a*x+b; a=1; b=2; x=3; y=&gt; || 1*3+2 -> 5
<br>
・式読出しを<a href="#span-out-BT">括弧</a>で括れば変数同様に扱える
<br>
2; y=&lt;ans; max(3,4(y=&gt;)2) || max(3,4*2*2) -> 16
<br>
<br>
式変数と同名の変数が未定義の場合、直接、式読出し可
<br>
clear; y=&lt;a*x+b; a=1; b=2; x=3; 2y -> 10
<br>
clear; y=&lt;a*x+b; a=1; b=2; x=3; y0=2y; y0 -> 10
<br>
・ただし、式読出し記号=&gt;を明示する方が間違いが少ない
<br>
y=-1; y=&lt;a*x+b; a=1; b=2; x=3; 2y -> -2
<br>
y=-1; y=&lt;a*x+b; a=1; b=2; x=3; 2(y=&gt;) -> 10
<br>
・さらに、式変数名と変数名は区別する方が間違いが少ない
<br>
y=3; y=&lt;3y-1; 2y -> 6
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様を廃止して<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>を追加
<br>
<del>y=3; y=&lt;3y-1; y=&gt;y; 2y -> 16</del>
<br>
y=3; y=&lt;3y-1; y=&gt;y; 2y -> 6
<br>
<br>
式変数名で明示して直接読出す方法もあり得る
<br>
clear; eqn_x=&lt;(a*x+b=0); a=1; b=2; x=3; 2eqn_x || 2*(-5) -> -10
<br>
<br>
以降、変数名と式変数名は被らない前提で式読出し記号=&gt;を省略する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数への
<br>
式読出し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-call2var"></span>
変数への式読出しの入力仕様と付随する留意事項について記述する
<br>
・本仕様は以下の理由から廃止の可能性がある
<br>
　<a href="#span-out-substitution">変数への代入</a>と冗長
<br>
　多重代入不可のため、読出し値が残る唯一の仕様は無駄仕様
<br>
・<span class="clear">Ver.2.203.46</span>以降、本仕様を廃止して<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>を追加
<br>
<br>
<del>式変数から<a href="#span-out-vars">変数</a>に値代入する方法
<br>
式変数名=&gt;変数名
<br>
y=&lt;a*x+b; y=&gt;y0 -> [MyErr]Invalid binary operation
<br>
y=&lt;a*x+b; a=1; b=2; x=3; y=&gt;y0; y0 -> 5
<br>
y0=3; y=&lt;3y0-1; y=&gt;y1; 2y1 -> 16
<br>
clear; a=&lt;1; a==&gt;b; b -> 1
<br>
・<a href="#span-out-substitution">変数への代入</a>と異なり、読出し値が残る
<br>
2; y=&lt;ans; max(3,4(y=&gt;y0)2); y=&gt; -> 16
<br>
・<a href="#span-out-eqns-no-name-short">式渡しの直接式読出し</a>で使用する場合、読出し値の次元が残らないように留意する
<br>
clear; [v=&lt;(1,2),v=v=&gt;,=&lt;v]=&gt;  <span class="selection">// OK</span> -> (1,2)
<br>
clear; [v=&lt;{1,2},v=v=&gt;,=&lt;v]=&gt;  <span class="selection">// OK</span> -> (1:2)
<br>
clear; [v=&lt;(1,2),v=&gt;v,=&lt;v]=&gt;  <span class="selection">// NG</span> -> (1,2)
<br>
clear; [v=&lt;{1,2},v=&gt;v,=&lt;v]=&gt;  <span class="selection">// NG</span> -> [MyErr]Invalid mat([object Object])
<br>
clear; [v=&lt;{1,2},v=v=&gt;v,=&lt;v]=&gt; -> (1:2)
<br>
clear; [a=1,b=2,last{v=&lt;{a,b},v=&gt;v},a=-1,b=-2,=&lt;v]=&gt; -> (1:2)
<br>
clear; [a=1,b=2,last{v=&lt;{a,b},v=&gt;v},a=-1,b=-2,=&lt;v=&gt;]=&gt; -> (-1:-2)
<br>
clear; [a=1,b=2,v=&lt;{a,b},v=v=&gt;v,a=-1,b=-2,=&lt;v]=&gt; -> (1:2)
<br>
clear; [a=1,b=2,v=&lt;{a,b},v=v=&gt;v,a=-1,b=-2,=&lt;v=&gt;]=&gt; -> (-1:-2)</del>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式変数への
<br>
式読出し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-call2eqn"></span>
式変数への式読出しの入力仕様と付随する留意事項について記述する
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様を廃止して追加
<br>
・<span class="run">Ver.2.204.46</span>以降、式読出しの仕様を仮fix
<br>
　<a href="#span-out-eqns-no-name">無名call</a>はcall結果が解決済みの前提で非対応
<br>
　<a href="#span-out-pass-by-symbol">symbol渡し</a>の前提で<a href="#span-out-ref-transparency">参照透過性</a>なし
<br>
・<span class="run">Ver.2.211.46</span>以降、式読出しの仕様をfix
<br>
　<a href="#span-out-eqns-no-name">無名call</a>の式読出しに対応<del>（削除されるargumentsを除く）</del>
<br>
　<a href="#span-out-pass-by-symbol">symbol渡し</a>の<a href="#span-out-ref-transparency">参照透過性</a>を確保
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-terms">scope変数</a>から削除しない仕様に変更
<br>
・<span class="run">Ver.2.290.71</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-terms">scope変数</a>保持条件の仕様変更
<br>
・<span class="run">Ver.2.291.71</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-search">search-precedence</a>の仕様変更
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-vars-rule2">変数の命名規則</a>に準拠
<br>
・<span class="run">Ver.2.232.56</span>以降、symbol表記に統一
<br>
[=&lt;$g]=&gt;f; f=&gt; -> [MyErr]Invalid <del>REv</del>symbol($g)
<br>
・<span class="run">Ver.2.253.59</span>以降、式変数の新規複製の仕様廃止
<br>
　式変数名=&lt;式変数名による新規複製は後方互換性（f=&lt;x等）のため、非対応（<a href="#span-out-pass-by-symbol">symbol渡し</a>を除く）
<br>
<br>
<del>式変数の新規複製方法
<br>
式変数名=&gt;式変数名
<br>
clear; g=&lt;x; g=&gt;f; x=1; f=&gt; -> 1
<br>
clear; g=&lt;x; g=&gt;f; x=1; f=f=&gt;; f,g=&gt;,f=&gt; -> (1,1,1)
<br>
clear; g=&lt;x; g=&gt;f; x=1; f=f=&gt;; x=2; f,g=&gt;,f=&gt; -> (1,2,2)
<br>
clear; g(x)=&lt;x; g=&gt;f; f(3)=&gt; -> 3
<br>
・<a href="#span-out-bracket">scope</a>は<a href="#span-in-scope-vars">static scopes2d array</a>を共有する
<br>
clear; scope_NG(x)=&lt;last[x=x,last[x=x,x]]; scope_NG(3),scope_NG=&gt;f,f(4) -> (3,0,3)</del>
<br>
・call結果の式読出し
<br>
clear; g(x)=&lt;x; g(3)=&gt; -> 3
<br>
clear; [(x)=&lt;x](3)=&gt; -> 3
<br>
・var g = function(x){return x;}; var f = g(3); f;
<br>
clear; g(x)=&lt;x; f=g(3)=&gt;; f -> 3
<br>
・var g = function(x){return x;}; var f = function(){return g(3);}; f();
<br>
clear; g(x)=&lt;x; g(3)=&gt;f; f=&gt; -> 3
<br>
・var f = (function(x){return x;})(3); f;
<br>
clear; f=[(x)=&lt;x](3)=&gt;; f -> 3
<br>
・var f = function(){return (function(x){return x;})(3);}; f();
<br>
clear; [(x)=&lt;x](3)=&gt;f; f=&gt; -> 3
<br>
・<span class="run">Ver.2.211.46</span>以降、var f = function(){return (function(x){return x;});}; f(3);
<br>
clear; [()=&lt;(x)=&lt;x]()=&gt;f; f(3)=&gt; -> 3
<br>
clear; [=&lt;(x)=&lt;x]=&gt;f; f(3)=&gt; -> 3
<br>
clear; [=&lt;[((x))=&lt;((x))]]=&gt;f; f(3)=&gt; -> 3
<br>
・<span class="run">Ver.2.211.46</span>以降、var f = (function(a){return (function(x){return a*x;});})(-1); f(3);
<br>
clear; [a=-1,=&lt;(x)=&lt;a*x]=&gt;f; f(3)=&gt; -> -3
<br>
<del>・厳密な記述の場合、error終了（<a href="#span-out-eqns-args">式変数のarguments</a>を残さない仕様を維持）</del>
<br>
・<span class="run">Ver.2.229.56</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-terms">scope変数</a>から削除しない仕様に変更
<br>
・<span class="run">Ver.2.290.71</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-terms">scope変数</a>保持条件の仕様変更
<br>
・<span class="run">Ver.2.291.71</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-search">search-precedence</a>の仕様変更
<br>
<del>clear; [(a)=&lt;(x)=&lt;a*x](-1)=&gt;f; f(3)=&gt; -> [MyErr]Invalid binary operation</del>
<br>
clear; [(a)=&lt;(x)=&lt;a*x](-1)=&gt;f; f(3)=&gt; -> -3
<br>
・<span class="run">Ver.2.213.47</span>以降、<a href="#span-out-option6">useScopeWith</a>選択の場合
<br>
clear; [(a)=&lt;(x)=&lt;a*x](-1)=&gt;f; a=1; f(3)=&gt;,f(3)==&gt; -> (-3,3)
<br>
・<a href="#span-out-eqns-no-name-short">式渡しの直接式読出し</a>（<span class="run">Ver.2.195.45</span>以降、<a href="#span-out-eqns-no-name">無名call</a>のarguments省略）
<br>
clear; [f(x)=&lt;x,=&lt;f]=&gt; -> [MyErr]Invalid null=&gt;
<br>
・var f = (function(){var f = function(x){return x;}; return f;})(); f(3);
<br>
clear; [f(x)=&lt;x,=&lt;f]=&gt;f; f(3)=&gt; -> 3
<br>
・<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
clear; (x=-1,g=&lt;x,=&lt;g)=&gt; -> -1
<br>
clear; (x=-1,g=&lt;x,=&lt;g)=&gt;f; x=1; f=&gt; -> 1
<br>
clear; [x=-1,g=&lt;x,=&lt;g]=&gt;f; x=1; f=&gt; -> -1
<br>
clear; (a=-1,g(x)=&lt;a*x,=&lt;g)=&gt; -> [MyErr]Invalid null=&gt;
<br>
clear; (a=-1,g(x)=&lt;a*x,=&lt;g)=&gt;f; a=1; f(3)=&gt; -> 3
<br>
・var f = (function(){var a = -1; var g = function(x){return a*x;}; return g;})(); var a = 1; f(3);
<br>
clear; [a=-1,g(x)=&lt;a*x,=&lt;g]=&gt;f; a=1; f(3)=&gt; -> -3
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>を<a href="#span-out-bracket">scope</a>内に残す場合、変数名を区別して代入を明示
<br>
clear; make_f(a)=&lt;[g(x)=&lt;a*x,=&lt;g]=&gt;f; make_f(-1); a=1; f(3)=&gt;,f(3)==&gt; -> (3,3)
<br>
clear; make_f(a0)=&lt;[a=a0,g(x)=&lt;a*x,=&lt;g]=&gt;f; make_f(-1); a=1; f(3)=&gt;,f(3)==&gt; -> (-3,3)
<br>
・var f = (function(){var a = -1; return function(x){return a*x;};})(); var a = 1; f(3);<del>の代替不可
<br>
clear; [a=-1,=&lt;a*x]=&gt;f; a=1; f=&gt; -> [MyErr]Invalid binary operation
<br>
clear; [a=-1,=&lt;=&lt;a*x]=&gt;f; a=1; f=&gt; -> [MyErr]Invalid BTe([object Object],[object Object],[object Object])
<br>
clear; [a=-1,=&lt;(x)=&lt;a*x]=&gt;f; a=1; f(3)=&gt; -> [MyErr]Invalid args.length=0(f)</del>
<br>
・<span class="run">Ver.2.211.46</span>以降、<a href="#span-out-ref-transparency">参照透過性</a>を確保
<br>
clear; [a=-1,f(x)=&lt;a*x,=&lt;f]=&gt;f; a=1; f(3)=&gt; -> -3
<br>
clear; [a=-1,=&lt;(x)=&lt;a*x]=&gt;f; a=1; f(3)=&gt; -> -3
<br>
clear; [a=-1,=&lt;{(x)=&lt;(a*x)}]=&gt;f; a=1; f(3)=&gt; -> -3
<br>
clear; [a=-1,f(x)=&lt;a*x,=&lt;{f}]=&gt;f; a=1; f(3)=&gt; -> [MyErr]Invalid null=&gt;
<br>
・<a href="#span-out-scope-inherited-call">scope継承call</a>
<br>
clear; [x=-1,g=&lt;x,=&lt;g]=&gt;f; x=1; f==&gt; -> 1
<br>
clear; [x=-1,g=&lt;x,=&lt;g]==&gt;f; x=1; f=&gt; -> 1
<br>
clear; [a=-1,g(x)=&lt;a*x,=&lt;g]=&gt;f; a=1; f(3)==&gt; -> 3
<br>
clear; [a=-1,g(x)=&lt;a*x,=&lt;g]==&gt;f; a=1; f(3)=&gt; -> 3
<br>
・<a href="#span-out-terms">scope変数</a>は演算実行確定1回毎に初期化のため、再利用不可
<br>
clear; [a=-1,=&lt;(x)=&lt;a*x]=&gt;f; f(3)=&gt; -> -3
<br>
f(3)=&gt; -> [MyErr]Invalid binary operation
<br>
・<a href="#span-in-scope-vars">scope-ids</a>初期化のため、再利用の場合、変数を新規定義
<br>
a=1; f(3)=&gt; -> 3
<br>
・<a href="#span-out-substitution">変数への代入</a>||<a href="#span-out-FNmh-EX">symbolic高階行列関数</a>同様に、0を返す
<br>
clear; a=&lt;1; a=&gt;b -> 0
<br>
clear; a=&lt;1; a==&gt;b -> 0
<br>
clear; [v=&lt;{1,2},v=v=&gt;v,=&lt;v]=&gt; -> 0
<br>
・<a href="#span-out-substitution-equation">式代入</a>の場合、<a href="#span-out-BT">括弧</a>が必要
<br>
clear; make_f(hasMinus)=&lt;[hasMinus&amp;&amp;&amp;(f(x)=&lt;-x)||||(f(x)=&lt;x),=&lt;f]=&gt;f;
<br>
make_f(false)=&gt;,f(1)=&gt;,make_f(true)=&gt;,f(1)=&gt; -> (0,0,1,0,-1)
<br>
・式読出しの場合、<a href="#span-out-BT">括弧</a>が不要
<br>
clear; fm(x)=&lt;-x,fp(x)=&lt;x,make_f(hasMinus)=&lt;[hasMinus&amp;&amp;&amp;fm=&gt;f||||fp=&gt;f,=&lt;f]=&gt;f;
<br>
make_f(false)=&gt;,f(1)=&gt;,make_f(true)=&gt;,f(1)=&gt; -> (0,0,1,0,-1)
<br>
・<a href="#span-out-FNh-switch">switch高階関数</a>の場合、<a href="#span-eqn-implicit-Euler_method">implicit Euler_method</a>参照
<br>
clear; make_f(hasMinus)=&lt;switch(hasMinus,=&lt;f(x)=&lt;-x:1,=&lt;f(x)=&lt;x);
<br>
make_f(false)=&gt;,f(1)=&gt;,make_f(true)=&gt;,f(1)=&gt; -> (0,0,1,0,-1)
<br>
<br>
test caseを列挙する
<br>
・<span class="run">Ver.2.253.59</span>以降、式変数の新規複製の仕様廃止
<br>
<del>clear; [v=&lt;(1,2),v=&gt;v,=&lt;v]=&gt; -> (1,2)
<br>
clear; [v=&lt;{1,2},v=&gt;v,=&lt;v]=&gt; -> (1:2)
<br>
clear; [a=1,b=2,last{v=&lt;{a,b},v=&gt;v},a=-1,b=-2,=&lt;v]=&gt; -> (-1:-2)</del>
<br>
clear; [a=1,b=2,last{v=&lt;{a,b},v=&gt;v},v=v=&gt;,a=-1,b=-2,=&lt;v]=&gt; -> (1:2)
<br>
clear; [a=1,b=2,last{v=&lt;{a,b},v=&gt;v},a=-1,b=-2,=&lt;v=&gt;]=&gt; -> (-1:-2)
<br>
clear; [a=1,b=2,last{v=&lt;{a,b},v=&gt;v0},a=-1,b=-2,=&lt;v=&gt;]=&gt; -> (-1:-2)
<br>
clear; [a=1,b=2,v=&lt;{a,b},v=v=&gt;v,a=-1,b=-2,=&lt;v]=&gt; -> 0
<br>
clear; [a=1,b=2,v=&lt;{a,b},v=v=&gt;v,a=-1,b=-2,=&lt;v=&gt;]=&gt; -> (-1:-2)
<br>
clear; g(x)=&lt;a*x; a=1,[a=2,=&lt;(x)=&lt;[a=3,=&lt;g(x)=&gt;]=&gt;]=&gt;f; f(-1)=&gt;,f(-1)==&gt; -> (-1,-1)
<br>
clear; g(x)=&lt;a*x; a=1,[a=2,=&lt;(x)=&lt;[a=3,=&lt;g(x)=&gt;]==&gt;]=&gt;f; f(-1)=&gt;,f(-1)==&gt; -> (-1,-1)
<br>
clear; g(x)=&lt;a*x; a=1,[a=2,=&lt;(x)=&lt;[a=3,=&lt;g(x)==&gt;]=&gt;]=&gt;f; f(-1)=&gt;,f(-1)==&gt; -> (-3,-3)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式渡し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-pass-by-equation"></span>
式渡しの入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-FN">関数</a>の引数に式を渡す場合、値渡しに対して式渡しと定義する
<br>
・この場合の関数を<a href="#span-out-FNh">高階関数</a>と定義する
<br>
<br>
式渡しの方法（<a href="#span-out-substitution-equation">式代入</a>記号=&lt;を流用）
<br>
=&lt;<a href="#span-out-vars-symbol">式変数名symbol</a>||展開式
<br>
・<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を追加
<br>
(args)=&lt;<a href="#span-out-vars-symbol">式変数名symbol</a>||展開式
<br>
<br>
<span class="run">Ver.2.30.15</span>以降、<a href="#span-out-FN">関数</a>の引数に限定して、<a href="#span-out-substitution-equation">式代入</a>同様に、式渡しの仕様を緩和
<br>
・<a href="#span-out-FNh-SX">総和高階関数</a>を使用
<br>
・次の場合、<a href="#span-out-vars-symbol">式変数名symbol</a>と判別する
<br>
clear; _sn(=&lt;n,0,2) -> [MyErr]Invalid =&lt;eqn
<br>
clear; n=1; _sn(=&lt;n,0,2) -> [MyErr]Invalid =&lt;eqn
<br>
clear; n=&lt;n; _sn(=&lt;n,0,2) || 0+1+2 -> 3
<br>
・次の場合、dummy変数と判別する
<br>
clear; _sn(=&lt;{n},0,2) || 0+1+2 -> 3
<br>
clear; n=2; _sn(=&lt;{n},0,2) || 0+1+2 -> 3
<br>
・次の場合、<a href="#span-out-BT">括弧</a>省略と判別する
<br>
clear; _sn(=&lt;n+1,0,2) || _sn(=&lt;{n+1},0,2) || 1+2+3 -> 6
<br>
clear; n=&lt;n; _sn(=&lt;n=&gt;,0,2) || _sn(=&lt;{n=&gt;},0,2) || 0+1+2 -> 3
<br>
・次の場合、<a href="#span-out-BT">括弧</a>省略と判別する
<br>
clear; _sn(=&lt;1,0,2) || _sn(=&lt;{1},0,2) || 1+1+1 -> 3
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-substitution-equation">式代入</a>同等の<a href="#span-out-prec">演算のprecedence</a>
<br>
<br>
実装の詳細は<a href="#span-in-pass-by-equation">内部仕様</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
直接式読出し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-no-name-short"></span>
直接式読出しの入力仕様と付随する留意事項について記述する
<br>
<br>
Native無名関数を代替する式渡しの直接式読出し（<span class="run">Ver.2.195.45</span>以降、<a href="#span-out-eqns-no-name">無名call</a>のarguments省略）
<br>
・記号の定義
<br>
pass記号：=&lt;　⇔　<a href="#span-in-pass-by-equation">遅延評価</a>の<a href="#span-out-eqns-return">return</a>
<br>
call記号：=&gt;　⇔　関数callの<a href="#span-out-BT">丸括弧()</a>
<br>
・(function(){return 3;})();
<br>
(=&lt;3)=&gt; || {=&lt;3}=&gt; -> 3
<br>
(=&lt;{3})=&gt; || {=&lt;{3}}=&gt; -> 3
<br>
=&lt;3=&gt; || =&lt;(3)=&gt; || =&lt;{3}=&gt; -> [MyErr]Invalid BTe([object Object],[object Object])
<br>
3=&gt; || (3)=&gt; || {3}=&gt; -> [MyErr]Invalid mat([object Object])
<br>
clear; a=3; a=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; a=3; (a)=&gt; || {a}=&gt; -> [MyErr]Invalid mat([object Object])
<br>
clear; a=3; [a]=&gt; -> [MyErr]Invalid reference
<br>
・(function(){1; 2; return 3;})();
<br>
(1,2,=&lt;3)=&gt; || {1,2,=&lt;3}=&gt; -> 3
<br>
・<a href="#span-out-FNm-last">最終要素</a>が値の場合、error終了
<br>
(1,2,3)=&gt; || {1,2,3}=&gt; -> [MyErr]Invalid mat([object Object])
<br>
((,:,),=&lt;1)=&gt; -> [MyErr]Invalid mat([object Object])
<br>
((,:,):=&lt;1)=&gt; -> 1
<br>
・(function(){var a=1; var b=2; var c=3; return [a,b,c];})();
<br>
(a=1,b=2,c=3,=&lt;(a,b,c))=&gt; -> (1,2,3)
<br>
{a=1,b=2,c=3,=&lt;(a,b,c)}=&gt; -> (1,2,3)
<br>
・(function(){return 0; return 1;})();
<br>
(=&lt;0,=&lt;1)=&gt; -> 1
<br>
(=&lt;0,=&lt;1,2)=&gt; -> [MyErr]Invalid mat([object Object])
<br>
・複数列挙の場合、<a href="#span-out-eqns-return">末尾return</a>のみ取り出す（途中return不可）
<br>
[a=1,=&lt;a=2,=&lt;a=3,=&lt;a]=&gt; || [a=1,=&lt;a]=&gt; -> 1
<br>
(=&lt;(,:,),=&lt;1)=&gt; || (,=&lt;1)=&gt; -> 1
<br>
(=&lt;(,:,):=&lt;1)=&gt; || (:=&lt;1)=&gt; -> 1
<br>
・<a href="#span-out-FNm-last">last行列関数</a>は<a href="#span-out-FNm-last">最終要素</a>のみ取り出す
<br>
clear; (x=(1,2),=&lt;x)=&gt; -> (1,2)
<br>
clear; {x=(1,2:3,4),x=-x,=&lt;x}=&gt; -> (-1,-2:-3,-4)
<br>
clear; last(x=(1,2),x) -> 2
<br>
clear; last{x=(1,2:3,4),x=-x,x} -> -4
<br>
・式変数の場合も同様
<br>
clear; f=&lt;{x}; x=(1,2); f=&gt; -> (1,2)
<br>
clear; (f=&lt;{x},x=(1,2),=&lt;f)=&gt; -> (1,2)
<br>
clear; (f=&lt;{x},x=(1,2),f) -> (0,0,1,2)
<br>
clear; (f=&lt;{x},x=(1,2),f)=&gt; -> [MyErr]Invalid mat([object Object])
<br>
clear; last(f=&lt;{x},x=(1,2),f) -> 2
<br>
clear; last(f=&lt;{x},x=(1,2),=&lt;f) -> [MyErr]Invalid BTe([object Object])
<br>
clear; (f=&lt;{x},x=(1,2),=&lt;f) -> [MyErr]Invalid BTe([object Object])
<br>
clear; (f=&lt;{x},x=(1,2),eqn_f=&lt;f); eqn_f -> (1,2)
<br>
・<a href="#span-out-config-strict">strict-mode</a>の場合、式変数の式読出し記号=&gt;省略不可（<a href="#span-out-eqns">式変数</a>のreturn不可）
<br>
clear; a=1; (=&lt;a)=&gt; -> 1
<br>
clear; a=&lt;2; (=&lt;a)=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; a=1; a=&lt;2; (=&lt;a)=&gt; -> 1
<br>
clear; a=1; a=&lt;2; (=&lt;a=&gt;)=&gt; -> 2
<br>
clear; (f=&lt;{x},x=(1,2),=&lt;f)=&gt; -> [MyErr]Invalid REv(f)
<br>
clear; (f=&lt;{x},x=(1,2),=&lt;f=&gt;)=&gt; -> (1,2)
<br>
clear; (f=&lt;x,x=(1,2),=&lt;f=&gt;)=&gt; -> (1,2)
<br>
clear; (f=&lt;x,x=&lt;(1,2),=&lt;f=&gt;)=&gt; -> [MyErr]Invalid REv(x)
<br>
clear; (f=&lt;x=&gt;,x=&lt;(1,2),=&lt;f=&gt;)=&gt; -> (1,2)
<br>
clear; (f=&lt;{x=&gt;},x=&lt;(1,2),=&lt;{f=&gt;})=&gt; -> (1,2)
<br>
clear; (f=&lt;{(x=&gt;)},x=&lt;(1,2),=&lt;{(f=&gt;)})=&gt; -> (1,2)
<br>
<br>
<span class="clear">Ver.2.27.15</span>以降、式渡しの直接式読出しのnestingに対応
<br>
clear; (f=&lt;{(x=&gt;)},x=&lt;(1,2),=&lt;{=&lt;{(f=&gt;)}}=&gt;)=&gt; -> (1,2)
<br>
・<a href="#span-out-debug">debugger</a>なしで無名関数の最短表記を許容
<br>
・(function(){return (function(){return (function(){return 3;})();})();})();
<br>
(=&lt;(=&lt;(=&lt;3)=&gt;)=&gt;)=&gt; -> 3
<br>
・(function(){return (function(){return (function(){return 3;})()+1;})()+2;})();
<br>
(=&lt;(=&lt;(=&lt;3)=&gt;+1)=&gt;+2)=&gt; -> 6
<br>
・var a=3; (function(){return (function(){return (function(){return a;})();})();})();
<br>
clear; a=3; (=&lt;(=&lt;(=&lt;{a})=&gt;)=&gt;)=&gt; -> 3
<br>
clear; a=&lt;3; (=&lt;(=&lt;(=&lt;{a=&gt;})=&gt;)=&gt;)=&gt; -> 3
<br>
・var a=[1,2]; (function(){1; return (function(){1; return (function(){1; return a;})();})();})();
<br>
clear; a=(1,2); (1,=&lt;(1,=&lt;(1,=&lt;{a})=&gt;)=&gt;)=&gt; -> (1,2)
<br>
clear; a=&lt;(1,2); (1,=&lt;(1,=&lt;(1,=&lt;{a=&gt;})=&gt;)=&gt;)=&gt; -> (1,2)
<br>
・(function(){return (function(){var a=1; return (function(){return 3;})()+a;})()*2;})();
<br>
clear; (=&lt;(=&lt;(a=1,=&lt;3)=&gt;+a)=&gt;*2)=&gt; -> 8
<br>
clear; (=&lt;(a=1,=&lt;(=&lt;3)=&gt;+a)=&gt;*2)=&gt; -> 8
<br>
clear; (a=1,=&lt;(=&lt;(=&lt;3)=&gt;+a)=&gt;*2)=&gt; -> 8
<br>
clear; a=1,(=&lt;(=&lt;(=&lt;3)=&gt;+a)=&gt;*2)=&gt; -> (0,8)
<br>
・(function(){var a=1; return (function(){return (function(){return 3;})()+1;})()*a;})();
<br>
clear; (=&lt;(=&lt;(a=1,=&lt;3)=&gt;+1)=&gt;*a)=&gt; -> 4
<br>
clear; (=&lt;(a=1,=&lt;(=&lt;3)=&gt;+1)=&gt;*a)=&gt; -> 4
<br>
clear; (a=1,=&lt;(=&lt;(=&lt;3)=&gt;+1)=&gt;*a)=&gt; -> 4
<br>
clear; a=1,(=&lt;(=&lt;(=&lt;3)=&gt;+1)=&gt;*a)=&gt; -> (0,4)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式変数への
<br>
式代入
<br>
入力仕様
    </th>
    <td>
<span id="span-out-substitution-equation"></span>
式変数への式代入の入力仕様と付随する留意事項について記述する
<br>
<br>
<del>循環参照の場合、error終了</del><span class="run">Ver.2.194.45</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-out-eqns-re-call">再帰call</a>に対応
<br>
・<a href="#span-out-FNh-RX">再帰高階関数</a>で代替のrecursive call非対応（<a href="#span-out-callstack">call stack</a>の独自実装なし）
<br>
clear; a=&lt;a; a -> <del>[MyErr]Invalid circular(a)</del>Maximum call stack size exceeded
<br>
clear; a=&lt;{a}; a -> <del>[MyErr]Invalid circular(a)</del>Maximum call stack size exceeded
<br>
clear; a=&lt;a=&gt;; a -> <del>[MyErr]Invalid circular(a)</del>Maximum call stack size exceeded
<br>
clear; a=&lt;{a=&gt;}; a -> <del>[MyErr]Invalid circular(a)</del>Maximum call stack size exceeded
<br>
・<a href="#span-out-config-strict">strict-mode</a>の場合
<br>
clear; a=&lt;a=&gt;; a=&gt; -> <del>[MyErr]Invalid circular(a)</del>Maximum call stack size exceeded
<br>
clear; a=&lt;{a=&gt;}; a=&gt; -> <del>[MyErr]Invalid circular(a)</del>Maximum call stack size exceeded
<br>
<br>
<span class="run">Ver.2.19.6</span>以降、<a href="#span-out-FN">関数</a>のre-nameの仕様を廃止（無駄仕様と判断）
<br>
<del>
式変数名=&lt;関数名として<a href="#span-out-FN">関数</a>名を任意に変更可
<br>
clear; tr=&lt;trans; tr(1,2:3,4) || (tr=&gt;)(1,2:3,4) -> (1,3:2,4)
<br>
clear; htr=&lt;htrans; htr((htr(i,2i:3i,4i))[1]) -> (2i:4i)
<br>
clear; tr=&lt;trans; tr[2] -> [MyErr]Invalid FNm(transpose)
<br>
clear; trans=&lt;trans -> [MyErr]Invalid FNm(transpose)
<br>
・<a href="#span-out-FNh">高階関数</a>の場合
<br>
clear; d=&lt;_d -> [MyErr]Invalid FNh called
<br>
clear; dx=&lt;_dx; dx(=&lt;{x^2},1,2)
<br>
-> 3.999999999999929+3.5537737875913754e-14i+O(2e-11+1e-12i)
</del>
<br>
<br>
式代入を<a href="#span-out-BT">括弧</a>で括った場合、0を返す
<br>
(x=&lt;3) -> 0
<br>
<br>
式代入をcomma,||colon:で区切った場合、0を返す
<br>
clear; x=&lt;2,3x -> (0,6)
<br>
clear; x=&lt;2:3x -> (0:6)
<br>
<br>
詳細は<a href="#span-out-special-substitution">特殊仕様</a>参照
<br>
<br>
式変数を式代入可
<br>
・式読出し記号=&gt;を明示する場合
<br>
clear; eqn_x=&lt;3x; eqn_y=&lt;(eqn_x=&gt;); x=3; eqn_y=&gt; -> 9
<br>
clear; a=&lt;1; b=&lt;a=&gt;; b=&gt; -> 1
<br>
clear; a=&lt;1; b=&lt;a=&gt;; (b)=&gt; -> [MyErr]Invalid mat([object Object])
<br>
clear; a=&lt;1; b=&lt;a=&gt;; (=&lt;{b=&gt;})=&gt; -> 1
<br>
clear; a=&lt;1; b=&lt;a=&gt;; (=&lt;b=&gt;)=&gt; -> 1
<br>
clear; a=&lt;1; b=&lt;a=&gt;; =&lt;b=&gt; -> [MyErr]Invalid BTe([object Object],[object Object])
<br>
・同名の変数未定義の前提で式読出し記号=&gt;を省略する場合
<br>
clear; eqn_x=&lt;3x; eqn_y=&lt;eqn_x; x=3; eqn_y -> 9
<br>
clear; a=&lt;1; b=&lt;a; b -> 1
<br>
clear; a=&lt;1; b=&lt;a; (=&lt;b)=&gt; -> 1
<br>
<br>
式代入のnestingを一例に示す
<br>
・式変数aのみ定義される
<br>
clear; (a=&lt;(b=&lt;{c=&lt;2})); b -> [MyErr]Invalid REv(b)
<br>
clear; (a=&lt;(b={c=2})); b -> [MyErr]Invalid REv(b)
<br>
・式変数aとbを順番に実行することで式変数cが定義される
<br>
clear; (a=&lt;(b=&lt;{c=&lt;2})); a,c -> [MyErr]Invalid REv(c)
<br>
clear; (a=&lt;(b=&lt;{c=&lt;2})); a,b -> (0,0)
<br>
clear; (a=&lt;(b=&lt;{c=&lt;2})); a,b,c -> (0,0,2)
<br>
・式変数aを実行することで<a href="#span-out-vars">変数</a>bとcが定義される
<br>
clear; (a=&lt;(b={c=2})); a,c -> (0,2)
<br>
clear; (a=&lt;(b={c=2})); a,b -> (0,0)
<br>
clear; (a=&lt;(b={c=2})); a,b,c -> (0,0,2)
<br>
・以下、同様
<br>
clear; {a=&lt;((b=&lt;1),{c=&lt;2})}=(d=&lt;3)+1; a,b,c,d -> (0,0,1,2,3)
<br>
clear; ({a=&lt;((b=&lt;1),{c=&lt;b+1})}=(d=&lt;c+1)+d) -> [MyErr]Invalid binary operation
<br>
clear; ({a=&lt;((b=&lt;1),{c=&lt;b+1})}=(d=&lt;c+1)); d -> [MyErr]Invalid binary operation
<br>
clear; ({a=&lt;((b=&lt;1),{c=&lt;b+1})}=(d=&lt;c+1)); a,b,c,d -> (0,0,1,2,3)
<br>
clear; d=&lt;{a=&lt;{(b=&lt;1),{c=&lt;2}}}; a -> [MyErr]Invalid REv(a)
<br>
clear; d=&lt;{a=&lt;{(b=&lt;1),{c=&lt;2}}}; d,b -> [MyErr]Invalid REv(b)
<br>
clear; d=&lt;{a=&lt;{(b=&lt;1),{c=&lt;2}}}; d,c -> [MyErr]Invalid REv(c)
<br>
clear; d=&lt;{a=&lt;{(b=&lt;1),{c=&lt;2}}}; d,a,b,c -> (0,0,1,2:0,0)
<br>
<br>
応用例は<a href="#span-out-plot2d-command">plot2d-command</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope
<br>
継承pass
<br>
入力仕様
    </th>
    <td>
<span id="span-out-scope-inherited-pass"></span>
式変数のscope継承passの入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.219.50</span>以降、式渡し記号==&lt;を追加
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope
<br>
継承call
<br>
入力仕様
    </th>
    <td>
<span id="span-out-scope-inherited-call"></span>
式変数のscope継承callの入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-bracket">直列scope内</a>の<a href="#span-out-eqns">式変数</a>をcallする際、<a href="#span-out-pass-by-equation">式読出し</a>時の<a href="#span-out-bracket">階層</a>を継承する場合
<br>
・<a href="#span-out-eqns">式変数</a>のscope継承callと定義する
<br>
・Nativeの.call(this)を想定するが、
<br>
・thisの<a href="#span-out-bracket">直列scope内</a>の<a href="#span-in-scope-vars">upper-scope</a>を含めて継承後、callする点で異なる
<br>
・<span class="clear">Ver.2.830.140</span>以降、<a href="#span-out-eqns-no-name">無名call</a>のscope継承の不具合を修正
<br>
clear; f=&lt;a=1; [f==&gt;,hass(a)],hass(a) -> (0,true,false)
<br>
clear; arr_f=(()=&lt;a=1); [(arr_f[0])==&gt;,hass(a)],hass(a) -> <del>(0,false,true)</del>(0,true,false)
<br>
clear; [g(x)=&lt;x,=&lt;g]=&gt;f; f(2) -> 2
<br>
clear; [g(x)=&lt;x,=&lt;g]==&gt;f -> <del>0</del>[MyErr]Undef var(g)
<br>
<br>
<span class="run">Ver.2.31.17</span>以降、追加の<a href="#span-out-eqns-call">式読出し</a>記号==&gt;を使用
<br>
・test caseを列挙する
<br>
clear; a=&lt;b; [b=1,=&lt;a=&gt;]=&gt; -> [MyErr]Invalid REv(b)
<br>
clear; a=&lt;b; [b=1,=&lt;a==&gt;]=&gt; -> 1
<br>
clear; a=&lt;b; [b=1,=&lt;a==&gt;]==&gt; -> 1
<br>
clear; a=&lt;b; [b=1,=&lt;[=&lt;a==&gt;]=&gt;]=&gt; -> 1
<br>
clear; a=&lt;b; [=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 1
<br>
clear; a=&lt;b; [b=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;+a=&gt;]=&gt; -> [MyErr]Invalid BRsa operation
<br>
clear; a=&lt;b; [b=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;+a==&gt;]=&gt; -> 3
<br>
clear; a=&lt;b; [b=3,=&lt;[b=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;+a==&gt;]=&gt;+a==&gt;]=&gt; -> 6
<br>
clear; a=&lt;b+c; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 3
<br>
clear; a=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
clear; a=&lt;b+c+d; [d=3, c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
clear; [a=&lt;b+c+d, d=3, c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
clear; [d=3, c=2,=&lt;[a=&lt;b+c+d, b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
・<span class="run">Ver.2.90.32</span>以降、<a href="#span-out-FN-statistic">sum関数</a>を追加
<br>
clear; a=&lt;<span class="run">sum</span>(b,c,d); d=3; [c=2,=&lt;[b=1,=&lt;a=&gt;]=&gt;]=&gt; -> [MyErr]Invalid BRsa operation
<br>
clear; a=&lt;<span class="run">sum</span>(b,c,d); d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
・<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を追加
<br>
clear; a(b,c,d)=&lt;<span class="run">sum</span>(b,c,d); d=3; [c=2,=&lt;[b=1,=&lt;a(b,c,d)=&gt;]=&gt;]=&gt; -> 6
<br>
clear; a(b,c,d)=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a(b,c,d)=&gt;]=&gt;]=&gt; -> 6
<br>
clear; a(b,c,d)=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a=&gt;]=&gt;]=&gt; -> [MyErr]Invalid binary operation
<br>
clear; a(b,c,d)=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
clear; a=&lt;last[<span class="run">s</span>=b+c+d,<span class="run">s</span>]; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
clear; a=&lt;last[<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]]; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> -6
<br>
clear; a=&lt;last[<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]]; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> -6
<br>
clear; a=&lt;last[<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]]; d=3; [c=2,=&lt;[c=-c,b=1,=&lt;a==&gt;]=&gt;]=&gt; -> -2
<br>
clear; a=&lt;last[<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]]; d=3; [c=-d,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> -1
<br>
clear; a=&lt;last{<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]}; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> -6
<br>
clear; a=&lt;last{d=-100,<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]}; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 97
<br>
・callする<a href="#span-out-eqns">式変数</a>の0<a href="#span-out-bracket">階層</a>に宣言される<a href="#span-out-vars">変数</a>はcall先<a href="#span-out-bracket">scope</a>に定義する
<br>
clear; a=&lt;last{d=-100,<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]}; d=3; [c=2,=&lt;[b=1,a==&gt;,=&lt;d]=&gt;]=&gt; -> -100
<br>
clear; a=&lt;last{d=-100,<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]}; [c=2,=&lt;[d=3,b=1,a==&gt;,=&lt;d]=&gt;]=&gt; -> -100
<br>
clear; [a=&lt;last{d=-100,<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]},c=2,=&lt;[d=3,b=1,a==&gt;,=&lt;d]=&gt;]=&gt; -> -100
<br>
・callする<a href="#span-out-eqns">式変数</a>の1<a href="#span-out-bracket">階層</a>に宣言される場合、call先から参照不可
<br>
clear; a=&lt;last[d=-100,<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]]; [c=2,=&lt;[d=3,b=1,a==&gt;,=&lt;d]=&gt;]=&gt; -> 3
<br>
clear; [a=&lt;last[d=-100,<span class="run">s</span>=b+c+d,last[,-<span class="run">s</span>]],c=2,=&lt;[d=3,b=1,a==&gt;,=&lt;d]=&gt;]=&gt; -> 3
<br>
・scope継承callのnesting
<br>
clear; a=&lt;b; b=0; last[b=1,c=&lt;a=&gt;,[b=2,c=&gt;]] -> 0
<br>
clear; a=&lt;b; b=0; last[b=1,c=&lt;a=&gt;,[b=2,c==&gt;]] -> 0
<br>
clear; a=&lt;b; b=0; last[b=1,c=&lt;a==&gt;,[b=2,c=&gt;]] -> 1
<br>
clear; a=&lt;b; b=0; last[b=1,c=&lt;a==&gt;,[b=2,c==&gt;]] -> 2
<br>
clear; a=&lt;b==&gt;; b=&lt;0; last[b=&lt;1,c=&lt;a==&gt;,[b=&lt;2,c==&gt;]] -> 2
<br>
<br>
実装logicのtest caseを以下に示す
<br>
・<a href="#span-out-eqns">式変数</a>s0のcall後、<a href="#span-in-scope-vars">scopes2d array</a>の各<a href="#span-out-bracket">scope</a>に各<a href="#span-out-vars">変数</a>が定義されることを確認する
<br>
clear; s0=&lt;[s1=1,[s1,s2=2,[s2,s3=3,[s3,s4=4,[s4,s5=5]]]]]; s0=&gt; -> (0,1,0,2,0,3,0,4,0)
<br>
clear; s0=&lt;[s1=1,[s1,s2=2,[s2,s3=3,[s3,s4=4,[s4,s5=5]]]]]; [s0=&gt;,] -> (0,1,0,2,0,3,0,4,0,0)
<br>
・<a href="#span-out-eqns">式変数</a>s2のcall後、<a href="#span-in-scope-vars">scopes2d array</a>の各<a href="#span-out-bracket">scope</a>に各<a href="#span-out-vars">変数</a>が定義されることを確認する
<br>
clear; s0=0,[s1=1,[s2=&lt;[s3=s1+2,[s4=s3+1,s4]],[s5=last[s2==&gt;],s5]]] -> (0,0,0,0,4)
<br>
・<a href="#span-out-eqns">式変数</a>s0の通常call=&gt;の場合、<a href="#span-out-vars">変数</a>s0はlocal storageに定義される
<br>
clear; s0=&lt;s0=[s1=1,[s1,s2=2,[s2,s3=3]]]; [s0=&gt;,s0,hasVar(s0),hasV(s0)] -> (0,0,1,0,2,0,1,1)
<br>
・<a href="#span-out-eqns">式変数</a>s0のscope継承call==&gt;の場合、<a href="#span-out-vars">変数</a>s0はscope内に定義される
<br>
clear; s0=&lt;s0=[s1=1,[s1,s2=2,[s2,s3=3]]]; [s0==&gt;,s0,hasVar(s0),hasV(s0)] -> (0,0,1,0,2,0,0,1)
<br>
<br>
詳細は<a href="#span-in-scope-vars">変数のscope</a>内部仕様参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope
<br>
継承call
<br>
の補足
    </th>
    <td>
<span id="span-out-scope-inherited-call-memo"></span>
式変数のscope継承callの補足について記述する
<br>
<br>
<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>の仕様を列挙する
<br>
・<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>は宣言時の<a href="#span-out-bracket">階層</a>に依存するため、次の場合、error終了
<br>
let a=()=&gt;b; (function(){let b=1; return a();})();  <span class="selection">// ES6</span> -> b is not defined
<br>
clear; a=&lt;b; [b=1,=&lt;a=&gt;]=&gt; -> [MyErr]Invalid REv(b)
<br>
・<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>を使用して<a href="#span-out-pass-by-equation">式読出し</a>時の<a href="#span-out-bracket">階層</a>を継承する
<br>
clear; a=&lt;b; [b=1,=&lt;a==&gt;]=&gt; -> 1
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>を使用して<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>を代替する
<br>
clear; a(b)=&lt;b; [b=1,=&lt;a(b)=&gt;]=&gt;  <span class="selection">// better</span> -> 1
<br>
・<a href="#span-out-eqns">式変数</a>の定義元に対してcall先と区別する
<br>
・<a href="#span-out-eqns-args">定義元arguments</a>の<a href="#span-out-vars-symbol">変数名symbol</a>は独立する
<br>
詳細は<a href="#span-out-development-problems-CBR">未実装の参照渡し</a>参照
<br>
clear; a(b)=&lt;last(b=-1,b); (b=1,a(b)=&gt;,b) -> (0,-1,1)
<br>
clear; a(B)=&lt;{B[0]=B[1],=&lt;B}=&gt;; B=(1,2:3,4); (B,a(=&lt;B)=&gt;,B) ->
<br>
(
<br>
1,2,3,4,1,2:
<br>
3,4,3,4,3,4
<br>
)
<br>
<br>
<span class="run">Ver.2.33.18</span>以降、<a href="#span-out-eqns-args">定義元arguments</a>の<a href="#span-out-vars">変数</a>は宣言時の<a href="#span-out-bracket">階層</a>に依存する（<span class="run">Ver.2.70.28</span>追記）
<br>
・定義元とcall先の<a href="#span-out-bracket">scope</a>が同一の場合
<br>
　・<a href="#span-out-pass-by-symbol">symbol渡し</a>の場合、定義元とcall先のAは同一
<br>
clear; add(A,B)=&lt;A+B; A=(1,2:3,4); add(=&lt;A,=&lt;A) -> (2,4:6,8)
<br>
　
<del>
・<a href="#span-out-pass-by-equation">式渡し</a>の場合、A[1]のcall時、A=A[0]更新後のA=(1,2)を参照するため、error終了
<br>
clear; add(A,B)=&lt;A+B; A=(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> [MyErr]Invalid reference of array
<br>
clear; add(A,B)=&lt;A+B; A=&lt;(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> [MyErr]Invalid reference of array
</del>
<br>
　・<span class="clear">Ver.2.71.29</span>以降、<a href="#span-out-eqns-args">定義元arguments</a>の<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の初期化algorithmを修正
<br>
clear; add(A,B)=&lt;A+B; A=(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
clear; add(A,B)=&lt;A+B; A=&lt;(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
・<a href="#span-out-eqns-args">定義元arguments</a>の<a href="#span-out-vars-symbol">変数名symbol</a>を区別する場合
<br>
clear; add(A_,B_)=&lt;A_+B_; A=(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
clear; add(A_,B_)=&lt;A_+B_; A=&lt;(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
・<a href="#span-out-vars">変数</a>と<a href="#span-out-eqns">式変数</a>の<a href="#span-out-vars-symbol">変数名symbol</a>を区別する場合
<br>
clear; add(A,B)=&lt;A+B; A=&lt;(1,2:3,4); add(=&lt;A[0]=&gt;,=&lt;A[1]=&gt;) -> (4,6)
<br>
clear; add(=&lt;A,=&lt;B)=&lt;A=&gt;+B=&gt;; A=(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
・定義元とcall先の<a href="#span-out-bracket">scope</a>を区別する場合
<br>
clear; add(A,B)=&lt;[A+B]; A=(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
clear; add(A,B)=&lt;[A+B]; A=&lt;(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
clear; add(=&lt;A,=&lt;B)=&lt;[A=&gt;+B=&gt;]; A=(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;[A_=&gt;+B_=&gt;]; A=&lt;(1,2:3,4); add(=&lt;A[0],=&lt;A[1]) -> (4,6)
<br>
<br>
<span class="run">Ver.2.33.18</span>以降、<a href="#span-out-eqns-args">定義元arguments</a>の<a href="#span-out-eqns">式変数</a>は宣言時の<a href="#span-out-bracket">階層</a>に依存する
<br>
・<span class="run">Ver.2.219.50</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>記号=&lt;の仕様を変更（元scopeを維持）
<br>
・通常callの場合
<br>
clear; conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,conv(=&lt;a)=&gt;] -> [MyErr]Undef eqn(a)
<br>
clear; conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,a=&lt;a,conv(=&lt;a)=&gt;] -> <del>[MyErr]Invalid REv(a)</del>(0,0,0,3)
<br>
clear; conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,conv(=&lt;(a))=&gt;] -> <del>[MyErr]Invalid REv(a)</del>(0,0,3)
<br>
clear; [conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,conv(=&lt;(a))=&gt;]] -> <del>[MyErr]Invalid REv(a)</del>(0,0,3)
<br>
・定義元で宣言される<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>は定義元<a href="#span-out-bracket">scope</a>に定義する
<br>
clear; conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,a=&lt;a,conv(=&lt;a)=&gt;,a],a -> (0,0,0,<del>-3</del>3,3,-3)
<br>
clear; conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,conv(=&lt;(a))=&gt;,a],a -> (0,0,<del>-3</del>3,3,-3)
<br>
clear; [conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,conv(=&lt;(a))=&gt;,a],a] -> (0,0,<del>-3</del>3,3,-3)
<br>
clear; [conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,conv(=&lt;(a))=&gt;,a],a],a -> [MyErr]Invalid REv(a)
<br>
・<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>の場合
<br>
clear; conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,a=&lt;a,conv(=&lt;a)==&gt;,a] -> (0,0,0,3,3)
<br>
clear; conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,a] -> (0,0,3,3)
<br>
clear; [conv(=&lt;a_)=&lt;last(a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,a]] -> (0,0,3,3)
<br>
・定義元で宣言される<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>はcall先<a href="#span-out-bracket">scope</a>に定義する
<br>
clear; conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,a=&lt;a,conv(=&lt;a)==&gt;,a] -> (0,0,0,-3,-3)
<br>
clear; conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,a] -> (0,0,-3,-3)
<br>
clear; [conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,a]] -> (0,0,-3,-3)
<br>
clear; [conv(=&lt;a_)=&lt;last(a=-3,a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,a],a] -> [MyErr]Invalid REv(a)
<br>
clear; [conv(=&lt;a_)=&lt;last(b=4,a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,b],b] -> [MyErr]Invalid REv(b)
<br>
clear; [conv(=&lt;a_)=&lt;last(b=4,a_=&gt;),[a=3,conv(=&lt;(a))==&gt;,a,b]] -> (0,0,3,3,4)
<br>
・定義元とcall先の<a href="#span-out-bracket">scope</a>を区別する場合
<br>
・定義元で宣言される<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>はcall先から参照不可
<br>
clear; [conv(=&lt;a_)=&lt;last[b=4,a_=&gt;],[a=3,conv(=&lt;(a))==&gt;,b]] -> [MyErr]Invalid REv(b)
<br>
clear; [conv(=&lt;a_)=&lt;last[b=&lt;4,a_=&gt;],[a=3,conv(=&lt;(a))==&gt;,b=&gt;]] -> [MyErr]Invalid REv(b)
<br>
clear; [conv(=&lt;a_)=&lt;last[b=4,a_=&gt;+b],[a=3,conv(=&lt;(a))==&gt;]] -> (0,0,7)
<br>
clear; [conv(=&lt;a_)=&lt;last[b=&lt;4,a_=&gt;+b=&gt;],[a=3,conv(=&lt;(a))==&gt;]] -> (0,0,7)
<br>
・<a href="#span-out-pass-by-symbol">symbol渡し</a>で定義元<a href="#span-out-bracket">scope</a>を継承する場合
<br>
clear; conv(=&lt;a_)=&lt;(a=-1,=&lt;a+a_=&gt;)=&gt;*2; a=&lt;a; a=1; conv(=&lt;a)=&gt;,a -> (-4,-1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;a)=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;a)=&gt;,a -> (-4,1)
<br>
・<a href="#span-out-pass-by-symbol">symbol渡し</a>を<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>で代替する場合、nestingが必要
<br>
clear; conv(=&lt;a_)=&lt;[=&lt;a+a_=&gt;]=&gt;*2; a=&lt;-a; a=1; conv(=&lt;a)=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[=&lt;a+a_=&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;(a=&gt;))=&gt;,a -> (4,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;(a=&gt;))=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;(a==&gt;))=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;(a=&gt;))=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;*2; a=&lt;a; a=1; conv(=&lt;(a==&gt;))=&gt;,a -> (-4,1)
<br>
・<a href="#span-out-scope-vars-has1BT">単独scope</a>の場合<del>、定義元のみ通常callに短縮可</del>
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;a)=&gt;,a -> (-2,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a))=&gt;,a -> (-2,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a==&gt;))=&gt;,a -> (-2,1)
<br>
clear; conv(==&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;a)=&gt;,a -> (-2,1)
<br>
clear; conv(==&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a==&gt;))=&gt;,a -> (-2,1)
<br>
clear; conv(==&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a=&gt;))=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a==&gt;))=&gt;,a -> <del>(-2,1)</del>(0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_==&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a=&gt;))=&gt;,a -> (0,1)
<br>
clear; conv(=&lt;a_)=&lt;[a=-1,=&lt;a+a_=&gt;]=&gt;; a=&lt;a; a=1; conv(=&lt;(a=&gt;))=&gt;,a -> (0,1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
arguments
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-args"></span>
式変数のargumentsの入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-eqns">式変数</a>のargumentsは次の関数定義と関数callを代替する
<br>
let add=(a,b)=&gt;a+b; add(1,2)  <span class="selection">// ES6</span> -> 3
<br>
clear; add(a,b)=&lt;a+b; add(1,2)=&gt; || add(1,2) -> 3
<br>
・以降、<a href="#span-out-eqns">式変数</a>の定義元に対してcall先と区別する
<br>
・<span class="clear">Ver.2.791.126</span>以降、<a href="#span-out-pass-by-symbol">symbol渡し</a>||<a href="#span-out-pass-by-name">name渡し</a>の重複宣言を禁止
<br>
clear; f(x,x)=&lt;1 -> [MyErr]Invalid duplicate-args.x(f)
<br>
clear; f(x,=&lt;x)=&lt;1 -> [MyErr]Invalid duplicate-args.x(f)
<br>
clear; f(x,==&lt;x)=&lt;1 -> [MyErr]Invalid duplicate-args.x(f)
<br>
clear; f(x,?x)=&lt;1 -> [MyErr]Invalid duplicate-args.x(f)
<br>
clear; f(x,$x)=&lt;1 -> [MyErr]Invalid duplicate-args.x(f)
<br>
clear; ((1,2,3).map((x,j,j)=&lt;j)) -> [MyErr]Invalid duplicate-args.j(null)
<br>
・<span class="run">Ver.2.823.135</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>の直列化に対応
<br>
m2x2=(1,2:3,4),ab=[1,###m2x2],f(a,b:c,d)=&lt;(a,b,c,d),g(a,=&lt;b:$c,?d)=&lt;(a,b,c,d);
<br>
g(1,=&lt;2,$ab,?f) -> (1,eqn,1,4,eqn(a,b,c,d))
<br>
f(m2x2):f(reshape(m2x2:ab)):f(reshaper(m2x2:ab)):f(reshapec(m2x2:ab)) -> (1,2,3,4:1,2,3,4:1,2,3,4:1,3,2,4)
<br>
<br>
<a href="#span-out-mat">行列</a>の値渡しの場合、<a href="#span-out-pass-by-equation">式渡し</a>を使用
<br>
clear; add(A,B)=&lt;A+B; add((1,2:3,4),(5,6:7,8)) -> [MyErr]Invalid args.length=2(add)
<br>
clear; add(A,B)=&lt;A+B; add(=&lt;(1,2:3,4),=&lt;(5,6:7,8))=&gt; -> (6,8:10,12)
<br>
clear; add(A,B)=&lt;A+B; add(=&lt;(1,2:3,4),=&lt;(5,6:7,8)) -> (6,8:10,12)
<br>
<br>
<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の<a href="#span-out-pass-by-equation">式渡し</a>の場合
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;A_+B_;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;A=&gt;,=&lt;B=&gt;)=&gt; -> (6,8:10,12)
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;A_+B_;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;A=&gt;+A=&gt;,=&lt;B=&gt;+B=&gt;)=&gt; -> (12,16:20,24)
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;A_+B_;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;{A=&gt;+A=&gt;},=&lt;(B=&gt;+B=&gt;))=&gt; -> (12,16:20,24)
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;A_+B_;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;[A=&gt;+A=&gt;],=&lt;[B=&gt;+B=&gt;])=&gt; -> (12,16:20,24)
<br>
<br>
定義元argumentsの<a href="#span-out-vars-symbol">式変数名symbol</a>をunderscoreでescapeする理由を列挙する
<br>
・<a href="#span-out-pass-by-symbol">symbol渡し</a>で<a href="#span-out-eqns">式変数</a>Bの中身をcallする場合、問題なし
<br>
clear; add(A,=&lt;B)=&lt;A+B=&gt;; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B) -> (4,6)
<br>
・定義元から<a href="#span-out-eqns">式変数</a>Bをcallする場合、<a href="#span-out-vars-symbol">式変数名symbol</a>の循環参照（B=&gt;B=&gt;）と判別される
<br>
clear; add(A,=&lt;B)=&lt;A+B=&gt;; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B=&gt;) -> Maximum call stack size exceeded
<br>
・参照上の問題はないため、定義元argumentsの<a href="#span-out-vars-symbol">式変数名symbol</a>をescapeする
<br>
clear; add(A,=&lt;B_)=&lt;A+B_=&gt;; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B=&gt;) -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;A+B_=&gt;; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B) -> (4,6)
<br>
・以降、escape文字は後置のunderscoreで統一する
<br>
clear; add(A,=&lt;B_)=&lt;(A+B_=&gt;); B=&lt;(3,4); add(=&lt;(1,2),=&lt;B=&gt;) -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;(A+B_=&gt;); B=&lt;(3,4); add(=&lt;(1,2),=&lt;B) -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;[A+B_=&gt;]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B=&gt;) -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;[A+B_=&gt;]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B) -> (4,6)
<br>
・定義元argumentsが<a href="#span-out-pass-by-equation">式渡し</a>の場合、<a href="#span-out-vars-symbol">式変数名symbol</a>のみ判別する
<br>
clear; add(A,=&lt;B_)=&lt;[A+B_=&gt;]; B=&lt;(3,4); B=(,); add(=&lt;(1,2),=&lt;B) -> (4,6)
<br>
・定義元argumentsが値渡しの場合、<a href="#span-out-vars-symbol">変数名symbol</a>を優先する
<br>
clear; add(A,B)=&lt;[A+B]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B) -> (4,6)
<br>
clear; add(A,B)=&lt;[A+B]; B=&lt;(3,4); B=(,); add(=&lt;(1,2),=&lt;B) -> (1,2)
<br>
clear; add(A,B)=&lt;[A+B]; B=&lt;(3,4); B=(,); add(=&lt;(1,2),=&lt;B=&gt;) -> (4,6)
<br>
・<a href="#span-out-config-strict">strict-mode</a>の場合、<a href="#span-out-vars-symbol">変数名symbol</a>を厳格に判別する
<br>
clear; add(A,B)=&lt;[A+B]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B)=&gt; -> [MyErr]Invalid BRsa operation
<br>
clear; add(A,B)=&lt;[A]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B)=&gt; -> (1,2)
<br>
clear; add(A,B)=&lt;[B]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B)=&gt; -> [MyErr]Invalid REv(B)
<br>
clear; add(A,B)=&lt;[A+B]; B=&lt;(3,4); B=(,); add(=&lt;(1,2),=&lt;B)=&gt; -> (1,2)
<br>
clear; add(A,B)=&lt;[A+B]; B=&lt;(3,4); B=(,); add(=&lt;(1,2),=&lt;B=&gt;)=&gt; -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;(A+B_=&gt;); B=&lt;(3,4); add(=&lt;(1,2),=&lt;B=&gt;)=&gt; -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;(A+B_=&gt;); B=&lt;(3,4); add(=&lt;(1,2),=&lt;B)=&gt; -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;[A+B_=&gt;]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B=&gt;)=&gt; -> (4,6)
<br>
clear; add(A,=&lt;B_)=&lt;[A+B_=&gt;]; B=&lt;(3,4); add(=&lt;(1,2),=&lt;B)=&gt; -> (4,6)
<br>
<br>
<a href="#span-out-pass-by-equation">式渡し</a>の場合、<a href="#span-out-pass-by-symbol">symbol渡し</a>と異なり、定義元<a href="#span-out-bracket">scope</a>に留意が必要
<br>
・次の場合、B=&gt;を定義元の<a href="#span-out-eqns">式変数</a>B_に継承する
<br>
clear; add(A,=&lt;B_)=&lt;(a=-1,=&lt;A+B_=&gt;)=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;B=&gt;)=&gt; -> (0,6)
<br>
clear; add(A,=&lt;B_)=&lt;(a=-1,=&lt;A+B_=&gt;)=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;[B=&gt;])=&gt; -> (0,6)
<br>
・以上の場合、定義元<a href="#span-out-bracket">scope</a>と<a href="#span-out-storage">local storage</a>が共通で<a href="#span-out-eqns">式変数</a>Bをcallする
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;B=&gt;)=&gt; -> (2,6)
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;[B=&gt;])=&gt; -> (2,6)
<br>
・以上の場合、定義元<a href="#span-out-bracket">scope</a>から参照可能な<a href="#span-out-storage">local storage</a>に定義された<a href="#span-out-eqns">式変数</a>Bをcallする
<br>
・よって定義元<a href="#span-out-bracket">scope</a>を<a href="#span-out-eqns">式変数</a>Bに継承する場合、<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>をnestingする
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_==&gt;]=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;(B==&gt;))=&gt; -> (0,6)
<br>
・独立scopeに<a href="#span-out-eqns">式変数</a>Bが定義された場合、定義元<a href="#span-out-bracket">scope</a>から参照不可
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;;
<br>
[B=&lt;(a,4),a=1,add(=&lt;(1,2),=&lt;B=&gt;)=&gt;] -> [MyErr]Invalid REv(B)
<br>
<br>
<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>を代替する一例を次に示す
<br>
clear; a=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a==&gt;]=&gt;]=&gt; -> 6
<br>
clear; a()=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a()==&gt;]=&gt;]=&gt; -> 6
<br>
clear; a(b,c,d)=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a(b,c,d)]=&gt;]=&gt;  <span class="selection">// better</span> -> 6
<br>
clear; a(b,c,d)=&lt;b+c+d; d=3; [c=2,=&lt;[b=1,=&lt;a(b,c,d)=&gt;]=&gt;]=&gt;  <span class="selection">// better</span> -> 6
<br>
・定義元argumentsの<a href="#span-out-vars-symbol">変数名symbol</a>は独立として<a href="#span-in-scope-vars">static scopes2d array</a>を共有する
<br>
clear; a(b,c,d)=&lt;last{b=-1,b+c+d}; d=3; [c=2,=&lt;[b=1,=&lt;[a(b,c,d),b]]=&gt;]=&gt; -> (4,1)
<br>
clear; a(b,c,d)=&lt;last{b=-1,b+c+d}; d=3; [c=2,=&lt;[=&lt;[a(b,c,d),b]]=&gt;]=&gt; -> [MyErr]Invalid REv(b)
<br>
・通常callの場合、定義元で宣言される<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>は定義元<a href="#span-out-bracket">scope</a>に定義する
<br>
clear; a(b_,c,d)=&lt;last{b=b_,b_+c+d}; d=3; [c=2,=&lt;[=&lt;[a(1,c,d),b]]=&gt;]=&gt;,b -> (6,1,1)
<br>
clear; a(b_,c,d)=&lt;last{b=&lt;1,b_+c+d}; d=3; [c=2,=&lt;[=&lt;[a(1,c,d),b=&gt;]]=&gt;]=&gt;,b=&gt; -> (6,1,1)
<br>
clear; a(b_,c,d)=&lt;last{b=b_,b_+c+d}; d=3; [c=2,=&lt;[=&lt;[a(1,c,d),b_]]=&gt;]=&gt;
<br>
-> [MyErr]Invalid REv(b_)
<br>
<br>
test caseを列挙する
<br>
clear; add(a,b)=&lt;last{a=-1,a+b}; add(last{a=1,a},2)=&gt;,a -> (1,1)
<br>
clear; add(a_,b)=&lt;last{a=-1,a_+b}; add(last{a=1,a},2)=&gt;,a -> (3,-1)
<br>
clear; add(a_,b)=&lt;last{a=-1,a_+b}; add(last{a=1,a},2)=&gt;,a_ -> [MyErr]Invalid REv(a_)
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>に対応
<br>
clear; add(a_,b)=&lt;last[a=-1,a_+b]; add(last{a=1,a},2)=&gt;,a -> (3,1)
<br>
clear; add(a_,b)=&lt;last[a=-1,a_+b]; add(last[a=1,a],2)=&gt;,a -> [MyErr]Invalid REv(a)
<br>
clear; add(a_,b)=&lt;last(a=-1,a_+b); add(last[a=1,a],2)=&gt;,a -> (3,-1)
<br>
clear; conv(=&lt;a)=&lt;last{a=&lt;-1,a=&gt;}; conv(=&lt;last{a=&lt;1,a=&gt;})=&gt; -> -1
<br>
clear; conv(=&lt;a)=&lt;last{a=&lt;-1,a=&gt;}; conv(=&lt;last{a=&lt;1,a=&gt;})=&gt;; a=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; conv(=&lt;a_)=&lt;last{a=&lt;-1,a_=&gt;}; conv(=&lt;last{a=&lt;1,a=&gt;})=&gt;,a=&gt; -> (1,1)
<br>
clear; conv(=&lt;a_)=&lt;last{a=&lt;-1,a_=&gt;}; conv(=&lt;last{a=&gt;})=&gt;,a=&gt; -> (-1,-1)
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_=&gt;]; conv(=&lt;last{a=&gt;})=&gt; -> -1
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_==&gt;]; conv(=&lt;last{a=&gt;})=&gt; -> -1
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_=&gt;]*2; conv(=&lt;last{a=&gt;})=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_==&gt;]*2; conv(=&lt;last{a=&gt;})=&gt; -> -2
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_==&gt;]; conv(=&lt;last[a=&gt;])=&gt; -> [MyErr]Invalid FNm(last)
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_==&gt;]; conv(=&lt;last[,a=&gt;])=&gt; -> -1
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_=&gt;]; conv(=&lt;last[,a=&gt;])=&gt; -> -1
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_=&gt;]; conv(=&lt;last[a=&lt;1,a=&gt;])=&gt; -> 1
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_=&gt;]*2; conv(=&lt;last[,a=&gt;])=&gt; -> [MyErr]Invalid REv(a)
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_==&gt;]*2; conv(=&lt;last[,a=&gt;])=&gt; -> -2
<br>
clear; conv(=&lt;a_)=&lt;last[a=&lt;-1,a_=&gt;]*2; conv(=&lt;last[a=&lt;1,a=&gt;])=&gt; -> 2
<br>
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-call">式読出し</a>記号=&gt;省略時同様に
<br>
clear; add(A,B)=&lt;A+B; add[0](=&lt;(1,2:3,4),=&lt;(5,6:7,8)) || (6,8:10,12)[0] -> (6,8)
<br>
・<a href="#span-out-BT-square">角括弧[]</a>で<a href="#span-out-eqns">式変数</a>の返値の<a href="#span-out-mat">行列</a>要素を参照可
<br>
clear; add(A,B)=&lt;A+B; add[0](=&lt;(1,2:3,4),=&lt;(5,6:7,8))=&gt; -> (6,8)
<br>
clear; add(A,B)=&lt;A+B; add[1](=&lt;(1,2:3,4),=&lt;(5,6:7,8))=&gt; -> (10,12)
<br>
clear; add(A,B)=&lt;A+B; add[0][0](=&lt;(1,2:3,4),=&lt;(5,6:7,8))=&gt; -> 6
<br>
clear; add(A,B)=&lt;A+B; add[1][1](=&lt;(1,2:3,4),=&lt;(5,6:7,8))=&gt; -> 12
<br>
<br>
<span class="run">Ver.2.174.42</span>以降、<a href="#span-out-config-strict">Non-strict-mode</a>のみ、call先argumentsを省略可
<br>
・<span class="run">Ver.2.253.59</span>以降、call先argumentsを省略不可
<br>
clear; f(x)=&lt;2*x+1,x=0,f(x),f=&gt;,f==&gt;:[,x=1,f(x),f=&gt;,f==&gt;:[,x=2,f(x),f=&gt;,f==&gt;]] ->
<br>
<del>(
<br>
0,0,1,1,1:
<br>
0,0,3,1,3:
<br>
0,0,5,1,5
<br>
)</del>[MyErr]Invalid args.length=1(f)
<br>
clear; x(t)=&lt;-t; f=&lt;x+1; f -> [MyErr]Invalid null args(x)
<br>
clear; x(t)=&lt;-t; f=&lt;x=&gt;+1; f -> [MyErr]Invalid binary operation
<br>
clear; x(t)=&lt;-t; t=-999; f=&lt;x=&gt;+1; f -> 1000
<br>
clear; x(t)=&lt;-t; t=-999; [t=1,f=&lt;x=&gt;+1,f] -> (0,0,1000)
<br>
clear; x(t)=&lt;-t; t=-999; [t=1,f=&lt;x==&gt;+1,f] -> (0,0,0)
<br>
clear; x(t)=&lt;-t; t=-999; [t=1,f=&lt;x(t)==&gt;+1,f] -> (0,0,0)
<br>
clear; x(t)=&lt;-t; t=-999; [t=1,f=&lt;x(t)=&gt;+1,f] -> (0,0,0)
<br>
clear; x(t)=&lt;-t; t=-999; [t=1,f=&lt;x(t)+1,f] -> (0,0,0)
<br>
clear; x=&lt;-t; t=-999; [t=1,f=&lt;x+1,f] -> (0,0,1000)
<br>
clear; x=&lt;-t; t=-999; [t=1,f=&lt;x=&gt;+1,f] -> (0,0,1000)
<br>
clear; x=&lt;-t; t=-999; [t=1,f=&lt;x==&gt;+1,f] -> (0,0,0)
<br>
<br>
arguments不正の場合、error終了
<br>
・定義元argumentsに<a href="#span-out-FN">関数</a>を指定した場合、<a href="#span-out-vars-symbol">変数名symbol</a>とは判別されない
<br>
<del>clear; a(max)=&lt;max*2; a(2)=&gt; -> [MyErr]Invalid args.length=0(a)
<br>
clear; a(max)=&lt;max*2; a()=&gt; || max*2 -> [MyErr]Invalid binary operation
<br>
clear; a(max)=&lt;2; a()=&gt; || a()=&lt;2; a()=&gt; || a=&lt;2; a=&gt; -> 2</del>
<br>
・<span class="clear">Ver.2.252.59</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>のerror処理を修正
<br>
clear; a(max)=&lt;max*2; a(2)=&gt; -> [MyErr]Invalid args isFound(a)
<br>
<del>clear; f(3,x)=&lt;x -> stored_eqn(f)
<br>
clear; f(3,x)=&lt;x; f(3,3)=&gt; -> [MyErr]Invalid args.length=0(f)</del>
<br>
clear; f(3,x)=&lt;x -> [MyErr]Invalid args isFound(f)
<br>
・argumentsの<a href="#span-out-vars-symbol">変数名symbol</a>は<a href="#span-out-vars-rule2">変数の命名規則</a>に準拠
<br>
・<span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止する<a href="#span-out-const-vars">const宣言</a>を暫定追加（$開始のbeta版）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
symbol渡し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-pass-by-symbol"></span>
式変数のsymbol渡しの入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-vars-symbol">変数名symbol</a>を<a href="#span-out-pass-by-equation">式渡し</a>する場合、symbol渡しと定義する
<br>
・<span class="clear">Ver.2.251.58</span>以降、symbol渡しの判定を修正
<br>
clear; a=3,f(=&lt;g)=&lt;g(a)=&gt;,f((x)=&lt;<span class="clear">x</span>)=&gt; -> <del>[MyErr]Undef eqn(<span class="clear">x</span>)</del>(0,0,3)
<br>
clear; a=3,f(=&lt;g)=&lt;g(a)=&gt;,f((x)=&lt;x+1)=&gt; -> (0,0,4)
<br>
clear; a=3,f(<span class="clear">(args)</span>=&lt;g)=&lt;g(a)=&gt;,f((x)=&lt;x+1)=&gt; -> <del>(0,0,4)</del>[MyErr]Invalid args(args)=&lt;name
<br>
・<span class="run">Ver.2.833.140</span>以降、symbol渡しの自動展開：なし　⇒　あり
<br>
clear; f(x)=&lt;d=x:[($a)=(=&lt;f/*<a href="#span-out-config-strict">Non-strict-mode</a>*/),b=(=&lt;f),c=[],c.push(=&lt;f),[a,b,c]]
<br>
-> <del>(0:0,0,0,NaN,eqn(x),$f,$f)</del>(0:0,0,0,NaN,eqn(x),eqn(x),eqn(x))
<br>
clear; c=[],c.push(=&lt;f) -> [MyErr]Undef eqn(f)
<br>
・<a href="#span-out-vars">変数</a>を使用
<br>
clear; add(A,B)=&lt;A+B;
<br>
A=(1,2:3,4); B=(5,6:7,8); add(A,B)=&gt; -> [MyErr]Invalid args.length=2(add)
<br>
clear; add(A,B)=&lt;A+B;
<br>
A=(1,2:3,4); B=(5,6:7,8); add(=&lt;A,=&lt;B)=&gt; || add(=&lt;A,=&lt;B) -> (6,8:10,12)
<br>
・<a href="#span-out-eqns">式変数</a>を使用
<br>
clear; add(A,B)=&lt;A+B;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;A,=&lt;B)=&gt; -> (6,8:10,12)
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;A_=&gt;+B_=&gt;;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;A,=&lt;B)=&gt; -> (6,8:10,12)
<br>
clear; add(=&lt;A_,=&lt;B_)=&lt;A_+B_;
<br>
A=&lt;(1,2:3,4); B=&lt;(5,6:7,8); add(=&lt;A,=&lt;B)=&gt; -> (6,8:10,12)
<br>
・call先argumentsは最終行vectorの左から順に参照（<a href="#span-out-FNh">高階関数</a>同様に、<a href="#span-out-ope-extended">拡張機能</a>なし）
<br>
add(1,2:3,4) || add(3,4) -> 7
<br>
add(=&lt;A,=&lt;A:=&lt;B,=&lt;B)=&gt; || add(=&lt;B,=&lt;B) -> (10,12:14,16)
<br>
・引数の要素を指定する場合、引数の右側に<a href="#span-out-reference-mat-index">行列index</a>を追加する
<br>
add(1,2:3,4)[0] || add((1,2:3,4)[0]) || add(1,2) -> 3
<br>
add(=&lt;A,=&lt;A:=&lt;B,=&lt;B)[0]=&gt; || add((=&lt;A,=&lt;A:=&lt;B,=&lt;B)[0])=&gt; || add(=&lt;A,=&lt;A)=&gt; -> (2,4:6,8)
<br>
・引数の要素数が異なる場合、error終了（<a href="#span-out-FN-args">関数の引数</a>と異なり、厳格に判別する）
<br>
add(1,2:3,4)[0][0] -> [MyErr]Invalid args.length=2(add)
<br>
add(=&lt;A,=&lt;A:=&lt;B,=&lt;B)[0][0]=&gt; -> [MyErr]Invalid args.length=2(add)
<br>
add(=&lt;A,=&lt;A,=&lt;A)=&gt; -> [MyErr]Invalid args.length=2(add)
<br>
・返値の要素を指定する場合、式変数名の右側に<a href="#span-out-reference-mat-index">行列index</a>を追加する
<br>
add[0](1,2:3,4)[0] -> 3
<br>
add[1](=&lt;A,=&lt;A:=&lt;B,=&lt;B)[0]=&gt; -> (6,8)
<br>
add[1][1](=&lt;A,=&lt;A:=&lt;B,=&lt;B)[0]=&gt; -> 8
<br>
<br>
symbol渡しの場合、定義元<a href="#span-out-bracket">scope</a>に留意が不要（別<a href="#span-out-bracket">scope</a>を参照するcaseを除く）
<br>
・次の場合、<a href="#span-out-eqns">式変数</a>Bの中身(a,4)を定義元の<a href="#span-out-eqns">式変数</a>B_に継承する
<br>
clear; add(A,=&lt;B_)=&lt;(a=-1,=&lt;A+B_=&gt;)=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;B)=&gt; -> (0,6)
<br>
clear; add(A,=&lt;B_)=&lt;(a=-1,=&lt;A+B_=&gt;)=&gt;; a=1; add(=&lt;(1,2),=&lt;(a,4))=&gt; -> (0,6)
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;B)=&gt; -> (0,6)
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; a=1; add(=&lt;(1,2),=&lt;(a,4))=&gt; -> (0,6)
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; a=1; add(=&lt;(1,2),=&lt;{=&lt;(a,4)}=&gt;)=&gt; -> (0,6)
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; a=1; add(=&lt;(1,2),=&lt;{=&lt;(a,4)}=&gt;)=&gt; -> (0,6)
<br>
・<a href="#span-out-vars-symbol">変数名symbol</a>を<a href="#span-out-BT">括弧</a>で括った場合、<a href="#span-out-pass-by-equation">式渡し</a>と判別される
<br>
clear; add(A,=&lt;B_)=&lt;[a=-1,=&lt;A+B_=&gt;]=&gt;; B=&lt;(a,4); a=1; add(=&lt;(1,2),=&lt;(B))=&gt; -> (2,6)
<br>
・<a href="#span-out-FNh">高階関数</a>のsymbolのみを渡す引数と異なる
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
name渡し
<br>
入力仕様
    </th>
    <td>
<span id="span-out-pass-by-name"></span>
name渡しの入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.246.57</span>以降、式変数のargumentsのname渡しに対応
<br>
・<span class="clear">Ver.2.791.125</span>以降、予期せぬerror終了を修正
<br>
x=1; f(y)=&lt;y; f($x) -> <del>Cannot read properties of null</del>[MyErr]Invalid matching args.y(f)
<br>
x=1; f($y)=&lt;y; f($x) -> 1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope付
<br>
式変数の
<br>
再利用
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-re-use"></span>
scope付式変数の再利用の入力仕様と付随する留意事項について記述する
<br>
<br>
再利用の一例を以下に示す
<br>
clear; add(a,b)=&lt;last[,a+b]; add(1,3) -> 4
<br>
add(1,-3),add(1,i) -> (-2,1+i)
<br>
・値を返す場合、nesting可
<br>
add(1,add(1,add(1,add(1,i)))) -> 4+i
<br>
add(1,add(2,add(3,add(4,i)))) -> 10+i
<br>
add(1,add(1,add(1,add(1,i))add(1,i))add(1,i))add(1,i) -> -5+5i
<br>
・同義
<br>
(1+(1+(1+(1+i)))) -> 4+i
<br>
(1+(2+(3+(4+i)))) -> 10+i
<br>
(1+(1+(1+(1+i))(1+i))(1+i))(1+i) -> -5+5i
<br>
<br>
<a href="#span-out-FNm-last">last行列関数</a>を代替する<a href="#span-out-eqns">式変数</a>last_ttを以下に示す
<br>
・<a href="#span-out-FNm-last">last行列関数</a>は<a href="#span-in-tree">単位tree構造</a>の仕様上、行vectorの<a href="#span-out-mat-blank">欠損要素</a>を自動で埋めない
<br>
・行vectorの<a href="#span-out-mat-blank">欠損要素</a>を自動で埋める<a href="#span-out-eqns">式変数</a>last_ttを次に定義する
<br>
clear; last_tt(A)=&lt;(trans(trans(A)))[sizer(A)-1][sizec(A)-1]; A=(1,2:3,4); last_tt(=&lt;A) -> 4
<br>
・<a href="#span-out-BT-square">行列要素参照の角括弧[]</a>も同様に、<a href="#span-out-bracket">scope</a>を持つ
<br>
A=(1,2:3,(,:,4),5); last(A) -> 4
<br>
A=(1,2:3,(,:,4),5); last(trans(trans(A))) -> 0
<br>
A=(1,2:3,last(,:,4),5); last(A) -> 5
<br>
A=(1,2:3,(,:,4),5); last_tt(=&lt;A) -> 0
<br>
A=(1,2:3,last_tt(=&lt;(,:,4)),5); last_tt(=&lt;A) -> 5
<br>
A4=(,:,4); A=(1,2:3,last_tt(=&lt;A4),5); last_tt(=&lt;A) -> 5
<br>
・<span class="run">Ver.2.156.38</span>以降、<a href="#span-out-concatenation-irregular">irregular行列</a>の<a href="#span-out-concatenation">行列結合</a>の<span class="clear">仕様変更</span>
<br>
A4=(,:,4); A=(1,2:3,A4,5) ->
<br>
(
<br>
1,2:
<br>
3,0,0,5:
<br>
<del class="clear">0,</del>0,4
<br>
)
<br>
ttA=trans(trans(A)) ->
<br>
(
<br>
1,2,0,0:
<br>
3,0,0,5:
<br>
<del class="clear">0,</del>0,4,0<span class="clear">,0</span>
<br>
)
<br>
sizer(A)-sizer(ttA),sizer(A) -> (0,3)
<br>
sizec(A)-sizec(ttA),sizec(A) -> (0,4)
<br>
・<span class="run">Ver.2.185.44</span>以降、<a href="#span-out-FNm-size">size行列関数</a>の非正方行列の返値の仕様変更
<br>
<del>size(A) -> 4</del>
<br>
size(A) -> (3:4)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-terms">scope変数</a>は演算実行確定1回毎に初期化のため、<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>で再利用不可
<br>
・<a href="#span-in-scope-vars">static scopes2d array</a>を共有するため、同じ<a href="#span-out-vars-symbol">変数名symbol</a>の代入不可（前回callの未初期化dataが残存）
<br>
scope_NG1(x)=&lt;[x=x,x,last[x=x/*NG*/,x],x];
<br>
・<span class="run">Ver.2.210.46</span>以降、<a href="#span-out-scope-vars-has1BT">単独scope</a>の判定を厳格化（<a href="#span-eqn-scope_NG">scope_NG</a>のNG範囲を最小化）
<br>
clear;
<br>
scope_NG1(x)=&lt;[x=x,x,last[x=x/*NG*/,x],x];
<br>
scope_NG2(x)=&lt;2*[x=x,x,last[x=x/*NG*/,x],x];
<br>
scope_NG3(x)=&lt;last[,3]*[x=x,x,last[x=x/*NG*/,x],x];
<br>
scope_NG4(x)=&lt;last[x=4,x]*[x=x/*NG*/,x,last[x=x/*NG*/,x],x];
<br>
check_all(x)=&lt;(scope_NG1(x)=&gt;:scope_NG2(x)=&gt;:scope_NG3(x)=&gt;:scope_NG4(x)=&gt;);
<br>
store;
<br>
scope_NG1(1)=&gt;:scope_NG1(-1)=&gt; -> (0,1,1,1:0,-1,1,-1)
<br>
scope_NG2(1)=&gt;:scope_NG2(-1)=&gt; -> (0,2,2,2:0,-2,2,-2)
<br>
scope_NG3(1)=&gt;:scope_NG3(-1)=&gt; -> (0,3,3,3:0,-3,3,-3)
<br>
scope_NG4(1)=&gt;:scope_NG4(-1)=&gt; -> (0,4,4,4:0,4,4,4)
<br>
・<a href="#span-out-command">命令文</a>を使用
<br>
restore;
<br>
check_all(1)=&gt; -> (0,1,1,1:0,2,2,2:0,3,3,3:0,4,4,4)
<br>
check_all(-1)=&gt; -> (0,-1,1,-1:0,-2,2,-2:0,-3,3,-3:0,4,4,4)
<br>
restore;
<br>
check_all(1)=&gt; -> (0,1,1,1:0,2,2,2:0,3,3,3:0,4,4,4)
<br>
restore;
<br>
check_all(-1)=&gt; -> (0,-1,-1,-1:0,-2,-2,-2:0,-3,-3,-3:0,-4,-4,-4)

    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
再帰call
    </th>
    <td>
<span id="span-out-eqns-re-call"></span>
式変数のargumentsの再帰callの入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.194.45</span>以降、式変数のargumentsの再帰callに対応
<br>
・<span class="clear">Ver.2.195.46</span>以降、訂正
<br>
<br>
test caseを列挙する
<br>
・Fibonacci数列
<br>
N=10; F0=0,F1=1,F2=&lt;last{F2=F0+F1,F0=F1,F1=F2,F2};
<br>
・<a href="#span-out-FNh-RX">再帰高階関数</a>を使用
<br>
Fibonacci(n)=&lt;_rn(=&lt;F2,,n-1); Fibonacci(N) -> 55
<br>
・指数時間の再帰call
<br>
N=10; fibo_exp(n)=&lt;(n&lt;2&amp;&amp;&amp;{n,}|||{fibo_exp(n-1)+fibo_exp(n-2),})[0]; fibo_exp(N) -> 55
<br>
・<span class="clear">線形時間</span>の再帰call
<br>
N=10; fibo_(n,a,b)=&lt;(n&lt;1&amp;&amp;&amp;{a,}|||n&lt;2&amp;&amp;&amp;{b,}|||{fibo_(n-1,b,a+b),})[0]; fibo_(N,0,1) -> 55
<br>
・対数時間の再帰call（<a href="#span-out-scope-vars-has1BT">単独scope</a>と<a href="#span-in-short-circuit">短絡評価</a>に<span class="condition">留意</span>）
<br>
N=10; fibo_log(n)=&lt;<span class="condition">[=&lt;</span>n&lt;2&amp;&amp;n||||last{q=n%%2,fq=fibo_log(q),
<br>
fq**2+<span class="condition">(</span>n%2<span class="condition">===0&amp;&amp;&amp;</span>2fibo_log(q-1)*fq<span class="condition">||||</span>fibo_log(q+1)**2<span class="condition">)</span>}<span class="condition">]=&gt;</span>; fibo_log(N) -> 55
<br>
・<span class="clear">一般項（再帰なし）</span>
<br>
N=10; fibo(n)=&lt;last{sqrt5=sqrt(5),round((((1+sqrt5)/2)**n-((1-sqrt5)/2)**n)/sqrt5)}; fibo(N) -> 55
<br>
・<a href="#span-out-mat">行列</a>演算
<br>
N=10; fibo(n)=&lt;first(_p((n)=&lt;(1,1:1,0),,n-2)); fibo(N) -> 55
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-prec-ope-conditional">条件演算子</a>代替の<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>を追加
<br>
N=10; fibo_exp(n)=&lt;n&lt;2&amp;&amp;&amp;&amp;n||||fibo_exp(n-1)+fibo_exp(n-2); fibo_exp(N) -> 55
<br>
N=10; fibo_(n,a,b)=&lt;n&lt;1&amp;&amp;&amp;&amp;a||||n&lt;2&amp;&amp;&amp;&amp;b||||fibo_(n-1,b,a+b); fibo_(N,0,1) -> 55
<br>
・<span class="run">Ver.2.196.46</span>以降、可読性の最適化
<br>
N=10; fibo_exp(n)=&lt;n&lt;2&amp;&amp;n||||fibo_exp(n-1)+fibo_exp(n-2); fibo_exp(N) -> 55
<br>
N=10; fibo_(n,a,b)=&lt;n&lt;1&amp;&amp;a||||n&lt;2&amp;&amp;b||||fibo_(n-1,b,a+b); fibo_(N,0,1) -> 55
<br>
・以上より、先行するk項の和で一般化
<br>
fibok(n,k)=&lt;n&lt;k-1&amp;&amp;0||||n&lt;k&amp;&amp;1||||_sm(=&lt;fibok(n-m,k)=&gt;,1,k);
<br>
fibok(n,k)=&lt;n&lt;k-1&amp;&amp;0||||n&lt;k|||_sm(=&lt;fibok(n-m,k)=&gt;,1,k);
<br>
fibok(10,2) -> 55
<br>
fibok(10,3) -> 81
<br>
fibok(10,4) -> 56
<br>
fibok(10,5) -> 31
<br>
・単純な<a href="#span-out-FN-fact">階乗</a>
<br>
N=10; fact_(n)=&lt;n&lt;=1&amp;&amp;&amp;1|||round(n)*fact_(n-1); fact_(N) -> 3628800
<br>
N=10; fact_(n)=&lt;n&lt;=1|||round(n)*fact_(n-1); fact_(N) -> 3628800
<br>
N=10; fact_(n)=&lt;n&lt;=1|||n*fact_(n-1); fact_(N) -> 3628800
<br>
・厳密な<a href="#span-out-FN-fact">階乗</a>
<br>
N=10; fact_(n)=&lt;(isNaN(n)&amp;&amp;&amp;{NaN,}|||n&lt;1&amp;&amp;&amp;{false,}|||round(n)===1&amp;&amp;&amp;{1,}|||{round(n)*fact_(n-1),})[0];
<br>
fact_(N) -> 3628800
<br>
・総和
<br>
N=10; fn=&lt;(n,n*(1+i)); sum_(n)=&lt;n&gt;0&amp;&amp;&amp;fn+sum_(n-1); sum_(N) -> (55,55+55i)
<br>
N=10; fn(n)=&lt;(n,n*(1+i)); sum_(n)=&lt;n&gt;0&amp;&amp;&amp;fn(n)+sum_(n-1); sum_(N) -> (55,55+55i)
<br>
・総積
<br>
N=10; prod_(n,A)=&lt;n&lt;1&amp;&amp;&amp;1|||A*prod_(n-1,=&lt;A);
<br>
prod_(N,=&lt;(1,2:3,4)) -> (4783807,6972050:10458075,15241882)
<br>
N=10; prod_(n,A)=&lt;n&lt;1|||A*prod_(n-1,=&lt;A);
<br>
prod_(N,=&lt;(1,2:3,4)) -> (4783807,6972050:10458075,15241882)
<br>
・<a href="#span-eqn-Seki_Aitken">Seki-Aitken</a>のΔ2乗加速法
<br>
tn(=&lt;sn,n)=&lt;last[,sn(n)-(sn(n+1)-sn(n))**2/(sn(n+2)-2sn(n+1)+sn(n))];
<br>
sn(n)=&lt;sin(pi/2**n)*2**n;
<br>
n=0; sn(n) -> 1.2246467991473532e-16
<br>
n=8; sn(n) -> 3.141513801144301
<br>
n=17; sn(n) -> 3.141592653288993
<br>
n=27; sn(n) -> 3.1415926535897927
<br>
n=28; sn(n) -> 3.141592653589793
<br>
pi -> 3.141592653589793
<br>
n=0; tn(=&lt;sn,n) -> infoLost[r ] 3.414213562373094
<br>
n=8; tn(=&lt;sn,n) -> 3.141592653626903
<br>
n=15; tn(=&lt;sn,n) -> 3.1415926535897936
<br>
・指数時間の多重化
<br>
n=0; tn((n)=&lt;tn(=&lt;sn,n),n) -> infoLost[r ] 3.141796445191483
<br>
n=0; tn((n)=&lt;tn((n)=&lt;tn(=&lt;sn,n),n),n) -> infoLost[r ] 3.1415926587564154
<br>
n=0; tn((n)=&lt;tn((n)=&lt;tn((n)=&lt;tn(=&lt;sn,n),n),n),n) -> infoLost[r ] 3.1415926535897927
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-option1">RA選択</a>の場合、要修正
<br>
N=10; fact_(n)=&lt;n&lt;=1|||round(n)*fact_(n-1); fact_(N) -> Maximum call stack size exceeded
<br>
・無限loopの場合、error終了
<br>
N=10; fact_=&lt;round(n)*fact_; fact_ -> Maximum call stack size exceeded
<br>
N=10; fact_(n)=&lt;round(n)*fact_(n-1); fact_(N) -> Maximum call stack size exceeded
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
無名call
    </th>
    <td>
<span id="span-out-eqns-no-name"></span>
式変数のargumentsの無名callの入力仕様と付随する留意事項について記述する
<br>
<br>
<span class="run">Ver.2.195.45</span>以降、式変数のargumentsの無名call（<a href="#span-out-eqns-no-name-short">式渡しの直接式読出し</a>のarguments）に対応
<br>
・<span class="clear">Ver.2.195.46</span>以降、実行確定の都度、<a href="#span-out-storage">local storage</a>から削除（closure外の<a href="#span-out-bracket">0階層</a>のみ、実行文毎に削除）
<br>
・<span class="run">Ver.2.204.46</span>以降、call結果が解決済みの前提（<span class="run">Ver.2.211.46</span>以降、<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>を除く）
<br>
<br>
test caseを列挙する
<br>
・<a href="#span-out-eqns-no-name-short">式渡しの直接式読出し</a>（<span class="run">Ver.2.195.45</span>以降、無名callのarguments省略）
<br>
[=&lt;0]=&gt; -> 0
<br>
[()=&lt;1]()=&gt; -> 1
<br>
・<a href="#span-out-eqns-no-name-short">式渡しの直接式読出し</a>にargumentsを追加
<br>
[(x)=&lt;x](2)=&gt; -> 2
<br>
[(a,b)=&lt;(a,b)](3,=&lt;(i,2i))=&gt; -> (3,i,2i)
<br>
・(function(x,y){var a=1; var b=2; return a*x+b*y;})(1,2);
<br>
[(x,y)=&lt;[a=1,b=2,=&lt;a*x+b*y]=&gt;](1,2)=&gt; -> 5
<br>
[(x,y)=&lt;[a=1,b=2,fxy=&lt;a*x+b*y,=&lt;fxy=&gt;]=&gt;](1,2)=&gt; -> 5
<br>
[(x,y)=&lt;[a=1,b=2,fxy(c,d)=&lt;c*x+d*y,=&lt;fxy(a,b)=&gt;]=&gt;](1,2)=&gt; -> 5
<br>
・(function(a){return (function(b){return (function(c){return a+b+c;})(3);})(2);})(1);
<br>
[(a)=&lt;[(b)=&lt;[(c)=&lt;a+b+c](3)=&gt;](2)=&gt;](1)=&gt; -> 6
<br>
[(a)=&lt;[(b)=&lt;[(c)=&lt;[d=a+b+c,=&lt;d]=&gt;](3)=&gt;](2)=&gt;](1)=&gt; -> 6
<br>
・<a href="#span-out-bracket">scope</a>の挙動
<br>
[(a)=&lt;[(b)=&lt;[[a=4,b=5],(c)=&lt;a+b+c=1+2+3](3)=&gt;](2)=&gt;](1)=&gt; -> 0
<br>
[(a)=&lt;[(b)=&lt;[a=4,b=[a=5,=&lt;a]=&gt;,(c)=&lt;a+b+c=4+5+3](3)=&gt;](2)=&gt;](1)=&gt; -> 0
<br>
[(a)=&lt;[(b)=&lt;[(c)=&lt;[[a=4,b=5],=&lt;a+b+c=1+2+3]=&gt;](3)=&gt;](2)=&gt;](1)=&gt; -> 0
<br>
[(a)=&lt;[(b)=&lt;[(c)=&lt;[a=4,b=[a=5,=&lt;a]=&gt;,=&lt;a+b+c=4+5+3]=&gt;](3)=&gt;](2)=&gt;](1)=&gt; -> 0
<br>
・<a href="#span-out-pass-by-equation">式渡し</a>
<br>
clear; f(n)=&lt;n&lt;=1|||round(n)*f(n-1); [n=10,(=&lt;fn)=&lt;fn=&gt;](=&lt;f)=&gt; -> 3628800
<br>
・<a href="#span-out-config-strict">strict-mode</a>
<br>
clear; f(n)=&lt;n&lt;=1|||round(n)*f(n-1)=&gt;; [n=10,(=&lt;f)=&lt;f(n)=&gt;](=&lt;f)=&gt; -> 3628800
<br>
・無名再帰（名前付きlambda式に相当）
<br>
([fact_=(n)=&lt;n&lt;=1|||n*fact_(n-1),=&lt;fact_]=&gt;)(10)=&gt; -> 3628800
<br>
<br>
留意事項を列挙する
<br>
・複数列挙の場合、<a href="#span-out-eqns-return">末尾return</a>のみ取り出す（途中return不可）
<br>
[a=1,(b)=&lt;a=2,(b)=&lt;a=3,(b)=&lt;a+b](10)=&gt; || [a=1,(b)=&lt;a+b](10)=&gt; -> 11
<br>
clear; d=&lt;-a*z+b*A+c; [a=1,(z,A)=&lt;[b=2,(c)=&lt;d==&gt;](a*z)=&gt;](i,=&lt;(1,2:3,4))=&gt; -> (2,4:6,8)
<br>
・call記号=&gt;省略不可
<br>
[(x)=&lt;x](2) -> [MyErr]Invalid FN operation
<br>
[(x)=&lt;x](2)=&gt; -> 2
<br>
・返値の要素を指定する場合、<a href="#span-out-BT">括弧</a>を明示
<br>
clear; f(x)=&lt;(1,2:3,x); f[1](5) -> (3,5)
<br>
([(x)=&lt;(1,2:3,x)](5)=&gt;)[1] -> (3,5)
<br>
・<a href="#span-out-pass-by-equation">式渡し</a>が不正の場合、error終了
<br>
[(a,b)](1,2)=&gt; -> [MyErr]Invalid no-name equation
<br>
・引数の要素数が異なる場合、error終了（<a href="#span-out-FN-args">関数の引数</a>と異なり、厳格に判別する）
<br>
[(a,b,c)=&lt;(a,b)](3,=&lt;(i,2i))=&gt; -> [MyErr]Invalid args.length=3(no-name)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
末尾return
<br>
入力仕様
    </th>
    <td>
<span id="span-out-eqns-return"></span>
末尾returnの入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-eqns-no-name">無名call</a>の末尾returnの仕様を列挙する
<br>
・式渡し記号=&lt;を複数列挙の場合、末尾returnのみ取り出す（途中return不可）
<br>
[=&lt;1,=&lt;2,=&lt;3]=&gt; || [=&lt;3]=&gt; -> 3
<br>
[(a)=&lt;1,(a)=&lt;2,(a)=&lt;a](3)=&gt; || [(a)=&lt;a](3)=&gt; -> 3
<br>
・<a href="#span-out-vars-symbol">式変数名symbol</a>を式読出しの場合、末尾returnの式渡し記号{=&lt;}を省略可
<br>
clear; f(x)=&lt;x; [=&lt;{=&lt;f}]=&gt;g || [=&lt;f]=&gt;g; g(3)=&gt; -> 3
<br>
厳密表記　⇔　省略表記<del>（廃止の可能性あり）</del>　<span class="run">Ver.2.833.140</span>以降、<a href="#span-out-pass-by-symbol">symbol渡し</a>の自動展開あり
<br>
=&lt;{=&lt;}　⇔　=&lt;
<br>
==&lt;{=&lt;}　⇔　==&lt;
<br>
=&lt;{==&lt;}　⇔　==&lt;　<span class="run">Ver.2.260.61</span>以降、対応
<br>
・<span class="clear">Ver.2.259.61</span>以降、末尾returnの<a href="#span-in-tree">ids</a>未継承の実装不具合を修正
<br>
clear; f(x)=&lt;x,[=&lt;{=&lt;f}]=&gt;g; g(3)=&gt; -> 3
<br>
clear; [f(x)=&lt;x,=&lt;{=&lt;f}]=&gt;g; g(3)=&gt; -> <del>[MyErr]Invalid args.length=0(g)</del>3
<br>
<br>
厳密表記：{}の中身を式読出し
<br>
clear; f(x)=&lt;x,[=&lt;{=&lt;f}]=&gt;g; g(3)=&gt; -> 3
<br>
clear; [f(x)=&lt;x,=&lt;{=&lt;f}]=&gt;g; g(3)=&gt; -> <del>[MyErr]Invalid args.length=0(g)</del>3
<br>
clear; f(x)=&lt;x,[(a)=&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> 3
<br>
clear; [f(x)=&lt;x,(a)=&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> <del>[MyErr]Invalid args.length=0(g)</del>3
<br>
clear; f(x)=&lt;x,[(a)=&lt;{f(a)=&gt;}/*resolved*/](2)=&gt; -> 2
<br>
clear; [f(x)=&lt;x,(a)=&lt;{f(a)=&gt;}/*resolved*/](2)=&gt; -> 2
<br>
clear; f(x)=&lt;x,[(a)=&lt;{f(a)=&gt;}](2)=&gt;g; g=&gt; -> 2
<br>
clear; [f(x)=&lt;x,(a)=&lt;{f(a)=&gt;}](2)=&gt;g; g=&gt; -> 2
<br>
clear; f(x)=&lt;x,[(a)=&lt;=&lt;{f(a)=&gt;}/*not-resolved*/](2)=&gt; -> [MyErr]Invalid BTe([object Object])
<br>
clear; [f(x)=&lt;x,(a)=&lt;=&lt;{f(a)=&gt;}/*not-resolved*/](2)=&gt; -> [MyErr]Invalid BTe([object Object])
<br>
clear; f(x)=&lt;x,[(a)=&lt;=&lt;{f(a)=&gt;}](2)=&gt;g; g=&gt; -> 2
<br>
clear; [f(x)=&lt;x,(a)=&lt;=&lt;{f(a)=&gt;}](2)=&gt;g; g=&gt; -> 2
<br>
clear; [(a)=&lt;{(a)=&lt;a}](2)=&gt;g; g(3)=&gt; -> 3
<br>
clear; a=1, f(x)=&lt;a*x,[(a)=&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> 3
<br>
clear; a=1, [f(x)=&lt;a*x,(a)=&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> <del>[MyErr]Invalid args.length=0(g)</del>6
<br>
clear; a=1, [f(x)=&lt;a*x,(a)=&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> 6
<br>
clear; a=1, f(x)=&lt;a*x,[(a)==&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> 6
<br>
clear; a=1, [f(x)=&lt;a*x,(a)==&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> <del>[MyErr]Invalid args.length=0(g)</del>6
<br>
clear; a=1, [f(x)=&lt;a*x,(a)=&lt;{=&lt;f}](2)=&gt;g; g(3)=&gt; -> 6
<br>
clear; a=1, [f(x)=&lt;a*x+b,(a,b)=&lt;{=&lt;f}](2,3)=&gt;g; g(3)=&gt; -> 9
<br>
<br>
省略表記：末尾returnの式渡し記号{=&lt;}を省略
<br>
clear; f(x)=&lt;x; [=&lt;f]=&gt;g; g(3)=&gt; -> 3
<br>
clear; f(x)=&lt;x; [(a)=&lt;f](2)=&gt;g; g(3)=&gt; -> 3
<br>
clear; f(x)=&lt;x; [(a)=&lt;f(a)=&gt;](2)=&gt; -> 2
<br>
clear; f(x)=&lt;x; [(a)=&lt;f(a)=&gt;](2)=&gt;g; g=&gt; -> 2
<br>
clear; [(a)=&lt;(a)=&lt;a](2)=&gt;g; g(3)=&gt; -> 3
<br>
clear; a=1, f(x)=&lt;a*x; [(a)=&lt;f](2)=&gt;g; g(3)=&gt; -> 3
<br>
clear; a=1, f(x)=&lt;a*x; [(a)==&lt;f](2)=&gt;g; g(3)=&gt; -> 6
<br>
<br>
留意事項を列挙する
<br>
・末尾returnの参照要素は<a href="#span-out-FNm-last">last行列関数</a>の参照要素に一致
<br>
clear; (({=&lt;(x)=&lt;x,=&lt;(x)=&lt;-x},=&lt;(x)=&lt;x*x))=&gt;f; f(3)=&gt; -> -3
<br>
clear; (last({=&lt;(x)=&lt;x,=&lt;(x)=&lt;-x},=&lt;(x)=&lt;x*x))=&gt;f; f(3)=&gt; -> -3
<br>
clear; (first({=&lt;(x)=&lt;x,=&lt;(x)=&lt;-x},=&lt;(x)=&lt;x*x))=&gt;f; f(3)=&gt; -> 3
<br>
・<span class="run">Ver.2.255.59</span>以降、<a href="#span-out-reference-mat">行列への参照</a>の場合、<a href="#span-in-pass-by-equation">遅延評価</a>の式渡し記号=&lt;を明示
<br>
clear; (=&lt;(x)=&lt;x:=&lt;(x)=&lt;-x:=&lt;(x)=&lt;x*x)[0]=&gt;f || (=&lt;(x)=&lt;x)=&gt;f; f(3)=&gt; -> 3
<br>
clear; (=&lt;(x)=&lt;x:=&lt;(x)=&lt;-x:=&lt;(x)=&lt;x*x)[1]=&gt;f || (=&lt;(x)=&lt;-x)=&gt;f; f(3)=&gt; -> -3
<br>
clear; (=&lt;(x)=&lt;x:=&lt;(x)=&lt;-x:=&lt;(x)=&lt;x*x)[2]=&gt;f || (=&lt;(x)=&lt;x*x)=&gt;f; f(3)=&gt; -> 9
<br>
・<a href="#span-out-reference-mat">行列への参照</a>省略の場合、末尾return
<br>
clear; (=&lt;(x)=&lt;x:=&lt;(x)=&lt;-x:=&lt;(x)=&lt;x*x)=&gt;f || (=&lt;(x)=&lt;x*x)=&gt;f; f(3)=&gt; -> 9
<br>
・<a href="#span-in-pass-by-equation">遅延評価</a>の式渡し記号=&lt;省略の場合、末尾return
<br>
clear; (=&lt;x:=&lt;-x:=&lt;x*x)=&gt;f || (=&lt;x*x)=&gt;f; f=&gt; -> [MyErr]Invalid binary operation
<br>
clear; (x=3,=&lt;x:=&lt;-x:=&lt;x*x)=&gt;f || (x=3,=&lt;x*x)=&gt;f; f=&gt; -> 9
<br>
clear; (=&lt;=&lt;x:=&lt;=&lt;-x:=&lt;=&lt;x*x)=&gt;f || (=&lt;=&lt;x*x)=&gt;f; f=&gt; -> [MyErr]Invalid binary operation
<br>
clear; (=&lt;=&lt;x:=&lt;=&lt;-x:=&lt;=&lt;x*x)=&gt;f || (=&lt;=&lt;x*x)=&gt;f; x=3; f=&gt; -> 9
<br>
clear; ((x)=&lt;x:(x)=&lt;-x:(x)=&lt;x*x)=&gt;f || ((x)=&lt;x*x)=&gt;f; f(3)=&gt; -> [MyErr]Invalid args.length=1(null)
<br>
clear; ((x)=&lt;x:(x)=&lt;-x:(x)=&lt;x*x)(3)=&gt;f || ((x)=&lt;x*x)(3)=&gt;f; f=&gt; -> 9
<br>
・別途、末尾<a href="#span-out-eqns-re-call">再帰call</a>最適化は未対応（<a href="#span-out-callstack">call stack</a>に依存）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
引数省略call
    </th>
    <td>
<span id="span-out-eqns-omitted-args"></span>
引数省略callの入力仕様と付随する留意事項について記述する
<br>
<br>
<a href="#span-out-config-strict">Non-strict-mode</a>の場合、<a href="#span-out-eqns">式変数</a>の明示的な引数省略のcallを許容する（error終了に変更の可能性あり）
<br>
・<span class="run">Ver.2.253.59</span>以降、本仕様を廃止
<br>
<br>
<del><a href="#span-out-config-strict">Non-strict-mode</a>
<br>
clear; a=2; f<span class="selection">(x)</span>=&lt;a; f<span class="clear">=&gt;</span> -> 2
<br>
clear; a=2; [<span class="selection">(x)</span>=&lt;a]()<span class="clear">=&gt;</span> -> 2
<br>
<br>
<a href="#span-out-config-strict">strict-mode</a></del>
<br>
clear; a=2; f<span class="selection">(x)</span>=&lt;a; f<span class="clear">=&gt;</span> -> [MyErr]Invalid args.length=1(f)
<br>
clear; a=2; [<span class="selection">(x)</span>=&lt;a]()<span class="clear">=&gt;</span> -> [MyErr]Invalid args.length=1(null)
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-eqns-call">式読出し</a>記号<span class="clear">=&gt;</span>省略不可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh"></span>
高階関数を列挙する
<br>
・<a href="#span-out-FNh-switch">switch高階関数</a>
<br>
・<a href="#span-out-FNh-SX">総和高階関数</a>
<br>
・<a href="#span-out-FNh-PX">総乗・総積高階関数</a>
<br>
・<a href="#span-out-FNh-RX">再帰高階関数</a>
<br>
・<a href="#span-out-FNh-DX">微分高階関数</a>
<br>
・<a href="#span-out-FNh-IX">積分高階関数</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
switch
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh-switch"></span>
switch高階関数
<br>
・任意個数の条件分岐による処理を実行する
<br>
・条件文と成立時に実行する処理を対にしてcolon:区切りで引数を渡す
<br>
・引数の左から順に条件文を判定する
<br>
・条件文が成立の場合、対の処理を実行して終了する
<br>
・条件文が不成立の場合、対の処理は実行されない
<br>
<br>
switch(第1引数,=&lt;第2引数:第3引数,=&lt;第4引数:...)
<br>
switch((第1引数,=&lt;第2引数):(第3引数,=&lt;第4引数):...)
<br>
switch({第1引数:=&lt;第2引数}:{第3引数:=&lt;第4引数}:...)
<br>
・引数
<br>
　・第奇数番引数: 0||not0の実数値を返す条件文を値渡し
<br>
　・第偶数番引数: 条件文成立時の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
・返値
<br>
　条件文成立時: 対の処理の演算結果を返す
<br>
　全条件文不成立時: <del>0を返す</del><span class="run">Ver.2.167.40</span>以降、<span class="clear"><a href="#span-out-literal">false</a></span>を返す
<br>
<br>
値を返す場合
<br>
switch(第1引数,第2引数:第3引数,第4引数:...)
<br>
・引数
<br>
　・第奇数番引数: 0||not0の実数値を返す条件文を値渡し
<br>
　・第偶数番引数: 条件文成立時の返値を値渡し
<br>
・返値
<br>
　条件文成立時: 対の返値を返す
<br>
　全条件文不成立時: <del>0を返す</del><span class="run">Ver.2.167.40</span>以降、<span class="clear"><a href="#span-out-literal">false</a></span>を返す
<br>
<br>
Nativeのif文を一例に示す
<br>
if(x &gt;= 4) return 4;
<br>
else if(x &gt; 3) return 3;
<br>
else if(x &gt; 2) return 2;
<br>
else return -x;
<br>
・対の処理を値渡しで記述する場合
<br>
x=2; switch(x&gt;=4,4:x&gt;3,3:x&gt;2,2:1,-x) -> -2
<br>
x=2; switch(ge(x,4),4:gt(x,3),3:gt(x,2),2:1,-x) -> -2
<br>
・値渡しの場合、行列要素の演算を実行後、次の実行文を実行する
<br>
x=2; switch(0,4:0,3:0,2:1,-2) -> -2
<br>
・対の処理を<a href="#span-out-pass-by-equation">式渡し</a>で記述する場合、条件文が成立のcaseのみ実行する
<br>
x=2; switch(x&gt;=4,=&lt;4:x&gt;3,=&lt;3:x&gt;2,=&lt;2:1,=&lt;{-x}) -> -2
<br>
x=2; switch(ge(x,4),=&lt;4:gt(x,3),=&lt;3:gt(x,2),=&lt;2:1,=&lt;{-x}) -> -2
<br>
<br>
<a href="#span-out-prec-ope-logical">論理演算子</a>を<a href="#span-out-prec-ope-bit">bit演算子</a>で代替する場合、<a href="#span-out-BT">括弧</a>を明示するか<a href="#span-out-FN-ope">関数</a>を使用する
<br>
・if(1==1 || 1==-1) return 1;
<br>
switch((1==1)|(1==-1),1) || switch(eq(1,1)|eq(1,-1),1) || switch(1|0,1) -> 1
<br>
・if(1==1 &amp;&amp; 1==-1) return 1;
<br>
switch((1==1)&amp;(1==-1),1) || switch(eq(1,1)&amp;eq(1,-1),1) || switch(1&amp;0,1) -> <del>0</del><span class="clear">false</span>
<br>
・<span class="run">Ver.2.59.26</span>以降、<a href="#span-out-prec-ope-logical">論理演算子</a>を追加
<br>
switch(1==1||1==-1,1) || switch((1==1)||(1==-1),1) || switch(1||0,1) -> 1
<br>
switch(1==1&amp;&amp;1==-1,1) || switch((1==1)&amp;&amp;(1==-1),1) || switch(1&amp;&amp;0,1) -> <del>0</del><span class="clear">false</span>
<br>
<br>
test caseを列挙する
<br>
switch(0) -> <del>0</del><span class="clear">false</span>
<br>
switch(1) -> <del>0</del><span class="clear">false</span>
<br>
switch(i) -> <del>0</del><span class="clear">false</span>
<br>
switch(1,0) -> 0
<br>
switch(1,1) -> 1
<br>
switch(1,i) -> i
<br>
switch(i,1) -> <del>0</del><span class="clear">false</span>
<br>
switch(0,0:1,2:3,4) -> 2
<br>
switch(0,0:1i,2:3,4) -> 4
<br>
switch(0,0:real(1i),2:3,4) -> 4
<br>
switch(0,0:imag(1i),2:3,4) -> 2
<br>
switch(0,0:1(1-i),2:3,4) -> 2
<br>
switch(0,0:real(1(1-i)),2:3,4) -> 2
<br>
switch(0,0:imag(1(1-i)),2:3,4) -> 2
<br>
switch(1,=&lt;{1}) -> 1
<br>
switch(0:1,=&lt;{1}) -> 1
<br>
switch(0,0:1,=&lt;{1}) || switch((0,0):(1,=&lt;{1})) || switch({0:0}:{1:=&lt;{1}}) -> 1
<br>
switch(0,0,1,=&lt;{1})  <span class="selection">// NG</span> -> <del>0</del><span class="clear">false</span>
<br>
switch(0,0:0,0:0,0:1,=&lt;{1}:1,=&lt;{2}) -> 1
<br>
clear; b=1; a=&lt;b=2; b=&lt;b; switch(0,a:1,=&lt;b) -> 2
<br>
clear; b=1; a=&lt;b=2; b=&lt;b; switch(1,=&lt;b:0,a) -> 2
<br>
clear; b=1; a=&lt;b=2; b=&lt;b; switch(1,=&lt;b:0,=&lt;a) -> 1
<br>
clear; b=1; a=&lt;b=2; b=&lt;b; switch(0,=&lt;a:1,=&lt;b) -> 1
<br>
・<span class="run">Ver.2.157.38</span>以降、<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を追加
<br>
clear; b=0; a=&lt;b=1; 0|||a,b -> (0,1)
<br>
clear; b=0; a=&lt;b=1; 1|||a,b -> (1,0)
<br>
clear; b=0; a=&lt;b=1; c=&lt;b=-1; a|||c,b -> (0,-1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
総和
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh-SX"></span>
総和高階関数
<br>
・展開式のdummy変数整数区間[a,b]の総和を演算して返す
<br>
<del>・_sdummy<a href="#span-out-vars-symbol">変数名symbol</a>でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
<br>
_s(=&lt;第1引数,第2引数,第3引数[,第4引数])
<br>
・第1引数: dummy変数の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
・第2引数: dummy変数の区間下端a（整数）を値渡し
<br>
・第3引数: dummy変数の区間上端b（整数）を値渡し
<br>
option
<br>
・第4引数: dummy変数のstep（正の整数）を値渡し[省略時、1]
<br>
<br>
test caseを列挙する
<br>
・dummy変数n=1~10のnの総和
<br>
_sn(=&lt;{n},1,10) || 1+2+3+4+5+6+7+8+9+10 || (10+1)10/2 -> 55
<br>
eqn_n=&lt;n; _sn(=&lt;eqn_n,1,10) || _sn(=&lt;eqn_n=&gt;,1,10) -> 55
<br>
・区間反転を単なる逆順の演算で定義する
<br>
_Sn(=&lt;{n},10,1) || 10+9+8+7+6+5+4+3+2+1 -> 55
<br>
・dummy変数が負の場合も同様に定義する
<br>
_sn(=&lt;{n},-10,-1) || -10-9-8-7-6-5-4-3-2-1 -> -55
<br>
_Sn(=&lt;{n},-1,-10) || -1-2-3-4-5-6-7-8-9-10 -> -55
<br>
_Sn(=&lt;{n},1,-3) || 1+0-1-2-3 -> -5
<br>
・以降、dummy変数に0を含めて記述する
<br>
・step=2の場合
<br>
_sn(=&lt;{n},0,10,2) || 0+2+4+6+8+10 -> 30
<br>
_Sn(=&lt;{n},10,0,2) || 10+8+6+4+2+0 -> 30
<br>
_Sn(=&lt;{n},1,-3,2) || 1-1-3 -> -3
<br>
・step&lt;1の場合、暗黙で既定値に変換
<br>
_sn(=&lt;{n},0,10,0) || _sn(=&lt;{n},0,10,1) -> 55
<br>
・step&lt;0の場合、暗黙で絶対値に変換
<br>
_sn(=&lt;{n},0,10,-2) || _sn(=&lt;{n},0,10,2) -> 30
<br>
_Sn(=&lt;{n},10,0,-2) || _Sn(=&lt;{n},10,0,2) -> 30
<br>
・n=0~10の行列の総和
<br>
_sn(=&lt;{(n,2n:3n,4n)},N=2,5N) -> (55,110:165,220)
<br>
_Sn(=&lt;{(n,2n:3n,4n)},10,0) -> (55,110:165,220)
<br>
・2変数の多重総和
<br>
_sy(=&lt;{_sx(=&lt;{x+y},0,y)},0,2) || 0+1+2+2+3+4 -> 12
<br>
_Sy(=&lt;{_Sx(=&lt;{x+y},y,0)},2,0) || 4+3+2+2+1+0 -> 12
<br>
_sy(=&lt;{_Sx(=&lt;{x+y},y,0)},0,2) || 0+2+1+4+3+2 -> 12
<br>
_Sy(=&lt;{_sx(=&lt;{x+y},0,y)},2,0) || 0+2+3+4+1+2 -> 12
<br>
・総和を取るdummy変数は<a href="#span-out-terms">scope変数</a>から独立
<br>
x=-1; y=-2; _sy(=&lt;{_sx(=&lt;{x+y},0,y)},0,2); x+y -> -3
<br>
・<a href="#span-out-FNh">高階関数</a>の引数は最終行vectorの左から順に参照
<br>
_sn(,is=0,:,ie=10,:=&lt;{n},is,ie) -> 55
<br>
・dummy変数は<a href="#span-out-vars-rule2">変数の命名規則</a>に準拠
<br>
_smax(=&lt;{0},1,2) -> [MyErr]Invalid max called
<br>
_spi(=&lt;{0},1,2) -> [MyErr]Invalid pi called
<br>
_s3(=&lt;{0},1,2) -> [MyErr]Invalid 3 called
<br>
_s3n(=&lt;{0},1,2) -> [MyErr]Invalid FNh called
<br>
・配列を使用
<br>
x={0,1,2,3,4,5,6,7,8,9}; _sn(=&lt;x[n],0,9) -> 45
<br>
x={0,1,2,3,4,5,6,7,8,9:0,-1,-2}; _sn(=&lt;x[n],0,9) -> (45,39)
<br>
<br>
応用例を示す
<br>
・1回試行で当たりの確率をPb[%]とする
<br>
・10回試行中、n回当たりの確率Pn[%]を<a href="#span-out-eqns">式変数</a>で定義する
<br>
clear;
<br>
Pb=3; Pn=&lt;{100combin(10,n)(Pb/100)^n((100-Pb)/100)^(10-n)};
<br>
n=0; Pn -> 73.74241268949281
<br>
n=1; Pn -> 22.806931759636946
<br>
n=2; Pn -> 3.1741606057226677
<br>
n=3; Pn -> 0.2617864417090862
<br>
n=4; Pn -> 0.014168853803842281
<br>
n=5; Pn -> 0.0005258543679776511
<br>
n=6; Pn -> 0.000013552947628290013
<br>
n=7; Pn -> 2.3952190212e-7
<br>
n=8; Pn -> 2.7779602049999973e-9
<br>
n=9; Pn -> 1.909250999999996e-11
<br>
n=10; Pn -> 5.904899999999982e-14
<br>
・10回試行中、N回以上当たりの確率[%]
<br>
N=10; _sn(=&lt;Pn,N,10) || 100(Pb/100)^N -> 5.904899999999982e-14
<br>
N=9; _sn(=&lt;Pn,N,10) -> 1.9151558999999963e-11
<br>
N=8; _sn(=&lt;Pn,N,10) -> 2.7971117639999973e-9
<br>
N=7; _sn(=&lt;Pn,N,10) -> 2.42319013884e-7
<br>
N=6; _sn(=&lt;Pn,N,10) -> 0.000013795266642174013
<br>
N=5; _sn(=&lt;Pn,N,10) -> 0.0005396496346198251
<br>
N=4; _sn(=&lt;Pn,N,10) -> 0.014708503438462106
<br>
N=3; _sn(=&lt;Pn,N,10) -> 0.27649494514754835
<br>
N=2; _sn(=&lt;Pn,N,10) -> 3.4506555508702164
<br>
N=1; _sn(=&lt;Pn,N,10) -> 26.257587310507166
<br>
N=0; _sn(=&lt;Pn,N,10) -> 99.99999999999999
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
総乗・総積
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh-PX"></span>
総乗・総積高階関数
<br>
・展開式のdummy変数整数区間[a,b]の総乗・総積を演算して返す
<br>
<del>・_pdummy<a href="#span-out-vars-symbol">変数名symbol</a>でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
<br>
_p(=&lt;第1引数,第2引数,第3引数[,第4引数])
<br>
・第1引数: dummy変数の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
・第2引数: dummy変数の区間下端a（整数）を値渡し
<br>
・第3引数: dummy変数の区間上端b（整数）を値渡し
<br>
option
<br>
・第4引数: dummy変数のstep（正の整数）を値渡し[省略時、1]
<br>
<br>
test caseを列挙する
<br>
・dummy変数n=1~10のnの総乗
<br>
_pn(=&lt;{n},1,10) || 1*2*3*4*5*6*7*8*9*10 -> 3628800
<br>
eqn_n=&lt;n; _pn(=&lt;eqn_n,1,10) || _pn(=&lt;eqn_n=&gt;,1,10) -> 3628800
<br>
・区間反転を単なる逆順の演算で定義する
<br>
_Pn(=&lt;{n},10,1) || 10*9*8*7*6*5*4*3*2*1 -> 3628800
<br>
・dummy変数が負の場合も同様に定義する
<br>
_pn(=&lt;{n},-3,-1) || (-3)(-2)(-1) -> -6
<br>
_Pn(=&lt;{n},-1,-3) || (-1)(-2)(-3) -> -6
<br>
_Pn(=&lt;{n},1,-3) || (1)(0)(-1)(-2)(-3) -> 0
<br>
・step=2の場合
<br>
_pn(=&lt;{n},1,10,2) || 1*3*5*7*9 || 9!! -> 945
<br>
_Pn(=&lt;{n},10,1,2) || 10*8*6*4*2 || 10!! -> 3840
<br>
_Pn(=&lt;{n},1,-3,2) || (1)(-1)(-3) -> 3
<br>
・step=3の場合
<br>
_pn(=&lt;{n},1,2,3) || 1 -> 1
<br>
_Pn(=&lt;{n},2,1,3) || 2 || 2!!! -> 2
<br>
・n=1~2の行列の総積
<br>
An=&lt;(n,2n:3n,4n); _pn(=&lt;{An},1,2) || (1,2:3,4)(2,4:6,8) -> (14,20:30,44)
<br>
An=&lt;(n,2n:3n,4n); _Pn(=&lt;{An},2,1) || (2,4:6,8)(1,2:3,4) -> (14,20:30,44)
<br>
・2変数の多重総乗
<br>
_py(=&lt;{_px(=&lt;{(x*y)},1,y)},1,3) || (1*1)(1*2)(2*2)(1*3)(2*3)(3*3) -> 1296
<br>
_Py(=&lt;{_Px(=&lt;{(x*y)},y,1)},3,1) || (3*3)(2*3)(1*3)(2*2)(1*2)(1*1) -> 1296
<br>
_py(=&lt;{_Px(=&lt;{(x*y)},y,1)},1,3) || (1*1)(2*2)(1*2)(3*3)(2*3)(1*3) -> 1296
<br>
_Py(=&lt;{_px(=&lt;{(x*y)},1,y)},3,1) || (1*3)(2*3)(3*3)(1*2)(2*2)(1*1) -> 1296
<br>
・任意行列Aの累乗
<br>
A=(1,2:3,4); N=2; _pn(=&lt;{A},1,N) -> (7,10:15,22)
<br>
A=(1,2:3,4); N=5; _pn(=&lt;{A},1,N) -> (1069,1558:2337,3406)
<br>
A=(1,2:3,4); N=5; _pn(=&lt;{trans(A)},1,N) -> (1069,2337:1558,3406)
<br>
・<a href="#span-out-com">複素数</a>の任意行列cAの累乗
<br>
cA=(e^{i(pi/4)},:,e^{i(-pi/4)}); N=4; _pn(=&lt;{cA},1,N)
<br>
-> (-1+2.7755575615628914e-16i,0:0,-1-2.7755575615628914e-16i)
<br>
・配列を使用
<br>
x={0,1,2,3,4,5,6,7,8,9}; _pn(=&lt;x[n],0,9) -> 0
<br>
x={0,1,2,3,4,5,6,7,8,9}; _pn(=&lt;x[n],1,9) -> 362880
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
再帰
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh-RX"></span>
再帰高階関数
<br>
・展開式の演算結果をdummy変数に代入する操作を再帰回数繰り返す
<br>
・最後の演算結果を返す
<br>
<del>・_rdummy<a href="#span-out-vars-symbol">変数名symbol</a>でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
・<span class="run">Ver.2.242.56</span>以降、再帰高階関数のみ、dummy<a href="#span-out-vars-symbol">変数名symbol</a>を省略可（while文の代替）
<br>
・<span class="run">Ver.2.381.86</span>以降、繰り返し回数=1~のdummy変数を一時的に保持する<a href="#span-out-ans">予約変数</a>__n__を追加
<br>
clear; _r(=&lt;arr.push(__n__),arr=[],10); arr -> (1,2,3,4,5,6,7,8,9,10)
<br>
<br>
_r(=&lt;第1引数,第2引数,第3引数[,=&lt;第4引数])
<br>
・第1引数: dummy変数の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
・第2引数: dummy変数の初期値を値渡し||<span class="run">Ver.2.271.62</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
clear; A0=(1,2:3,4); _r((A)=&lt;A+A0,=&lt;A0,10) -> <del>[MyErr]Invalid RX arguments</del>(11,22:33,44)
<br>
・第3引数: 再帰回数（正の整数）を値渡し
<br>
option
<br>
<span class="run">Ver.2.30.15</span>以降、第4引数追加
<br>
・第4引数: 再帰処理の反復後break条件（not0でbreak）を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>[省略時、break判定なし]
<br>
　<a href="#span-in-scope-vars">static scopes2d array</a>を共有するため、引数指定のbreak判定は反復後に実施
<br>
<br>
test caseを列挙する
<br>
・再帰回数&lt;=0の場合、初期値を返す
<br>
_rn(=&lt;{n+1},3,-1) -> 3
<br>
・加算の漸化式
<br>
_rn(=&lt;{n+1},,0) -> 0
<br>
_rn(=&lt;{n+1},,1) -> 1
<br>
_rn(=&lt;{n+1},,2) -> 2
<br>
・同義
<br>
eqn_n=&lt;n+1; _rn(=&lt;eqn_n,,2) -> 2
<br>
_rn(=&lt;eqn_n=&gt;,eqn_n=&lt;n+1,2) -> 2
<br>
Pn=0; _rn(=&lt;{Pn=Pn+1},0,2); Pn -> 2
<br>
_rn(=&lt;{Pn=Pn+1},Pn=0,2); Pn -> 2
<br>
・初期値未定義の場合、error終了
<br>
clear; _rn(=&lt;{Pn=Pn+1},,2); Pn -> [MyErr]Invalid binary operation
<br>
・非同義（<a href="#span-out-substitution">変数への代入</a>は0が返る）
<br>
clear; _rn(=&lt;{n=n+1},,2)  <span class="selection">// NG</span> -> 0
<br>
clear; _rn(=&lt;{n=n+1},,2); n -> [MyErr]Invalid REv(n)
<br>
clear; _rn(=&lt;{n=n+1},n=0,2); n -> 0
<br>
・乗算の漸化式
<br>
_rn(=&lt;{n*2},1,0) -> 1
<br>
_rn(=&lt;{n*2},1,1) || 2^1 -> 2
<br>
_rn(=&lt;{n*2},1,2) || 2^2 -> 4
<br>
_rn(=&lt;{n*2},1,3) || 2^3 -> 8
<br>
・同義
<br>
Pn=1; _rn(=&lt;{Pn=Pn*2},0,3); Pn -> 8
<br>
_rn(=&lt;{Pn=Pn*2},Pn=1,3); Pn -> 8
<br>
・任意行列Aの累乗
<br>
An=(1,:,1); A=(1,2:3,4); N=2; _rn(=&lt;{An=An*A},,N); An -> (7,10:15,22)
<br>
_rn(=&lt;{An=An*(1,2:3,4)},An=(1,:,1),5); An -> (1069,1558:2337,3406)
<br>
・2変数の多重再帰
<br>
_ry(=&lt;{_rx(=&lt;{x+y},1,2)},1,2) || (1+(3))+3<span class="selection">/*(x)+y*/</span> -> 7
<br>
_Ry(=&lt;{_Rx(=&lt;{x+y+1},1,2)},1,2) -> 13
<br>
<br>
<span class="run">Ver.2.30.15</span>以降、第4引数追加
<br>
・第4引数で再帰処理の反復後break条件を指定可
<br>
　単なるfor-loopのため、<a href="#span-out-callstack">call stack</a>の制限はない（再帰回数||反復後break条件で終了）
<br>
・test caseを列挙する
<br>
_rn(=&lt;{n+1},,100,=&lt;1) -> 1
<br>
_rn(=&lt;{n+1},,100,=&lt;{n&gt;=50}) -> 51
<br>
_rn(=&lt;{n+1},,1000000,=&lt;{n&gt;=500000}) -> 500001
<br>
_rn(=&lt;{Pn=Pn+1},Pn=0,100,=&lt;{Pn&gt;=50}); Pn -> 50
<br>
_rn(=&lt;{Pn=Pn+1},Pn=0,100,=&lt;{n&gt;=50}); Pn -> 100
<br>
_rn(=&lt;{last{Pn=Pn+1,Pn}},Pn=0,100,=&lt;{n&gt;=50}); Pn -> 51
<br>
_rn(=&lt;{Pn=Pn*2},Pn=1,10,=&lt;{Pn>100}); Pn -> 128
<br>
_rn(=&lt;{last{Pn=Pn*2,n+1}},Pn=1,10,=&lt;{Pn>100}) -> 7
<br>
_ry(=&lt;{_rx(=&lt;{x+y},1,2,=&lt;{y==1})},1,2) || (1+(2))+2<span class="selection">/*(x)+y*/</span> -> 5
<br>
<br>
<a href="#span-out-FN-fact">階乗</a>の一例10!=3628800を示す
<br>
・n=10を初期値に設定
<br>
・Pn=1を初期値とする漸化式last{Pn=Pn*n,n-1}を設定
<br>
・一般的な再帰回数上限値1e6を設定
<br>
・反復後break条件にn==1を設定
<br>
_rn(=&lt;{last{Pn=Pn*n,n-1}},last(Pn=1,10),1e6,=&lt;{n==1}),Pn -> (0,3628800)
<br>
・Pn=Pn*1の演算後、n-1して0が返る
<br>
・自明の演算Pn=Pn*1を除く場合、反復後break条件にn==2を設定
<br>
_rn(=&lt;{last{Pn=Pn*n,n-1}},last(Pn=1,10),1e6,=&lt;{n==2}),Pn -> (1,3628800)
<br>
・同様に、Pn=Pn*2の演算後、n-1して1が返る
<br>
<br>
応用例を示す
<br>
・<a href="#span-out-non-linear">非線形方程式の解法</a>を使用
<br>
・絶対誤差指定で収束判定条件を設定する場合
<br>
clear;
<br>
run=&lt;last{mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1})};
<br>
_rn(=&lt;run,Nmax=10,Nmax,=&lt;{normc(mdx)&lt;1e-3});
<br>
normc(mdx) -> 2.0548659974995737e-10
<br>
clear;
<br>
run=&lt;last{mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1})};
<br>
_rn(=&lt;run,Nmax=10,Nmax,=&lt;{normc(mdx)&lt;1e-12});
<br>
normc(mdx) -> infoLost[ri] 2.2204460494935903e-15
<br>
・相対誤差指定で収束判定条件を設定する場合
<br>
clear;
<br>
run=&lt;last{mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1})};
<br>
_rn(=&lt;run,Nmax=10,Nmax,=&lt;{normc(mdx)/normc({x0,x1})&lt;1e-3});
<br>
normc(mdx) -> 2.0548659974995737e-10
<br>
normc(mdx)/normc({x0,x1}) -> 3.4129466559497216e-11
<br>
clear;
<br>
run=&lt;last{mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1})};
<br>
_rn(=&lt;run,Nmax=10,Nmax,=&lt;{normc(mdx)/normc({x0,x1})&lt;1e-12});
<br>
normc(mdx) -> infoLost[ri] 2.2204460494935903e-15
<br>
normc(mdx)/normc({x0,x1}) -> infoLost[ri] 3.6879601533907295e-16
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
微分
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh-DX"></span>
微分高階関数
<br>
・連続関数のdummy変数微分位置における微分係数を<a href="#span-out-fdm">有限差分法</a>で数値的に演算して返す
<br>
・精度優先で微分位置に応じた<a href="#span-out-error">情報落ち</a>を対策する
<br>
・<a href="#span-out-error-numerical">数値誤差</a>O(dx^4以上)を含み、演算結果に<a href="#span-out-error-numerical">目安の解析誤差</a>を表示する
<br>
・1階微分の差分刻み実数値dxD既定値dxD=<del>1e-3</del><span class="clear">Ver.2.835.141</span>以降、2^(-10)
<br>
・微分位置xでの差分刻みdx既定値<del>dx=max(1,abs(x))dxD(1+i)</del>
<br>
　<span class="clear">Ver.2.321.78</span>以降、dx=dxD((real(x)||1)+(imag(x)||1)i)
<br>
<del>・_ddummy<a href="#span-out-vars-symbol">変数名symbol</a>でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
<br>
_d(=&lt;第1引数,第2引数[,第3引数[,第4引数]])　<span class="run">Ver.2.857.158</span>以降、第2引数の省略不可
<br>
・第1引数: dummy変数の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
option
<br>
・第2引数: 微分位置aを値渡し　<span class="run">Ver.2.857.158</span>以降、第2と第3の引数順序の交換
<br>
・第3引数: 微分階数Ndash（正の整数）を値渡し[省略時、1]　<span class="run">Ver.2.857.158</span>以降、厳密に判定
<br>
・第4引数: 1階微分の差分刻みdx0を値渡し[0||省略時、dx既定値]
<br>
<br>
<a href="#span-out-error-numerical">数値誤差</a>に関する精度次数について記述する
<br>
・<a href="#span-out-error-numerical">数値誤差</a>は絶対誤差
<br>
・微分階数が1階上がる毎に差分刻み2倍を仮定
<br>
　stencilに応じたdx=dx0*2^(Ndash-1)
<br>
・微分階数が2階までは中心差分法による4次精度以下
<br>
・微分階数が3階以降は中心差分法による2次精度以下
<br>
<br>
詳細は<a href="#span-out-fdm-differential">微分の数値解法</a>参照
<br>
<br>
test caseを列挙する
<br>
・f(x)=(x+i)^5のx=1における微分を示す
<br>
x=1; dxD=1e-3; dx=max(1,abs(x))dxD(1+i); f=&lt;{(x+i)^5} -> stored_eqn(f)
<br>
・0階微分
<br>
_dx(=&lt;f,) || _dx(=&lt;f,0)
<br>
-> -4.000000000000002-4.000000000000001i
<br>
f -> -4.000000000000002-4.000000000000001i
<br>
・1階微分は4次精度
<br>
_dx(=&lt;f,1)
<br>
-> -19.999999999980833-1.6714783492484858e-13i+O(1e-12+1e-12i)
<br>
_dx(=&lt;f)
<br>
-> -19.999999999980833-1.6714783492484858e-13i+O(1e-12+1e-12i)
<br>
・2階微分は4次精度以下
<br>
・差分刻みが異なる多重化とは完全には一致しない
<br>
_dx(=&lt;f,2)
<br>
-> -39.99999999980588+39.99999999944028i+O(3e-10+2e-11i)
<br>
_dx(=&lt;{_dx(=&lt;f)})
<br>
-> -40.00000000012216+40.00000000037086i+O(7e-10+1e-12i)
<br>
・2階微分を4次精度1階微分で厳密に多重化する場合、4次精度以下
<br>
_dx(=&lt;{_dx(=&lt;f,1,x,1dx)},1,x,2dx)
<br>
-> -39.99999999980588+39.99999999944028i+O(3e-10+2e-11i)
<br>
・3階微分以降は2次精度
<br>
・多重化は1階上がる毎に精度悪化
<br>
_dx(=&lt;f,3)
<br>
-> 2.6203811256259035e-11+120.00084001140233i+O(2e-2+2e-2i)
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f)})})
<br>
-> 4.378068605950494e-8+120.00000084539053i+O(2e-7+2e-7i)
<br>
・3階微分を4次精度1階微分で厳密に多重化する場合、3次精度以下
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f,1,x,1dx)},1,x,2dx)},1,x,4dx)
<br>
-> -3.5859384520417787e-10+120.00000000321582i+O(3e-8+3e-8i)
<br>
・4階微分
<br>
_dx(=&lt;f,4)
<br>
-> 120.00000006268098+120.0000001718161i+O(1e+0+2e-2i)
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f)})})})
<br>
-> 120.00001615650766+120.00019838028798i+O(1e-4+7e-7i)
<br>
・4階微分を4次精度1階微分で厳密に多重化する場合、2次精度以下
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f,1,x,1dx)},1,x,2dx)},1,x,4dx)},1,x,8dx)
<br>
-> 119.99999887453464+120.00000028081901i+O(2e-6+1e-7i)
<br>
・5階微分
<br>
_dx(=&lt;f,5)
<br>
-> 120.00007406068326-0.0000085816675963221i+O(2e+1+2e+1i)
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f)})})})})
<br>
-> 119.18659727305976+0.3620753183716584i+O(5e-2+5e-2i)
<br>
・5階微分を4次精度1階微分で厳密に多重化する場合、2次精度以下
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f,1,x,1dx)}
<br>
,1,x,2dx)},1,x,4dx)},1,x,8dx)},1,x,16dx)
<br>
-> 120.00037113527502-0.000050238369357712915i+O(5e-5+5e-5i)
<br>
・6階微分
<br>
_dx(=&lt;f,6)
<br>
-> -0.0004498352662456228+0.0005560189878646384i+O(2e+2+4e+0i)
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f)})})})})})
<br>
-> -322.002293591315+54.781879309774695i+O(3e+1+2e-1i)
<br>
・6階微分を4次精度1階微分で厳密に多重化する場合、2次精度以下
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f,1,x,1dx)}
<br>
,1,x,2dx)},1,x,4dx)},1,x,8dx)},1,x,16dx)},1,x,32dx)
<br>
-> -0.004201126114795549+0.005541058257682469i+O(1e-3+5e-5i)
<br>
・7階微分
<br>
_dx(=&lt;f,7)
<br>
-> -0.0007280114418273857+0.0030141311391229672i+O(9e+2+9e+2i)
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f)})})})})})})
<br>
-> -177398.93670986558-669172.3211788241i+O(1e+4+1e+4i)
<br>
・7階微分を4次精度1階微分で厳密に多重化する場合、2次精度以下
<br>
_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;{_dx(=&lt;f,1,x,1dx)}
<br>
,1,x,2dx)},1,x,4dx)},1,x,8dx)},1,x,16dx)},1,x,32dx)},1,x,64dx)
<br>
-> -0.009902789205100404+0.05048924924402281i+O(5e-3+5e-3i)
<br>
・8階微分
<br>
_dx(=&lt;f,8)
<br>
-> 0.03950452954492218+0.04027593568552271i+O(4e+3+6e+1i)
<br>
・9階微分
<br>
_dx(=&lt;f,9)
<br>
-> -0.16566502311270223-0.015219989707358128i+O(4e+3+3e+3i)
<br>
・10階微分
<br>
_dx(=&lt;f,10)
<br>
-> 0.044163954487214524-0.06480605313760723i+O(3e+3+6e+1i)
<br>
・微分位置を大きくした場合
<br>
_dx(=&lt;{x^2},1,1e10)
<br>
-> 20000000000.027855-2.790277777777778e-12i+O(1e+28+1e-12i)
<br>
_dx(=&lt;{x^2},2,1e10)
<br>
-> 1.9999999995176474+9.657789228690995e-20i+O(2e+29+3e+10i)
<br>
_dx(=&lt;{x^2},3,1e10)
<br>
-> 1.894235601707095e-17-5.686908543633962e-27i+O(2e+15+5e-4i)
<br>
・微分位置を小さくした場合
<br>
_dx(=&lt;{x^2},1,1e-10)
<br>
-> 2.0000000041847774e-10+7.305374602696278e-19i+O(1e-12+1e-12i)
<br>
_dx(=&lt;{x^2},2,1e-10)
<br>
-> 2.0000000000000013+9.411477191714447e-16i+O(3e-10+2e-11i)
<br>
_dx(=&lt;{x^2},3,1e-10)
<br>
-> 1.5072697186506098e-13-7.131763305997033e-14i+O(2e-2+2e-2i)
<br>
・2変数の多重微分
<br>
_Dy(=&lt;{_Dx(=&lt;{x*y*y},1,0)},1,1)
<br>
-> 1.9999999999998288+1.8785308474662037e-13i+O(7e-10+1e-12i)
<br>
<br>
<span class="run">Ver.2.29.15</span>以降、微分の差分刻みdx0=0の場合、省略に同義として扱う
<br>
_dx(=&lt;{x^2},1,1,0) || _dx(=&lt;{x^2},1,1)
<br>
-> 1.9999999999998392+1.6112448952215134e-13i+O(1e-12+1e-12i)
<br>
<br>
応用例を示す
<br>
・<a href="#span-out-non-linear">非線形方程式の解法</a>を使用
<br>
・微分方程式(x^3)"+x-7(1+i)=0の解析解x=1+iの求解
<br>
clear;
<br>
f=&lt;{_dx(=&lt;{x^3},2)+x-7(1+i)=0};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;{x}),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,6) -> infoLost[ri] 2.3549912261033786e-10+O(8e+0)
<br>
x -> infoLost[ri] 0.9999999999877383+1.0000000000273828i+O(1e-5+9e-6i)
<br>
・normが<a href="#span-out-epsilon">Machine epsilon</a>まで収束困難のため、一定の反復回数で打切る
<br>
・次に<a href="#span-out-error-numerical">数値解</a>の一例を示す
<br>
clear;
<br>
f=&lt;{2x*_dx(=&lt;{x*exp(3x)})=i};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;{x}),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,12) -> 3.844899655887233e-14+O(8e+0)
<br>
x -> -0.17989326929739397-0.5079280004968542i+O(2e-1+5e-1i)
<br>
・続けて厳密解同等の<a href="#span-out-error-numerical">数値解</a>を示す
<br>
clear;
<br>
f=&lt;{2x*(1*exp(3x)+x*exp(3x)3)=i};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;{x}),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,12) -> infoLost[r ] 3.3306690738754696e-16
<br>
x -> infoLost[r ] -0.17989326929046887-0.5079280004963925i
<br>
・連立方程式の解析解{x0,x1}={1,1}の求解
<br>
clear;
<br>
f0=&lt;{1*x0^2+x1};
<br>
f1=&lt;{i*x1^3+x0};
<br>
x=&lt;{x0,x1};
<br>
f=&lt;{x0+x1=2,_dx0(=&lt;{f0})+_dx1(=&lt;{f1},2)=2+6i};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,12) -> infoLost[ri] 3.236567392072123e-11+O(7e+0)
<br>
x ->
<br>
(
<br>
infoLost[ri] 1.000000000003112+3.106688703682062e-12i+O(6e-5+5e-5i):
<br>
infoLost[ri] 0.9999999999968879-3.106688703682063e-12i+O(1e-5+2e-5i)
<br>
)
<br>
・同じく<a href="#span-out-ope">実数演算</a>の場合
<br>
clear;
<br>
f0=&lt;{1*x0^2+x1};
<br>
f1=&lt;{i*x1^3+x0};
<br>
x=&lt;{x0,x1};
<br>
f=&lt;{x0+x1=2,_dx0(=&lt;{f0})+_dx1(=&lt;{f1},2)=2+6i};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,12) -> 7.724854831493598e-14+O(7e+0)
<br>
x -> (1.000000000000009+O(3e-5):0.9999999999999909+O(3e-5))
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
積分
<br>
高階関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNh-IX"></span>
積分高階関数
<br>
・連続関数のdummy変数積分区間[a,b]における定積分を<a href="#span-out-fdm">有限差分法</a>で数値的に演算して返す
<br>
・<a href="#span-out-error-numerical">数値誤差</a>O(dxI^4以上)を含み、演算結果に<a href="#span-out-error-numerical">目安の解析誤差</a>を表示する
<br>
・積分区間の分割数の既定値NI=<del>100</del><span class="clear">Ver.2.864.160</span>以降、2^7
<br>
・積分の差分刻みdxI=(b-a)/NI
<br>
<del>・_idummy<a href="#span-out-vars-symbol">変数名symbol</a>でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
・<span class="run">Ver.2.858.159</span>以降、NI=0の場合、初期値0を返す
<br>
<br>
_i(=&lt;第1引数,第2引数,第3引数[,第4引数])
<br>
・第1引数: dummy変数の展開式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
・第2引数: dummy変数の積分下端aを値渡し
<br>
・第3引数: dummy変数の積分上端bを値渡し
<br>
option
<br>
・第4引数: 積分区間の分割数NI（正の偶数）を値渡し[省略時、NI既定値]
<br>
<br>
<a href="#span-out-error-numerical">数値誤差</a>に関する精度次数について記述する
<br>
・<a href="#span-out-error-numerical">数値誤差</a>は絶対誤差
<br>
・既定で合成Simpson公式による4次精度
<br>
・台形公式による2次精度を<a href="#span-in-options">内部option</a>で選択可
<br>
<br>
詳細は<a href="#span-out-fdm-integral">積分の数値解法</a>参照
<br>
<br>
test caseを列挙する
<br>
・f(x)=x^4の積分区間[0,1+i]における定積分を示す
<br>
a=0; b=1+i; ab=[a,b]; f=&lt;{x^4} -> stored_eqn(f)
<br>
・分割数100
<br>
_ix(=&lt;f,ab) || _ix(=&lt;f,a,b)
<br>
-> -0.8000000053333336-0.8000000053333334i+O(1e-8+1e-8i)
<br>
・分割数10
<br>
_ix(=&lt;f,ab,10)
<br>
-> -0.8000533333333335-0.8000533333333333i+O(1e-4+1e-4i)
<br>
・分割数1000
<br>
_ix(=&lt;f,ab,1000)
<br>
-> -0.8000000000005332-0.800000000000533i+O(1e-12+1e-12i)
<br>
・積分区間を反転
<br>
_ix(=&lt;f,[b,a]) || _ix(=&lt;f,b,a)
<br>
-> 0.8000000053333336+0.8000000053333334i+O(1e-8+1e-8i)
<br>
・分割数が奇数の場合、暗黙で+1して偶数に変換される
<br>
_ix(=&lt;f,ab,99) || _ix(=&lt;f,ab,99+1)
<br>
-> -0.8000000053333336-0.8000000053333334i+O(1e-8+1e-8i)
<br>
・分割数が負の場合、暗黙で絶対値に変換される
<br>
_ix(=&lt;f,ab,-100)
<br>
-> -0.8000000053333336-0.8000000053333334i+O(1e-8+1e-8i)
<br>
・2次精度選択の場合（参考）
<br>
_ix(=&lt;f,ab)
<br>
-> -0.8001333320000001-0.8001333319999999i+O(1e-4+1e-4i)
<br>
・2変数の多重積分
<br>
_iy(=&lt;{_ix(=&lt;{x^2*y},0,y)},0,2) -> 2.1333333475555563+O(2e-7)
<br>
_iy(=&lt;{y^4/3},0,2) -> 2.1333333475555563+O(2e-7)
<br>
・微分・積分
<br>
_ix(=&lt;{_dx(=&lt;{x^3})},1,2)
<br>
-> 7.000000000000061-3.369899113923336e-14i+O(1e-8+1e-14i)
<br>
_Ix(=&lt;{_Dx(=&lt;{sin(x)},1,0)},-pi,pi)
<br>
-> 6.283185307180439+2.010557877134426e-14i+O(2e-5+8e-14i)
<br>
・積分・微分
<br>
_dx(=&lt;{_ix(=&lt;{x^3},0,x)},1,2)
<br>
-> 7.999999999998895+5.517384388870678e-13i+O(4e-5+2e-5i)
<br>
・<a href="#span-out-error-numerical">目安の解析誤差</a>が当てにならないcase
<br>
_it(=&lt;sqrt(tan(t)),0,pi/4,1) -> <span class="clear">0.4</span>678848567030397+O(2e-2)
<br>
_it(=&lt;sqrt(tan(t)),0,pi/4,10) -> <span class="clear">0.48</span>570913091719253+O(4e-5)
<br>
_it(=&lt;sqrt(tan(t)),0,pi/4,100) -> <span class="clear">0.4874</span>38986531867+O(4e-9)
<br>
_it(=&lt;sqrt(tan(t)),0,pi/4,1000) -> <span class="clear">0.48749</span>37074650109+O(4e-13)
<br>
_it(=&lt;sqrt(tan(t)),0,pi/4,10000) -> <span class="clear">0.4874954</span>3789153654+O(4e-17)
<br>
_it(=&lt;sqrt(tan(t)),0,pi/4,100000) -> <span class="clear">0.48749549</span>26124276+O(4e-21)
<br>
・<span class="run">Ver.2.806.130</span>以降、<a href="#span-eqn-integral_DE_quadrature">DE求積法</a>
<br>
_i0((t)=&lt;sqrt(tan(t)),0,pi/4) -> infoLost[r ] <span class="clear">0.48749549439936113</span>+O(1e-100)
<br>
1/sqrt(2)*(log(sqrt(2)-1)+pi/2) -> 0.48749549439936113
<br>
・広義積分
<br>
_i0((t)=&lt;1/sqrt(t),0,1) -> infoLost[r ] 1.9999999768287098+O(1e-100)
<br>
_i0((t)=&lt;1/sqrt(-t),-1,0) -> 1.9999999768287098+O(1e-100)
<br>
<br>
応用例を示す
<br>
・<a href="#span-out-non-linear">非線形方程式の解法</a>を使用
<br>
・f(x)=x^2のx=[0,b]の定積分=3^3/3となる積分方程式の解析解b=3の求解
<br>
clear;
<br>
f=&lt;{_ix(=&lt;{x^2},0,b)=3^3/3};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;{b},=&lt;{1}),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,12) -> infoLost[ i] 1.3839478914652153e-28+O(8e-7)
<br>
b -> infoLost[ri] 2.9999999999999996+4.613167602434132e-34i+O(1e-1+2e-1i)
<br>
・2次関数の積分の場合、補間多項式に一致するため、<a href="#span-out-error-numerical">数値誤差</a>が出ない
<br>
_ix(=&lt;{x^2},0,3,2) -> 9+O(5e+0)
<br>
_ix(=&lt;{x^2},0,3,10) -> 8.999999999999998+O(8e-3)
<br>
_ix(=&lt;{x^2},0,3,100) -> 8.999999999999998+O(8e-7)
<br>
_ix(=&lt;{x^2},0,3,1000) -> 8.999999999999998+O(8e-11)
<br>
・f(x)=x^4のx=[0,b]の定積分=3^5/5となる積分方程式の解析解b=3の求解
<br>
clear;
<br>
f=&lt;{_ix(=&lt;{x^4},0,b)=3^5/5};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;{b},=&lt;{1}),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,20) -> 1.4210854715508634e-14+O(8e-7)
<br>
b -> infoLost[r ] 2.9999999959999992-1.15251646351758e-21i+O(2e-2+2e-2i)
<br>
・高次関数の積分の場合、収束までの反復回数が増える
<br>
・得られる近似解の精度は分割数に依存する
<br>
_ix(=&lt;{x^4},0,3,2) -> 50.62499999999998+O(5e+0)
<br>
_ix(=&lt;{x^4},0,3,10) -> 48.60323999999998+O(8e-3)
<br>
_ix(=&lt;{x^4},0,3,100) -> 48.60000032400001+O(8e-7)
<br>
_ix(=&lt;{x^4},0,3,1000) -> 48.60000000003241+O(8e-11)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
高階行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmh"></span>
高階行列関数を列挙する
<br>
・<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>
<br>
・<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>
<br>
・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>
<br>
・<span class="run">Ver.2.238.56</span>以降、<a href="#span-out-FNmh-TX">ODEt高階行列関数</a>
<br>
<del>・<a href="#span-out-FNmh-EX">symbolic高階行列関数</a></del><span class="run">Ver.2.813.131</span>以降、仕様廃止
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Jacobi
<br>
高階行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmh-jacobian"></span>
Jacobi高階行列関数
<br>
・Jacobi行列を<a href="#span-out-fdm">有限差分法</a>で数値的に演算して返す（<a href="#span-out-method-Newton">Newton法</a>参照）
<br>
・1次精度の<a href="#span-out-error-numerical">数値誤差</a>O(dx)を含む<del>が、<a href="#span-out-error-numerical">目安の解析誤差</a>を評価・表示しない</del>
<br>
　<span class="run">Ver.2.323.78</span>以降、演算結果に<a href="#span-out-error-numerical">目安の解析誤差</a>を表示する
<br>
・1階偏微分の差分刻み実数値dxJ既定値dxJ=<del>1e-5</del><span class="clear">Ver.2.835.141</span>以降、2^(-16)
<br>
・微分位置xでの差分刻みdx既定値<del>dx=dxJ(1+i)</del>
<br>
　<span class="clear">Ver.2.321.78</span>以降、微分位置に応じて差分刻みを可変（<a href="#span-out-error">情報落ち</a>の対策と<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>の反復過程の改善）
<br>
　<span class="clear">Ver.2.321.78</span>以降、dx=dx<span class="clear">J</span>((real(x)||1)+(imag(x)||1)i)　<span class="clear">Ver.2.840.146</span>以降、訂正
<br>
　<span class="run">Ver.2.404.86</span>以降、<a href="#span-out-literal">false</a>指定の場合、実数の相対値dx=dx<span class="clear">J</span>(real(x)||1)　<span class="clear">Ver.2.840.146</span>以降、訂正
<br>
<br>
Jacobi(=&lt;第1引数,=&lt;第2引数[,=&lt;第3引数[,第4引数]])
<br>
・第1引数: 方程式||関数式の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
<del>・第2引数: 未知<a href="#span-out-vars-symbol">変数名symbol</a>の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a></del><span class="run">Ver.2.816.132</span>以降、廃止
<br>
option
<br>
・第3引数: 未知変数初期値の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>[0||省略時、<a href="#span-out-FNm-init">zeros-vector</a>]
<br>
・第4引数: 偏微分の差分刻みdxを値渡し[0||省略時、dx既定値]
<br>
<br>
xの1次方程式の偏微分係数を求める場合
<br>
clear; Jacobi(=&lt;{3x-3=0},=&lt;{x},=&lt;{0})
<br>
-> -3.0000000000098264+9.826647183188544e-12i
<br>
clear; Jacobi(=&lt;{3x-3=0},=&lt;{x})
<br>
-> -3.0000000000098264+9.826647183188544e-12i
<br>
・右辺に移項した関数=-3x+3のx=0周辺の傾き-3を返す
<br>
<br>
xの2次関数の偏微分係数を求める場合
<br>
clear; Jacobi(=&lt;{2x^2},=&lt;{x},=&lt;{1})
<br>
-> 4.0000200000131025+0.000019999986898147652i
<br>
・1階偏微分の解析解=4xからx=1周辺の傾き4を返す
<br>
<br>
微分位置を大きくした場合
<br>
clear; Jacobi(=&lt;{2x^2},=&lt;{x},=&lt;{1e10})  <span class="selection">// NG</span>
<br>
-> 19999999999.999996+19999999999.999996i
<br>
clear; a=1e10; h=max(1,abs(a))1e-5(1+i); Jacobi(=&lt;{2x^2},=&lt;{x},=&lt;{a},h)  <span class="selection">// OK</span>
<br>
-> 40000200000.65538+199999.3446694911i
<br>
・<a href="#span-out-error">情報落ち</a>の対策が必要
<br>
・1階偏微分の解析解=4xからx=1e10周辺の傾き4e10を返す
<br>
<br>
test caseを列挙する
<br>
clear; Jacobi(=&lt;{y},=&lt;{x},=&lt;{1}) -> [MyErr]Invalid BRsa operation
<br>
clear; Jacobi(=&lt;{x},=&lt;{x},=&lt;{1}) -> 1.0000000000032756-3.2755706022246335e-12i
<br>
clear; Jacobi(=&lt;{x},=&lt;{x*x},=&lt;{1}) -> [MyErr]Invalid binary operation
<br>
clear; Jacobi(=&lt;{x},=&lt;x,=&lt;{1}) -> [MyErr]Invalid =&lt;eqn
<br>
clear; Jacobi(=&lt;x,=&lt;{x},=&lt;{1}) -> [MyErr]Invalid =&lt;eqn
<br>
clear; Jacobi(=&lt;{x},=&lt;{x},=&lt;{1,2}) -> [MyErr]Invalid J arguments
<br>
clear; Jacobi(=&lt;{x**2},=&lt;{x},=&lt;(1,2)) -> 4.000010000057512+0.000009999942489061227i
<br>
clear; Jacobi(=&lt;{x**2:x},=&lt;{x},=&lt;{1}) -> 1.0000000000032756-3.2755706022246335e-12i
<br>
clear; Jacobi(=&lt;{x},=&lt;{(0,x)},=&lt;{1}) -> 1.0000000000032756-3.2755706022246335e-12i
<br>
clear; Jacobi(=&lt;{x},=&lt;{(x,0)},=&lt;{1}) -> [MyErr]Invalid J arguments
<br>
clear; Jacobi(=&lt;{(x+i)**2},=&lt;{x},=&lt;{0}) -> 0.000009999976914767357+2.000009999990017i
<br>
clear; Jacobi(=&lt;{(x+i)**2},=&lt;{x},1000) -> 0.000009999976914767357+2.000009999990017i
<br>
clear; Jacobi(=&lt;{(x+i)**2},1000,1000) -> [MyErr]Invalid jacobian arguments
<br>
clear; x=&lt;x; y=&lt;x*x; Jacobi(=&lt;{y},=&lt;x,=&lt;{1}) -> 2.0000100000065513+0.000009999993448815332i
<br>
clear; x=&lt;x*x; y=&lt;x*x; Jacobi(=&lt;{y},=&lt;x,=&lt;{1}) -> [MyErr]Invalid binary operation
<br>
clear; x=&lt;x*x; y=&lt;x*x; Jacobi(=&lt;{y},=&lt;{x},=&lt;{1}) -> 2.0000100000065513+0.000009999993448815332i
<br>
clear; Jacobi(=&lt;{x0**2+x1,x0+x1**2},=&lt;{x0,x1},=&lt;{1,2}) ->
<br>
(
<br>
2.0000100000065513+0.000009999993449073826i,1.0000000000032756-3.2755706022246335e-12i:
<br>
0.999999999981071+1.8928929719024988e-11i,4.000010000057512+0.000009999942489061227i
<br>
)
<br>
・<a href="#span-out-ope">実数演算</a>の場合
<br>
clear; Jacobi(=&lt;{x0**2+x1,x0+x1**2},=&lt;{x0,x1},=&lt;{1,2}) ->
<br>
(
<br>
2.00001000001393,1.0000000000065512:
<br>
0.9999999999621422,4.000010000027032
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Newton
<br>
高階行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmh-newtonian"></span>
Newton高階行列関数
<br>
・Newton法による反復1回の演算結果を返す
<br>
・引数は第4引数まで<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>に同じ
<br>
・返値は符号付の解の修正vector（以降、残差と呼ぶ）
<br>
・絶対誤差の残差norm収束判定実数値epsN既定値epsN=<del>1e-16</del><span class="clear">Ver.2.835.141</span>以降、<a href="#span-out-epsilon">Machine epsilon</a>
<br>
　<span class="run">Ver.2.309.77</span>以降、判定対象の残差normが<a href="#span-out-literal">NaN</a>の場合、無条件にbreak
<br>
<br>
Newton(=&lt;第1引数,=&lt;第2引数[,=&lt;第3引数[,第4引数[,第5引数[,第6引数[,第7引数[,第8引数]]]]]])
<br>
・第1引数: 方程式||関数式の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
<del>・第2引数: 未知<a href="#span-out-vars-symbol">変数名symbol</a>の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a></del><span class="run">Ver.2.816.132</span>以降、廃止
<br>
option
<br>
・第3引数: 未知変数初期値の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>[0||省略時、<a href="#span-out-FNm-init">zeros-vector</a>]
<br>
・第4引数: 偏微分の差分刻みdxを値渡し[0||省略時、dx既定値]
<br>
<span class="run">Ver.2.29.15</span>以降、第5~7引数追加
<br>
・第5引数: 反復回数（正の整数）を値渡し[省略時、1]
<br>
・第6引数: 反復後判定の絶対誤差の残差norm収束判定実数値epsNを値渡し[省略時、epsN既定値]
<br>
　<a href="#span-in-scope-vars">static scopes2d array</a>を共有するため、引数指定のbreak判定は反復後に実施
<br>
・第7引数: 第6引数epsNを相対誤差に変換する0||not0のflag[省略時、0]
<br>
<span class="run">Ver.2.408.86</span>以降、第8引数追加
<br>
・第8引数: 収束計算のretry機能を使用する0||not0のflag[省略時、0]
<br>
　最大retry回数&lt;反復回数<span class="run">-1</span>
<br>
　retry時、初期値を<a href="#span-out-FN-rand">乱数</a>でresetして反復継続
<br>
　<span class="run">Ver.2.410.86</span>以降、最終反復回数の場合、retry無効で反復終了（<a href="#span-out-literal">NaN</a>確定）
<br>
　<span class="run">Ver.2.834.140</span>~<span class="run">2.836.141</span>以降、連立方程式の列挙順序：昇順　⇒　Fisher-Yates shuffle
<br>
<br>
応用例は<a href="#span-out-linear">連立方程式の解法</a>参照
<br>
<br>
test caseを列挙する
<br>
・<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
clear;
<br>
x=&lt;{x0,x1}; x_initial=&lt;{0,0};
<br>
f=&lt;{x0+2*x1=5,3*x0+4*x1=6};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f=&gt;),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> infoLost[ri] 2.2204460494935903e-15
<br>
・<a href="#span-out-config-strict">strict-mode</a>で直接<a href="#span-out-pass-by-equation">式渡し</a>する場合
<br>
clear;
<br>
run=&lt;last(mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},=&lt;{0,0}),normc(mdx));
<br>
_rn(=&lt;run,,3) -> infoLost[ri] 2.2204460494935903e-15
<br>
・<a href="#span-out-config-strict">strict-mode</a>の最短表記
<br>
clear;
<br>
_rn(=&lt;{
<br>
last(mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},=&lt;{0,0}),normc(mdx))
<br>
},,3) -> infoLost[ri] 2.2204460494935903e-15
<br>
<br>
<span class="run">Ver.2.29.15</span>以降
<br>
・第3引数0の場合、<a href="#span-out-FNm-init">zeros-vector</a>
<br>
・第4引数0の場合、偏微分の差分刻みdx=dx既定値
<br>
・第5引数で反復回数を指定可
<br>
・第6引数で絶対誤差の収束判定値を指定可
<br>
・第7引数で第6引数を相対誤差に変換するflagを指定可
<br>
・反復回数&lt;=0の場合、初期値を返す
<br>
clear;
<br>
mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},,,0);
<br>
normc(mdx) -> 0
<br>
{x0,x1} -> (0:0)
<br>
・残差の最大値を演算する場合、<a href="#span-out-FNm-trans">転置行列関数</a>を使用
<br>
・残差を結合した列vectorを転置して行vectorに変換後、maxを取る
<br>
max(trans({mdx,-mdx}))  <span class="selection">// real-part</span> -> 0
<br>
max(i*trans({mdx,-mdx}))  <span class="selection">// imag-part</span> -> 0
<br>
camax(trans(mdx))  <span class="selection">// |both-part|</span> -> 0
<br>
・反復3回の場合
<br>
・反復最後の残差を<a href="#span-out-error-numerical">目安の解析誤差</a>として表示する
<br>
clear;
<br>
mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},,,3);
<br>
normc(mdx) -> infoLost[ri] 2.2204460494935903e-15
<br>
max(trans({mdx,-mdx}))  <span class="selection">// real-part</span> -> infoLost[ri] 1.7763568394338757e-15
<br>
max(i*trans({mdx,-mdx}))  <span class="selection">// imag-part</span> -> infoLost[ri] 2.1963410797410362e-20
<br>
camax(trans(mdx))  <span class="selection">// |both-part|</span> -> infoLost[ri] 1.7763568395696568e-15
<br>
{x0,x1} ->
<br>
(
<br>
infoLost[ri] -3.999999999999999-3.362471994400586e-26i+O(2e-15+2e-20i):
<br>
infoLost[ri] 4.499999999999999+6.466216308756395e-26i+O(1e-15+2e-20i)
<br>
)
<br>
・反復10回以内に絶対誤差のnorm収束判定値1e-8を指定する場合
<br>
・収束判定成立時の残差を<a href="#span-out-error-numerical">目安の解析誤差</a>として表示する
<br>
clear;
<br>
mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},,,10,1e-8);
<br>
normc(mdx) -> 2.0548659974995737e-10
<br>
max(trans({mdx,-mdx}))  <span class="selection">// real-part</span> -> 1.0355938329098548e-10
<br>
max(i*trans({mdx,-mdx}))  <span class="selection">// imag-part</span> -> 1.0355819825427455e-10
<br>
camax(trans(mdx))  <span class="selection">// |both-part|</span> -> 1.464542464160083e-10
<br>
{x0,x1} ->
<br>
(
<br>
-4.000000000000001+2.1963377172690418e-20i+O(1e-10+1e-10i):
<br>
4.500000000000001-1.7499160954924154e-20i+O(1e-10+1e-10i)
<br>
)
<br>
・反復10回以内に相対誤差のnorm収束判定値1e-8を指定する場合
<br>
・未知変数の初期化が必要
<br>
・<a href="#span-out-FNm-init">zeros-vector</a>で初期化の場合、反復2回以上が確定する
<br>
clear;
<br>
{$x0,$x1}={,};
<br>
mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},,,10,1e-8*normc({x0,x1}));
<br>
normc(mdx) -> infoLost[ri] 2.2204460494895584e-15
<br>
1e-8*normc({x0,x1}) -> infoLost[ri] 6.02079728939615e-8+O(2e-33i)
<br>
normc(mdx)/normc({x0,x1}) -> infoLost[ri] 3.6879601533840316e-16+O(1e-41i)
<br>
max(trans({mdx,-mdx}))  <span class="selection">// real-part</span> -> infoLost[ri] 1.7763568395916467e-15
<br>
max(i*trans({mdx,-mdx}))  <span class="selection">// imag-part</span> -> infoLost[ri] 2.250213020433239e-25
<br>
camax(trans(mdx))  <span class="selection">// |both-part|</span> -> infoLost[ri] 1.7763568395916467e-15
<br>
{x0,x1} ->
<br>
(
<br>
infoLost[ri] -4.000000000000001+1.9139665347514104e-25i+O(2e-15+2e-25i):
<br>
infoLost[ri] 4.500000000000001-1.4354751880569493e-25i+O(1e-15+2e-25i)
<br>
)
<br>
・反復10回以内に相対誤差のnorm収束判定値1e-8を指定する場合
<br>
・第7引数で相対誤差のflag-ONを指定する場合、未知変数の初期化不要
<br>
clear;
<br>
mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},,,10,1e-8,1);
<br>
normc(mdx) -> 2.0548659974995737e-10
<br>
normc(mdx)/normc({x0,x1}) -> 3.4129466559497216e-11+O(4e-22+4e-22i)
<br>
max(trans({mdx,-mdx}))  <span class="selection">// real-part</span> -> 1.0355938329098548e-10
<br>
max(i*trans({mdx,-mdx}))  <span class="selection">// imag-part</span> -> 1.0355819825427455e-10
<br>
camax(trans(mdx))  <span class="selection">// |both-part|</span> -> 1.464542464160083e-10
<br>
{x0,x1} ->
<br>
(
<br>
-4.000000000000001+2.1963377172690418e-20i+O(1e-10+1e-10i):
<br>
4.500000000000001-1.7499160954924154e-20i+O(1e-10+1e-10i)
<br>
)
<br>
・反復1回指定で3回繰り返した場合
<br>
・反復1回目の最大残差が<a href="#span-out-error-numerical">目安の解析誤差</a>として残る
<br>
clear;
<br>
_rn(=&lt;{
<br>
mdx=Newton(=&lt;{x0+2*x1=5,3*x0+4*x1=6},=&lt;{x0,x1},,,1)
<br>
},,3);
<br>
normc(mdx) -> infoLost[ri] 2.2204460494935903e-15+O(2e-5+5e-6i)
<br>
max(trans({mdx,-mdx}))  <span class="selection">// real-part</span> -> infoLost[ri] 1.7763568394338757e-15+O(2e-5)
<br>
max(i*trans({mdx,-mdx}))  <span class="selection">// imag-part</span> -> infoLost[ri] 2.1963410797410362e-20+O(1e-5)
<br>
camax(trans(mdx))  <span class="selection">// |both-part|</span> -> infoLost[ri] 1.7763568395696568e-15+O(2e-5)
<br>
{x0,x1} ->
<br>
(
<br>
infoLost[ri] -3.999999999999999-3.362471994400586e-26i+O(4e+0+2e-10i):
<br>
infoLost[ri] 4.499999999999999+6.466216308756395e-26i+O(4e+0+1e-5i)
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
ODE
<br>
高階行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmh-OX"></span>
ODE高階行列関数
<br>
・dummy変数を媒介する常微分方程式の1step定積分を<a href="#span-out-fdm">有限差分法</a>で数値的に演算して返す
<br>
・<a href="#span-out-error-numerical">数値誤差</a>O(dt^4以上)を含み、演算結果に<a href="#span-out-error-numerical">目安の解析誤差</a>を表示する
<br>
<del>・1階常微分の差分刻み実数値dxT既定値dxT=1e-3</del><span class="run">Ver.2.858.159</span>以降、廃止
<br>
<del>・_odummy<a href="#span-out-vars-symbol">変数名symbol</a>でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
<br>
_o(=&lt;第1引数,=&lt;第2引数,=&lt;第3引数,第4引数,第5引数[,第6引数[,第7引数[,第8引数]]])　<span class="run">Ver.2.858.159</span>以降、更新
<br>
・第1引数: 1階常微分方程式右辺の関数式を<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>
<br>
<del>・第2引数: 未知<a href="#span-out-vars-symbol">変数名symbol</a>の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a></del><span class="run">Ver.2.816.132</span>以降、廃止
<br>
option
<br>
・第3引数: 未知変数初期値の列vectorを<a href="#span-out-pass-by-equation">式渡し</a>||<a href="#span-out-pass-by-symbol">symbol渡し</a>[0||省略時、<a href="#span-out-FNm-init">zeros-vector</a>]
<br>
・第4引数: dummy変数初期値t0を値渡し　<span class="run">Ver.2.858.159</span>以降、省略不可
<br>
・第5引数: <del>常微分の差分刻みdtを値渡し[省略時、dxT既定値]</del>
<br>
　<span class="run">Ver.2.858.159</span>以降、dummy変数終了値t1を値渡し
<br>
　<span class="run">Ver.2.858.159</span>以降、dt=(t1-t0)/反復回数
<br>
　<span class="clear">Ver.2.821.134</span>以降、dt=0の場合、初期値を返す（adaptive-stepの場合、無限loopの可能性を排除）
<br>
<span class="run">Ver.2.29.15</span>以降、第6引数追加
<br>
・第6引数: 反復回数（正の整数）を値渡し[省略時、<a href="#span-out-FNh-IX">NI既定値</a>]　<span class="run">Ver.2.858.159</span>以降、<a href="#span-out-spec-changed-history">演算仕様変更</a>
<br>
<span class="run">Ver.2.774.119</span>以降、第7引数追加（adaptive-step solver用）
<br>
・第7引数: norm比較判定対象|dt|δのδを値渡し[0||省略時、1e-3]
<br>
<span class="run">Ver.2.777.123</span>以降、第8引数追加（_o0()指定で任意のButcher-tableを使用）
<br>
・第8引数: Butcher-tableの<a href="#span-out-mat">行列</a>を<a href="#span-out-pass-by-equation">式渡し</a>
<br>
<br>
<a href="#span-out-error-numerical">数値誤差</a>に関する精度次数について記述する
<br>
・<a href="#span-out-error-numerical">数値誤差</a>は絶対誤差
<br>
・既定で陽的Runge-Kutta法による4次精度
<br>
・陽的improved Euler法による2次精度を<a href="#span-in-options">内部option</a>で選択可
<br>
<br>
応用例は<a href="#span-out-evolution-space">斜方投射</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
ODEt
<br>
高階行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmh-TX"></span>
ODEt高階行列関数
<br>
・<span class="run">Ver.2.238.56</span>以降、追加
<br>
・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>と異なり、dummy変数を未知変数vectorに含めて返す
<br>
<br>
_t<a href="#span-out-vars-symbol">変数名symbol</a>(=&lt;第1引数,=&lt;第2引数[,=&lt;第3引数[,第4引数[,第5引数[,第6引数[,第7引数]]]]])
<br>
・<a href="#span-out-FNmh-OX">ODE高階行列関数</a>の第4引数を削除
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
symbolic
<br>
高階行列関数
<br>
入力仕様
    </th>
    <td>
<span id="span-out-FNmh-EX"></span>
symbolic高階行列関数
<br>
・未知<a href="#span-out-vars-symbol">変数名symbol</a>連番0~の<a href="#span-out-reference-mat-index">ij参照の行列</a>を<a href="#span-out-eqns">式変数</a>に<a href="#span-out-substitution-equation">式代入</a>して0を返す
<br>
<del>・_e式<a href="#span-out-vars-symbol">変数名symbol</a>(=&lt;{未知<a href="#span-out-vars-symbol">変数名symbol</a>},m,n)でcallする</del><span class="run">Ver.2.812.131</span>以降、旧仕様廃止
<br>
<br>
_e(=&lt;第1引数,第2引数,第3引数)
<br>
・<span class="run">Ver.2.736.107</span>~<span class="run">2.739.107</span>以降、廃止予定
<br>
・<span class="run">Ver.2.813.131</span>以降、本仕様を廃止
<br>
<br>
<del>test caseを列挙する
<br>
・f=&lt;(x0,x1:x2,x3)
<br>
clear; _ef(=&lt;x,2,2) -> 0
<br>
・<span class="run">Ver.2.231.56</span>以降、第1引数の<a href="#span-out-eqns-args">arguments</a>優先
<br>
clear; _e((f)=&lt;x,2,2) -> 0
<br>
・<span class="run">Ver.2.268.62</span>以降、同義
<br>
clear; _e((=&lt;f)=&lt;x,2,2) -> 0
<br>
・x=&lt;(x0,x1,x2,x3)
<br>
clear; _ex(=&lt;{x},1,4) -> 0
<br>
clear; _ex(=&lt;{x},1,4); x -> [MyErr]Invalid REv(x0)
<br>
clear; _ex(=&lt;{x},1,4); ($x0,$x1:$x2,$x3)=identity2; x -> (1,0,0,1)
<br>
clear; x=&lt;(x0,x1,x2,x3); ($x0,$x1:$x2,$x3)=identity2; x -> (1,0,0,1)
<br>
・x=&lt;(x0:x1:x2:x3)
<br>
clear; _ex(=&lt;{x},4,1); ($x0,$x1:$x2,$x3)=identity2; x -> (1:0:0:1)
<br>
clear; x=&lt;(x0:x1:x2:x3); ($x0,$x1:$x2,$x3)=identity2; x -> (1:0:0:1)
<br>
・x=&lt;(x0,x1:x2,x3)
<br>
clear; _ex(=&lt;{x},2,2); ($x0,$x1,$x2,$x3)=(1,2,3,4); x -> (1,2:3,4)
<br>
clear; x=&lt;(x0,x1:x2,x3); ($x0,$x1,$x2,$x3)=(1,2,3,4); x -> (1,2:3,4)
<br>
・symbol名は<a href="#span-out-FNm-last">最終要素</a>を参照
<br>
clear; _ex(=&lt;{test,test:x},2,2); x -> [MyErr]Invalid REv(test0)
<br>
clear; _ex(=&lt;{test,test:test,x},2,2); x -> [MyErr]Invalid REv(x0)
<br>
clear; _ex(=&lt;{test,test:test,x},2,2); ($x0,$x1,$x2,$x3)=(1,2,3,4); x -> (1,2:3,4)
<br>
・引数不正の場合、error終了
<br>
clear; _ex(=&lt;{x},2,0) -> [MyErr]Invalid matrix size
<br>
clear; _ex(=&lt;{x},2) -> [MyErr]Invalid EX arguments
<br>
<br>
<span class="run">Ver.2.29.15</span>以降、<a href="#span-out-vars-rule2">変数の命名規則</a>に準拠
<br>
・<span class="run">Ver.2.232.56</span>以降、symbol表記に統一
<br>
・<span class="run">Ver.2.248.57</span>以降、dummy　⇒　symbol
<br>
_ex(=&lt;{$x},2,2) -> [MyErr]Invalid <del>REv</del>symbol($x)
<br>
<br>
<span class="run">Ver.2.32.17</span>以降、第1引数の<a href="#span-out-BT">括弧</a>省略可
<br>
clear; _ex(=&lt;x,1,4); ($x0,$x1:$x2,$x3)=identity2; x -> (1,0,0,1)
<br>
<br>
応用例は<a href="#span-out-inverse">逆行列の解法</a>参照</del>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Euclid実空間
    </th>
    <td>
<span id="span-out-Euclid"></span>
3次元Euclid実空間について記述する
<br>
<br>
前提を列挙する
<br>
・右手系をRHS(Right Handed System)と省略する
<br>
・左手系をLHS(Left Handed System)と省略する
<br>
<br>
代数学に準ずる右手系
<br>
・紙面x-y平面に対して鉛直上向きをz軸の正とする（左手系はその逆）
<br>
・x軸を親指、y軸を人差し指、z軸を中指とする
<br>
・回転方向は、x⇒y⇒z⇒x軸の正循環で各軸に向ける方向を正とする
<br>
<br>
computer graphicsで主流の左手系
<br>
・HTML5描画canvasではbrowser左上originのclient座標系に対して手前方向をCSS/z-indexの正とする
<br>
<br>
右手系の座標系を列挙する
<br>
・<a href="#span-out-complex">複素数平面</a>
<br>
・<a href="#span-out-orthogonal">直交座標</a>
<br>
・<a href="#span-out-polar">平面極座標</a>
<br>
・<a href="#span-out-spherical">球面座標</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
複素数平面
    </th>
    <td>
<span id="span-out-complex"></span>
2次元の複素平面（複素数平面||Gauss平面）について記述する
<br>
<br>
<a href="#span-out-orthogonal">直交座標</a>表示
<br>
・vectorの成分(x,y)を<a href="#span-out-com">複素数</a>の成分z=x+y*iで表示
<br>
($x,$y)=(1,-1);
<br>
vec=(x,y); vec -> (1,-1)
<br>
z=complex(vec); z -> 1-i
<br>
x=real(z); x -> 1
<br>
y=imag(z); y -> -1
<br>
・vector空間の標準内積
<br>
vec0=(1,1); vec1=(1,-1);
<br>
dot_(vec0,vec1)=&lt;vec0*trans(vec1); dot_(=&lt;vec0,=&lt;vec1) || (1,1){1,-1} -> 0
<br>
z0=complex(vec0); z0 -> 1+i
<br>
z1=complex(vec1); z1 -> 1-i
<br>
cdot_(z0,z1)=&lt;(real(z0),imag(z0))*{real(z1),imag(z1)}; cdot_(z0,z1) || cdot(z0,z1) -> 0
<br>
<br>
<a href="#span-out-polar">極座標</a>表示
<br>
・vectorの長さrと偏角tの成分(r,t)を<a href="#span-out-com">複素数</a>の極形式r*e^(i(t))で表示
<br>
($x,$y)=(1,-1);
<br>
vec=(x,y); vec -> (1,-1)
<br>
r=normc(trans(vec)); r -> 1.4142135623730951
<br>
t=atan2(y,x); t -> -0.7853981633974483
<br>
z=pcomplex(r,t); z -> 1.0000000000000002-i
<br>
r=abs(z); r -> 1.4142135623730951
<br>
t=arg(z); t -> -0.7853981633974482
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
直交座標
    </th>
    <td>
<span id="span-out-orthogonal"></span>
右手系の直交座標について記述する
<br>
<br>
直交座標(x,y,z)の関係式を示す
<br>
・定義
<br>
e_0:={0,0,0}
<br>
e_x:={1,0,0}
<br>
e_y:={0,1,0}
<br>
e_z:={0,0,1}
<br>
I:=(e_x,e_y,e_z)
<br>
・基底vector（不変）
<br>
e_x={1,0,0}
<br>
e_y={0,1,0}
<br>
e_z={0,0,1}
<br>
・標準内積
<br>
e_x・e_x=1
<br>
e_x・e_y=0
<br>
e_x・e_z=0
<br>
e_y・e_x=0
<br>
e_y・e_y=1
<br>
e_y・e_z=0
<br>
e_z・e_x=0
<br>
e_z・e_y=0
<br>
e_z・e_z=1
<br>
・右手系のvector積（外積）
<br>
e_x×e_x=e_0
<br>
e_x×e_y=e_z
<br>
e_x×e_z=-e_y
<br>
e_y×e_x=-e_z
<br>
e_y×e_y=e_0
<br>
e_y×e_z=e_x
<br>
e_z×e_x=e_y
<br>
e_z×e_y=-e_x
<br>
e_z×e_z=e_0
<br>
・運動
<br>
位置　　(vec_x):={x,y,z}
<br>
速度　　(vec_x)'={x',y',z'}
<br>
加速度　(vec_x)"={x",y",z"}
<br>
面積速度vec_vA*2=(vec_x)×(vec_x)'={y*z'-z*y',z*x'-x*z',x*y'-y*x'}
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
平面極座標
    </th>
    <td>
<span id="span-out-polar"></span>
右手系の平面極座標について記述する
<br>
<br>
平面極座標(r,p)の関係式を示す
<br>
・平面に直交するz軸周りの<a href="#span-out-FNmspecial-spec">回転行列</a>
<br>
rotz=(cos(p),-sin(p),0:sin(p),cos(p),0:0,0,1)
<br>
・定義
<br>
e_0:={0,0,0}
<br>
e_x:={1,0,0}
<br>
e_y:={0,1,0}
<br>
e_z:={0,0,1}
<br>
I:=(e_x,e_y,e_z)
<br>
rotz:=(e_r,e_p,e_z)=I*rotz
<br>
・基底vector（2軸可変）
<br>
e_r={cos(p),sin(p),0}
<br>
e_p={-sin(p),cos(p),0}
<br>
e_z={0,0,1}
<br>
・基底vectorの時間微分
<br>
(e_r)'=p'*e_p
<br>
(e_p)'=-p'*e_r
<br>
(e_z)'=e_0
<br>
(e_r)"=p"*e_p-(p')^2*e_r
<br>
(e_p)"=-p"*e_r-(p')^2*e_p
<br>
(e_z)"=e_0
<br>
・<a href="#span-out-FNmspecial-spec">回転行列</a>の時間微分
<br>
(rotz)':=((e_r)',(e_p)',(e_z)')=p'*(e_p,-e_r,e_0)
<br>
(rotz)":=((e_r)",(e_p)",(e_z)")=p"*(e_p,-e_r,e_0)+p'*(-p'*e_r,-p'*e_p,e_0)
<br>
・標準内積
<br>
e_r・e_r=1
<br>
e_r・e_p=0
<br>
e_r・e_z=0
<br>
e_p・e_r=0
<br>
e_p・e_p=1
<br>
e_p・e_z=0
<br>
e_z・e_r=0
<br>
e_z・e_p=0
<br>
e_z・e_z=1
<br>
・右手系のvector積（外積）
<br>
e_r×e_r=e_0
<br>
e_r×e_p=e_z
<br>
e_r×e_z=-e_p
<br>
e_p×e_r=-e_z
<br>
e_p×e_p=e_0
<br>
e_p×e_z=e_r
<br>
e_z×e_r=e_p
<br>
e_z×e_p=-e_r
<br>
e_z×e_z=e_0
<br>
・運動
<br>
位置　　(vec_r):=rotz*{r,0,0}
<br>
速度　　(vec_r)'=(rotz)'*{r,0,0}+rotz*{r',0,0}=rotz*{r',r*p',0}
<br>
加速度　(vec_r)"=(rotz)'*{r',r*p',0}+rotz*{r",r'*p'+r*p",0}=rotz*{r"-r*(p')^2,2*r'*p'+r*p",0}
<br>
面積速度vec_vA*2=(vec_r)×(vec_r)'=(e_r*r)×(e_r*r'+e_p*r*p')=rotz*{0,0,r^2*p'}
<br>
・速度成分
<br>
v_r=r'
<br>
v_p=r*p'
<br>
v_z=0
<br>
・加速度成分
<br>
a_r=r"-r*(p')^2
<br>
a_p=r*p"+2*r'*p'
<br>
a_z=0
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
球面座標
    </th>
    <td>
<span id="span-out-spherical"></span>
右手系の球面座標について記述する
<br>
<br>
球面座標(r,t,p)の関係式を示す
<br>
・一般化した<a href="#span-out-FNmspecial-spec">回転行列</a>
<br>
rot_=(sin(t)*cos(p),cos(t)*cos(p),-sin(p):sin(t)*sin(p),cos(t)*sin(p),cos(p):cos(t),-sin(t),0)
<br>
・定義
<br>
e_0:={0,0,0}
<br>
e_x:={1,0,0}
<br>
e_y:={0,1,0}
<br>
e_z:={0,0,1}
<br>
I:=(e_x,e_y,e_z)
<br>
rot_:=(e_r,e_t,e_p)=I*rot_
<br>
・基底vector（3軸可変）
<br>
e_r={sin(t)*cos(p),sin(t)*sin(p),cos(t)}
<br>
e_t={cos(t)*cos(p),cos(t)*sin(p),-sin(t)}
<br>
e_p={-sin(p),cos(p),0}
<br>
・標準内積
<br>
e_r・e_r=1
<br>
e_r・e_t=0
<br>
e_r・e_p=0
<br>
e_t・e_r=0
<br>
e_t・e_t=1
<br>
e_t・e_p=0
<br>
e_p・e_r=0
<br>
e_p・e_t=0
<br>
e_p・e_p=1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列積
<br>
の解法
    </th>
    <td>
<span id="span-out-mat-product"></span>
通常の行列積LR=L*Rのalgorithmについて記述する
<br>
<br>
通常の行列積LR=L*Rの定義を次に示す
<br>
・Lの列sizeとRの行sizeが一致するcaseのみ、積を定義する
<br>
・内積
<br>
(1,2){3,4} -> 11
<br>
・直積
<br>
{1,2}(3,4) -> (3,4:6,8)
<br>
・正方行列の累乗
<br>
(1,2:0,0)(1,2:0,0) -> (1,2:0,0)
<br>
(3,4:0,0)(3,4:0,0) -> (9,12:0,0)
<br>
<br>
<a href="#span-out-reference-mat-size">行列size</a>の異なる次のLとRを一例に示す
<br>
L=(1,2:3:4,5:6);
<br>
R=(1,2:3,4,5);
<br>
・演算子による行列積L*R
<br>
L*R -> (7,10,10:3,6,0:19,28,25:6,12,0)
<br>
・<a href="#span-out-FNm-size">行列size</a>
<br>
sizer(L) -> 4
<br>
sizec(L) -> 2
<br>
sizer(R) -> 2
<br>
sizec(R) -> 3
<br>
sizer(L*R) -> 4
<br>
sizec(L*R) -> 3
<br>
・<a href="#span-out-FNm-size">行列size</a>について次の関係が成立する
<br>
sizer(L*R)=sizer(L) -> 0
<br>
sizec(L*R)=sizec(R) -> 0
<br>
<br>
以上より、行列積のalgorithmを以下に示す
<br>
・L指定行とR指定列の内積を取る<a href="#span-out-eqns">式変数</a>productを定義する
<br>
・さらに、行列積LRを返す<a href="#span-out-eqns">式変数</a>LpRを定義する
<br>
LpR=&lt;{product=&lt;last{LR[ir][ic]=ttL[ir]trans((trans(ttR))[ic])},
<br>
ttL=trans(trans(L)),
<br>
ttR=trans(trans(R)),
<br>
LR=zeros(sizer(ttL),sizec(ttR)),
<br>
_sir(=&lt;{_sic(=&lt;product,0,sizec(ttR)-1)},0,sizer(ttL)-1),
<br>
=&lt;LR}=&gt;;
<br>
・<span class="run">Ver.2.192.44</span>以降、<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>を追加
<br>
LpR=&lt;{product=&lt;LR[ir][ic]=ttL[ir](ttR.)[ic].,
<br>
ttL=L..,
<br>
ttR=R..,
<br>
LR=zeros(sizer(ttL),sizec(ttR)),
<br>
_sir(=&lt;{_sic(=&lt;product,0,sizec(ttR)-1)},0,sizer(ttL)-1),
<br>
=&lt;LR}=&gt;;
<br>
・演算子による行列積L*Rでは1回の転置trans(R)に最適化される
<br>
・また、この転置時にRの欠損要素を埋める
<br>
trans(R) -> (1,3:2,4:0,5)
<br>
・さらに、Lの欠損要素の部分はRと内積を取らない（自明の演算は行わない）
<br>
<br>
行列積L*Rの<a href="#span-out-ope">演算量</a>を多少減らすため、欠損要素を許容する
<br>
・N次下三角行列Lの場合、最高効率で<a href="#span-out-ope">演算量</a>が半減する
<br>
・行列積の乗算回数を以下に比較して示す
<br>
・欠損要素を許容しない場合
<br>
N=4; N*N*N -> 64
<br>
N=10; N*N*N -> 1000
<br>
・欠損要素を許容する場合
<br>
N=4; _sn(=&lt;{n*n},1,N) -> 30
<br>
N=10; _sn(=&lt;{n*n},1,N) -> 385
<br>
・4次下三角行列Lの行列積
<br>
L=(1:2,3:4,5,6:7,8,9,10);
<br>
R=identity4;
<br>
LpR -> (1,0,0,0:2,3,0,0:4,5,6,0:7,8,9,10)
<br>
L*R -> (1,0,0,0:2,3,0,0:4,5,6,0:7,8,9,10)
<br>
<br>
test caseを列挙する
<br>
・上記例
<br>
L=(1,2:3:4,5:6);
<br>
R=(1,2:3,4,5);
<br>
LpR -> (7,10,10:3,6,0:19,28,25:6,12,0)
<br>
L*R -> (7,10,10:3,6,0:19,28,25:6,12,0)
<br>
・定義できない行列積
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
L=(1,2);
<br>
R=(1,2);
<br>
<del>
LpR -> [MyErr]Invalid matrix operation
<br>
L*R -> [MyErr]Invalid matrix operation
</del>
<br>
<span class="condition">
LpR -> (2,4)
<br>
L*R -> (1,4)
</span>
<br>
・内積
<br>
L=(1+i,1);
<br>
R={1-i,1};
<br>
LpR -> 3
<br>
L*R -> 3
<br>
・直積
<br>
L={1-i,1};
<br>
R=(1+i,1);
<br>
LpR -> (2,1-i:1+i,1)
<br>
L*R -> (2,1-i:1+i,1)
<br>
・積の演算順序の交換関係
<br>
rand_M(m,n)=&lt;zeros(m,n).map((x)=&lt;complex(rand(),rand())*10);
<br>
L=rand_M(3,2),R=rand_M(2,2);
<br>
L*R=(R.*L.). -> (0,0:0,0:0,0)
<br>
L*R=(R'*L')' -> (0,0:0,0:0,0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
補間法
    </th>
    <td>
<span id="span-out-interpolation"></span>
補間法を列挙する
<br>
・<a href="#span-out-approximation-linear">線形近似</a>
<br>
・<a href="#span-out-interpolation-linear">線形補間</a>
<br>
・<a href="#span-out-interpolation-Lagrange">Lagrange補間</a>
<br>
・<a href="#span-out-interpolation-spline">spline補間</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
線形近似
    </th>
    <td>
<span id="span-out-approximation-linear"></span>
線形近似について記述する
<br>
<br>
1次関数
<br>
y=f(x)=a*x+b
<br>
・傾き：a
<br>
・切片：b
<br>
・独立変数：x
<br>
・従属変数：y
<br>
<br>
回帰直線
<br>
・通常回帰：y方向の残差の二乗和を最小化する直線
<br>
・主成分回帰：垂線の残差の二乗和を最小化する直線
<br>
<br>
相関
<br>
・相関係数の区間：[-1,1]
<br>
・強い：|相関係数|＞0.7
<br>
・弱い：|相関係数|＜0.4
<br>
・正：相関係数＞0（x増でy増）
<br>
・負：相関係数＜0（x増でy減）
<br>
<br>
非線形な系で線形近似の条件（|相関係数|≒1の許容誤差範囲内）
<br>
・線形応答（xとyの関係が線形領域）：平衡状態に対する変動量が相対的に小さい（変動の振幅が微小）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
線形補間
    </th>
    <td>
<span id="span-out-interpolation-linear"></span>
線形補間について記述する
<br>
<br>
1次のLagrange補間
<br>
・1次の補間多項式P1(x)を定義する
<br>
P1(x)=(1,x)(l:m)
<br>
・独立する2点の制御点(xi,f[i])から
<br>
P1(x0)=(1,x0)(l:m)=f[0]
<br>
P1(x1)=(1,x1)(l:m)=f[1]
<br>
・次の<a href="#span-out-linear">連立線形方程式</a>V1*y1=r1を解くことで
<br>
V1=(1,x0:1,x1)
<br>
y1=(l:m)
<br>
r1=(f[0]:f[1])
<br>
・P1(x)の係数vector y1が求まる
<br>
・VはVandermonde行列
<br>
・制御点がすべて独立であればVの逆行列が一意に存在する
<br>
・予め逆行列を解いた方が<a href="#span-out-error">丸め誤差</a>の影響を受けにくい
<br>
・その形式に変形したLagrange基底の補間多項式を導出する
<br>
m=(f[0]-f[1])/(x0-x1)
<br>
l=f[0]-(f[0]-f[1])/(x0-x1)*x0
<br>
(l:m)=(-x1/(x0-x1),x0/(x0-x1):1/(x0-x1),-1/(x0-x1))(f[0]:f[1])
<br>
・y1=inverse(V1)*r1から
<br>
・V1の逆行列inverse(V1)
<br>
inverse(V1)=(-x1/(x0-x1),x0/(x0-x1):1/(x0-x1),-1/(x0-x1))
<br>
・P1(x)=(1,x)(l:m)=(1,x)*inverse(V1)*(f[0]:f[1])から
<br>
・1次のLagrange基底多項式のvector L1=(1,x)*inverse(V1)
<br>
L1=(1,x)(-x1/(x0-x1),x0/(x0-x1):1/(x0-x1),-1/(x0-x1))
<br>
=((x-x1)/(x0-x1),(x-x0)/(x1-x0))
<br>
・1次のLagrange型の補間多項式
<br>
P1(x)=L1*(f[0]:f[1])
<br>
L1=((x-x1)/(x0-x1),(x-x0)/(x1-x0))
<br>
・以上より、制御点の基底vectorが得られる
<br>
Lj(xi)=(Kdelta(i,0),Kdelta(i,1),...,Kdelta(i,j))
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Lagrange
<br>
補間
    </th>
    <td>
<span id="span-out-interpolation-Lagrange"></span>
Lagrange補間について記述する
<br>
<br>
主な用途
<br>
・計算||実験で得られる標本点の補間（制御点の取り方でRunge現象の<a href="#span-out-error">数値誤差</a>が発生しやすい）
<br>
<br>
2次のLagrange補間
<br>
・2次の補間多項式P2(x)を定義する
<br>
P2(x)=(1,x,x^2)(l:m:n)
<br>
・独立する3点の制御点(xi,f[i])から
<br>
P2(x0)=(1,x0,x0^2)(l:m:n)=f[0]
<br>
P2(x1)=(1,x1,x1^2)(l:m:n)=f[1]
<br>
P2(x2)=(1,x2,x2^2)(l:m:n)=f[2]
<br>
・次の<a href="#span-out-linear">連立線形方程式</a>V2*y2=r2を解くことで
<br>
V2=(1,x0,x0^2:1,x1,x1^2:1,x2,x2^2)
<br>
y2=(l:m:n)
<br>
r2=(f[0]:f[1]:f[2])
<br>
・P2(x)の係数vector y2が求まる
<br>
・以下、1次のcaseを拡張して
<br>
・2次のLagrange型の補間多項式
<br>
P2(x)=L2*(f[0]:f[1]:f[2])
<br>
L2=(
<br>
(x-x1)(x-x2)/(x0-x1)(x0-x2),
<br>
(x-x0)(x-x2)/(x1-x0)(x1-x2),
<br>
(x-x0)(x-x1)/(x2-x0)(x2-x1))
<br>
<br>
test caseを示す
<br>
xi={0,1,2};
<br>
fi={3,5,2};
<br>
k=min(sizer(xi),sizer(fi))-1;
<br>
・<span class="run">Ver.2.157.38</span>以降、<a href="#span-out-FNh-switch">switch高階関数</a>代替の<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を追加
<br>
<del>lji(j,i_)=&lt;_pm(=&lt;{switch(m==j,1:1,=&lt;(xi[i_]-xi[m])/(xi[j]-xi[m]))},0,k);
<br>
ljx(j,x)=&lt;_pm(=&lt;{switch(m==j,1:1,=&lt;(x-xi[m])/(xi[j]-xi[m]))},0,k);</del>
<br>
lji(j,i_)=&lt;_pm(=&lt;m==j&amp;&amp;&amp;1|||(xi[i_]-xi[m])/(xi[j]-xi[m]),0,k);
<br>
ljx(j,x)=&lt;_pm(=&lt;m==j&amp;&amp;&amp;1|||(x-xi[m])/(xi[j]-xi[m]),0,k);
<br>
Lkx(x)=&lt;_sj(=&lt;fi[j]*ljx(j,x),0,k);
<br>
・Lagrange基底の<a href="#span-out-mat">単位行列</a>
<br>
(lji(0,0),lji(0,1),lji(0,2):lji(1,0),lji(1,1),lji(1,2):lji(2,0),lji(2,1),lji(2,2)) ->
<br>
(
<br>
1,0,0:
<br>
0,1,0:
<br>
0,0,1
<br>
)
<br>
・Lagrange基底多項式
<br>
ljx(0,0) -> 1
<br>
ljx(0,0.5) -> 0.375
<br>
ljx(0,1) -> 0
<br>
ljx(0,1.5) -> -0.125
<br>
ljx(0,2) -> 0
<br>
ljx(0,10) -> 36
<br>
・Lagrange型の補間多項式（fiと基底多項式ljxの線形結合）
<br>
Lkx(0) -> 3
<br>
Lkx(0.5) -> 4.625
<br>
Lkx(1) -> 5
<br>
Lkx(1.5) -> 4.125
<br>
Lkx(2) -> 2
<br>
Lkx(10) -> -202
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
spline
<br>
補間
    </th>
    <td>
<span id="span-out-interpolation-spline"></span>
spline補間について記述する
<br>
<br>
主な用途
<br>
・roboticsの場合、3次の自然spline補間（加速度の連続性を重視）
<br>
・数値計算の場合、3次の自然spline補間（<a href="#span-out-ope">演算量</a>=Order(N)で低cost）
<br>
・computer graphicsの場合、B-spline補間（必ずしも制御点を通らない）
<br>
<br>
3次の自然spline補間
<br>
・N+1個の制御点(xi,yi)
<br>
(xi,yi):=(x[i],y[i]), i=0~N
<br>
dxi:=dx[i]=(x[i+1]-x[i]), i=0~N-1
<br>
dyi:=dy[i]=(y[i+1]-y[i]), i=0~N-1
<br>
・区間iの3次多項式と導関数（次数の昇順に列挙）
<br>
f(x)=y[i]+b[i](x-x[i])+c[i](x-x[i])^2+d[i](x-x[i])^3,
<br>
f'(x)=b[i]+2c[i](x-x[i])+3d[i](x-x[i])^2,
<br>
f"(x)=2c[i]+6d[i](x-x[i]), i=0~N-1
<br>
<br>
3N個の未知変数に対する連立方程式（full-rank）
<br>
・3次多項式（N個）
<br>
b[i]dx[i]+c[i](dx[i])^2+d[i](dx[i])^3=dy[i], i=0~N-1
<br>
・第1次導関数の連続条件（N-1個）
<br>
b[i]-b[i+1]+2c[i]dx[i]+3d[i](dx[i])^2=0, i=0~N-2
<br>
・第2次導関数の連続条件（N-1個）
<br>
c[i]-c[i+1]+3d[i]dx[i]=0, i=0~N-2
<br>
・全区間の境界条件（2個）
<br>
f"(x[0])=0 -> c0=0
<br>
f"(x[N])=0 -> c[N-1]+3d[N-1]dx[N-1]=0
<br>
・以上の解析より、b[i]を未知変数とするN元1次の連立方程式Au=rに帰結する
<br>
3重帯行列:=A
<br>
未知変数vector:=u={b0,b1,... ,b[N-1]}
<br>
右辺vector:=r
<br>
<br>
解析前の連立方程式を<a href="#span-out-FNm-coo">座標形式</a>で示す（test case用）
<br>
・3N個の未知変数
<br>
u={b0,...,b[N-1],c0,...,c[N-1],d0,...,d[N-1]}
<br>
・3次多項式（N個）
<br>
mA0=(1,1,1,...,N,N,N)
<br>
nA0=(1,N+1,2N+1,...,N,2N,3N)
<br>
aA0=(dx0,dx0^2,dx0^3,...,dx[N-1],(dx[N-1])^2,(dx[N-1])^3)
<br>
r0={dy0,...,dy[N-1]}
<br>
・第1次導関数の連続条件（N-1個）
<br>
mA1=(N+1,N+1,N+1,N+1,...,2N-1,2N-1,2N-1,2N-1)
<br>
nA1=(1,2,N+1,2N+1,...,N-1,N,2N-1,3N-1)
<br>
aA1=(1,-1,2dx0,3dx0^2,...,1,-1,2dx[N-2],3(dx[N-2])^2)
<br>
r1={0,...,0}
<br>
・第2次導関数の連続条件（N-1個）
<br>
mA2=(2N,2N,2N,...,3N-2,3N-2,3N-2)
<br>
nA2=(N+1,N+2,2N+1,...,2N-1,2N,3N-1)
<br>
aA2=(1,-1,3dx0,...,1,-1,3dx[N-2])
<br>
r2={0,...,0}
<br>
・全区間の境界条件（2個）
<br>
mA3=(3N-1,3N,3N)
<br>
nA3=(N+1,2N,3N)
<br>
aA3=(1,1,3dx[N-1])
<br>
r3={0,0}
<br>
・以上をまとめる
<br>
mA=(mA0,mA1,mA2,mA3)
<br>
nA=(nA0,nA1,nA2,nA3)
<br>
aA=(aA0,aA1,aA2,aA3)
<br>
r={r0,r1,r2,r3}
<br>
・test caseを示す
<br>
x={0,1,2};
<br>
y={1,3,2};
<br>
aA=(1,1,1,1,1,1,1,-1,2,3,1,-1,3,1,1,3);
<br>
mA=(1,1,1,2,2,2,3,3,3,3,4,4,4,5,6,6);
<br>
nA=(1,3,5,2,4,6,1,2,3,5,3,4,5,3,4,6);
<br>
r={2,-1,0,0,0,0};
<br>
coo=(aA:mA:nA);
<br>
A=coo2mat(coo); A ->
<br>
(
<br>
1,0,1,0,1,0:
<br>
0,1,0,1,0,1:
<br>
1,-1,2,0,3,0:
<br>
0,0,1,-1,3,0:
<br>
<span class="clear">0,0,1,0,0,0:/* <span class="clear">Ver.2.128.35</span>以降、pivot=0 allowed in pivotting */</span>
<br>
0,0,0,1,0,3
<br>
)
<br>
u=Gauss_coo(coo:trans(r)); u ->
<br>
(
<br>
infoLost[r ] 2.75:
<br>
0.4999999999999999:
<br>
-1.1102230246251565e-16:
<br>
-2.25:
<br>
-0.75:
<br>
0.7500000000000001
<br>
)
<br>
・<a href="#span-out-FNm-coo">COO行列</a>と右辺vectorの一般化
<br>
x={0,1,2};
<br>
y={1,3,2};
<br>
N=min(sizer(x),sizer(y))-1;
<br>
dx=x[1][0][N][1]-x;
<br>
dy=y[1][0][N][1]-y;
<br>
r=vectorc(3*N);
<br>
coo=zeros(3,10*N-4);
<br>
_sj(=&lt;last{
<br>
n=j+1,j0=3*j,dxi=dx[j],dyi=dy[j],
<br>
coo[0][j0][1][3]=(dxi,dxi**2,dxi**3),
<br>
coo[1][j0][1][3]=(n,n,n),
<br>
coo[2][j0][1][3]=(n,N+n,2*N+n),
<br>
r[j]=dyi
<br>
},0,N-1);
<br>
_sj(=&lt;last{
<br>
n=j+1,j0=3*N+4*j,dxi=dx[j],
<br>
coo[0][j0][1][4]=(1,-1,2*dxi,3*dxi**2),
<br>
coo[1][j0][1][4]=(N+n,N+n,N+n,N+n),
<br>
coo[2][j0][1][4]=(n,n+1,N+n,2*N+n)
<br>
},0,N-2);
<br>
_sj(=&lt;last{
<br>
n=j+1,j0=7*N+3*j-4,dxi=dx[j],
<br>
coo[0][j0][1][3]=(1,-1,3*dxi),
<br>
coo[1][j0][1][3]=(2*N+n-1,2*N+n-1,2*N+n-1),
<br>
coo[2][j0][1][3]=(N+n,N+n+1,2*N+n)
<br>
},0,N-2);
<br>
j0=10*N-4-3;
<br>
coo[0][j0][1][3]=(1,1,3*dx[N-1]);
<br>
coo[1][j0][1][3]=(3*N-1,3*N,3*N);
<br>
coo[2][j0][1][3]=(N+1,2*N,3*N);
<br>
coo ->
<br>
(
<br>
1,1,1,1,1,1,1,-1,2,3,1,-1,3,1,1,3:
<br>
1,1,1,2,2,2,3,3,3,3,4,4,4,5,6,6:
<br>
1,3,5,2,4,6,1,2,3,5,3,4,5,3,4,6
<br>
)
<br>
r -> (2:-1:0:0:0:0)
<br>
<br>
B-spline曲線
<br>
・i=[1,N-1]の区間で一様knotの2次曲線
<br>
Si(i_,t)=&lt;0.5*(t^2,t,1)*(1,-2,1:-2,2,0:1,1,0)*{(x[i_-1],y[i_-1]),(x[i_],y[i_]),(x[i_+1],y[i_+1])};
<br>
・N+1個の制御点
<br>
x={0,0,1,2,2};
<br>
y={1,1,3,2,2};
<br>
N=min(sizer(x),sizer(y))-1; N -> 4
<br>
・各区間の媒介変数t=[0,1]
<br>
Si(1,0) -> (0,1)
<br>
Si(1,0.5) -> (0.125,1.25)
<br>
Si(1,1) -> (0.5,2)
<br>
Si(2,0) -> (0.5,2)
<br>
Si(2,0.5) -> (1,2.625)
<br>
Si(2,1) -> (1.5,2.5)
<br>
Si(3,0) -> (1.5,2.5)
<br>
Si(3,0.5) -> (1.875,2.125)
<br>
Si(3,1) -> (2,2)
<br>
・重複する制御点のi=1||N-1の区間は線形
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
有限差分法
    </th>
    <td>
<span id="span-out-fdm"></span>
有限差分法Finite Difference Methodの解法を列挙する
<br>
・<a href="#span-out-fdm-differential">微分の数値解法</a>
<br>
・<a href="#span-out-fdm-integral">積分の数値解法</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
微分
<br>
の数値解法
    </th>
    <td>
<span id="span-out-fdm-differential"></span>
有限差分による微分の数値解法について記述する
<br>
<br>
差分刻みをhとして連続関数f(x)のx周辺の2次打切りTaylor級数から
<br>
f(x-h)=f(x)+f'(x)(-h)+f"(x)(-h)^2/2!+O(h^3)
<br>
f(x+h)=f(x)+f'(x)(h)+f"(x)(h)^2/2!+O(h^3)
<br>
・1階微分の2次精度中心差分
<br>
f'(x)=(f(x+h)-f(x-h))/(2h)+O(h^2)
<br>
・2階微分の2次精度中心差分
<br>
f"(x)=(f(x+h)-2f(x)+f(x-h))/(h^2)+O(h^2)
<br>
<br>
2次精度の1階微分を多重化して2階微分を導出
<br>
f"(x)=(f'(x+h)-f'(x-h))/(2h)=(f(x+2h)-f(x)-f(x)+f(x-2h))/(2h)^2+O(h)
<br>
・本来、2階微分の精度次数が落ちるが、H=2hとすれば精度次数が落ちない
<br>
f"(x)=(f(x+H)-2f(x)+f(x-H))/(H^2)+O(H^2)
<br>
・よって微分階数が1階上がる毎に差分刻み2倍の関係が成立すると仮定して
<br>
・3階微分以降も同様に、再帰的に多重化する
<br>
f'(x)=(f(x+h)-f(x-h))/(2h)+O((h)^2)
<br>
f"(x)=(f'(x+2h)-f'(x-2h))/(4h)+O((2h)^2)
<br>
f"'(x)=(f"(x+4h)-f"(x-4h))/(8h)+O((4h)^2)
<br>
f""(x)=(f"'(x+8h)-f"'(x-8h))/(16h)+O((8h)^2)
<br>
...
<br>
<br>
続いて4次打切りTaylor級数から
<br>
f(x-2h)=f(x)+f'(x)(-2h)+f"(x)(-2h)^2/2!+f"'(x)(-2h)^3/3!+f""(x)(-2h)^4/4!+O(h^5)
<br>
f(x-h)=f(x)+f'(x)(-h)+f"(x)(-h)^2/2!+f"'(x)(-h)^3/3!+f""(x)(-h)^4/4!+O(h^5)
<br>
f(x+h)=f(x)+f'(x)(h)+f"(x)(h)^2/2!+f"'(x)(h)^3/3!+f""(x)(h)^4/4!+O(h^5)
<br>
f(x+2h)=f(x)+f'(x)(2h)+f"(x)(2h)^2/2!+f"'(x)(2h)^3/3!+f""(x)(2h)^4/4!+O(h^5)
<br>
・次の3階微分を消去して
<br>
f(x+2h)-f(x-2h)=f'(x)(4h)-f"'(x)(2h)^3/3+O(h^5)
<br>
f(x+h)-f(x-h)=f'(x)(2h)-f"'(x)(h)^3/3+O(h^5)
<br>
・1階微分の4次精度中心差分
<br>
f'(x)=(8(f(x+h)-f(x-h))-(f(x+2h)-f(x-2h)))/(12h)+O(h^4)
<br>
<br>
さらに、5次打切りTaylor級数から
<br>
・次の4階微分を消去して
<br>
f(x+2h)+f(x-2h)=2f(x)+f"(x)(2h)^2+f""(x)(2h)^4/12+O(h^6)
<br>
f(x+h)+f(x-h)=2f(x)+f"(x)(h)^2+f""(x)(h)^4/12+O(h^6)
<br>
・2階微分の4次精度中心差分
<br>
f"(x)=(16(f(x+h)+f(x-h))-(f(x+2h)+f(x-2h))-30f(x))/(12h^2)+O(h^4)
<br>
<br>
4次精度の1階微分を多重化して2階微分を導出
<br>
f"(x)=(8(f'(x+h)-f'(x-h))-(f'(x+2h)-f'(x-2h)))/(12h)+O(h^3)
<br>
・2次精度の場合と異なり、必要な離散点数が増えるが、
<br>
f'(x+h)=(8(f(x+2h)-f(x))-(f(x+3h)-f(x-h)))/(12h)
<br>
f'(x-h)=(8(f(x)-f(x-2h))-(f(x+h)-f(x-3h)))/(12h)
<br>
f'(x+2h)=(8(f(x+3h)-f(x+h))-(f(x+4h)-f(x)))/(12h)
<br>
f'(x-2h)=(8(f(x-h)-f(x-3h))-(f(x)-f(x-4h)))/(12h)
<br>
・stencilが2倍に広がる点は変わらない
<br>
f'(x+h)-f'(x-h)=(8(f(x+2h)-2f(x)+f(x-2h))-(f(x+3h)-f(x-h)+f(x+h)-f(x-3h)))/(12h)
<br>
f'(x+2h)-f'(x-2h)=(8(f(x+3h)-f(x+h)-f(x-h)+f(x-3h))-(f(x+4h)-2f(x)+f(x-4h)))/(12h)
<br>
・よって再帰的に多重化した場合、微分階数が上がる毎に精度が悪化する
<br>
f'(x)=(8(f(x+h)-f(x-h))-(f(x+2h)-f(x-2h)))/(12h)+O(h^4)
<br>
f"(x)=(8(f'(x+h)-f'(x-h))-(f'(x+2h)-f'(x-2h)))/(12h)+O(h^3)
<br>
f"'(x)=(8(f"(x+h)-f"(x-h))-(f"(x+2h)-f"(x-2h)))/(12h)+O(h^2)
<br>
f""(x)=(8(f"'(x+h)-f"'(x-h))-(f"'(x+2h)-f"'(x-2h)))/(12h)+O(h)
<br>
...
<br>
<br>
1階微分を多重化の拡張
<br>
・拡張なし：差分刻み一定
<br>
・拡張あり：1階上がる毎に差分刻み2倍の関係を仮定
<br>
<br>
2階微分の演算結果
<br>
_dx(=&lt;{(x+i)^5},2,1)
<br>
・上から順に、2次精度、2次精度拡張、4次精度、4次精度拡張
<br>
-> -40.000079995027676+40.000100045239535i+O(5e-4+1e-6i)
<br>
-> -40.000199999917704+40.00019999969536i+O(2e-4+4e-6i)
<br>
-> -40.00000000012216+40.00000000037086i+O(7e-10+1e-12i)
<br>
-> -39.99999999980588+39.99999999944028i+O(3e-10+2e-11i)
<br>
・2階微分までは拡張の有無で大差なし
<br>
<br>
5階微分の演算結果
<br>
_dx(=&lt;{(x+i)^5},5,1)
<br>
・上から順に、2次精度、2次精度拡張、4次精度、4次精度拡張
<br>
-> -2376.9807493302333+2495.6629047556085i+O(2e+4+2e+4i)
<br>
-> 120.00007406068326-0.0000085816675963221i+O(2e+1+2e+1i)
<br>
-> 119.18659727305976+0.3620753183716584i+O(5e-2+5e-2i)
<br>
-> 120.00037113527502-0.000050238369357712915i+O(5e-5+5e-5i)
<br>
・3階微分以降は拡張必須
<br>
<br>
以上より、微分階数の場合分け
<br>
・微分階数&le;2：4次精度拡張
<br>
・微分階数&ge;3：2次精度拡張（精度より<a href="#span-out-ope">演算速度</a>を優先）
<br>
<br>
留意事項を列挙する
<br>
・<span class="run">Ver.2.369.86</span>以降、<a href="#span-out-FNh-DX">微分高階関数</a>の精度次数を指定可
<br>
・非線形性が強い<a href="#span-out-FN">関数</a>・<a href="#span-out-series">級数</a>・<a href="#span-out-limit">極限</a>の演算結果は当てにならない
<br>
f'(x)=(8(f(x+h)-f(x-h))-(f(x+2h)-f(x-2h)))/(12h)+O(h^4)
<br>
f"(x)=(8(f'(x+2h)-f'(x-2h))-(f'(x+4h)-f'(x-4h)))/(24h)+O(h^3)
<br>
f"'(x)=(f"(x+4h)-f"(x-4h))/(8h)+O((4h)^2)
<br>
f""(x)=(f"'(x+4h)-f"'(x-8h))/(16h)+O((8h)^2)
<br>
...
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
積分
<br>
の数値解法
    </th>
    <td>
<span id="span-out-fdm-integral"></span>
有限差分による積分の数値解法について記述する
<br>
<br>
前提を列挙する
<br>
・総和をΣ&lt;変数=開始値,終了値&gt;で記述する
<br>
・線形結合をvectorの内積で記述する
<br>
<br>
公式を導出する
<br>
・連続関数f(x)の積分区間[a,b]をN等分割して差分刻みをhとする
<br>
h=(b-a)/N
<br>
・分割した離散点xiに対する関数の離散点f[i]を定義する
<br>
xi:=x[i]=a+i*h, i=0~N
<br>
f[i]=f(xi)
<br>
・分割した微小区間の面積dS[i]と全区間の面積Sを定義する
<br>
dS[i], i=0~N-1
<br>
S=Σ&lt;i=0,N-1&gt;dS[i]
<br>
・各変数は列vectorとして添字iで各要素の離散点を参照する
<br>
<br>
微小区間の関数fを<a href="#span-out-interpolation-linear">線形補間</a>する場合、2次精度の台形公式
<br>
・微小区間の台形の面積の総和を取ることで
<br>
dS[0]=(f[0]+f[1])h/2+O(h^3)
<br>
dS[i]=(f[i]+f[i+1])h/2+O(h^3)
<br>
S=Σ&lt;i=0,N-1&gt;dS[i]=Σ&lt;i=0,N-1&gt;(f[i]+f[i+1])h/2+O(h^2)
<br>
・次の台形公式が導出される
<br>
S=(f[0]+2Σ&lt;i=1,N-1&gt;f[i]+f[N])h/2+O(h^2)
<br>
・両端を除く離散点f[i]は2回足されて2倍
<br>
・全区間の<a href="#span-out-error">離散化誤差</a>のOrderは微小区間の正方形面積h*h
<br>
・総和によって微小区間の<a href="#span-out-error">離散化誤差</a>が積算されて精度次数が1次落ちる
<br>
<br>
微小区間の関数fを1次多項式で補間する場合も同様
<br>
・1次の<a href="#span-out-interpolation-Lagrange">Lagrange型の補間多項式</a>
<br>
P1(x)=L1*(f[0]:f[1])
<br>
L1=((x-x1)/(x0-x1),(x-x0)/(x1-x0))
<br>
・P1(x)の不定積分integral(P1(x))
<br>
h=x1-x0
<br>
L1=(1/h)(-(x-x1),(x-x0))
<br>
integral(P1(x))=(1/2h)(-(x-x1)^2+C[0],(x-x0)^2+C[1])(f[0]:f[1])
<br>
・C[i]は積分定数
<br>
・P1(x)の微小区間[x0,x1]における定積分
<br>
dS[0]=(1/2h)(h^2,h^2)(f[0]:f[1])=(h/2)(1,1)(f[0]:f[1])=(f[0]+f[1])h/2
<br>
・以上より、次の台形公式が導出される
<br>
S=(f[0]+2Σ&lt;i=1,N-1&gt;f[i]+f[N])h/2+O(h^2)
<br>
<br>
微小区間の関数fを2次多項式で補間する場合、4次精度の合成Simpson公式
<br>
・2次の<a href="#span-out-interpolation-Lagrange">Lagrange型の補間多項式</a>
<br>
P2(x)=L2*(f[0]:f[1]:f[2])
<br>
L2=(
<br>
(x-x1)(x-x2)/(x0-x1)(x0-x2),
<br>
(x-x0)(x-x2)/(x1-x0)(x1-x2),
<br>
(x-x0)(x-x1)/(x2-x0)(x2-x1))
<br>
・P2(x)の不定積分integral(P2(x))
<br>
h=x1-x0=x2-x1
<br>
L2=(1/(2h^2))((x-x1)(x-x2),-2(x-x0)(x-x2),(x-x0)(x-x1))
<br>
integral(P2(x))=(1/(2h^2))(
<br>
x^3/3-(x1+x2)x^2/2+x1*x2*x+C[0],
<br>
-2(x^3/3-(x0+x2)x^2/2+x0*x2*x+C[1]),
<br>
x^3/3-(x0+x1)x^2/2+x0*x1*x+C[2])(f[0]:f[1]:f[2])
<br>
・C[i]は積分定数
<br>
・P2(x)の微小2区間[x0,x2]における定積分
<br>
・1列目のみ示す
<br>
x0=x1-h
<br>
x2=x1+h
<br>
(x2^3-x0^3)/3-(x1+x2)(x2+x0)(x2-x0)/2+x1*x2(x2-x0)
<br>
=((x1+h)^3-(x1-h)^3)/3-(2x1+h)(2x1)h+x1(x1+h)2h
<br>
=(3x1^2+h^2)2h/3-(2x1+h)(x1)2h+x1(x1+h)2h
<br>
=(3x1^2+h^2-(2x1+h)(x1)3+x1(x1+h)3)2h/3
<br>
=(h^2)2h/3
<br>
・2列目以降も同様
<br>
・以上より、次のSimpson公式が導出される
<br>
dS[0]+dS[1]=(h/3)(1,4,1)(f[0]:f[1]:f[2])+O(h^5)
<br>
・さらに、分割数Nは正の偶数を前提として総和を取ることで
<br>
S=Σ&lt;k=0,N/2-1&gt;(dS[2k]+dS[2k+1])+O(h^4)
<br>
=(h/3)(Σ&lt;k=0,N/2-1&gt;((1,4,1)(f[2k]:f[2k+1]:f[2k+2])))+O(h^4)
<br>
・次の合成Simpson公式が導出される
<br>
S=(f[0]+4Σ&lt;k=0,N/2-1&gt;f[2k+1]+2Σ&lt;k=1,N/2-1&gt;f[2k]+f[N])h/3+O(h^4)
<br>
・両端を除く偶数の離散点f[2k]は2回足されて2倍
<br>
・全区間の<a href="#span-out-error">離散化誤差</a>のOrderは微小区間の正方形面積h*hの2乗
<br>
<br>
留意事項を列挙する
<br>
・<span class="run">Ver.2.369.86</span>以降、<a href="#span-out-FNh-IX">積分高階関数</a>の精度次数を指定可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
有限体積法
    </th>
    <td>
<span id="span-out-fvm"></span>
有限体積法Finite Volume Methodの解法を列挙する
<br>
・<a href="#span-out-fvm-about">有限体積法の概要</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
有限体積法
<br>
の概要
    </th>
    <td>
<span id="span-out-fvm-about"></span>
有限体積法の概要について記述する
<br>
<br>
有限体積法は<a href="#span-app-arithmetic">状態量（物理量）</a>のfluxを基準にcontrol volume内の保存則を離散化する
<br>
・fluxは離散化した基準面を通過する単位面積当たりの<a href="#span-app-arithmetic">状態量</a>（Fick's first law）
<br>
・1次元の場合、x方向の左右の面を通過するfluxを考慮する
<br>
・2次元の場合、左右に加えてy方向の上下の面を通過するfluxを考慮する
<br>
・3次元の場合、上下左右に加えてz方向の前後の面を通過するfluxを考慮する
<br>
・よって単位体積当たりの<a href="#span-app-arithmetic">状態量</a>の<a href="#span-out-evolution-method">時間微分</a>は
<br>
　fluxのdivergence項とsource||sink項の和で表される（Fick's second law）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
modelling
    </th>
    <td>
<span id="span-out-modelling"></span>
modellingの実施例を列挙する
<br>
・<a href="#span-out-modelling-0D-RC">0D-RC並列回路simplified modelling</a>
<br>
・<a href="#span-out-modelling-0D-diffusion">0D-diffusion simplified modelling</a>
<br>
・<a href="#span-out-modelling-0D-sea-level">0D-sea-level simplified modelling</a>
<br>
・<a href="#span-out-modelling-0D-cell">0D-cell simplified modelling</a>
<br>
・<a href="#span-out-modelling-0D-heat">0D-heat simplified modelling</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-RC
<br>
並列回路
<br>
simplified
<br>
modelling
    </th>
    <td>
<span id="span-out-modelling-0D-RC"></span>
RC並列回路を漸化式で記述する0D-RC並列回路のsimplified modellingについて記述する
<br>
<br>
<a href="#span-out-evolution-method">1次遅れ系</a>のRC並列回路要素（以降、RC-1次遅れ要素と省略する）のmodellingを一例に示す
<br>
・保存則はKirchhoff's laws
<br>
・時間を<a href="#span-out-fdm">有限差分法</a>で離散化
<br>
<br>
前提を列挙する
<br>
・電流Iと電圧Vは<a href="#span-out-approximation-linear">正の相関</a>を前提とする
<br>
・Laplace領域における合成impedanceの伝達関数Z(s)は電流I(s)に対する電圧V(s)の比で表す
<br>
Z(s)=V(s)/I(s)
<br>
・RLC直列回路要素のZ(s)を一例に示す
<br>
Z(s)=R+L*s+1/(C*s)
<br>
・各回路要素の電流の変数名をI_要素とする
<br>
・各回路要素の電圧の変数名をV_要素とする
<br>
<br>
RC-1次遅れ要素のZ(s)を導出する
<br>
・Kirchhoff's Current Law(KCL)
<br>
I=I_R+I_C
<br>
・Kirchhoff's Voltage Law(KVL)
<br>
V_R-V_C=0
<br>
V=V_R=R*I_R
<br>
V=V_C=I_C/(C*s)
<br>
・KVLからI_RとI_Cの関係を得る
<br>
R*I_R-I_C/(C*s)=0
<br>
I_R=I_C/(R*C*s)
<br>
・得られたI_RとKCLからI_CとIの関係を得る
<br>
I=I_C*(1+R*C*s)/(R*C*s)
<br>
I_C=I*(R*C*s)/(1+R*C*s)
<br>
・得られたI_CとKVLからVとIの関係を得る
<br>
V=I*R/(1+R*C*s)
<br>
・以上より、RC-1次遅れ要素のZ(s)が得られる
<br>
V=I*R/(1+R*C*s) -> Z(s)=R/(1+R*C*s)
<br>
<br>
RC-1次遅れ要素の<a href="#span-out-evolution">時間発展</a>方程式を導出する
<br>
・得られたVとIの関係から
<br>
V+V*R*C*s=I*R
<br>
V*s=-V/(R*C)+I/C
<br>
・次の定数を定義する
<br>
a=1/(R*C)
<br>
b=1/C
<br>
・定数aの物理的な定義を示す
<br>
時定数1/a=R*C -> 周期=2pi*R*C
<br>
cut-off角周波数a=1/(R*C) -> cut-off周波数=1/周期=1/(2pi*R*C)
<br>
・以上より、RC-1次遅れ要素の<a href="#span-out-evolution">時間発展</a>方程式が得られる
<br>
V*s=-V/(R*C)+I/C -> V*s=-a*V+b*I
<br>
<br>
<a href="#span-out-evolution-method">時間微分</a>V*sを離散化して以下の漸化式を得る
<br>
・<a href="#span-out-evolution-method">陽解法</a>
<br>
newV=(1-a*dt)*oldV+b*dt*I
<br>
・<a href="#span-out-evolution-method">陰解法</a>
<br>
newV=(oldV+b*dt*I)/(1+a*dt)
<br>
<br>
各parameterのOrder推定方法を示す
<br>
・<a href="#span-out-simulation-EIS">交流impedance</a>実測結果のs→<a href="#span-out-limit">+∞</a>に漸近する高周波数のZ(s)=R+1/(C*s)からRを推定
<br>
・推定Rとcut-off周波数=1/(2pi*R*C)からCを推定
<br>
<br>
実施例は<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-diffusion
<br>
simplified
<br>
modelling
    </th>
    <td>
<span id="span-out-modelling-0D-diffusion"></span>
1次元拡散方程式を漸化式で記述する0D-diffusionのsimplified modellingについて記述する
<br>
<br>
<span class="selection">porous電極</span><span class="jF">活物質内</span><span class="condition">ionの</span>拡散方程式のmodellingを一例に示す
<br>
・物質量||濃度の保存則はFick's laws
<br>
・反応物質量の保存則はFaraday's laws
<br>
・<span class="condition">反応ionの価数</span>を追加考慮
<br>
・<span class="selection">活物質の体積分率</span>を追加考慮
<br>
・<span class="clear">Ver.2.51.25</span>以降、<span class="jF">活物質の形状因子</span>を追加考慮（<a href="#span-ref-paper1">参考論文[1]</a>）
<br>
・時間を<a href="#span-out-fdm">有限差分法</a>で離散化
<br>
・空間を<a href="#span-out-fvm">有限体積法</a>で離散化
<br>
<br>
前提を列挙する
<br>
・電流Iと電圧Vは<a href="#span-out-approximation-linear">正の相関</a>を前提とする
<br>
・Faraday定数をF[C/mol]とする
<br>
・拡散の代表長さをdxとする
<br>
・拡散係数をDsとする
<br>
・<span class="selection">活物質の体積分率</span>を<span class="selection">es</span>とする
<br>
・<span class="selection">有効拡散</span>係数を<span class="selection">Ds_eff</span>とする（<span class="selection">tortuosity</span>によって例えば、Ds_eff=Ds*es^1.5）
<br>
・<span class="condition">反応ionの価数</span>を<span class="condition">n</span>とする
<br>
・反応面積（反応界面の総表面積）をSとする
<br>
・<span class="jF">活物質の形状因子</span>を<span class="jF">as</span>とする
<br>
・有効反応面積をS<span class="jF">*as</span>とする
<br>
・<span class="condition">ion</span>濃度変化量Δc=代表濃度-平均濃度を定義する
<br>
・限界<span class="condition">ion</span>濃度をcmaxとする
<br>
・比例係数をkとする<span class="condition">ion</span>濃度変化量Δcと電圧Vの関係式V=Δc/(cmax*k)を仮定する
<br>
　⇒　θ=c/cmaxにおける微分係数V/Δθの逆数をkとする
<br>
<br>
1次元拡散方程式の右辺を示す
<br>
・活物質内を想定して左右の面のfluxをaboutに仮定する
<br>
電解質側の右面flux=I/(<span class="condition">n*</span>F*S<span class="jF">*as</span>)
<br>
活物質側の左面flux=<span class="selection">Ds_eff*</span>Δc/dx
<br>
・fluxのdivergence項=(右面flux-左面flux)/dx
<br>
右辺=-<span class="selection">Ds_eff*</span>Δc/dx^2+I/(<span class="condition">n*</span>F*S<span class="jF">*as</span>*dx)
<br>
<br>
拡散方程式の<a href="#span-out-evolution">時間発展</a>方程式を示す
<br>
・Fick's second law
<br>
<span class="selection">es*</span>Δc'=-<span class="selection">Ds_eff*</span>Δc/dx^2+I/(<span class="condition">n*</span>F*S<span class="jF">*as</span>*dx)
<br>
・<span class="condition">ion</span>濃度変化に伴う電圧に変換する
<br>
<span class="selection">es*</span>cmax*k*V'=-<span class="selection">Ds_eff*</span>cmax*k*V/dx^2+I/(<span class="condition">n*</span>F*S<span class="jF">*as</span>*dx)
<br>
V'=-<span class="selection">Ds_eff*</span>V/(dx^2<span class="selection">*es</span>)+I/(<span class="condition">n*</span>F*S<span class="jF">*as</span>*dx*<span class="selection">es*</span>cmax*k)
<br>
・次の定数を定義する
<br>
a=<span class="selection">Ds_eff</span>/(dx^2<span class="selection">*es</span>)
<br>
b=1/(<span class="condition">n*</span>F*S<span class="jF">*as</span>*dx*<span class="selection">es*</span>cmax*k)
<br>
・<a href="#span-out-modelling-0D-RC">RC並列回路</a>の<a href="#span-app-analogy">analogy</a>から定数aの物理的な定義を示す
<br>
<span class="selection">有効拡散</span>の時定数1/a=(dx^2<span class="selection">*es</span>)/<span class="selection">Ds_eff</span>
<br>
<span class="selection">有効拡散</span>のcut-off角周波数a=<span class="selection">Ds_eff</span>/(dx^2<span class="selection">*es</span>)
<br>
・以上より、電圧に変換した拡散方程式の<a href="#span-out-evolution">時間発展</a>方程式が得られる
<br>
V'=-<span class="selection">Ds_eff*</span>V/(dx^2<span class="selection">*es</span>)+I/(<span class="condition">n*</span>F*S<span class="jF">*as</span>*dx*<span class="selection">es*</span>cmax*k) -> V'=-a*V+b*I
<br>
<br>
<a href="#span-out-evolution-method">時間微分</a>V'を離散化して以下の漸化式を得る
<br>
・<a href="#span-out-evolution-method">陽解法</a>
<br>
newV=(1-a*dt)*oldV+b*dt*I
<br>
・<a href="#span-out-evolution-method">陰解法</a>
<br>
newV=(oldV+b*dt*I)/(1+a*dt)
<br>
<br>
各parameterのOrder推定方法を示す
<br>
・低周波数側の<a href="#span-out-simulation-EIS">交流impedance</a>実測結果から<a href="#span-out-modelling-0D-RC">RC並列回路</a>同様に推定
<br>
・または、充放電後の緩和過程の電圧変化からaを推定
<br>
・推定aと充放電中の電圧変化からbを推定
<br>
<br>
実施例は<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-sea-level
<br>
simplified
<br>
modelling
    </th>
    <td>
<span id="span-out-modelling-0D-sea-level"></span>
<a href="#span-app-sea">海面上昇</a>を漸化式で記述する0D-sea-levelのsimplified modellingについて記述する
<br>
・<span class="clear">Ver.2.614.96</span>以降、<span class="selection">基準年</span>の<span class="jF">線膨張量係数</span>k1に対する無次元の重み係数<span class="clear">b</span>を適合
<br>
<br>
simplifiedの仮定
<br>
・時間刻み：1年
<br>
・代表温度：地表の平均気温（<a href="#span-app-sea">海水温</a>を反映可）
<br>
・年平均の代表温度上昇量：dT（基準温度に対する相対量）
<br>
・dTの積算温度：sum_dT
<br>
・<a href="#span-app-sea">海面上昇</a>量：level=level0+level1
<br>
　海水の熱膨張量：level0
<br>
　雪氷の融解量：level1
<br>
・熱膨張：遅延なしの<a href="#span-out-approximation-linear">線形応答</a>（詳細化の優先度低）
<br>
・<a href="#span-app-analogy">analogy</a>：雪氷の融解量level1∝年平均の代表温度上昇量dTの積算温度（n次変化の場合、n+1次関数）
<br>
・dTの積算温度sum_dTの漸化式（feedback項を含む）
<br>
　<a href="#span-out-evolution-method">陽解法</a>：sum_dT=(1-1/Tc)*sum_dT+<span class="clear">b</span>*dT
<br>
　<a href="#span-out-evolution-method">陰解法</a>：sum_dT=(sum_dT+<span class="clear">b</span>*dT)/(1+1/Tc)
<br>
・無次元の重み係数<span class="clear">b</span>：総spotの形状因子
<br>
　定数の場合、漸化式から外出可：k1*<span class="clear">b</span>
<br>
・時定数
<br>
　通常mode：Tc=<a href="#span-app-sea">Order(100年)</a>
<br>
　暴走mode：Tc→<a href="#span-out-limit">+∞</a>（緩和なし）
<br>
・<a href="#span-app-sea">海面上昇</a>level：level0+level1
<br>
　level0：k0*dT（線形項）
<br>
　level1：k1*sum_dT（非線形項）
<br>
・<a href="#span-app-sea">残存量</a>の制限：level1&le;level1max
<br>
　level：level0+min(level1max,level1)
<br>
・<a href="#span-out-approximation-linear">回帰直線</a>の<span class="jF">線膨張量係数</span>k0/k1：<span class="selection">基準年</span>の実測値に適合（rate||寄与度換算）
<br>
<br>
実施例
<br>
・<a href="#span-app-sea">西暦2000年の海面上昇</a>の適合結果（寄与度換算）
<br>
　level0の<span class="jF">線膨張量係数</span>[cm/℃]：k0=11.46953405017921
<br>
　level1の<span class="jF">線膨張量係数</span>[cm/℃]：k1=0.18059344991172854
<br>
　時定数[年]：Tc=500（仮）
<br>
　重み係数：<span class="clear">b</span>=1（<span class="selection">基準年</span>）
<br>
・<a href="#span-app-history">最終氷期⇒間氷期</a>の<a href="#span-app-sea">海面上昇</a>の適合結果
<br>
　温度peakの推定時刻[年]：tpeak=-7700
<br>
　　<a href="#span-app-rate">温度上昇rate</a>[℃/年]：rateT=7/(1.8e4-7700)
<br>
　時定数[年]：Tc=900
<br>
　重み係数：<span class="clear">b</span>=10.5
<br>
・氷期の形状因子<span class="clear">b</span>が10.5倍の結論
<br>
　<span class="clear">b</span>=1の未来予測：単なる適合で定量性はないが、<a href="#span-out-UI-graphing-testcase">未来のlevelを過小評価の可能性あり</a>
<br>
　<span class="clear">b</span>安全率の検討：<span class="condition"><a href="#span-app-rate">step応答</a></span>の2桁差の内1桁の幾分かを説明する候補
<br>
・modelling詳細化の検討候補
<br>
　氷期と現在で異なる状況：<a href="#span-app-dependency">駆動力</a>と<span class="condition"><a href="#span-app-rate">rate</a></span>||<a href="#span-app-factor">日射</a>と氷床分布
<br>
　Tc：<a href="#span-app-factor">熱輸送</a>の<a href="#span-app-factor">時間遅れ</a>の実質寄与度と現在の経過時間（正味予測）
<br>
　k0：<a href="#span-app-sea">海水温</a>と<span class="jF">熱膨張率</span>の整合性||水深方向の熱容量と<a href="#span-app-factor">時間遅れ</a>の考慮（非線形化）
<br>
　k1：<a href="#span-app-analogy">analogy</a>の見直し||形状因子<span class="clear">b</span>の時間変化（Tcとk1に従属）
<br>
・補足
<br>
　全海洋平均の水深[km]：0.97*1.4e9/0.36e9=3.772222222222222
<br>
　水深0~2kmの平均温度[℃]：20~2
<br>
　20℃の<span class="jF">熱膨張率</span>[1/℃]：0.025e-2
<br>
　水深2kmまで+[1,2]℃の熱膨張量[cm]：2e5*0.025e-2*[1,2]=[50,100]（<span class="jF">熱膨張率</span>と海洋面積一定を仮定）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-cell
<br>
simplified
<br>
modelling
    </th>
    <td>
<span id="span-out-modelling-0D-cell"></span>
電気化学cellを漸化式で記述する0D-cellのsimplified modellingについて記述する
<br>
<br>
simplifiedの仮定を列挙する
<br>
・負極||電解質||正極の影響は合成して区別しない
<br>
・電解質/活物質界面の被膜抵抗は反応抵抗に合成して区別しない
<br>
・電荷移動律速過程におけるButler-Volmer式の非線形性は考慮しない
<br>
・拡散律速過程における拡散抵抗の非線形性は考慮しない
<br>
・限界電流密度は考慮しない
<br>
<br>
<a href="#span-eqn-plot2d_EIS">plot2d_EIS</a>||<a href="#span-eqn-plot2d_EIS_DFT">plot2d_EIS_DFT</a>||<a href="#span-eqn-plot2d_IV">plot2d_IV</a>に示す0D-cellの等価回路要素（直列接続）を列挙する
<br>
・構造由来のinductance: L
<br>
・導電path上の電子伝導とion伝導を合成する直流抵抗: R0
<br>
・<a href="#span-out-modelling-0D-RC">RC並列回路</a>で表すion挿入/脱離||還元/酸化の反応抵抗: R1,C1 -> a1,b1
<br>
・ion濃度分布緩和過程の電位変化に伴う<a href="#span-out-modelling-0D-diffusion">拡散抵抗</a>（Warburg's Zの代替）: a2,b2
<br>
<br>
実施例は<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-heat
<br>
simplified
<br>
modelling
    </th>
    <td>
<span id="span-out-modelling-0D-heat"></span>
熱収支を漸化式で記述する0D-heatのsimplified modellingについて記述する
<br>
<br>
地球の<a href="#span-app-atmosphere">対流圏</a>と<a href="#span-app-atmosphere">成層圏</a>の熱収支のmodellingを一例に示す
<br>
※<span class="clear">最も単純化した参考程度（前提から正しいとは限らない）</span>
<br>
・energy保存則はthermodynamics laws
<br>
・地球表面と擬似的な対流圏界面における熱流束はNewton's law of cooling
<br>
・地球表面の黒体放射温度はStefan-Boltzmann's law
<br>
・<span class="run">Ver.2.95.32</span>以降、<span class="clear">albedoと独立に定義する</span><span class="selection">対流圏の吸収率=1-成層圏への透過率</span>を追加考慮
<br>
・<span class="run">Ver.2.96.32</span>以降、<del><span class="jF">大気の吸収率</span></del><span class="selection">対流圏の吸収率</span>の定義文を追記
<br>
・<span class="clear">Ver.2.96.32</span>以降、<span class="clear">擬似的な熱伝達係数</span>の定義文を訂正
<br>
・<span class="run">Ver.2.97.32</span>以降、<span class="condition">地球表面の熱伝達係数alpha0</span>を追加考慮（<span class="condition">最悪想定の場合、alpha0=0</span>）
<br>
・<span class="run">Ver.2.97.32</span>以降、<span class="condition">対流圏の吸収率<span class="clear">基準値</span></span>を黒体放射温度から一意に決定
<br>
・<span class="clear">Ver.2.99.32</span>以降、<span class="jF">energy保存則の省略項</span>を訂正
<br>
・<span class="run">Ver.2.507.90</span>以降、<span class="wF">太陽定数の補足</span>を追記
<br>
・<span class="run">Ver.2.523.90</span>以降、<span class="wF">放射強制力の厳密な定義</span>を追記
<br>
・<span class="clear">Ver.2.530.91</span>以降、<span class="jF">大気の吸収率</span>の定義文を訂正（半値幅　⇒　半分値）
<br>
・<span class="run">Ver.2.597.93</span>以降、<a href="#span-out-evolution-method">陰解法</a>の導出式の説明文を簡略化
<br>
・<span class="clear">Ver.2.614.95</span>以降、時定数の表記を修正：O(年)　⇒　Order(1年)
<br>
・<span class="clear">Ver.2.621.97</span>以降、時定数を修正：Order(1年)　⇒　Order(0.1~1年)
<br>
<br>
前提を列挙する
<br>
<span class="wF">・<a href="#span-app-factor">放射強制力</a>（<a href="#span-app-climate">気候変動</a>の統一指標）：対流圏界面の熱流束fluxの変化量（系内部の増加が正）</span>
<br>
・対流圏を系内部、成層圏と<span class="condition">地球内部</span>を系外部と想定する
<br>
・系外部の状態は変化しないと仮定する
<br>
・系内部の状態分布は一定を仮定する（温度・密度・圧力・吸収率等の分布は考慮しない）
<br>
・系内部の物性値は一定を仮定する（圧力・温度依存性等は考慮しない）
<br>
・系内部は準静的な定圧状態を仮定する
<br>
・系内外相互の非状態量の仕事=0（対流圏は十分に発達済み）を仮定する
<br>
・太陽活動||<a href="#span-out-ODE3">公転軌道</a>等、系外部の大局的な変化は定常状態を仮定する
<br>
・大気・海洋循環||火山活動等、系内部と<span class="condition">地球内部</span>で循環する因子は系全体で定常状態を仮定する
<br>
・粘性による散逸||相変化による潜熱等、系内部で循環する局所的な因子は系全体で定常状態を仮定する
<br>
・地球内部と対流圏、成層圏の各温度を一意な代表値で表す
<br>
・対流圏の<span class="clear">正味熱収支</span>を次の一意な代表値で表す
<br>
　放射強制力による<span class="clear">放熱電力</span>
<br>
　対流圏の<span class="clear">正味発熱電力</span>=直接反射と成層圏への透過を除く太陽放射の<span class="clear">放射電力</span>
<br>
　<span class="condition">地球表面から対流圏への<span class="clear">熱伝達電力</span></span>
<br>
・放射強制力を対流圏と成層圏の代表温度差の比例係数（<span class="clear">擬似的な熱伝達係数</span>）に換算する
<br>
※<span class="clear">擬似的な熱伝達係数は<span class="selection">対流圏の吸収率</span>基準値に従属する透過による放射を含まない</span>
<br>
<br>
主要なparameterを列挙する
<br>
・<span class="clear">透過による放射を含まない擬似的な熱伝達係数</span>alpha1
<br>
・<span class="condition">地球表面の熱伝達係数alpha0</span>
<br>
・太陽放射の直接反射率<a href="#span-app-factor">albedo</a>
<br>
・<span class="clear">albedoと独立に定義する</span><span class="selection">対流圏の吸収率</span>absorb
<br>
※<span class="selection">対流圏の吸収率absorb=1-成層圏への透過率</span>
<br>
※<span class="selection">対流圏の正味吸収率absorbe=(1-albedo)*absorb</span>
<br>
※<span class="clear">その他の全因子は定常状態（系内部のenergy変化に寄与しない）を想定する</span>
<br>
<br>
代表的な<a href="#span-app-arithmetic">状態量</a>||物性値を示す
<br>
　<a href="#span-app-factor">太陽定数</a><span class="wF">（太陽放射の強度）</span>I0=1367[W/m^2]
<br>
　Stefan-Boltzmann定数sigma=5.670374419184429e-8[W/m^2K^-4]
<br>
　Kelvin温度TK=273.15[K]
<br>
成層圏---------------系外部を想定
<br>
　成層圏代表温度T1=-56.5[℃]
<br>
対流圏界面-----------放射強制力の熱流束flux1=alpha1*(T1-T)[W/m^2]
<br>
　放射強制力から換算する擬似的な熱伝達係数alpha1[W/m^2K]
<br>
　対流圏平均高度H1=11000[m]
<br>
　対流圏界面半径R1=R0+H1=6389136.6[m]
<br>
　太陽に対する地球表面の投影面積S0=pi*R0^2=127801957318946.73[m^2]
<br>
　太陽に対する対流圏界面の投影面積S1=pi*R1^2=128243162607552.88[m^2]
<br>
　対流圏界面面積A1=S1*4=512972650430211.5[m^2]
<br>
　放射強制力による<span class="clear">放熱電力</span>W1=flux1*A1=alpha1*A1*(T1-T)[W]
<br>
対流圏---------------系内部を想定
<br>
　対流圏代表温度T[℃]
<br>
　対流圏代表温度変化量dT=T-T0[℃]
<br>
　太陽放射の直接反射率<span class="clear">基準値</span>albedo0=0.3
<br>
　<span class="condition"><span class="jF"><a href="#span-app-factor">大気の吸収率</a></span>半分値absorbh=0.3859311811416972</span>
<br>
　<span class="condition">対流圏の吸収率<span class="clear">基準値</span>absorb0=0.6284819702443666</span>
<br>
　<span class="selection">対流圏の正味吸収率</span>absorbe=(1-albedo)*absorb
<br>
※<span class="clear">各基準値は温度変化の時定数に影響するが、<a href="#span-out-simulation-0D-heat">熱平衡状態前後の温度変化量に影響しない</a></span>
<br>
　太陽放射の<span class="clear">放射電力</span>W0=S1*I0=175308403284524770[W]
<br>
　太陽放射の直接反射による<span class="clear">放射電力</span>W0a=W0*albedo[W]
<br>
　対流圏から成層圏への透過による<span class="clear">放射電力</span>W0t=W0*(1-albedo)<span class="selection">*(1-absorb)</span>[W]
<br>
　対流圏の<span class="clear">正味発熱電力</span>W0e=W0*(1-albedo)<span class="selection">*absorb</span>[W]
<br>
　大気の熱伝導率l=0.0241[W/mK]
<br>
　大気の密度rho=1.29[kg/m^3]
<br>
　大気の定圧比熱cp=1007[J/kgK]
<br>
　対流圏の体積V=_ir(=&lt;4*pi*r^2,R0,R0+H1)=5632989850743111000+O(1e+8)[m^3]
<br>
　対流圏の熱容量C=rho*cp*V=7.317422805810823e+21+O(2e+11)[J/K]
<br>
地球表面-------------<span class="condition">対流圏への熱流束flux0=alpha0*(T0-T)[W/m^2]</span>
<br>
　<span class="condition">地球表面の熱伝達係数alpha0</span>
<br>
　地球表面温度T0=T1+6.5*H1/1e3=15[℃]
<br>
　赤道半径R0=6378136.6[m]
<br>
　地球表面積A0=S0*4=511207829275786.94[m^2]
<br>
　<span class="condition">対流圏への<span class="clear">熱伝達電力</span>W2=flux0*A0=alpha0*A0*(T0-T)[W]</span>
<br>
　黒体放射温度Te=(I0*(1-albedo0)/(4*e0*sigma))**0.25-TK=-18.291744141682386[℃]
<br>
<br>
対流圏のenergy保存則
<br>
・<span class="clear">総電力</span>の保存
<br>
W0=W0a+W0t+W0e
<br>
・直接反射W0aと透過W0tを除く対流圏の<span class="clear">正味熱収支</span>
<br>
Q'=W1+W0e<span class="condition">+W2</span>
<br>
・系内部の対流圏が系外部に与える仕事は十分に小さい（<span class="jF">-V*p'</span>/Q'=0）と仮定する
<br>
C*T'<span class="jF">-V*p'</span>=Q' -> C*T'=W1+W0e<span class="condition">+W2</span>
<br>
・T'=0の熱平衡状態における<span class="clear">正味熱収支</span>に熱容量Cは寄与しない
<br>
C*T'=alpha1*A1*(T1-T)+W0*(1-albedo)<span class="selection">*absorb</span><span class="condition">+alpha0*A0*(T0-T)</span>
<br>
・非平衡状態の<a href="#span-out-evolution">時間発展</a>方程式を得る
<br>
T'=-a*T+b
<br>
a=(alpha1*A1<span class="condition">+alpha0*A0</span>)/C
<br>
b=(alpha1*A1*T1+W0*(1-albedo)<span class="selection">*absorb</span><span class="condition">+alpha0*A0*T0</span>)/C
<br>
・<a href="#span-out-evolution-method">時間微分</a>T'を<a href="#span-out-evolution-method">陰解法</a>で離散化して次の漸化式を得る
<br>
newT=(oldT+b*dt)/(1+a*dt)
<br>
dT=newT-T0
<br>
<br>
test caseを示す
<br>
kalpha0=0;
<br>
kalpha1=1;
<br>
kalbedo=1;
<br>
kabsorb=1;
<br>
I0=1367;
<br>
sigma=5.670374419184429e-8;
<br>
TK=273.15;
<br>
T0=15;
<br>
T1=-56.5;
<br>
T0K=T0+TK;
<br>
T1K=T1+TK;
<br>
H1=11000;
<br>
R0=6378136.6;
<br>
R1=R0+H1;
<br>
S0=pi*R0^2;
<br>
S1=pi*R1^2;
<br>
A0=S0*4;
<br>
A1=S1*4;
<br>
albedo0=0.3;
<br>
e0=1;
<br>
TeK=(I0*(1-albedo0)/(4*e0*sigma))**0.25;
<br>
Te=TeK-TK;
<br>
W0=S1*I0;
<br>
Wee=A0*(e0*sigma*TeK**4);
<br>
We0=A0*(e0*sigma*T0K**4);
<br>
<span class="condition">absorbh=1-W0*(1-albedo0)/We0;</span>
<br>
<span class="condition">absorbhmax=0.5;</span>
<br>
<span class="condition">absorb0=We0*absorbh/(W0*(1-albedo0));</span>
<br>
<span class="condition">absorb0max=We0*absorbhmax/(W0*(1-albedo0));</span>
<br>
<span class="condition">kh0=(absorbhmax-absorbh)/(absorb0max-absorb0);</span>
<br>
Te_th(a)=&lt;(I0*(1-albedo0)/(2*(2-a)*e0*sigma))**0.25-TK;
<br>
Te_th0=Te_th(absorbh*2)=&gt;;
<br>
Wea=We0*absorbh;
<br>
Wet=We0*(1-absorbh);
<br>
l=0.0241;
<br>
rho=1.29;
<br>
cp=1007;
<br>
V=_ir(=&lt;4*pi*r^2,R0,R0+H1);
<br>
C=rho*cp*V;
<br>
alpha10=-W0*(1-albedo0)<span class="selection">*absorb0</span>/(A1*(T1-T0));
<br>
alpha0=alpha10*kalpha0;
<br>
alpha1=alpha10*kalpha1;
<br>
albedo=albedo0*kalbedo;
<br>
<span class="selection">absorb=absorb0*kabsorb;</span>
<br>
<span class="selection">absorbe=(1-albedo)*absorb;</span>
<br>
T=T0;
<br>
flux0=alpha0*(T0-T);
<br>
flux1=alpha1*(T1-T);
<br>
W2=flux0*A0;
<br>
W1=flux1*A1;
<br>
W0a=W0*albedo;
<br>
W0t=W0*(1-albedo)<span class="selection">*(1-absorb)</span>;
<br>
W0e=W0*(1-albedo)<span class="selection">*absorb</span>;
<br>
(Wee-Wet);
<br>
(Wea-W0e);
<br>
(W0t+W0e-Wet);
<br>
(W0a+W0t+W0e-W0);
<br>
(W1+W0e+W2);
<br>
・地球表面の黒体放射温度（輻射率e0=1）
<br>
A0*(e0*sigma*TeK**4)=S0*I0*(1-albedo0) ->
<br>
TeK=(I0*(1-albedo0)/(4*e0*sigma))**0.25; Te=TeK-TK; Te -> -18.291744141682386
<br>
・<span class="clear">総電力</span>
<br>
We0=A0*(e0*sigma*T0K**4); We0 -> 199840601786823800
<br>
W0=S1*I0; W0 -> 175308403284524770
<br>
・<span class="condition"><span class="jF">大気の吸収率</span>半分値</span>
<br>
We0*(1-absorbh)=W0*(1-albedo0) ->
<br>
<span class="condition">absorbh=1-W0*(1-albedo0)/We0; absorbh -> 0.3859311811416972</span>
<br>
・<span class="condition">対流圏の吸収率に換算</span>
<br>
We0*absorbh=W0*(1-albedo0)<span class="selection">*absorb0</span> ->
<br>
<span class="condition">absorb0=We0*absorbh/(W0*(1-albedo0)); absorb0 -> 0.6284819702443666</span>
<br>
・<span class="condition">absorbh=absorbhmax=0.5の場合、対流圏の吸収率上限値</span>
<br>
<span class="condition">absorb0max=We0*absorbhmax/(W0*(1-albedo0)); absorb0max -> 0.8142409851221832</span>
<br>
・<span class="condition"><span class="jF">大気の吸収率</span>半分値への換算係数</span>
<br>
kh0 -> 0.6140688188583029
<br>
・大気の熱拡散係数D_l=O(1e-5)
<br>
D_l=l/(rho*cp); D_l -> 0.000018552304411753384
<br>
・<span class="clear">大気の熱拡散の時定数Tc_l=Order(1万年)</span>
<br>
Tc_l=H1^2/D_l; Tc_l -> 6522100829875.518
<br>
・よって熱拡散は対流圏で支配しない
<br>
s_1year=60*60*24*365; s_1year -> 31536000
<br>
year_l=Tc_l/s_1year; year_l -> 206814.46061249104
<br>
・T'=0の熱平衡状態における放射強制力を擬似的な熱伝達係数<span class="clear">基準値</span>alpha10に換算する
<br>
alpha10=-W0*(<span class="clear">1-albedo0</span>)<span class="selection">*absorb0</span>/(A1*(T1-T0)); alpha10 -> 2.1027776130308893
<br>
・<span class="clear">放射強制力の時定数Tc_a=Order(0.1~1年)</span>
<br>
Tc_a=C/(alpha10*A1); Tc_a -> 6783761.861191721+O(2e-4)
<br>
・よって対流||放射による熱輸送が対流圏で支配する（対流圏は十分に発達済みの一例）
<br>
year_a=Tc_a/s_1year; year_a -> 0.21511167748578514+O(6e-12)
<br>
・以上より、T'=0の熱平衡状態における漸化式の各係数を求める
<br>
a=alpha10*A1/C; a -> 1.4741083494112034e-7+O(4e-18)
<br>
b=(alpha10*A1*T1+W0*(1-albedo0)<span class="selection">*absorb0</span>)/C; b -> 0.0000022111625241168055+O(6e-17)
<br>
・熱平衡状態（<span class="clear">放熱電力</span>W1+<span class="clear">正味発熱電力</span>W0e+<span class="clear">熱伝達電力</span>W2=0）のdouble-checkを示す
<br>
flux1=alpha10*(T1-T0); flux1 -> -150.34859933170858
<br>
W1=flux1*A1; W1 -> -77124719487656480
<br>
W0e -> 77124719487656480
<br>
W2 -> 0
<br>
W1+W0e<span class="condition">+W2</span> -> 0
<br>
・<span class="condition">absorb0=absorb0max=0.8142409851221832</span>の場合、alpha10は増加する
<br>
alpha10 -> 2.724290904417542
<br>
Tc_a -> 5236130.455347437+O(1e-4)
<br>
year_a -> 0.16603660753892177+O(4e-12)
<br>
a -> 1.9098072680346273e-7+O(5e-18)
<br>
b -> 0.00000286471090205194+O(7e-17)
<br>
flux1 -> -194.78679966585426
<br>
・同時に、放射強制力による<span class="clear">放熱電力</span>W1の増加分、透過による<span class="clear">放射電力</span>W0tが減少する
<br>
W1 -> -99920300893411890
<br>
W0e -> 99920300893411890
<br>
W2 -> 0
<br>
W1+W0e<span class="condition">+W2</span> -> 0
<br>
・<span class="selection">absorb0=0.5</span>の場合、alpha10は減少する
<br>
alpha10 -> 1.6729020979020977
<br>
Tc_a -> 8526944.040380726+O(2e-4)
<br>
year_a -> 0.27038762177767395+O(7e-12)
<br>
a -> 1.1727530933290258e-7+O(3e-18)
<br>
b -> 0.0000017591296399935375+O(5e-17)
<br>
flux1 -> -119.61249999999998
<br>
・同時に、放射強制力による<span class="clear">放熱電力</span>W1の減少分、透過による<span class="clear">放射電力</span>W0tが増加する
<br>
W1 -> -61357941149583660
<br>
W0e -> 61357941149583660
<br>
W2 -> 0
<br>
W1+W0e<span class="condition">+W2</span> -> 0
<br>
<br>
実施例は<a href="#span-out-simulation-0D-heat">0D-heat simulation</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
simulation
    </th>
    <td>
<span id="span-out-simulation"></span>
simulationの実施例を列挙する
<br>
・<a href="#span-out-simulation-EIS">EIS simulation</a>
<br>
・<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>
<br>
・<a href="#span-out-simulation-0D-heat">0D-heat simulation</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
EIS
<br>
simulation
    </th>
    <td>
<span id="span-out-simulation-EIS"></span>
EIS simulationの実施例について記述する
<br>
<br>
Electrochemical Impedance Spectroscopy（以降、EISと省略する）
<br>
のsimulationの背景と目的を列挙する
<br>
・等価回路fittingによる電気化学cellのsimulationは交流impedance実測結果の再現性が低い
<br>
・測定機の後処理同等（<a href="#span-out-UI-graphing-post-processor-encode">noise</a>処理を除く）のalgorithmを実装することで再現性を改善する
<br>
・定性的な理解とともにparameter推定の定量性改善に繋がる可能性が考えられる
<br>
<br>
<a href="#span-eqn-plot2d_EIS">plot2d_EIS</a>に示すZ変換（impedance演算部）の想定algorithmを列挙する
<br>
・電流Iと電圧Vは<a href="#span-out-approximation-linear">正の相関</a>を前提とする
<br>
・各実測波形の角周波数をomegaとして時間tに対する<span class="clear">基準波形</span>exp(<span class="clear">-</span>i*omega*t)を作る
<br>
・得られた<a href="#span-out-com">複素数</a>の基準波形を各実測波形に時間領域で乗算する
<br>
・さらに、得られた<a href="#span-out-com">複素数</a>の各波形を<a href="#span-out-fdm-integral">合成Simpson公式</a>で時間積分する（<a href="#span-out-eqns">式変数</a><a href="#span-eqn-plot2d_EIS">FT_IV</a>）
<br>
・最後に、得られた各<a href="#span-out-com">複素数</a>の比からZ=zV/zIに変換する（<a href="#span-out-eqns">式変数</a><a href="#span-eqn-plot2d_EIS">calc_Z</a>）
<br>
・仮に、<a href="#span-out-modelling-0D-RC">RC並列回路</a>の<span class="condition">cut-off周波数</span>で
<br>
　Zが<a href="#span-out-complex">複素数平面</a>の<span class="condition">第4象限</span>（半円の頂点で位相が負）に位置しない場合、<span class="clear">基準波形を見直す</span>
<br>
<br>
<span class="run">Ver.2.64.27</span>以降、想定algorithmの補足を列挙する
<br>
・<span class="clear">基準波形</span>を含む時間積分は周期関数の連続Fourier変換||Laplace変換に同義
<br>
・Laplace領域||波数領域の変数s=i*omegaを定義して各実測波形を連続Fourier変換する
<br>
I(s)=FT(I(t))
<br>
V(s)=FT(V(t))
<br>
Z(s)=V(s)/I(s)
<br>
・以上より、時間領域から波数領域のZ(s)に変換する
<br>
<br>
<span class="run">Ver.2.64.27</span>以降、<a href="#span-eqn-plot2d_EIS_DFT">plot2d_EIS_DFT</a>に示す
<br>
hard/softの制約を考慮する場合、<a href="#span-eqn-plot2d_EIS">plot2d_EIS</a>の変化点を列挙する
<br>
・時間tに対する電流波形I(t)と電圧波形V(t)のsampling時刻/sampling間隔が同一を前提とする
<br>
・各実測波形の連続Fourier変換を<a href="#span-out-transform-dft">離散Fourier変換</a>で代替する
<br>
I(s)=DFT(I(t))
<br>
V(s)=DFT(V(t))
<br>
Z(s)=V(s)/I(s)
<br>
・以上より、時間領域から波数領域のZ(s)に変換する（高精度の時間積分は不要）
<br>
<br>
<span class="run">Ver.2.64.27</span>以降、想定algorithmの<a href="#span-out-error">数値誤差</a>について補足を列挙する
<br>
・時間積分に換算してZ変換の<a href="#span-out-error">数値誤差</a>を示す
<br>
　連続Fourier変換の場合、<a href="#span-out-fdm-integral">合成Simpson公式</a>のOrder(dt^4)
<br>
　<a href="#span-out-transform-dft">離散Fourier変換</a>の場合、<a href="#span-out-fdm-integral">台形公式</a>より低次のOrder(dt)
<br>
・I(t)||V(t)の<a href="#span-out-error">modelling誤差</a>がOrder(dt)の場合、Z変換の<a href="#span-out-error">数値誤差</a>は同等以下で支配しない
<br>
・実測結果も同様に、影響は小さいと考えられるが、より厳密には
<br>
　Z変換のalgorithmを統一する||Z変換前の波形を比較する
<br>
<br>
電気化学cellの交流impedance測定における留意事項を列挙する（参考）
<br>
・Open Circuit Voltage測定中に測定対象は測定機の影響（主に暗電流）を受けて変化しない
<br>
・測定電流||電圧の入力と測定対象の応答がButler-Volmer式の<a href="#span-out-approximation-linear">線形領域</a>の範囲内に収まる
<br>
・測定機と測定対象の接続線impedance（主にinductance）を分離できる
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-cell
<br>
EIS
<br>
simulation
    </th>
    <td>
<span id="span-out-simulation-EIS-0D-cell"></span>
0D-cell EIS simulationの実施例について記述する
<br>
<br>
<a href="#span-out-modelling-0D-cell">0D-cell</a>のEIS simulationの実施例を示す
<br>
・<a href="#span-eqn-plot2d_EIS">plot2d_EIS</a>測定条件
<br>
電流振幅dI=1e-3
<br>
sweep開始周波数f0=1e3
<br>
sweep終了周波数f1=0.01
<br>
sweep周波数分割数Nf=10
<br>
積分1周期分割数Nt=100
<br>
積分周回数Nint=1
<br>
・各parameterの設定値
<br>
L=1e-4,
<br>
R0=1,
<br>
R1=2,C1=0.1, -> 1/(2pi*R1*C1)=0.7957747154594768（<span class="condition">cut-off周波数</span>≒1）
<br>
a1=1/(R1*C1),b1=1/C1, -> 1/a1=0.2（<span class="selection">時定数</span>=0.2）
<br>
a2=0.01,b2=0.12, -> 1/a2=100（<span class="selection">有効拡散の時定数</span>=100）
<br>
・<a href="#span-out-evolution">時間発展</a>の解法の設定値（<a href="#span-out-evolution-method">陰解法</a>選択）
<br>
isImplicit=1,
<br>
・logarithmic-scale等分割の周波数に対するZのsimulation結果
<br>
(
<br>
999.9999999999998,infoLost[ri] 1.000054390110971<span class="clear">+</span>0.626708495177503i:
<br>
316.22776601683796,infoLost[ri] 1.000197769963539<span class="clear">+</span>0.1936010152622332i:
<br>
100.00000000000004,infoLost[ri] 1.0008791279248923<span class="clear">+</span>0.046741593442684845i:
<br>
31.62277660168379,infoLost[ri] 1.0051946423727691<span class="clear">-</span>0.030877367568292336i:
<br>
10.00000000000001,infoLost[ri] 1.0370746940376958<span class="clear">-</span>0.15139417727049678i:
<br>
3.162277660168381,infoLost[ri] 1.2428463848394768<span class="clear">-</span>0.4426585101482536i:
<br>
<span class="condition">1,infoLost[ri] 1.9692074050771464</span><span class="clear">-</span><span class="condition">0.8189304441759584i:</span>
<br>
0.3162277660168378,infoLost[ri] 2.7478680202043564<span class="clear">-</span>0.6543142174993192i:
<br>
0.10000000000000024,infoLost[ri] 2.978079231896037<span class="clear">-</span>0.42406164035890753i:
<br>
0.031622776601683854,infoLost[ri] 3.0951852485694045<span class="clear">-</span>0.675153482065019i:
<br>
0.010000000000000012,infoLost[ri] 3.711459875093761<span class="clear">-</span>1.811702692783572i
<br>
)
<br>
・Nyquist-plot(real(Z),-imag(Z))
<br>
(
<br>
infoLost[ri] 1.000054390110971,infoLost[ri] -0.626708495177503:
<br>
infoLost[ri] 1.000197769963539,infoLost[ri] -0.1936010152622332:
<br>
infoLost[ri] 1.0008791279248923,infoLost[ri] -0.046741593442684845:
<br>
infoLost[ri] 1.0051946423727691,infoLost[ri] 0.030877367568292336:
<br>
infoLost[ri] 1.0370746940376958,infoLost[ri] 0.15139417727049678:
<br>
infoLost[ri] 1.2428463848394768,infoLost[ri] 0.4426585101482536:
<br>
infoLost[ri] 1.9692074050771464,infoLost[ri] 0.8189304441759584:
<br>
infoLost[ri] 2.7478680202043564,infoLost[ri] 0.6543142174993192:
<br>
infoLost[ri] 2.978079231896037,infoLost[ri] 0.42406164035890753:
<br>
infoLost[ri] 3.0951852485694045,infoLost[ri] 0.675153482065019:
<br>
infoLost[ri] 3.711459875093761,infoLost[ri] 1.811702692783572
<br>
)
<br>
・Bode-plot(log10(f),|Z|)
<br>
(
<br>
3,infoLost[ri] 1.1802001190933158:
<br>
2.5,infoLost[ri] 1.018762451286169:
<br>
2,infoLost[ri] 1.0019699622609723:
<br>
1.5,infoLost[ri] 1.005668772948065:
<br>
1.0000000000000004,infoLost[ri] 1.0480668480229642:
<br>
0.5000000000000002,infoLost[ri] 1.3193231950190327:
<br>
0,infoLost[ri] 2.13270365419317:
<br>
-0.5000000000000002,infoLost[ri] 2.8246956918725874:
<br>
-0.9999999999999989,infoLost[ri] 3.008119709432186:
<br>
-1.4999999999999991,infoLost[ri] 3.1679652692708244:
<br>
-1.9999999999999993,infoLost[ri] 4.130036446748411
<br>
)
<br>
・Bode-plot(log10(f),deg_phi)
<br>
(
<br>
3,infoLost[ri] 32.07431944473854:
<br>
2.5,infoLost[ri] 10.954854996909933:
<br>
2,infoLost[ri] 2.6738010400823766:
<br>
1.5,infoLost[ri] -1.7594470164364941:
<br>
1.0000000000000004,infoLost[ri] -8.305482098595858:
<br>
0.5000000000000002,infoLost[ri] -19.604124709935633:
<br>
<span class="condition">0,infoLost[ri] -22.58086538727024:</span>
<br>
-0.5000000000000002,infoLost[ri] -13.393680249677557:
<br>
-0.9999999999999989,infoLost[ri] -8.104114612346955:
<br>
-1.4999999999999991,infoLost[ri] -12.305194523809629:
<br>
-1.9999999999999993,infoLost[ri] -26.018737805525532
<br>
)
<br>
<br>
電流振幅のみ変更dI=1の影響
<br>
・線形modelを前提とするため、Zのsimulation結果はほぼ一致
<br>
(
<br>
999.9999999999998,infoLost[ri] 1.0000543901109709+0.626708495177503i:
<br>
316.22776601683796,infoLost[ri] 1.0001977699635385+0.19360101526223303i:
<br>
100.00000000000004,infoLost[ri] 1.000879127924892+0.04674159344268477i:
<br>
31.62277660168379,infoLost[ri] 1.005194642372769-0.030877367568292353i:
<br>
10.00000000000001,infoLost[ri] 1.0370746940376954-0.15139417727049667i:
<br>
3.162277660168381,infoLost[ri] 1.2428463848394775-0.44265851014825364i:
<br>
<span class="condition">1,infoLost[ri] 1.9692074050771455-0.818930444175958i:</span>
<br>
0.3162277660168378,infoLost[ri] 2.7478680202043564-0.6543142174993192i:
<br>
0.10000000000000024,infoLost[ri] 2.978079231896035-0.42406164035890764i:
<br>
0.031622776601683854,infoLost[ri] 3.095185248569406-0.6751534820650186i:
<br>
0.010000000000000012,infoLost[ri] 3.71145987509376-1.8117026927835727i
<br>
)
<br>
<br>
1周期分割数のみ変更Nt=300の影響
<br>
・Zのsimulation結果は<a href="#span-out-error">modelling誤差</a>のOrder(dt)で定量的に大差なし
<br>
(
<br>
999.9999999999998,infoLost[ri] 1.000020659557588+0.6267079711134935i:
<br>
316.22776601683796,infoLost[ri] 1.0000911276222495+0.19359899557421248i:
<br>
100.00000000000004,infoLost[ri] 1.0005422375176036+0.04673158634642843i:
<br>
31.62277660168379,infoLost[ri] 1.0041360205082939-0.03094497386189218i:
<br>
10.00000000000001,infoLost[ri] 1.0338770846371845-0.15195130473296967i:
<br>
3.162277660168381,infoLost[ri] 1.2354229873663194-0.44693493528151573i:
<br>
<span class="condition">1,infoLost[ri] 1.9658931475663823-0.834774843093126i:</span>
<br>
0.3162277660168378,infoLost[ri] 2.754521803915976-0.6657796106753855i:
<br>
0.10000000000000024,infoLost[ri] 2.9786451872376074-0.42699666778887413i:
<br>
0.031622776601683854,infoLost[ri] 3.0844475430285048-0.6771795132687214i:
<br>
0.010000000000000012,infoLost[ri] 3.678381237481611-1.8236767191289074i
<br>
)
<br>
<br>
積分周回数のみ変更Nint=3の影響
<br>
・Zのsimulation結果は定性的に大差なし
<br>
(
<br>
999.9999999999998,infoLost[ri] 1.0000543775353226+0.6267084951674945i:
<br>
316.22776601683796,infoLost[ri] 1.0001973780496354+0.1936010142760755i:
<br>
100.00000000000004,infoLost[ri] 1.000867290892417+0.04674149927015193i:
<br>
31.62277660168379,infoLost[ri] 1.004870193211877-0.03088552575238536i:
<br>
10.00000000000001,infoLost[ri] 1.0304047344117009-0.1519236330216015i:
<br>
3.162277660168381,infoLost[ri] 1.1783944036609526-0.4587506996017625i:
<br>
<span class="condition">1,infoLost[ri] 1.845520769797103-0.9149750525109858i:</span>
<br>
0.3162277660168378,infoLost[ri] 2.725785909977971-0.7058617623925021i:
<br>
0.10000000000000024,infoLost[ri] 2.976327232225026-0.4319501793746518i:
<br>
0.031622776601683854,infoLost[ri] 3.0824015886720364-0.6769040880523296i:
<br>
0.010000000000000012,infoLost[ri] 3.5317647358815623-1.8403531943834652i
<br>
)
<br>
<br>
<a href="#span-out-evolution">時間発展</a>の解法のみ変更isImplicit=0（<a href="#span-out-evolution-method">陽解法</a>選択）の影響
<br>
・<span class="selection"><a href="#span-out-evolution-method">陽解法</a>の安定条件</span>
<br>
dt&le;min(0.2,100)<span class="selection">*2</span>
<br>
1/(f*Nt)&le;0.4
<br>
<span class="selection">f&ge;0.025</span>
<br>
・Zのsimulation結果は<span class="selection"><a href="#span-out-evolution-method">陽解法</a>の安定条件</span>の範囲内で定性的に大差なし
<br>
(
<br>
<span class="selection">999.9999999999998,infoLost[ri] 1.0000543929898555+0.626708415628734i:</span>
<br>
<span class="selection">316.22776601683796,infoLost[ri] 1.0001978068781259+0.19360021990102563i:</span>
<br>
<span class="selection">100.00000000000004,infoLost[ri] 1.0008797482133391+0.04673364653178407i:</span>
<br>
<span class="selection">31.62277660168379,infoLost[ri] 1.0052082296658387-0.03095637279042429i:</span>
<br>
<span class="selection">10.00000000000001,infoLost[ri] 1.0373952733381435-0.15214941818882316i:</span>
<br>
<span class="selection">3.162277660168381,infoLost[ri] 1.2486473969330358-0.4481778175693221i:</span>
<br>
<span class="condition">1,infoLost[ri] 2.012036843642123-0.8250361448914947i:</span>
<br>
<span class="selection">0.3162277660168378,infoLost[ri] 2.8088203160184415-0.5898729668672302i:</span>
<br>
<span class="selection">0.10000000000000024,infoLost[ri] 3.003399673907799-0.3117472516446023i:</span>
<br>
<span class="selection">0.031622776601683854,infoLost[ri] 3.1017196891639354-0.5529342786020476i:</span>
<br>
0.010000000000000012,infoLost[ri] -6.24810011909696e+55-7.398061071461481e+55i
<br>
)
<br>
<br>
連続Fourier変換を<a href="#span-out-transform-dft">離散Fourier変換</a>で代替の影響（<span class="run">Ver.2.64.27</span>追記）
<br>
・<a href="#span-eqn-plot2d_EIS_DFT">plot2d_EIS_DFT</a>に示すZのsimulation結果は定性的に大差なし
<br>
(
<br>
999.9999999999998,infoLost[ri] 1.0000543892797595+0.6392747864438679i:
<br>
316.22776601683796,infoLost[ri] 1.0001977616975484+0.19757406150509768i:
<br>
100.00000000000004,infoLost[ri] 1.0008790467041697+0.04799047769435572i:
<br>
31.62277660168379,infoLost[ri] 1.0051938738253914-0.030553331468587727i:
<br>
10.00000000000001,infoLost[ri] 1.0370682220140526-0.15188583273656356i:
<br>
3.162277660168381,infoLost[ri] 1.2428077197277516-0.4463003704640858i:
<br>
<span class="condition">1,infoLost[ri] 1.9691091944331642-0.8282224753004641i:</span>
<br>
0.3162277660168378,infoLost[ri] 2.747797860771646-0.6608797016283408i:
<br>
0.10000000000000024,infoLost[ri] 2.9780526592821848-0.42653152705817254i:
<br>
0.031622776601683854,infoLost[ri] 3.095161552636316-0.6774520967840967i:
<br>
0.010000000000000012,infoLost[ri] 3.71133683621205-1.8234973547405815i
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
0D-heat
<br>
simulation
    </th>
    <td>
<span id="span-out-simulation-0D-heat"></span>
0D-heat simulationの実施例について記述する
<br>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>よりParis協定努力目標（温度上昇量＜1.5℃）を満たす必要条件を示す
<br>
※<span class="clear">系内部の<a href="#span-out-modelling-0D-heat">対流圏を最も単純化</a>した参考程度（前提から正しいとは限らない）</span>
<br>
※<span class="clear">擬似的な熱伝達係数の変化率kalpha1=(100-放射強制力の増加割合)/100</span>
<br>
・<span class="run">Ver.2.95.32</span>以降、<span class="clear">albedoと独立に定義する</span><span class="selection">対流圏の吸収率=1-成層圏への透過率</span>を追加考慮
<br>
・<span class="run">Ver.2.96.32</span>以降、<span class="selection">対流圏の吸収率<span class="clear">基準値</span>absorb0=0.5~1</span>の前提で必要条件を範囲に修正
<br>
※<span class="selection">対流圏の吸収率absorb=1-成層圏への透過率</span>
<br>
※<span class="selection">対流圏の正味吸収率absorbe=(1-albedo)*absorb</span>
<br>
・<span class="run">Ver.2.97.32</span>以降、<span class="condition">地球表面の熱伝達係数alpha0</span>を追加考慮（<span class="condition">最悪想定の場合、alpha0=0</span>）
<br>
・<span class="run">Ver.2.97.32</span>以降、<span class="condition">対流圏の吸収率<span class="clear">基準値</span></span>を黒体放射温度から一意に決定して範囲を修正
<br>
・<span class="run">Ver.2.102.32</span>以降、<span class="jF">大気の吸収率</span>について補足を追記
<br>
・<span class="clear">Ver.2.614.95</span>以降、時定数の表記を修正：感度O(年)　⇒　1次感度Order(1年)
<br>
・<span class="clear">Ver.2.621.97</span>以降、時定数を修正：Order(1年)　⇒　Order(0.1~1年)
<hr>
<a href="#span-app-factor">放射強制力</a>の増加量＜<span class="clear">基準値</span>の約2%=<span class="condition">3.007~3.896</span>[W/m^2]
<br>
・<span class="clear">基準値</span>flux1=alpha10*(T1-T0)=2.1027776130308893*(-56.5-15)=<span class="condition">-150.3</span>[W/m^2]
<br>
・<span class="clear">基準値</span><span class="condition">absorb0=0.6284819702443666</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt; -> 1.4590132585988513+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>0.97,1,1)=&gt; -> 2.211057108488781+O(4e-15)
<br>
・<span class="clear">基準値</span>flux1=alpha10*(T1-T0)=2.724290904417542*(-56.5-15)=<span class="condition">-194.8</span>[W/m^2]
<br>
・<span class="clear">基準値</span><span class="condition">absorb0=absorb0max=0.8142409851221832</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt; -> 1.4591716940508412+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>0.97,1,1)=&gt; -> 2.2113197668795657
<br>
・<span class="clear">基準値</span>flux1=alpha10*(T1-T0)=1.6729020979020977*(-56.5-15)=<span class="selection">-119.6</span>[W/m^2]
<br>
・<span class="clear">基準値</span><span class="selection">absorb0=0.5</span>（<span class="clear">温度変化の時定数がabsorb0=1の2倍</span>）
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt; -> 1.4581084444178032+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>0.97,1,1)=&gt; -> 2.2095869064056366
<br>
・<span class="clear">基準値</span>flux1=alpha10*(T1-T0)=3.3458041958041953*(-56.5-15)=-239.2[W/m^2]
<br>
・<span class="clear">基準値</span><span class="clear">absorb0=1</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt; -> 1.45806982458949+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365,s_1day,<span class="condition">0,</span>0.97,1,1)=&gt; -> 2.2095252201233+O(4e-15)
<hr>
<a href="#span-app-factor">albedo</a>の低下量＜<span class="clear">基準値</span>の約5%=0.015
<br>
・<span class="clear">基準値</span>albedo0=0.3
<br>
・<span class="clear">基準値</span><span class="selection">absorb0=0.5</span>（<span class="clear">温度変化の時定数がabsorb0=1の2倍</span>）
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,0.96,1)=&gt; -> 1.2249341490778392
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,0.95,1)=&gt; -> 1.531167686347434+O(4e-15)
<br>
・<span class="clear">基準値</span>albedo0=0.3
<br>
・<span class="clear">基準値</span><span class="clear">absorb0=1</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365,s_1day,<span class="condition">0,</span>1,0.96,1)=&gt; -> 1.224904963446054+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365,s_1day,<span class="condition">0,</span>1,0.95,1)=&gt; -> 1.5311312043076661+O(4e-15)
<hr>
<span class="selection">対流圏の吸収率の増加量＜<span class="clear">基準値</span>の約2%=<span class="condition">0.01257~0.01628</span></span>
<br>
・<span class="clear">基準値</span><span class="condition">absorb0=0.6284819702443666</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,1,1.02)=&gt; -> 1.4298610104595788
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,1,1.03)=&gt; -> 2.1447915156892385
<br>
・<span class="clear">基準値</span><span class="condition">absorb0=absorb0max=0.8142409851221832</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,1,1.02)=&gt; -> 1.4299907377329752+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,1,1.03)=&gt; -> 2.144986106599564+O(4e-15)
<br>
・<span class="clear">基準値</span><span class="selection">absorb0=0.5</span>（<span class="clear">温度変化の時定数がabsorb0=1の2倍</span>）
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,1,1.02)=&gt; -> 1.4290898405909296
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365<span class="clear">*2</span>,s_1day,<span class="condition">0,</span>1,1,1.03)=&gt; -> 2.1436347608863073
<br>
・<span class="clear">基準値</span><span class="clear">absorb0=1</span>
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365,s_1day,<span class="condition">0,</span>1,1,1.02)=&gt; -> 1.42905579068713+O(4e-15)
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*365,s_1day,<span class="condition">0,</span>1,1,1.03)=&gt; -> 2.1435836860307056
<hr>
<span class="run">Ver.2.102.32</span>以降、<span class="jF">大気の吸収率</span>について補足を列挙する
<br>
・<span class="jF">大気の吸収率</span><span class="clear">基準値</span>a0
<br>
a0=absorbh*2; a0 -> 0.7718623622833944
<br>
・<span class="jF">大気の吸収率</span>上限値amax
<br>
amax=absorbhmax*2; amax -> 1
<br>
・<span class="selection">対流圏の吸収率</span>から次の必要条件が得られる
<br>
<span class="selection"><span class="jF"><a href="#span-app-factor">大気の吸収率</a></span>の増加量＜<span class="clear">基準値</span>の約2.5%=0.01896~0.02456</span>
<br>
(kh0*2)*2 -> 2.4562752754332116[%]
<br>
・<span class="jF">大気の吸収率</span>aを考慮して地球表面の黒体放射温度の理論値を<a href="#span-out-eqns">式変数</a>Te_thで定義する
<br>
Te_th(a)=&lt;(I0*(1-albedo0)/(2*(2-a)*e0*sigma))**0.25-TK;
<br>
・<span class="jF">大気の吸収率</span><span class="clear">基準値</span>における黒体放射温度の理論値Te_th0を示す
<br>
Te_th0=Te_th(a0)=&gt;; Te_th0 -> 14.751843195026424[℃]
<br>
・理論値から次の必要条件（上記の緩和側）が得られる
<br>
<span class="jF">大気の吸収率</span>の増加量理論値＜<span class="clear">基準値</span>の約3.3%=0.02526
<br>
Te_th(a0+0.01)=&gt;-Te_th0 -> 0.5890544664107438
<br>
Te_th(a0+0.02)=&gt;-Te_th0 -> 1.1841847856840104
<br>
Te_th(a0+0.03)=&gt;-Te_th0 -> 1.7855047027240971
<br>
Te_th(a0+0.025264986)=&gt;-Te_th0 -> 1.500000016245508
<br>
・百分率に換算
<br>
(0.025264986/a0)*100 -> 3.2732501589090033[%]
<hr>
※<span class="clear">以上の条件はほぼ等価で<span class="clear">基準値</span>に応じて右辺の絶対量は変化する</span>
<br>
<br>
放射強制力の増加割合=2%が即座に反映された場合、年間30日毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt;
<br>
・年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.4534194999132346+O(3e-13)
<br>
0.7659456725233014+O(2e-13)
<br>
0.9813590117929607+O(2e-13)
<br>
1.1298358780591116+O(1e-13)
<br>
1.2321757790650807+O(7e-14)
<br>
1.3027150866440742+O(5e-14)
<br>
1.3513353595270061+O(4e-14)
<br>
1.3848476098785376+O(2e-14)
<br>
1.4079464297129753+O(2e-14)
<br>
1.4238676367983416+O(1e-14)
<br>
1.434841566932981+O(1e-14)
<br>
1.442405512427431+O(7e-15)
<br>
・対策効果の<span class="clear">1次</span>感度に相当する<span class="clear">放射強制力の時定数Tc_a=Order(0.1~1年)</span>
<br>
<br>
以降、記述がない限り、<span class="selection">対流圏の吸収率</span><span class="clear">基準値</span><span class="clear">absorb0=1</span>とする
<br>
<br>
放射強制力の増加割合=2%が即座に反映された場合、年間30日毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt;
<br>
・年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.6502836201909368+O(4e-13)
<br>
1.0107690509029403+O(2e-13)
<br>
1.2106045407119588+O(1e-13)
<br>
1.3213835614017384+O(7e-14)
<br>
1.3827940317677054+O(4e-14)
<br>
1.4168369926739004+O(2e-14)
<br>
1.4357087450046429+O(7e-15)
<br>
1.4461703213937902+O(7e-15)
<br>
1.4519697076207692+O(4e-15)
<br>
1.4551846036707268
<br>
1.4569667847856707
<br>
1.4579547388212255
<br>
・<span class="clear">放射強制力の時定数</span>は<span class="selection">absorbe0=(1-albedo0)*absorb0</span>に反比例
<br>
<br>
さらに、<span class="selection">対流圏の吸収率<span class="clear">基準値</span>absorb0=0.5</span>の場合、2年間30日毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt;
<br>
・2年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.3743263957803489+O(3e-13)
<br>
0.6526263261296812+O(2e-13)
<br>
0.8595335923698304+O(2e-13)
<br>
1.013362652870235+O(1e-13)
<br>
1.127729732791785+O(9e-14)
<br>
1.2127580683171963+O(7e-14)
<br>
1.2759739679202902+O(5e-14)
<br>
1.322973005804954+O(4e-14)
<br>
1.357915315824318+O(2e-14)
<br>
1.3838938269692704+O(2e-14)
<br>
1.4032080349004232+O(1e-14)
<br>
1.4175675424921579+O(1e-14)
<br>
・<span class="selection">時定数が2倍</span>
<br>
1.4282433858408403+O(1e-14)
<br>
1.4361805404039458+O(7e-15)
<br>
1.4420815657844344+O(7e-15)
<br>
1.4464687930034827+O(7e-15)
<br>
1.4497305587866585+O(4e-15)
<br>
1.4521555793048506+O(4e-15)
<br>
1.4539585059723876+O(4e-15)
<br>
1.4552989253808235+O(4e-15)
<br>
1.4562954851538166+O(4e-15)
<br>
1.4570363960768553+O(4e-15)
<br>
1.4575872401012226+O(4e-15)
<br>
1.4579967753499865+O(4e-15)
<br>
・<span class="selection"><span class="clear">基準値</span>の違いは熱平衡状態前後の温度変化量に影響しない</span>
<br>
<br>
さらに、<span class="selection">対流圏の吸収率<span class="clear">基準値</span>absorb0=0.5</span>、
<br>
<span class="selection">太陽放射の直接反射率<span class="clear">基準値</span>albedo0=0.65</span>の場合、4年間30日毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt;
<br>
・4年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.20146856235891342+O(2e-13)
<br>
0.3751204883635637+O(1e-13)
<br>
0.5247964033155164+O(1e-13)
<br>
0.6538066598219956+O(1e-13)
<br>
0.7650045522097688+O(9e-14)
<br>
0.8608494222714018+O(8e-14)
<br>
0.9434610520413074+O(7e-14)
<br>
1.014666546595727+O(5e-14)
<br>
1.0760407437742643+O(5e-14)
<br>
1.1289410445569423+O(4e-14)
<br>
1.1745374344332582+O(4e-14)
<br>
1.2138383597397961+O(3e-14)
<br>
・<span class="selection">時定数が4倍</span>
<br>
1.2477130312683826+O(3e-14)
<br>
1.2769106484292898+O(2e-14)
<br>
1.3020769691463947+O(2e-14)
<br>
1.3237685919574531+O(2e-14)
<br>
1.3424652661938836+O(1e-14)
<br>
1.358580502501848+O(1e-14)
<br>
1.3724707183753857+O(1e-14)
<br>
1.3844431209716959+O(1e-14)
<br>
1.3947625015510319+O(7e-15)
<br>
1.40365709181264+O(4e-15)
<br>
1.4113236116500936+O(7e-15)
<br>
1.4179316199663248+O(4e-15)
<br>
1.4236272647742751+O(4e-15)
<br>
1.4285365155236889
<br>
1.4327679491423773+O(7e-15)
<br>
1.4364151514107881+O(4e-15)
<br>
1.439558786780104+O(4e-15)
<br>
1.44226838241201
<br>
1.4446038658972107
<br>
1.446616890662014+O(4e-15)
<br>
1.44835197837698
<br>
1.449847503633947
<br>
1.4511365426692109
<br>
1.4522476049041835
<br>
1.4532052634825448+O(4e-15)
<br>
1.454030698749662+O(4e-15)
<br>
1.4547421666940785
<br>
1.4553554027116178+O(4e-15)
<br>
1.4558839696219863
<br>
1.4563395576349976
<br>
1.4567322429006033+O(4e-15)
<br>
1.4570707103611866+O(4e-15)
<br>
1.4573624458345975
<br>
1.4576139015766358+O(4e-15)
<br>
1.4578306389841842
<br>
1.4580174515956088+O(4e-15)
<br>
・<span class="selection"><span class="clear">基準値</span>の違いは熱平衡状態前後の温度変化量に影響しない</span>
<br>
<br>
<span class="selection">対流圏の吸収率</span>の増加割合=2%が即座に反映された場合、年間30日毎の温度変化を示す
<br>
※<span class="clear"><span class="selection">対流圏の吸収率</span>のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>1,1,1.02)=&gt;
<br>
・年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.6466710687354009+O(4e-13)
<br>
1.0009061436670095+O(2e-13)
<br>
1.1949499077667447+O(1e-13)
<br>
1.3012436800400486+O(7e-14)
<br>
1.359469545099433+O(4e-14)
<br>
1.391364653245546+O(2e-14)
<br>
1.4088362343481045+O(1e-14)
<br>
1.4184068601890552+O(7e-15)
<br>
1.4236494812460734+O(7e-15)
<br>
1.426521297154899+O(4e-15)
<br>
1.4280944275651244+O(4e-15)
<br>
1.4289561608259724
<br>
<br>
さらに、<span class="selection">対流圏の吸収率<span class="clear">基準値</span>absorb0=0.5</span>の場合、2年間30日毎の温度変化を示す
<br>
※<span class="clear"><span class="selection">対流圏の吸収率</span>のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>1,1,1.02)=&gt;
<br>
・2年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.3732199909517959+O(3e-13)
<br>
0.6490321765566822+O(2e-13)
<br>
0.8528593122203958+O(1e-13)
<br>
1.003488992130137+O(1e-13)
<br>
1.114805379890953+O(9e-14)
<br>
1.197068969586823+O(6e-14)
<br>
1.257862338162436+O(5e-14)
<br>
1.30278906305292+O(4e-14)
<br>
1.3359902272041566+O(2e-14)
<br>
1.3605261198979832+O(2e-14)
<br>
1.378658316333631+O(1e-14)
<br>
1.3920581364128815+O(1e-14)
<br>
・<span class="selection">時定数が2倍</span>
<br>
1.401960697241261+O(7e-15)
<br>
1.4092787590047742+O(4e-15)
<br>
1.414686857869583+O(4e-15)
<br>
1.418683480783745+O(4e-15)
<br>
1.421637013091022+O(4e-15)
<br>
1.4238196941388601
<br>
1.4254327107105276+O(7e-15)
<br>
1.426624741247032
<br>
1.4275056601569354+O(4e-15)
<br>
1.4281566653972035
<br>
1.4286377628263551+O(4e-15)
<br>
1.4289932971938697
<br>
・<span class="selection"><span class="clear">基準値</span>の違いは熱平衡状態前後の温度変化量に影響しない</span>
<br>
<br>
放射強制力の年率増加割合=0.1%で徐々に変化した場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">0,</span>1-0.001*year,1,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部のalpha1に変化量を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>のkalpha1に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.07157157157156036
<br>
0.14328657314629112
<br>
0.2151454363089229
<br>
0.28714859437751983
<br>
0.3592964824120557
<br>
0.4315895372233367
<br>
0.5040281973816736
<br>
0.5766129032258007
<br>
0.6493440968718538
<br>
0.7222222222222161
<br>
0.7952477249747183
<br>
0.8684210526315841
<br>
0.9417426545086087
<br>
1.0152129817444226
<br>
1.088832487309638
<br>
1.162601626016265
<br>
1.2365208545269724
<br>
1.3105906313645548
<br>
1.384811416921508
<br>
1.4591836734693757
<br>
<br>
さらに、<span class="condition">alpha0=alpha10*0.1</span>を想定する場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">0.1,</span>1-0.001*year,1,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部のalpha1に変化量を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>のkalpha1に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.0650795175895933
<br>
0.13027761426015694
<br>
0.19559461439532555
<br>
0.261030843562958
<br>
0.32658662852060516
<br>
0.3922622972209435
<br>
0.4580581788171827
<br>
0.5239746036685791
<br>
0.5900119033460562
<br>
0.6561704106376478
<br>
0.7224504595541656
<br>
0.7888523853347547
<br>
0.855376524452593
<br>
0.9220232146205767
<br>
0.9887927947970176
<br>
1.0556856051914068
<br>
1.1227019872701511
<br>
1.1898422837623954
<br>
1.2571068386659334
<br>
1.3244959972530026
<br>
・地球内部への放熱による温度の減少分、放射強制力の増加量に余裕が発生する
<br>
<br>
さらに、<span class="condition">alpha0=alpha10*1</span>を想定する場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">1,</span>1-0.001*year,1,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部のalpha1に変化量を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>のkalpha1に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.03582954841582797
<br>
0.07169502410910589
<br>
0.1075964811448511
<br>
0.14353397369660392
<br>
0.1795075560467243
<br>
0.2155172825866476
<br>
0.25156320781717767
<br>
0.2876453863487072
<br>
0.3237638729015764
<br>
0.359918722306265
<br>
0.39610998950376697
<br>
0.4323377295457771
<br>
0.4686019975949911
<br>
0.5049028489254237
<br>
0.5412403389226643
<br>
0.5776145230841614
<br>
0.6140254570195136
<br>
0.6504731964507151
<br>
0.6869577972124947
<br>
0.723479315252554
<br>
・放射強制力同等の場合、地球内部の温度変化は想定しないため、温度上昇量は半減する
<br>
<br>
さらに、放射強制力の年率増加割合を2倍に変更の場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=4%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">1,</span>1<span class="clear">-0.002*</span>year,1,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部のalpha1に変化量を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>のkalpha1に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.07169502410910589
<br>
0.14353397369660392
<br>
0.2155172825866476
<br>
0.2876453863487072
<br>
0.359918722306265
<br>
0.4323377295457771
<br>
0.5049028489254237
<br>
0.5776145230841614
<br>
0.6504731964507151
<br>
0.723479315252554
<br>
0.7966333275250914
<br>
0.8699356831207989
<br>
0.9433868337184332
<br>
1.0169872328323528
<br>
1.0907373358217747
<br>
1.1646375999002494
<br>
1.2386884841450758
<br>
1.3128904495067601
<br>
1.3872439588186403
<br>
1.4617494768065278
<br>
・放射強制力の増加量は最悪想定に対して倍増するが、alpha0の定量的な寄与度に依存する
<br>
<br>
放射強制力の年率増加割合=4%で徐々に変化した場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=80%（非現実的な仮想実験）</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">0,</span>1-0.04*year,1,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部のalpha1に変化量を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>のkalpha1に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
2.979166666666657
<br>
6.217391304347817
<br>
9.750000000000004
<br>
13.619047619047603
<br>
17.87499999999998
<br>
22.578947368421034
<br>
27.805555555555557
<br>
33.647058823529385
<br>
40.21874999999996
<br>
47.666666666666636
<br>
56.17857142857139
<br>
65.99999999999991
<br>
77.45833333333327
<br>
90.99999999999997
<br>
107.24999999999994
<br>
127.111111111111
<br>
151.9375
<br>
183.85714285714275
<br>
226.41666666666623
<br>
285.99999999999943
<br>
<br>
albedoの低下割合=5%が即座に反映された場合、年間30日毎の温度変化を示す
<br>
※<span class="clear">albedoのtotal低下割合=5%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30,s_1day,<span class="condition">0,</span>1,0.95,1)=&gt;
<br>
・年間30日毎の温度変化量dT[℃]
<br>
0
<br>
0.6928618593593683+O(4e-13)
<br>
1.0723994396432488+O(2e-13)
<br>
1.2803034726072653+O(1e-13)
<br>
1.3941896571858017+O(7e-14)
<br>
1.4565745126065757+O(4e-14)
<br>
1.4907478427631133+O(2e-14)
<br>
1.5094673939444228+O(1e-14)
<br>
1.5197216359168664+O(1e-14)
<br>
1.5253387299065366+O(7e-15)
<br>
1.5284156755231315+O(4e-15)
<br>
1.530101172391248
<br>
1.5310244580278578
<br>
<br>
albedoの年率低下割合=0.25%で徐々に変化した場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">albedoのtotal低下割合=5%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">0,</span>1,1-0.0025*year,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部のalbedoに変化量を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>のkalbedoに反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.07660714285713155
<br>
0.1532142857142773
<br>
0.22982142857142307
<br>
0.3064285714285706
<br>
0.38303571428570216
<br>
0.4596428571428479
<br>
0.5362499999999901
<br>
0.6128571428571234
<br>
0.6894642857142692
<br>
0.7660714285714203
<br>
0.8426785714285607
<br>
0.9192857142857171
<br>
0.9958928571428505
<br>
1.0724999999999874
<br>
1.149107142857126
<br>
1.2257142857142718
<br>
1.302321428571414
<br>
1.3789285714285633
<br>
1.455535714285709
<br>
1.5321428571428548
<br>
<br>
放射強制力||代表温度とalbedoの各変化量に有意な<a href="#span-out-approximation-linear">相関</a>を想定する一例を以下に示す
<br>
<br>
放射強制力の年率増加割合=0.1%、
<br>
albedoの年率低下割合=0.25%で徐々に変化した場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=2%</span>
<br>
※<span class="clear">albedoのtotal低下割合=5%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">0,</span>1-0.001*year,1-0.0025*year,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部に<a href="#span-out-approximation-linear">相関</a>を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.1482553982553938
<br>
0.29680790151732417
<br>
0.445658403782776
<br>
0.5948078026391475
<br>
0.7442569992821273
<br>
0.8940068985340623
<br>
1.0440584088620426
<br>
1.194412442396306
<br>
1.34506991494883
<br>
1.496031746031747
<br>
1.6472988588762156
<br>
1.798872180451145
<br>
1.9507526414821221
<br>
2.1029411764706047
<br>
2.255438723712821
<br>
2.408246225319406
<br>
2.5613646272344255
<br>
2.7147948792551766
<br>
2.868537935051709
<br>
3.022594752186585
<br>
<br>
放射強制力の年率増加割合=0.05%、
<br>
albedoの年率低下割合=0.125%で徐々に変化した場合、20年間1年毎の温度変化を示す
<br>
※<span class="clear">放射強制力のtotal増加割合=1%</span>
<br>
※<span class="clear">albedoのtotal低下割合=2.5%</span>
<br>
・実行文
<br>
<a href="#span-eqn-heat0d_evolution">heat0d_evolution</a>[1](s_1day*30*365*year,s_1day*30,<span class="condition">0,</span>1-0.0005*year,1-0.00125*year,1)=&gt;
<br>
※本来、<a href="#span-out-eqns">式変数</a>内部に<a href="#span-out-approximation-linear">相関</a>を反映するが、<a href="#span-out-eqns-args">式変数のarguments</a>に反映
<br>
・20年間1年毎の温度変化量dT[℃]
<br>
0
<br>
0.0740906167369264
<br>
0.1482553982553938
<br>
0.22249445596967554
<br>
0.29680790151732417
<br>
0.37119584675976114
<br>
0.445658403782776
<br>
0.5201956848971445
<br>
0.5948078026391475
<br>
0.6694948697711229
<br>
0.7442569992821273
<br>
0.8190943043884058
<br>
0.8940068985340623
<br>
0.9689948953914733
<br>
1.0440584088620426
<br>
1.1191975530766385
<br>
1.194412442396306
<br>
1.2697031914127201
<br>
1.34506991494883
<br>
1.4205127280594212
<br>
1.496031746031747
<br>
※有効桁数4桁程度
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
時間発展
<br>
の解法
    </th>
    <td>
<span id="span-out-evolution"></span>
時間発展（時間積分）の解法について記述する
<br>
<br>
時間発展の解法を列挙する
<br>
・<a href="#span-out-evolution-system">線形system論</a>
<br>
・<a href="#span-out-evolution-method">陰||陽解法</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
線形
<br>
system論
    </th>
    <td>
<span id="span-out-evolution-system"></span>
線形system論について記述する
<br>
<br>
線形systemの制御理論（平衡状態に対する外乱の応答を<a href="#span-out-approximation-linear">線形近似</a>で記述）
<br>
・状態方程式：1階線形定数係数<a href="#span-out-ODE">常微分方程式</a>の<a href="#span-out-linear">連立線形微分方程式</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
陰||陽解法
    </th>
    <td>
<span id="span-out-evolution-method"></span>
陰||陽解法について記述する
<br>
<br>
1次遅れ系の時間発展方程式
<br>
・<a href="#span-out-evolution-system">1階線形常微分方程式</a>
<br>
V'=-a*V+b*I
<br>
・時定数：1/a
<br>
・係数：b
<br>
・独立変数：I
<br>
・従属変数：V
<br>
　時間微分：V'
<br>
<br>
右辺の関数
<br>
・陽解法：既知（oldを付与）
<br>
・陰解法：未知（newを付与）
<br>
<br>
1次精度の<a href="#span-out-fdm-differential">有限差分</a>
<br>
・陽解法：Euler前進差分（explicit Euler method）
<br>
・陰解法：Euler後退差分（implicit Euler method）
<br>
・<a href="#span-out-error">離散化誤差</a>：Order(dt)
<br>
<br>
漸化式の導出
<br>
・時間刻み：dt
<br>
・Euler前進差分：(newV-oldV)/dt=-a*oldV+b*I　⇒　newV=(1-a*dt)*oldV+b*dt*I
<br>
・Euler後退差分：(newV-oldV)/dt=-a*newV+b*I　⇒　newV=(oldV+b*dt*I)/(1+a*dt)
<br>
・時定数：Tc=1/a
<br>
<br>
漸化式の数値的安定性の要件（安定条件）
<br>
・前提：a&gt;0
<br>
・Euler前進差分：<span class="run">|1-a*dt|&le;1</span>　⇒　0&le;dt&le;2/a（0≦時間刻み≦時定数<span class="clear">*2</span>）
<br>
　<span class="clear">Ver.2.51.25</span>以降、<span class="run">Von Neumannの安定性解析結果</span>から時定数の係数倍<span class="clear">*2</span>を追記して訂正
<br>
・Euler後退差分：<span class="run">|1/(1+a*dt)|&le;1</span>　⇒　dt&le;-2/a || 0&le;dt（0≦時間刻みの範囲で無条件安定）
<br>
<br>
留意事項を列挙する
<br>
・制御実装の場合、安定条件を検討する
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
常微分方程式
    </th>
    <td>
<span id="span-out-ODE"></span>
常微分方程式を列挙する
<br>
・<a href="#span-out-evolution-space">斜方投射</a>
<br>
・<a href="#span-out-evolution-spin">spin</a>
<br>
・<a href="#span-out-ODE1">logistic方程式</a>
<br>
・<a href="#span-out-ODE2">Lorenz方程式</a>
<br>
・<a href="#span-out-ODE3">公転軌道</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
斜方投射
    </th>
    <td>
<span id="span-out-evolution-space"></span>
球の空気抵抗係数kCdA_sphereを考慮する2次元の斜方投射を一例に示す
<br>
・<span class="run">Ver.2.104.33</span>以降、<span class="selection">風速</span>を追加考慮
<br>
・<span class="run">Ver.2.655.98</span>以降、仮定を整理
<br>
<br>
仮定を列挙する
<br>
・変形なしの剛体球
<br>
・層流の空気抵抗を考慮
<br>
　層流：<a href="#span-app-aerodynamics">抗力</a>∝速度
<br>
　乱流：<a href="#span-app-aerodynamics">抗力</a>∝速度**2
<br>
・進行方向に対する物体の姿勢は不変
<br>
・進行方向に対して垂直方向の<a href="#span-app-aerodynamics">揚力</a>は未考慮
<br>
・浮力は未考慮
<br>
<br>
vector演算を<a href="#span-out-complex">直交座標表示</a>の<a href="#span-out-com">複素数</a>演算で代替する
<br>
・t=0の複素数zの初期値
<br>
　位置：z_x0=0
<br>
　速度：z_v0=20+20i
<br>
　加速度：z_a=0-9.8i
<br>
　<span class="selection">風速</span>：z_u=0
<br>
・時間刻みdtの微小区間を積分する<a href="#span-out-eqns">式変数</a>stepを定義
<br>
・時間tの区間を積分する<a href="#span-out-eqns">式変数</a>evolutionを定義
<br>
・step毎に位置z_xと速度z_vの連立方程式fの近似解を反復法で求解
<br>
・<a href="#span-out-evolution-method">陽解法</a>
<br>
f=&lt;{(z_x-z_x0)/dt=z_v0,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v0)};
<br>
・<a href="#span-out-evolution-method">陰解法</a>
<br>
f=&lt;{(z_x-z_x0)/dt=z_v,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v)};
<br>
・速度の時間微分が0（<a href="#span-app-aerodynamics">抗力</a>と<a href="#span-app-gravity">重力</a>が平衡）となる終端速度terminal velocity
<br>
0=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v_terminal)
<br>
z_v_terminal=<span class="selection">z_u</span>+(m/kCdA_sphere)*z_a
<br>
・抗力の大きさ=|抵抗成分の合力|
<br>
Fd=kCdA_sphere*abs(<span class="selection">z_u</span>-z_v0)=kCdA_sphere*sqrt(real(<span class="selection">z_u</span>-z_v0)**2+imag(<span class="selection">z_u</span>-z_v0)**2)
<br>
<br>
斜方投射の解析解を示す（<span class="selection">風速</span>なし）
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
k=kCdA_sphere;
<br>
vt(v,a,t)=&lt;(v-m*a/k)*exp(-k*t/m)+m*a/k;
<br>
xt(x,v,a,t)=&lt;x+((v-m*a/k)*(1-exp(-k*t/m))+a*t)*m/k;
<br>
z_v(t)=&lt;vt(real(z_v0),real(z_a),t)+vt(imag(z_v0),imag(z_a),t)i;
<br>
z_x(t)=&lt;xt(real(z_x0),real(z_v0),real(z_a),t)+xt(imag(z_x0),imag(z_v0),imag(z_a),t)i;
<br>
・時刻tの位置z_x(t)
<br>
z_x(0) -> 0
<br>
z_x(1) -> 12.642411176571153+9.037192653091019i
<br>
z_x(2) -> 17.293294335267746+6.16700855954894i
<br>
z_x(3) -> 19.00425863264272-1.083654637362347i
<br>
z_x(4) -> 19.633687222225316-9.945806038884282i
<br>
z_x(5) -> 19.865241060018292-19.400790820572748i
<br>
z_x(6) -> 19.950424956466673-29.07386681486466i
<br>
z_x(7) -> 19.98176236068891-38.827174082573535i
<br>
z_x(8) -> 19.99329074744195-48.6099967863115i
<br>
z_x(9) -> 19.997531803918267-58.403677612161786i
<br>
z_x(10) -> 19.99909200140475-68.20135291790692i
<br>
・時刻tの速度z_v(t)
<br>
z_v(0) -> 20+20i
<br>
z_v(1) -> 7.357588823428847+1.1628073469089806i
<br>
z_v(2) -> 2.706705664732254-5.767008559548942i
<br>
z_v(3) -> 0.9957413673572789-8.316345362637655i
<br>
z_v(4) -> 0.3663127777746836-9.254193961115723i
<br>
z_v(5) -> 0.13475893998170935-9.599209179427254i
<br>
z_v(6) -> 0.04957504353332717-9.726133185135343i
<br>
z_v(7) -> 0.018237639311090324-9.772825917426475i
<br>
z_v(8) -> 0.006709252558050237-9.790003213688506i
<br>
z_v(9) -> 0.002468196081733591-9.796322387838218i
<br>
z_v(10) -> 0.0009079985952496969-9.798647082093078i
<br>
<br>
implicit Euler methodによる1次精度の<a href="#span-out-error-numerical">数値誤差</a>O(dt)を含む近似解を示す
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
<span class="selection">z_u=0;</span>
<br>
dt=0.5;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
f=&lt;{(z_x-z_x0)/dt=z_v,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v)};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
/*step=&lt;last{_rn(=&lt;run,,3),z_x0=z_x,z_v0=z_v};*/
<br>
step=&lt;last{_rn(=&lt;run,,3),{$z_x0,$z_v0}=x};
<br>
evolution=&lt;_rn(=&lt;step,N=round(t/dt),N);
<br>
・t=0の位置z_x0, 速度z_v0
<br>
t=0; evolution;
<br>
z_x0 -> 0
<br>
z_v0 -> 20+20i
<br>
・t=1の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 11.111111111111112+6.7555555555555555i
<br>
z_v0 -> infoLost[r ] 8.88888888888889+3.444444444444444i
<br>
・t=1の位置の真値（斜方投射の解析解）
<br>
z_x(1) -> 12.642411176571153+9.037192653091019i
<br>
z_v(1) -> 7.357588823428847+1.1628073469089806i
<br>
・t=2の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 16.049382716049386+4.31358024691358i
<br>
z_v0 -> infoLost[ri] 3.9506172839506175-3.9135802469135803i
<br>
・t=3の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 18.244170096021953-2.216186556927298i
<br>
z_v0 -> infoLost[ri] 1.755829903978052-7.183813443072703i
<br>
・t=4の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 19.21963115378754-10.562749580856577i
<br>
z_v0 -> infoLost[ri] 0.7803688462124675-8.637250419143424i
<br>
・t=5の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 19.653169401683353-19.716777591491812i
<br>
z_v0 -> infoLost[ri] 0.3468305983166522-9.28322240850819i
<br>
・t=6の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 19.845853067414826-29.22967892955192i
<br>
z_v0 -> infoLost[ri] 0.15414693258517875-9.570321070448085i
<br>
・t=7の位置z_x0, 速度z_v0
<br>
t=1; evolution;
<br>
z_x0 -> infoLost[ri] 19.931490252184368-38.902079524245295i
<br>
z_v0 -> infoLost[ri] 0.068509747815635-9.697920475754705i
<br>
・t=10の位置z_x0, 速度z_v0
<br>
t=3; evolution;
<br>
z_x0 -> infoLost[ri] 19.99398542680357-68.20896171406268i
<br>
z_v0 -> infoLost[ri] 0.006014573196434349-9.791038285937313i
<br>
・terminal velocityに収束
<br>
z_v_terminal=<span class="selection">z_u</span>+(m/kCdA_sphere)*z_a; z_v_terminal -> -9.8i
<br>
<br>
近似解の収束判定条件を設定する場合、stepの一例を示す
<br>
・上記の線形方程式の場合、反復3回で十分収束するため、固定値を設定
<br>
orderT=1;
<br>
Nmax=10;
<br>
epsf=max(eps*1e3,pow(dt,orderT));
<br>
step_pre=&lt;{normf=max_value};
<br>
step_iteration=&lt;_rn(=&lt;{switch(normf>epsf,=&lt;{normf=run})},,Nmax);
<br>
step_post=&lt;{$z_x0,$z_v0}=x;
<br>
step=&lt;last{step_pre,step_iteration,step_post};
<br>
・t=10
<br>
t=10; evolution; x ->
<br>
(
<br>
19.993985426803565-68.20896171406268i:
<br>
0.006014573196434349-9.791038285937313i
<br>
)
<br>
・t=20
<br>
t=10; evolution; x ->
<br>
(
<br>
infoLost[ i] 19.99999819124547-166.20000269504428i:
<br>
infoLost[ i] 0.0000018087545367633257-9.79999730495574i
<br>
)
<br>
<br>
<span class="run">Ver.2.29.15</span>以降、<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>で収束判定条件を設定する場合
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
<span class="selection">z_u=0;</span>
<br>
dt=0.5;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
f=&lt;{(z_x-z_x0)/dt=z_v,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v)};
<br>
orderT=1;
<br>
Nmax=10;
<br>
epsN=max(eps*1e3,pow(dt,orderT));
<br>
step_post=&lt;{$z_x0,$z_v0}=x;
<br>
step=&lt;last{step_iteration,step_post};
<br>
evolution=&lt;_rn(=&lt;step,N=round(t/dt),N);
<br>
・絶対誤差指定の場合
<br>
step_iteration=&lt;mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial,,Nmax,epsN);
<br>
・t=10
<br>
t=10; evolution; x ->
<br>
(
<br>
19.993985426803565-68.20896171406268i+O(1e+1+1e+1i):
<br>
0.006014573196434349-9.791038285937313i+O(5e+0+6e+0i)
<br>
)
<br>
・t=20
<br>
t=10; evolution; x ->
<br>
(
<br>
infoLost[ i] 19.99999819124547-166.20000269504428i+O(1e+1+1e+1i):
<br>
infoLost[ i] 0.0000018087545367633257-9.79999730495574i+O(5e+0+6e+0i)
<br>
)
<br>
・相対誤差指定の場合
<br>
{$z_x,$z_v}=x_initial;
<br>
step_iteration=&lt;mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial,,Nmax,epsN*normc(x));
<br>
・t=10
<br>
t=10; evolution; x ->
<br>
(
<br>
19.99398542072955-68.2089617113703i+O(9e+0+8e+0i):
<br>
0.006014573196568362-9.791038285939853i+O(4e+0+7e+0i)
<br>
)
<br>
・t=20
<br>
t=10; evolution; x ->
<br>
(
<br>
19.999998167764087-166.20000267865885i+O(9e+0+8e+0i):
<br>
0.000001808754536971318-9.799997304955744i+O(4e+0+7e+0i)
<br>
)
<br>
・第7引数で相対誤差指定の場合
<br>
step_iteration=&lt;mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial,,Nmax,epsN,1);
<br>
・t=10
<br>
t=10; evolution; x ->
<br>
(
<br>
19.993985420600577-68.20896171053013i+O(1e+1+1e+1i):
<br>
0.006014573196594959-9.79103828593924i+O(5e+0+6e+0i)
<br>
)
<br>
・t=20
<br>
t=10; evolution; x ->
<br>
(
<br>
19.999998167635148-166.20000267781805i+O(1e+1+1e+1i):
<br>
0.0000018087545369793175-9.799997304955744i+O(5e+0+6e+0i)
<br>
)
<br>
<br>
<span class="run">Ver.2.29.15</span>以降、<a href="#span-out-matching">行列要素pattern matching</a>のnestingに対応
<br>
・次のstepを許容するが、別々に記述した方が間違いが少ない
<br>
clear;
<br>
step=&lt;last{mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial,,Nmax,epsN),{$z_x0,$z_v0}=x};
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
<span class="selection">z_u=0;</span>
<br>
dt=0.5;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
f=&lt;{(z_x-z_x0)/dt=z_v,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v)};
<br>
orderT=1;
<br>
Nmax=10;
<br>
epsN=max(eps*1e3,pow(dt,orderT));
<br>
evolution=&lt;_rn(=&lt;step,N=round(t/dt),N);
<br>
・t=10
<br>
t=10; evolution; x ->
<br>
(
<br>
19.993985426803565-68.20896171406268i+O(1e+1+1e+1i):
<br>
0.006014573196434349-9.791038285937313i+O(5e+0+6e+0i)
<br>
)
<br>
・t=20
<br>
t=10; evolution; x ->
<br>
(
<br>
infoLost[ i] 19.99999819124547-166.20000269504428i+O(1e+1+1e+1i):
<br>
infoLost[ i] 0.0000018087545367633257-9.79999730495574i+O(5e+0+6e+0i)
<br>
)
<br>
<br>
<a href="#span-out-FNmh-OX">ODE高階行列関数</a>を使用する場合、stepを陽的に解くため、収束演算不要
<br>
・実軸の時間積分の場合、<a href="#span-out-error-numerical">目安の解析誤差</a>は実数のみ表示される（仕様）
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
<span class="selection">z_u=0;</span>
<br>
dt=0.5;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
f=&lt;{z_v,z_a+(kCdA_sphere/m)*(<span class="selection">z_u</span>-z_v)};
<br>
step=&lt;{x_next=_otdummy(=&lt;f,=&lt;x,=&lt;x_initial,0,dt)};
<br>
evolution=&lt;_rn(=&lt;step,N=round(t/dt),N);
<br>
{$z_x,$z_v}=x_initial;
<br>
・t=0
<br>
t=0; evolution; x ->
<br>
(
<br>
0:
<br>
20+20i
<br>
)
<br>
・t=1
<br>
t=1; evolution; x ->
<br>
(
<br>
12.636583116319443+9.028508843315972i+O(6e-2):
<br>
7.363416883680557+1.171491156684028i+O(6e-2)
<br>
)
<br>
・t=1の位置の真値（斜方投射の解析解）
<br>
z_x(1) -> 12.642411176571153+9.037192653091019i
<br>
z_v(1) -> 7.357588823428847+1.1628073469089806i
<br>
・t=2
<br>
t=1; evolution; x ->
<br>
(
<br>
17.289004589856408+6.160616838886046i+O(6e-2):
<br>
2.710995410143594-5.760616838886047i+O(6e-2)
<br>
)
<br>
・t=3
<br>
t=1; evolution; x ->
<br>
(
<br>
19.001890531268412-1.0871831084100707i+O(6e-2):
<br>
0.9981094687315916-8.312816891589929i+O(6e-2)
<br>
)
<br>
・t=4
<br>
t=1; evolution; x ->
<br>
(
<br>
19.63252519430902-9.947537460479563i+O(6e-2):
<br>
0.36747480569098157-9.252462539520439i+O(6e-2)
<br>
)
<br>
・t=5
<br>
t=1; evolution; x ->
<br>
(
<br>
19.86470649057239-19.40158732904714i+O(6e-2):
<br>
0.1352935094276103-9.598412670952861i+O(6e-2)
<br>
)
<br>
・t=6
<br>
t=1; evolution; x ->
<br>
(
<br>
19.950188874421418-29.074218577112084i+O(6e-2):
<br>
0.049811125578583-9.725781422887913i+O(6e-2)
<br>
)
<br>
・t=7
<br>
t=1; evolution; x ->
<br>
(
<br>
19.981660995845978-38.827325116189485i+O(6e-2):
<br>
0.018339004154023522-9.772674883810506i+O(6e-2)
<br>
)
<br>
・t=10
<br>
t=3; evolution; x ->
<br>
(
<br>
19.999084783315336-68.20136367286014i+O(6e-2):
<br>
0.0009152166846619435-9.798636327139855i+O(6e-2)
<br>
)
<br>
・2次精度選択の場合（参考）
<br>
・t=10
<br>
t=10; evolution; x ->
<br>
(
<br>
19.998345638774897-68.20246499822541i+O(3e-1):
<br>
0.0016543612251060553-9.797535001774593i+O(3e-1)
<br>
)
<br>
<br>
<span class="run">Ver.2.29.15</span>以降、<a href="#span-out-FNmh-OX">ODE高階行列関数</a>第6引数で反復回数を指定する場合
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
<span class="selection">z_u=0;</span>
<br>
dt=0.5;
<br>
m=1;
<br>
kCdA_sphere=1;
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
f=&lt;{z_v,z_a+(kCdA_sphere/m)*(<span class="selection">z_u</span>-z_v)};
<br>
stepN=&lt;last{N=round(t/dt),x_next=_otdummy(=&lt;f,=&lt;x,=&lt;x_initial,0,dt,N)};
<br>
evolution=&lt;stepN;
<br>
・t=0
<br>
t=0; evolution; x ->
<br>
(
<br>
0:
<br>
20+20i
<br>
)
<br>
・t=5
<br>
t=5; evolution; x ->
<br>
(
<br>
19.86470649057239-19.40158732904714i+O(6e-2):
<br>
0.1352935094276103-9.598412670952861i+O(6e-2)
<br>
)
<br>
・t=10
<br>
t=5; evolution; x ->
<br>
(
<br>
19.999084783315336-68.20136367286014i+O(6e-2):
<br>
0.0009152166846619435-9.798636327139855i+O(6e-2)
<br>
)
<br>
<br>
球体周りが真空の場合、<span class="clear">空気抵抗なし</span>
<br>
・空気抵抗小で<span class="selection">風速</span>の影響を受けにくい
<br>
clear;
<br>
g=-9.8;
<br>
z_a=0+g*i;
<br>
z_v0=20+20i;
<br>
z_x0=0;
<br>
<span class="selection">z_u=0;</span>
<br>
dt=0.5;
<br>
m=1;
<br>
<span class="clear">kCdA_sphere=0;</span>
<br>
x=&lt;{z_x,z_v};
<br>
x_initial=&lt;{z_x0,z_v0};
<br>
/*f=&lt;{z_v,z_a+(<span class="clear">kCdA_sphere</span>/m)*(<span class="selection">z_u</span>-z_v)};*/
<br>
f=&lt;{z_v,z_a};
<br>
stepN=&lt;last{N=round(t/dt),x_next=_otdummy(=&lt;f,=&lt;x,=&lt;x_initial,0,dt,N)};
<br>
evolution=&lt;stepN;
<br>
・t=0
<br>
t=0; evolution; x ->
<br>
(
<br>
0:
<br>
20+20i
<br>
)
<br>
・t=1
<br>
t=1; evolution; x ->
<br>
(
<br>
19.999999999999996+15.1i+O(6e-2):
<br>
20+10.2i+O(6e-2)
<br>
)
<br>
・t=2
<br>
t=1; evolution; x ->
<br>
(
<br>
39.99999999999999+20.4i+O(6e-2):
<br>
20+0.3999999999999986i+O(6e-2)
<br>
)
<br>
・解析解
<br>
clear;
<br>
g=-9.8;
<br>
z_x(t)=&lt;(comp(20*t,20*t+g*t^2/2));
<br>
z_v(t)=&lt;(comp(20,20+g*t));
<br>
t=1; (z_x(t):z_v(t)) -> (20+15.1i:20+10.2i)
<br>
t=2; (z_x(t):z_v(t)) -> (40+20.4i:20+0.3999999999999986i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
spin
    </th>
    <td>
<span id="span-out-evolution-spin"></span>
無風状態でspin運動を追加考慮する場合、<a href="#span-app-baseball">野球の解釈</a>を参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
logistic
<br>
方程式
    </th>
    <td>
<span id="span-out-ODE1"></span>
古典的なlogistic方程式について記述する
<br>
<br>
解法を列挙する
<br>
・1次精度のimplicit Euler method
<br>
delVar(N);
<br>
N0=1;
<br>
dt=1e-2;
<br>
r=2;
<br>
K(t)=&lt;1e4;
<br>
c(t)=&lt;t*0;
<br>
Nd(N,tdummy)=&lt;r*N*(1-N/K(tdummy)=&gt;)-c(tdummy)=&gt;*N;
<br>
f=&lt;(N-oldN)/dt=Nd(N,t0)=&gt;;
<br>
evolution=&lt;_rn(=&lt;last{mdx=Newton(=&lt;f,=&lt;{N},=&lt;{oldN},,3),t0=t0+dt,oldN=N},Nt=round(t/dt),Nt);
<br>
switch(~~hasVar(t0),=&lt;t0=0);
<br>
switch(~~hasVar(oldN),=&lt;oldN=N0);
<br>
t=0.5;
<br>
evolution=&gt;;
<br>
N_o1=N;
<br>
Nd_o1=Nd(N_o1,t0)=&gt;;
<br>
・4次精度の<a href="#span-out-FNmh-OX">ODE高階行列関数</a>
<br>
delVar(N);
<br>
N0=1;
<br>
dt=1e-2;
<br>
r=2;
<br>
K(t)=&lt;1e4;
<br>
c(t)=&lt;t*0;
<br>
Nd(N,tdummy)=&lt;r*N*(1-N/K(tdummy)=&gt;)-c(tdummy)=&gt;*N;
<br>
switch(~~hasVar(t0),=&lt;t0=0);
<br>
t=0.5;
<br>
N_o4=_otdummy(=&lt;Nd,=&lt;{N},=&lt;{N0},Nt=round(t/dt),dt,Nt);
<br>
t0=t0+Nt*dt;
<br>
Nd_o4=Nd(N_o4,t0)=&gt;;
<br>
<br>
test caseを示す
<br>
・index
<br>
t,N_o1,N_o4,Nd_o1,Nd_o4,
<br>
・Nが対象の総数、Ndが総数の時間変化率を表す
<br>
0,1,1,1.9998,1.9998,
<br>
0.5,2.7454835660788866,2.7178148277154164,5.489459596155451,5.434152351943283,
<br>
1,7.535337152455474,7.384338184505727,15.059318043710713,14.757770678926823,
<br>
1.5,20.66408939370309,20.047275542822188,41.24277786931199,40.01417243430641,
<br>
2,56.534907309312615,54.30707388083179,112.43057546973071,108.02429610696396,
<br>
2.5,153.69558207368877,146.25713551868418,302.66669775758356,288.23604109934223,
<br>
3,410.80167027777674,387.8217275470406,787.8517380949512,745.562316622567,
<br>
3.5,1051.229018701946,988.3466173639846,1881.4415474516807,1781.3274275170031,
<br>
4,2432.69608201103,2296.58521933111,3681.7901185356964,3538.3097047321953,
<br>
4.5,4670.8986413623725,4476.326547927924,4978.338459148573,4945.153223118983,
<br>
5,7039.913937363045,6877.797147717635,4167.7502256304,4294.775574404702,
<br>
5.5,8653.627085889626,8568.978030895896,2330.2018234507364,2452.4791629964902,
<br>
6,9454.442955734134,9421.199383322248,1031.587590822111,1090.5992025821959,
<br>
6.5,9790.254671395429,9778.984831271717,410.6920366348549,432.26079649496876,
<br>
7,9921.053211573017,9917.541043635658,156.6470577733799,163.55801683174664,
<br>
7.5,9970.525679870507,9969.506098757523,58.774893149567546,60.801826882355876,
<br>
8,9989.02954450271,9988.76025510466,21.91684081581646,22.454223417616358,
<br>
8.5,9995.921412967771,9995.862189060947,8.153847090022257,8.272197582235348,
<br>
9,9998.48431030025,9998.47738616784,3.0309199364497452,3.04476399374143,
<br>
9.5,9999.436826421514,9999.439807756415,1.1262837240763395,1.1203217240999352,
<br>
10,9999.790758052437,9999.793909492353,0.4184751386874744,0.4121725206351419,
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Lorenz
<br>
方程式
    </th>
    <td>
<span id="span-out-ODE2"></span>
chaosを記述するLorenz方程式について記述する
<br>
<br>
解法を列挙する
<br>
・1次精度のimplicit Euler method
<br>
x0=1;
<br>
y0=1;
<br>
z0=1;
<br>
dt=1e-2;
<br>
sigma=10;
<br>
rho=28;
<br>
beta=8/3;
<br>
oldX={x0,y0,z0};
<br>
x=&lt;{x,y,z};
<br>
f=&lt;{(x=&gt;-oldX)/dt={sigma*(y-x),x*(rho-z)-y,x*y-beta*z}};
<br>
evolution=&lt;_rn(=&lt;last{mdx=Newton(=&lt;f,=&lt;x,=&lt;{oldX},,3),oldX=x=&gt;},N=round(t/dt),N);
<br>
t=0.5;
<br>
evolution=&gt;;
<br>
x_o1=x=&gt;;
<br>
・4次精度の<a href="#span-out-FNmh-OX">ODE高階行列関数</a>
<br>
x0=1;
<br>
y0=1;
<br>
z0=1;
<br>
dt=1e-2;
<br>
sigma=10;
<br>
rho=28;
<br>
beta=8/3;
<br>
t=0.5;
<br>
x1=_otdummy(=&lt;{sigma*(y-x),x*(rho-z)-y,x*y-beta*z},=&lt;{x,y,z},=&lt;{x0,y0,z0},N=round(t/dt),dt,N);
<br>
x_o4=x1;
<br>
<br>
test caseを示す
<br>
・index
<br>
t,x_o1[0],x_o1[1],x_o4[0],x_o4[1],
<br>
・dt=1e-2の場合、精度不足で非線形性を再現できない（局所解に収束する）問題が生じる
<br>
0,1,1,1,1,
<br>
0.5,3.17226169537662,-4.256695788682715,1.1985649578564037,-8.867139000908747,
<br>
1,-12.593886034890854,-12.566332541538133,-9.378615807236292,-8.357059955292334,
<br>
1.5,-7.969019258310487,-11.31490088661472,-9.672344085493663,-10.43202539469619,
<br>
2,-5.494882221001438,-6.150075249562857,-8.17344249034626,-9.561995763765363,
<br>
2.5,-6.918422768097526,-5.051034065354747,-6.9595105515652,-7.272367096863916,
<br>
3,-9.799081256658823,-8.120947564464892,-7.456678927032095,-6.190930885532192,
<br>
3.5,-9.877085779613125,-10.874997665172218,-9.440140717611673,-7.908072783200122,
<br>
4,-8.139992152005245,-9.432369431846958,-10.090694528965873,-10.930593746741103,
<br>
4.5,-7.3870744310535414,-7.570822540188955,-8.160304033711654,-9.95637917564153,
<br>
5,-7.984501338275579,-7.235749139770024,-6.512011104065696,-6.973829714945723,
<br>
5.5,-8.920492826915343,-8.318139793906798,-7.062966879708615,-5.494413072210336,
<br>
6,-9.038027186303783,-9.248356246040178,-9.74236661556773,-7.707169464228651,
<br>
6.5,-8.49305006616133,-8.976234963391228,-10.464396660745086,-11.832478447991546,
<br>
7,-8.130804720845779,-8.28239729731554,-7.664176375307848,-9.841271349824467,
<br>
7.5,-8.259705679353072,-8.039739814958851,-5.764002076296161,-6.010244144594397,
<br>
8,-8.58280219213773,-8.344656625443,-7.012807499828442,-4.58586813222329,
<br>
8.5,-8.688994731402035,-8.700446853708815,-10.897712384454998,-8.936331299714656,
<br>
9,-8.53705846661493,-8.69771111037465,-9.98129478780655,-12.930613559534246,
<br>
9.5,-8.38266878209243,-8.468750160768215,-5.875523774590598,-7.717394289287349,
<br>
10,-8.389870588016631,-8.337134834882676,-4.902819483748834,-3.743407675271704,
<br>
・4次精度の場合、2個の局所解の周辺軌道を不規則に周回する
<br>
10.5,-8.495685199019016,-8.407065481138382,-9.369506554182164,-5.010958534812629,
<br>
11,-8.553889675164031,-8.536838303263686,-11.662532595710633,-14.81547566296874,
<br>
11.5,-8.518326078119987,-8.566390748672115,-5.159309948252431,-7.585562008100757,
<br>
12,-8.459785890514121,-8.49893468356178,-3.343568426347868,-1.981261293883908,
<br>
12.5,-8.448581390548986,-8.44040444050926,-11.898976041789902,-6.3712542924118445,
<br>
13,-8.480263581411933,-8.449722477379298,-5.733524002666311,-9.826784960075946,
<br>
13.5,-8.506362651808852,-8.493758526098969,-0.3802259177270047,0.6660876610219357,
<br>
14,-8.500914879165052,-8.51353704745702,8.74913755997124,16.24710906182236,
<br>
14.5,-8.480664452700042,-8.496293816310711,-4.275750718936878,-6.475025393880294,
<br>
15,-8.472332385769134,-8.473289725359022,-4.385295763938703,-2.064285615514298,
<br>
15.5,-8.480669993019669,-8.47100068916237,-12.621236499143057,-9.01894997684598,
<br>
16,-8.491044281197345,-8.484724178151444,-6.579354658092149,-10.806497343325686,
<br>
16.5,-8.491685120893191,-8.494304255831391,-1.3541368707518615,-0.861479586035053,
<br>
17,-8.485273037728508,-8.490945179480132,-15.37505265390411,-12.037916661021102,
<br>
17.5,-8.481085762467366,-8.482709343044847,4.446642477408391,7.609243521330697,
<br>
18,-8.48281709988944,-8.480060745027655,0.8353916008229954,-0.8464235152808502,
<br>
18.5,-8.486577544441795,-8.48389235255966,-6.809029480225468,-12.918873053525699,
<br>
19,-8.487656376907653,-8.487881913737274,3.592870892275928,5.582259866891,
<br>
19.5,-8.485829504763153,-8.487719232205539,5.189810855800015,1.8557333971653025,
<br>
20,-8.48404945484628,-8.485013299511959,13.472905743504375,12.691475056130807,
<br>
20.5,-8.48419785398612,-8.48352824576874,5.008483778052009,8.211340043414769,
<br>
21,-8.485450226986057,-8.484425380266224,1.5015702673757763,0.20812959396276343,
<br>
21.5,-8.48608982998104,-8.485925342322853,14.401370086245281,20.658564549794743,
<br>
22,-8.485646326915106,-8.486220315736853,-3.806256312326124,-6.211498088214414,
<br>
22.5,-8.484966923511978,-8.485412158330154,-2.3354311831168686,0.07190386522249949,
<br>
23,-8.484857552599165,-8.484743812358335,-12.209487160940686,-19.601380033191635,
<br>
23.5,-8.48523786836849,-8.4848795569143,2.7993938471698048,4.574587624158835,
<br>
24,-8.485533165665105,-8.485396850853348,3.4482351977325516,-0.6854593741996927,
<br>
24.5,-8.485457942939185,-8.485612274035551,5.02452981820134,9.465219719283413,
<br>
25,-8.485220438665973,-8.485400423783547,-2.3073578344925263,-4.189639088627373,
<br>
25.5,-8.485129972575944,-8.485134837038022,-7.247375872344094,-1.7600541085053956,
<br>
26,-8.485232199001693,-8.485117264300568,-11.732669460801114,-17.16226971887629,
<br>
26.5,-8.485351537934092,-8.485280749590473,-1.433846374145607,-2.050391844767691,
<br>
27,-8.485354827395978,-8.485388412748176,-7.792998035684965,1.243449129681648,
<br>
27.5,-8.48527865837135,-8.485344741437403,9.030593020023082,14.998609771176515,
<br>
28,-8.485231703764377,-8.485248593015273,0.009487723492419137,-0.4280251283303371,
<br>
28.5,-8.485253935528434,-8.485220620258763,-10.922695871555433,-19.685895742160522,
<br>
29,-8.48529774285777,-8.485267093274015,5.418273580329954,8.019543065901978,
<br>
29.5,-8.485308960017305,-8.485312736156105,4.155173942366574,3.0328376377692177,
<br>
30,-8.48528688716803,-8.485309167527985,9.866856999805194,4.649624477361923,
<br>
30.5,-8.485266562792274,-8.485277196596934,10.599275723617525,15.513123005714233,
<br>
31,-8.485269054140165,-8.485260727038607,2.819872641839744,3.972613974971094,
<br>
31.5,-8.485283821293933,-8.485271963782196,4.419437977786595,-0.4438293434975797,
<br>
32,-8.485290876746973,-8.485289352091629,6.630942216231427,12.111942524616314,
<br>
32.5,-8.485285362023996,-8.485292225643086,-2.0057820792846255,-3.5378845440162534,
<br>
33,-8.485277500703758,-8.48528253568819,-7.046099221729282,-0.6580015299230573,
<br>
33.5,-8.485276485949097,-8.485274955455953,-7.203466930850314,-12.692315663749156,
<br>
34,-8.485281034092166,-8.48527683860395,0.995678432365439,2.0958489939235863,
<br>
34.5,-8.485284373416704,-8.485282907318853,11.215000312655096,2.7343773034648136,
<br>
35,-8.48528336095452,-8.485285244435245,-3.739160222899354,-6.731326586869997,
<br>
35.5,-8.485280579934958,-8.485282647307939,0.3065513361083291,2.5422078966809663,
<br>
36,-8.48527960678275,-8.485279590114972,13.58829662387021,8.764145152786396,
<br>
36.5,-8.485280854479951,-8.485279491637526,0.9639221116027187,1.6891302902255667,
<br>
37,-8.485282225270273,-8.485281434562172,6.803463917158995,-3.6259293367169434,
<br>
37.5,-8.485282214978417,-8.485282641830935,-12.635586600601137,-14.94102981764714,
<br>
38,-8.485281311780499,-8.48528208034935,-5.028693841288827,-7.762652378103106,
<br>
38.5,-8.485280787260102,-8.485280959965065,-2.5959502775517938,-1.2565930246417043,
<br>
39,-8.485281069858013,-8.485280668435113,-13.855447688722043,-9.595402777994904,
<br>
39.5,-8.485281579364718,-8.48528123021927,-0.8552233742457771,-1.4872041441677788,
<br>
40,-8.485281694101317,-8.485281751456034,-8.204088513176726,2.971896470484188,
<br>
40.5,-8.485281428130728,-8.485281690372483,12.30113519381589,15.112064169246912,
<br>
41,-8.485281196596342,-8.485281313308466,4.941766939450534,7.512328766658172,
<br>
41.5,-8.48528123447943,-8.485281131498912,2.830640134963891,1.3757448822441196,
<br>
42,-8.485281408294911,-8.485281271337463,13.540754286837664,9.112933983634957,
<br>
42.5,-8.485281485738815,-8.485281472579084,1.9255517778563045,3.376910384682569,
<br>
43,-8.485281417533477,-8.485281499427858,2.027623330485493,-3.426815186275571,
<br>
43.5,-8.485281326730567,-8.48528138351308,-13.994404485457153,-14.457830777576898,
<br>
44,-8.485281317959297,-8.485281297760862,-2.997574418412171,-4.985503100124961,
<br>
44.5,-8.485281372228071,-8.485281323184875,-1.734332465373308,1.648909612702126,
<br>
45,-8.485281409889234,-8.485281394261605,10.912351558935278,18.351057979919684,
<br>
45.5,-8.485281396523915,-8.485281419429246,-2.5985424770556107,-4.241652829020272,
<br>
46,-8.485281364014313,-8.485281387714952,-4.125932852203712,0.5787713043516732,
<br>
46.5,-8.485281353639579,-8.48528135258926,-5.657770524690035,-10.510383035401476,
<br>
47,-8.48528136881385,-8.485281352684646,2.120269736613679,3.8274800845271506,
<br>
47.5,-8.48528138452925,-8.485281375729544,7.266636590609533,1.2741164340714035,
<br>
48,-8.485281383841825,-8.485281389222006,9.892365266534018,16.067979563412507,
<br>
48.5,-8.485281373152189,-8.485281382075945,0.04917319797390527,-0.2788585959341874,
<br>
49,-8.485281367314501,-8.48528136904223,-7.113774784122735,-13.877250849565106,
<br>
49.5,-8.485281370876883,-8.48528136605278,4.915037380671982,7.144347716592804,
<br>
50,-8.485281376792848,-8.485281372824582,5.220407960904293,3.407556829118244,
<br>
50.5,-8.485281377941114,-8.48528137876424,10.52690922410113,6.5181811522742175,
<br>
51,-8.485281374744686,-8.485281377825963,10.65055098668909,14.636296491495415,
<br>
51.5,-8.485281372113047,-8.485281373386725,4.402541930945902,6.206654869158568,
<br>
52,-8.485281372657107,-8.485281371389663,3.8125459872364202,1.4776073716073355,
<br>
52.5,-8.485281374699461,-8.485281373120367,13.648774132656863,10.987960253004305,
<br>
53,-8.48528137554469,-8.485281375445382,3.7435020489424766,6.389538561909723,
<br>
53.5,-8.485281374705183,-8.485281375680245,0.8698171874372583,-1.4286371678428293,
<br>
54,-8.485281373658209,-8.485281374296731,-12.89165079047701,-20.22815651871761,
<br>
54.5,-8.48528137359182,-8.48528137332924,3.2321161489793213,5.251652861636881,
<br>
55,-8.485281374237987,-8.485281373665638,2.9674179947150368,-0.3362507323658391,
<br>
55.5,-8.485281374661513,-8.485281374496711,9.4413393746746,16.5411839612538,
<br>
56,-8.485281374487728,-8.48528137476538,-2.520246590198456,-4.116293588931646,
<br>
56.5,-8.485281374108316,-8.485281374379491,-4.804880501581975,0.2330160206531241,
<br>
57,-8.485281373998893,-8.48528137397668,-7.863372311800565,-13.981444909642125,
<br>
57.5,-8.48528137418284,-8.485281373992304,1.7436584968150188,3.0671010343042724,
<br>
58,-8.485281374362652,-8.485281374265119,7.229422505535066,0.03987829269415222,
<br>
58.5,-8.485281374348029,-8.48528137441536,1.5631123613527964,2.925582469651283,
<br>
59,-8.485281374221744,-8.485281374325186,1.2145147117244712,-4.835323974328813,
<br>
59.5,-8.485281374157037,-8.485281374173812,-12.12357764900539,-9.208819929792327,
<br>
60,-8.48528137420162,-8.485281374143788,-8.35535702135332,-12.78856598394072,
<br>
60.5,-8.485281374270201,-8.485281374225204,-2.8193222160385707,-3.358298556407861,
<br>
61,-8.485281374281358,-8.485281374292743,-6.409036998156865,-0.5100831005913947,
<br>
61.5,-8.485281374243032,-8.485281374279175,-8.702695081277174,-14.888753153809706,
<br>
62,-8.485281374213196,-8.485281374227002,0.8694012848614923,1.7500370844583035,
<br>
62.5,-8.485281374220731,-8.485281374205199,11.927236014273815,2.9926611975532866,
<br>
63,-8.485281374244678,-8.485281374226513,-6.433279521071849,-11.058343035346425,
<br>
63.5,-8.485281374253836,-8.485281374253312,-0.1945686430280429,0.657452773229513,
<br>
64,-8.485281374243556,-8.485281374255132,11.064697253901878,19.51445824215947,
<br>
64.5,-8.48528137423151,-8.485281374238667,-4.763770339918941,-7.247196079841023,
<br>
65,-8.485281374231148,-8.48528137422778,-3.7524336250868964,-2.090436251238726,
<br>
65.5,-8.485281374238827,-8.48528137423216,-11.972740287007628,-6.992918533876928,
<br>
66,-8.485281374243574,-8.48528137424186,-6.673978384860627,-11.151921454407349,
<br>
66.5,-8.485281374241344,-8.485281374244693,-0.8834124396847836,-0.30243385842138293,
<br>
67,-8.485281374236932,-8.485281374240024,-14.98911908041907,-21.37882101859409,
<br>
67.5,-8.48528137423579,-8.485281374235422,5.13161494004057,8.14985336407378,
<br>
68,-8.48528137423801,-8.485281374235765,2.5573143746420555,1.3794701581657898,
<br>
68.5,-8.48528137424006,-8.485281374238983,13.414225004473133,8.345175272489065,
<br>
69,-8.48528137423981,-8.485281374240644,1.1921993682630823,2.099260564479773,
<br>
69.5,-8.485281374238328,-8.485281374239522,4.827645626791041,-4.0221928043110635,
<br>
70,-8.485281374237612,-8.485281374237768,-13.101666561681263,-14.633906343724416,
<br>
70.5,-8.485281374238165,-8.485281374237474,-4.872219355915312,-7.71272847935955,
<br>
71,-8.485281374238957,-8.48528137423845,-2.1653833332340966,-0.7438238426403552,
<br>
71.5,-8.48528137423906,-8.48528137423921,-15.204024707302196,-14.63043131908489,
<br>
72,-8.485281374238612,-8.48528137423903,1.7975268141620369,3.1455696671801285,
<br>
72.5,-8.485281374238268,-8.48528137423842,3.0153550146952126,-3.1014834469110224,
<br>
73,-8.485281374238367,-8.485281374238177,-13.7282565109969,-17.116902242160016,
<br>
73.5,-8.485281374238651,-8.485281374238445,-1.489025066097232,-2.365996643630202,
<br>
74,-8.485281374238747,-8.48528137423875,-5.6331972944620805,2.5691308714425447,
<br>
74.5,-8.48528137423862,-8.485281374238756,11.796061315007085,17.493862052365486,
<br>
75,-8.485281374238482,-8.485281374238555,0.8826834247272499,1.187173843603535,
<br>
75.5,-8.485281374238493,-8.485281374238445,12.885473543264979,3.3206833869114876,
<br>
76,-8.48528137423858,-8.485281374238507,-9.124515539388067,-14.285340874716285,
<br>
76.5,-8.485281374238625,-8.485281374238616,-1.951071216638205,-2.4041477887189995,
<br>
77,-8.485281374238602,-8.48528137423864,-7.7900769938714545,0.09504956422547406,
<br>
77.5,-8.485281374238552,-8.485281374238586,2.058089752981872,3.839027119270948,
<br>
78,-8.48528137423854,-8.48528137423854,0.1914164597509504,-4.281599119512394,
<br>
78.5,-8.485281374238573,-8.485281374238546,-11.955293412139545,-7.890279902848384,
<br>
79,-8.485281374238586,-8.485281374238586,-8.010063905586513,-12.715658508594974,
<br>
79.5,-8.485281374238575,-8.485281374238584,-1.9644535716511302,-2.1302416924982674,
<br>
80,-8.485281374238575,-8.485281374238584,-9.259937328836994,-1.1479943729401354,
<br>
80.5,-8.485281374238575,-8.485281374238584,0.9224828383264055,1.716019126125542,
<br>
81,-8.485281374238575,-8.485281374238584,5.439250814741619,-4.7740078423318595,
<br>
81.5,-8.485281374238575,-8.485281374238584,-12.473249232276745,-12.716617996056636,
<br>
82,-8.485281374238575,-8.485281374238584,-7.04621429967117,-10.611460577747751,
<br>
82.5,-8.485281374238575,-8.485281374238584,-3.2455994211194317,-3.285194408231794,
<br>
83,-8.485281374238575,-8.485281374238584,-7.617993626335245,-1.7980328385564948,
<br>
83.5,-8.485281374238575,-8.485281374238584,-10.83763848272238,-16.704591991598893,
<br>
84,-8.485281374238575,-8.485281374238584,-0.9038557384560206,-1.1232976680235789,
<br>
84.5,-8.485281374238575,-8.485281374238584,-13.616876132303181,-4.907109779522588,
<br>
85,-8.485281374238575,-8.485281374238584,8.375880249689722,13.404983862615476,
<br>
85.5,-8.485281374238575,-8.485281374238584,1.6724997896490716,1.8393457405000158,
<br>
86,-8.485281374238575,-8.485281374238584,10.17661658191445,1.5413857465803245,
<br>
86.5,-8.485281374238575,-8.485281374238584,-3.7171164521760556,-6.741612648752846,
<br>
87,-8.485281374238575,-8.485281374238584,0.5109315454990305,2.765987073343893,
<br>
87.5,-8.485281374238575,-8.485281374238584,12.754453918387487,7.077823084672719,
<br>
88,-8.485281374238575,-8.485281374238584,2.379502374400508,4.219324154193406,
<br>
88.5,-8.485281374238575,-8.485281374238584,0.9726930126341234,-3.1513732544147244,
<br>
89,-8.485281374238575,-8.485281374238584,-14.101460932573618,-12.796325106546512,
<br>
89.5,-8.485281374238575,-8.485281374238584,-2.662042387422041,-4.525493684718707,
<br>
90,-8.485281374238575,-8.485281374238584,-1.5832230408193584,2.2640062717003593,
<br>
90.5,-8.485281374238575,-8.485281374238584,14.055963676220127,18.85628561568353,
<br>
91,-8.485281374238575,-8.485281374238584,-1.103227563518522,-1.93389960675635,
<br>
91.5,-8.485281374238575,-8.485281374238584,-7.739740817677188,2.0043108944443504,
<br>
92,-8.485281374238575,-8.485281374238584,11.338202783621735,16.72385353830341,
<br>
92.5,-8.485281374238575,-8.485281374238584,1.7526147189102084,2.497503922991857,
<br>
93,-8.485281374238575,-8.485281374238584,6.444142727074921,-1.4086050396384013,
<br>
93.5,-8.485281374238575,-8.485281374238584,-7.243434835338782,-12.786299691351037,
<br>
94,-8.485281374238575,-8.485281374238584,1.0642357241355014,2.1843861788415273,
<br>
94.5,-8.485281374238575,-8.485281374238584,10.747687952180504,2.235709574223687,
<br>
95,-8.485281374238575,-8.485281374238584,-3.3830321213009897,-6.131458259894062,
<br>
95.5,-8.485281374238575,-8.485281374238584,0.31691862028692325,2.8571001945419865,
<br>
96,-8.485281374238575,-8.485281374238584,13.065327355962134,8.030918760284983,
<br>
96.5,-8.485281374238575,-8.485281374238584,2.694907719649491,4.74230777743698,
<br>
97,-8.485281374238575,-8.485281374238584,0.8017555363215676,-2.7565303334961193,
<br>
97.5,-8.485281374238575,-8.485281374238584,-14.519581857486784,-13.9341653534679,
<br>
98,-8.485281374238575,-8.485281374238584,-1.109323287567829,-1.8645313362139673,
<br>
98.5,-8.485281374238575,-8.485281374238584,-6.681147405835485,3.110341873902442,
<br>
99,-8.485281374238575,-8.485281374238584,12.566399664438359,16.21728929382193,
<br>
99.5,-8.485281374238575,-8.485281374238584,3.4726030958641747,5.377321968870701,
<br>
100,-8.485281374238575,-8.485281374238584,2.690822604312346,-0.36347536026915495,
<br>
100.5,-8.485281374238575,-8.485281374238584,9.129990791825188,16.190917967986504,
<br>
101,-8.485281374238575,-8.485281374238584,-2.712051392028709,-4.38960428675254,
<br>
101.5,-8.485281374238575,-8.485281374238584,-4.707153543160363,-0.0624252945859471,
<br>
102,-8.485281374238575,-8.485281374238584,-10.519992200138974,-17.342044829062676,
<br>
102.5,-8.485281374238575,-8.485281374238584,1.2482669398645023,2.213816171403173,
<br>
103,-8.485281374238575,-8.485281374238584,8.409525938132676,-0.5744300757713541,
<br>
103.5,-8.485281374238575,-8.485281374238584,-7.411868226149255,-12.825959845831905,
<br>
104,-8.485281374238575,-8.485281374238584,0.436137494080987,1.2894320737131153,
<br>
104.5,-8.485281374238575,-8.485281374238584,15.58532196492229,11.615271399347568,
<br>
105,-8.485281374238575,-8.485281374238584,-5.915346993228955,-9.860381207389619,
<br>
105.5,-8.485281374238575,-8.485281374238584,-1.2181631139997258,-0.4263482462662149,
<br>
106,-8.485281374238575,-8.485281374238584,-15.663930860898642,-19.33937255552515,
<br>
106.5,-8.485281374238575,-8.485281374238584,4.521561593727568,7.4326480506935715,
<br>
107,-8.485281374238575,-8.485281374238584,1.85291826931102,0.2161149426988998,
<br>
107.5,-8.485281374238575,-8.485281374238584,14.42804764968092,20.17160748079123,
<br>
108,-8.485281374238575,-8.485281374238584,-3.1991918425499453,-5.298266966954755,
<br>
108.5,-8.485281374238575,-8.485281374238584,-2.370380765599638,0.8177781451543822,
<br>
109,-8.485281374238575,-8.485281374238584,-2.184555200459103,-4.245710333289834,
<br>
109.5,-8.485281374238575,-8.485281374238584,1.3408379642226849,5.1956407713584545,
<br>
110,-8.485281374238575,-8.485281374238584,9.637088360556053,5.254857248067809,
<br>
110.5,-8.485281374238575,-8.485281374238584,11.44479313901552,14.934045964834992,
<br>
111,-8.485281374238575,-8.485281374238584,4.849657160898645,7.08275548033174,
<br>
111.5,-8.485281374238575,-8.485281374238584,3.3949455366195216,1.7117047396435543,
<br>
112,-8.485281374238575,-8.485281374238584,12.798538699303482,8.147308153915688,
<br>
112.5,-8.485281374238575,-8.485281374238584,4.501204000321512,7.768890986434246,
<br>
113,-8.485281374238575,-8.485281374238584,0.4313529081167843,-1.2438125807876403,
<br>
113.5,-8.485281374238575,-8.485281374238584,-14.011328552200109,-20.82356065365446,
<br>
114,-8.485281374238575,-8.485281374238584,3.8602587804259874,6.255891828916169,
<br>
114.5,-8.485281374238575,-8.485281374238584,2.498002598696069,0.12067888046271247,
<br>
115,-8.485281374238575,-8.485281374238584,13.633821106730984,19.88958278458403,
<br>
115.5,-8.485281374238575,-8.485281374238584,-2.381792503597005,-3.9832960613508086,
<br>
116,-8.485281374238575,-8.485281374238584,-3.3164981824151503,1.5568035956093136,
<br>
116.5,-8.485281374238575,-8.485281374238584,6.097852316468226,11.295735062464985,
<br>
117,-8.485281374238575,-8.485281374238584,-2.230815916474438,-3.898774950574807,
<br>
117.5,-8.485281374238575,-8.485281374238584,-6.822869886437022,-1.0113620407830788,
<br>
118,-8.485281374238575,-8.485281374238584,-10.148965209364832,-16.426478743019562,
<br>
118.5,-8.485281374238575,-8.485281374238584,0.08618466303046382,0.46165572908901864,
<br>
119,-8.485281374238575,-8.485281374238584,13.447002495566332,22.28296738788286,
<br>
119.5,-8.485281374238575,-8.485281374238584,-6.079488391552779,-9.065677171169286,
<br>
120,-8.485281374238575,-8.485281374238584,-3.826642222965666,-3.289750553058409,
<br>
120.5,-8.485281374238575,-8.485281374238584,-8.68196802847738,-3.24658977979292,
<br>
121,-8.485281374238575,-8.485281374238584,-11.43757717336926,-16.297820532529098,
<br>
121.5,-8.485281374238575,-8.485281374238584,-2.664871949390741,-3.9104450021129296,
<br>
122,-8.485281374238575,-8.485281374238584,-4.037895097255778,0.8869858747612515,
<br>
122.5,-8.485281374238575,-8.485281374238584,-2.061900522854889,-3.947178772303834,
<br>
123,-8.485281374238575,-8.485281374238584,0.6694855167786125,4.894178580531529,
<br>
123.5,-8.485281374238575,-8.485281374238584,10.51162534190327,6.075633801086092,
<br>
124,-8.485281374238575,-8.485281374238584,10.472694199091322,14.901552160284407,
<br>
124.5,-8.485281374238575,-8.485281374238584,3.6919227591623676,5.18245713901584,
<br>
125,-8.485281374238575,-8.485281374238584,3.943653390259663,0.6372579228212448,
<br>
125.5,-8.485281374238575,-8.485281374238584,14.166577288157871,17.589193640565423,
<br>
126,-8.485281374238575,-8.485281374238584,0.27261787162322987,0.36217868776741036,
<br>
126.5,-8.485281374238575,-8.485281374238584,16.36054986477835,22.904192442279463,
<br>
127,-8.485281374238575,-8.485281374238584,-7.660340651616426,-11.09869077894772,
<br>
・dt=1.5e-2の場合
<br>
0,1,1,1,1,
<br>
0.5,4.259440073750432,-2.5422528544767817,1.716327431040365,-8.87664912115545,
<br>
1,-12.0884496431265,-17.189432027928923,-9.326501713302648,-8.251909113757243,
<br>
1.5,-4.936964411309114,-6.941998855453551,-9.672577878994444,-10.432651307781377,
<br>
2,-5.6565380639518095,-4.228040591612055,-8.104213207812785,-9.470757660369454,
<br>
2.5,-9.098885692720897,-6.697769952414515,-6.976215521684386,-7.351324317471985,
<br>
3,-10.130283760557962,-10.594052417158737,-7.456653999063002,-6.190342589063736,
<br>
3.5,-8.470564576268435,-9.71062658558134,-9.515961578414334,-8.043295860202447,
<br>
4,-7.7078809453369175,-8.101702302091462,-10.130458222070452,-10.874127376035716,
<br>
4.5,-8.022020459009896,-7.5997829691697065,-8.159431122315882,-9.955754377419897,
<br>
5,-8.679277322471625,-8.26611245440508,-6.490049196618602,-6.876143681805971,
<br>
5.5,-8.800734858681437,-8.81370204931446,-6.986659429415132,-5.490094778899708,
<br>
6,-8.54356961421768,-8.767245285410315,-9.743889752863609,-7.7089653668223495,
<br>
6.5,-8.349272580370922,-8.436775134268553,-10.39260003785368,-11.876351717495224,
<br>
7,-8.386816856578445,-8.32685433338917,-7.772192813202849,-9.996736366912055,
<br>
7.5,-8.504097887947003,-8.42307532205577,-5.762969356060709,-6.007693795407455,
<br>
8,-8.543548213304565,-8.540302848877742,-7.138142836095743,-4.626091180549186,
<br>
8.5,-8.50565558023525,-8.542532046982556,-10.79836913917521,-8.669558912625227,
<br>
9,-8.46510690111595,-8.486888158485604,-9.977814753220104,-12.929550835409694,
<br>
9.5,-8.466250910993233,-8.456769814682035,-5.782133739789961,-7.53191078205841,
<br>
10,-8.485182998714278,-8.469957964316489,-4.848193620800469,-3.804360224606302,
<br>
・dt=2e-2の場合、別の局所解に収束する
<br>
0,1,1,1,1,
<br>
0.5,4.609560287868656,-1.1598359230291724,1.2037115346927614,-8.864627279249813,
<br>
1,0.6791070531707077,1.287644827905354,-9.380072097163998,-8.35720377438337,
<br>
1.5,7.82965716020545,1.1901109306698194,-9.673597042084705,-10.43508485198912,
<br>
2,10.003531745807148,15.350382624653745,-8.171968022207809,-9.562054344092918,
<br>
2.5,5.384529232520461,6.8173925970264095,-6.957096007098234,-7.269340551950377,
<br>
3,6.690133256550868,5.432849246652645,-7.4563074119789405,-6.187943808083866,
<br>
3.5,9.076409185262547,7.715548750146841,-9.443195007212195,-7.910145722770152,
<br>
4,9.36339001689963,9.597868219982363,-10.09157879362887,-10.935720605138682,
<br>
4.5,8.523958071479683,9.1051519969965,-8.156398509948643,-9.953855904768098,
<br>
5,8.156375943911566,8.30093275236233,-6.508248278510195,-6.96758959112482,
<br>
5.5,8.329059685395057,8.162703091357479,-7.064244495700321,-5.490536575142012,
<br>
6,8.551735541731087,8.42395265134481,-9.749305554038418,-7.714931887852475,
<br>
6.5,8.573248534336193,8.589798794243883,-10.462791383678454,-11.840496844640382,
<br>
7,8.49373408277786,8.550442101496914,-7.6548110385705455,-9.83101488497078,
<br>
7.5,8.453930292941367,8.470213685143923,-5.758895020213391,-5.998280672057063,
<br>
8,8.469254466331492,8.453447318778185,-7.020684060061325,-4.58312605529452,
<br>
8.5,8.491225553407192,8.478397052477131,-10.911214722690017,-8.964188351637576,
<br>
9,8.494002020714802,8.495117187256911,-9.965206194133534,-12.92613609199428,
<br>
9.5,8.486428684029079,8.491944650943209,-5.858059307937853,-7.689346038427618,
<br>
10,8.48229483900468,8.484070027063778,-4.904942438971408,-3.7262179876698824,
<br>
・dt=1e-1の場合
<br>
0,1,1,1,1,
<br>
0.5,7.052448116495055,3.3451344690621716,0.9517378983696467,-7.3998783669487365,
<br>
1,9.208909501591917,9.462443595514857,-10.184761919410535,-8.879316933775975,
<br>
1.5,8.374194357920478,8.439139686020075,-9.837027973304629,-11.632276786730488,
<br>
2,8.489276659789128,8.46702441296707,-7.226475577082166,-8.861625926441459,
<br>
2.5,8.487677790123978,8.490745880413645,-6.229907941575721,-5.909553643903918,
<br>
3,8.484622016317676,8.484590566354681,-8.047634683014023,-5.7442419010750845,
<br>
3.5,8.48535897288969,8.485274987807683,-10.62099501442393,-9.901425701440763,
<br>
4,8.485283446082292,8.4853033255893,-9.33647110676739,-11.569977894464648,
<br>
4.5,8.485278602877734,8.485276611884489,-6.64728402698247,-7.981867945528143,
<br>
5,8.485281937908452,8.48528179681158,-6.229770298845975,-5.33401779375,
<br>
5.5,8.485281329365826,8.485281420309946,-8.81636478679008,-6.210251468023328,
<br>
6,8.485281367625436,8.485281351298857,-10.890131918033996,-11.250823695116432,
<br>
6.5,8.485281377062725,8.485281378045585,-8.472288843025853,-10.91911384236453,
<br>
7,8.485281373797825,8.485281374060856,-6.044464322815054,-6.839106698131189,
<br>
7.5,8.485281374254145,8.485281374165625,-6.561675225100206,-4.844985154136384,
<br>
8,8.485281374248144,8.485281374260301,-9.939950823417254,-7.496878050831595,
<br>
8.5,8.48528137423595,8.485281374235834,-10.612692408264826,-12.418012796399863,
<br>
9,8.485281374238877,8.485281374238541,-7.261579601865494,-9.460068328198169,
<br>
9.5,8.485281374238578,8.485281374238657,-5.609690960477009,-5.547003194570313,
<br>
10,8.485281374238559,8.485281374238552,-7.564023040689936,-4.8184170397861195,
<br>
・dt=1e-3の場合、再現性が改善する
<br>
0,1,1,1,1,
<br>
0.5,1.424065299319062,-8.31093036476876,1.1982729919017479,-8.867197733337045,
<br>
1,-9.657031732204748,-8.349898928788475,-9.378570010918958,-8.357033792281806,
<br>
1.5,-9.899109831324854,-10.981836017099024,-9.672324278664984,-10.4319446298588,
<br>
2,-7.936611132655565,-9.562716397681724,-8.173499930210461,-9.56202368140192,
<br>
2.5,-6.623601079261224,-6.851281230459478,-6.959573599588022,-7.272469238587608,
<br>
3,-7.428423138226191,-5.8427878888642715,-7.456658266568281,-6.190996132824,
<br>
3.5,-9.780708645600205,-8.19962260010638,-9.440029006089206,-7.907954146669173,
<br>
4,-10.097871845892818,-11.360669556779794,-10.09069843044153,-10.930443911886044,
<br>
4.5,-7.7943760001249185,-9.619436494278556,-8.16045155213845,-9.956511240539381,
<br>
5,-6.3244974834629,-6.530279163772791,-6.512113702205631,-6.974042785103014,
<br>
5.5,-7.326268249826981,-5.4548631457194805,-7.062875222266096,-5.494495987755652,
<br>
6,-10.11165543413261,-8.40431517952932,-9.742121126780857,-7.706838552789133,
<br>
6.5,-10.150309659371128,-11.882555512309164,-10.464495656102148,-11.832252734547433,
<br>
7,-7.344746781343069,-9.2666415336227,-7.664493513190766,-9.841657380399884,
<br>
7.5,-5.932754897154663,-5.865106678257319,-5.7641286925570565,-6.010621413146083,
<br>
8,-7.534023075768873,-5.097187645426048,-7.012491606627554,-4.585886053449459,
<br>
8.5,-10.800316776867799,-9.456021549738772,-10.897293146993633,-8.935379986258638,
<br>
9,-9.711940724811386,-12.261944306401968,-9.981836816121655,-12.930829355294506,
<br>
9.5,-6.394634950585179,-8.072858428304484,-5.876031587809749,-7.71825674582792,
<br>
10,-5.5873779487212065,-4.734288502051793,-4.902687553795511,-3.7438729353865527,
<br>
・dt=1e-4の場合
<br>
0,1,1,1,1,
<br>
0.5,1.221151023207788,-8.810415963782997,1.1982729680518367,-8.867197729737649,
<br>
1,-9.405922103750052,-8.353560928731477,-9.378570010924973,-8.357033788427023,
<br>
1.5,-9.69914846586722,-10.488834732998349,-9.672324282181464,-10.431944632611662,
<br>
2,-8.15288430836313,-9.570016283145065,-8.173499932242123,-9.562023686798257,
<br>
2.5,-6.922521479260946,-7.230683555730671,-6.959573597294451,-7.27246923992412,
<br>
3,-7.446978291850581,-6.148275520785307,-7.456658260660321,-6.190996127653822,
<br>
3.5,-9.473921184162828,-7.927047084053216,-9.44002900312554,-7.907954136794917,
<br>
4,-10.1008045563268,-10.984178280080702,-10.090698436258997,-10.930443913833617,
<br>
4.5,-8.123277763605877,-9.931141795263137,-8.160451556821451,-9.95651125035683,
<br>
5,-6.48345119797466,-6.921902346045805,-6.5121136994200075,-6.97404278841702,
<br>
5.5,-7.081279834410035,-5.475054525286805,-7.062875212682948,-5.494495980662688,
<br>
6,-9.789784479401302,-7.775519667363902,-9.742121121485903,-7.706838536376619,
<br>
6.5,-10.4395147428828,-11.862578070722492,-10.464495665237356,-11.832252739274068,
<br>
7,-7.61624789132691,-9.77239548904484,-7.664493517737282,-9.841657392634252,
<br>
7.5,-5.765530745751043,-5.971969347245796,-5.764128686374217,-6.010621413751659,
<br>
8,-7.072926511613961,-4.622026044702504,-7.012491593513374,-4.585886040703437,
<br>
8.5,-10.915313145584335,-9.03579341104503,-10.89729314764603,-8.935379970921547,
<br>
9,-9.931757116419167,-12.86292491511394,-9.981836823753804,-12.930829370175513,
<br>
9.5,-5.900778896603505,-7.715560359560663,-5.87603158063658,-7.718256743244244,
<br>
10,-4.970644316069031,-3.816535259108012,-4.902687541135751,-3.74387292180464,
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
公転軌道
    </th>
    <td>
<span id="span-out-ODE3"></span>
地球の公転軌道について記述する
<br>
<br>
前提を列挙する
<br>
・太陽を焦点位置の極とする<a href="#span-out-polar">平面極座標</a>(距離r,真近点角θ)の楕円軌道を示す
<br>
r(θ)=p/(1+er*cos(θ))
<br>
・parameter
<br>
近日点距離rmin=p/(1+er)=147098074000[m]
<br>
遠日点距離rmax=p/(1-er)=152097701000[m]
<br>
楕円の離心率er=(rmax-rmin)/(rmax+rmin)=0.016710219253597416
<br>
円錐曲線の半直弦p=rmax*(1-er)=149556115068.3219[m]
<br>
楕円の長半径a=p/(1-er^2)=149597887500[m]
<br>
楕円の短半径b=p/sqrt(1-er^2)=149576999825.9354[m]
<br>
楕円の焦点距離c=a*er=2499813500[m]
<br>
楕円の扁平率f=1-b/a=0.0001396254613862391
<br>
楕円面積A=pi*a*b=7.029754388347137e+22[m^2]
<br>
太陽質量M=1.9884e30[kg]
<br>
地球質量m=5.9724e24[kg]
<br>
<a href="#span-app-gravity">重力</a>定数G=6.67430e-11[m^3/kg s^2]
<br>
m3_s2=G*(M+m)/(4*pi^2)=3361638785675266600[m^3/s^2]
<br>
恒星年の<a href="#span-app-period-motion">公転周期</a>T=sqrt(a^3/m3_s2)=31558232.27154487[s]
<br>
地球の<a href="#span-app-period-motion">公転周期</a>Te=60*60*24*365.25=31557600[s]
<br>
平均角速度n=2*pi/T=1.9909813873969582e-7[rad/s]
<br>
面積速度vA=n*a*b/2=A/T=2227550113662627.2[m^2/s]
<br>
・各<a href="#span-app-object">天体</a>の影響を記述する定数（太陽のみを想定）
<br>
定数alpha=G*M
<br>
定数beta=(n*a*b)^2
<br>
・Kepler's laws（角運動量の保存則）
<br>
r*(r*θ')/2=vA
<br>
・地球の力学的energy保存則
<br>
力学E0=K+P
<br>
運動K={(r')^2+(r*θ')^2}*m/2
<br>
位置P=-G*(M*m/r)※無限遠で最大値0に漸近
<br>
・運動方程式
<br>
m*(r"-r*(θ')^2)=-G*M*m/r^2
<br>
r*θ"+2*r'*θ'=0
<br>
・厳密構成の運動方程式
<br>
r'=v
<br>
θ'=w
<br>
<del>v'=-alpha/r^2+<span class="run">beta/r^3</span></del>
<br>
・<span class="run">Ver.2.358.86</span>以降、遠心力項のwを残して記述（小数点以下の演算結果に影響あり）
<br>
v'=-alpha/r^2+<span class="run">r*w^2</span>
<br>
w'=-2*v*w/r
<br>
・w消去可能（非多体問題）の場合、最小構成の時間発展方程式
<br>
r'=v
<br>
θ'=2*vA/r^2
<br>
v'=-alpha/r^2+beta/r^3
<br>
・初期値
<br>
r=rmin
<br>
θ=0
<br>
v=0
<br>
w=2*vA/rmin^2
<br>
・時間tの従属変数
<br>
kT=t/T
<br>
・平均近点角
<br>
Mt=n*t
<br>
・Kepler方程式
<br>
Mt-(Et-er*sin(Et))=0
<br>
・初期値
<br>
Et0=Mt
<br>
・楕円中心の離心近点角Etに対する(r,θ)の導出
<br>
y^2+(x-a*er)^2=r^2
<br>
x=a*cos(Et)
<br>
y=b*sin(Et)
<br>
b^2=a^2*(1-er^2)
<br>
r=a*(1-er*cos(Et))
<br>
θ=2*atan(sqrt((1+er)/(1-er))*tan(Et/2))
<br>
・基準値に対する変化率
<br>
θ方向の初速||面積速度kw
<br>
r方向の<a href="#span-app-gravity">重力</a>kalpha
<br>
r方向の遠心力kbeta
<br>
・月parameter
<br>
近地点距離rmmin=pm/(1+erm)=363304000[m]
<br>
遠地点距離rmmax=pm/(1-erm)=405495000[m]
<br>
楕円の離心率erm=(rmmax-rmmin)/(rmmax+rmmin)=0.05487910364087363
<br>
円錐曲線の半直弦pm=rmmax*(1-erm)=383241797.8691439[m]
<br>
楕円の長半径am=pm/(1-erm^2)=384399500[m]
<br>
質量mm=7.347673e22[kg]
<br>
m3_s2m=G*(m+mm)/(4*pi^2)=10221279754278.992[m^3/s^2]
<br>
<a href="#span-app-period-motion">公転周期</a>Tm=sqrt(am^3/m3_s2m)=2357336.516077939[s]
<br>
軌道傾斜角im=5.1454[deg]
<br>
<br>
解法を列挙する
<br>
・4次精度の<a href="#span-out-FNmh-OX">ODE高階行列関数</a>
<br>
kT=1;
<br>
kw=1;
<br>
kalpha=1;
<br>
kbeta=1;
<br>
rmin=147098074000;
<br>
rmax=152097701000;
<br>
er=(rmax-rmin)/(rmax+rmin);
<br>
p=rmax*(1-er);
<br>
a=p/(1-er^2);
<br>
b=p/sqrt(1-er^2);
<br>
c=a*er;
<br>
f=1-b/a;
<br>
A=pi*a*b;
<br>
M=1.9884e30;
<br>
m=5.9724e24;
<br>
G=6.67430e-11;
<br>
m3_s2=G*(M+m)/(4*pi^2);
<br>
T=sqrt(a^3/m3_s2);
<br>
Te=60*60*24*365.25;
<br>
n=2*pi/T;
<br>
vA=n*a*b/2;
<br>
alpha0=G*M;
<br>
beta0=(n*a*b)^2;
<br>
alpha=alpha0*kalpha;
<br>
beta=beta0*kbeta;
<br>
r0=rmin;
<br>
theta0=0;
<br>
v0=0;
<br>
w0=2*vA/r0^2;
<br>
w0=w0*kw;
<br>
dt=T/1e4;
<br>
t=T*kT;
<br>
<del>x1=_otdummy(=&lt;{v,w,-alpha/r^2+<span class="run">beta/r^3</span>,-2*v*w/r},=&lt;{r,theta,v,w},=&lt;{r0,theta0,v0,w0},N=round(t/dt),dt,N);</del>
<br>
・<span class="run">Ver.2.358.86</span>以降、遠心力項のwを残して記述（小数点以下の演算結果に影響あり）
<br>
x1=_otdummy(=&lt;{v,w,-alpha/r^2+<span class="run">r*w^2</span>,-2*v*w/r},=&lt;{r,theta,v,w},=&lt;{r0,theta0,v0,w0},N=round(t/dt),dt,N);
<br>
r1=x1[0];
<br>
t1=x1[1];
<br>
zt1=r1*e^(i(t1));
<br>
・最小構成の時間発展方程式
<br>
x1=_otdummy(=&lt;{v,2*vA/r^2,-alpha/r^2+beta/r^3},=&lt;{r,theta,v},=&lt;{r0,theta0,v0},N=round(t/dt),dt,N);
<br>
・円錐曲線の方程式
<br>
zt2=(p/(1+er*cos(t1)))*e^(i(t1));
<br>
・Kepler方程式
<br>
Mt=n*t;
<br>
Et0=Mt;
<br>
Newton(=&lt;Mt-(Et-er*sin(Et))=0,=&lt;{Et},=&lt;{Et0},,20,1e-10,1);
<br>
r3=a*(1-er*cos(Et));
<br>
t3=2*atan(sqrt((1+er)/(1-er))*tan(Et/2));
<br>
zt3=r3*e^(i(t3));
<br>
・座標系の変換
<br>
x_o4=real(zt1);
<br>
y_o4=imag(zt1);
<br>
x_eq=real(zt2);
<br>
y_eq=imag(zt2);
<br>
x_Keq=real(zt3);
<br>
y_Keq=imag(zt3);
<br>
<br>
test caseを示す（厳密構成の運動方程式）
<br>
・index
<br>
kT,0,x_Keq,y_Keq,x_o4,y_o4,
<br>
・<a href="#span-out-orthogonal">平面直交座標</a>(x,y)が地球の公転軌道を表す
<br>
0,0,147098074000,0,147098074000,0,
<br>
0.1,0,117645979454.41016,89119571482.18962,117646073297.56575,89119593954.0389,
<br>
0.2,0,41450127214.54836,142976295065.944,41450492075.00406,142976518853.716,
<br>
0.3,0,-50971439067.87596,141507725745.10355,-50970826324.21445,141508578479.43475,
<br>
0.4,0,-124373455351.08269,86742387417.0788,-124373124876.82574,86744300802.14795,
<br>
0.5,0,-152097701000,0.000018626596268732117,-152098630190.86963,2847237.163415004,
<br>
0.6,0,-124373455351.08261,-86742387417.07892,-124376437732.5601,-86739647462.52522,
<br>
0.7,0,-50971439067.87596,-141507725745.10355,-50976274874.828735,-141506712606.37128,
<br>
0.8,0,41450127214.548416,-142976295065.94394,41444929811.39818,-142978228089.31668,
<br>
0.9,0,117645979454.4102,-89119571482.18958,117642576260.75374,-89124306965.08633,
<br>
1,0,147098074000,-0.0000366357988125792,147098073884.09283,-5888056.317206092,
<br>
・rmaxのみ変更rmax=252097701000（er=0.26302790153528055）
<br>
0,0,147098074000,0,147098074000,0,
<br>
0.1,0,83557972868.06361,140897388150.65994,83558183078.02698,140897479453.7757,
<br>
0.2,0,-42229087824.4498,192314576944.42972,-42228485945.3599,192315282374.82703,
<br>
0.3,0,-155084162929.37552,165189573903.43307,-155083587063.4741,165191479182.0332,
<br>
0.4,0,-227490834971.59644,92627001386.56705,-227491097087.5838,92630308738.87328,
<br>
0.5,0,-252097701000,0.00003087306426020565,-252099755868.8234,4417821.374398763,
<br>
0.6,0,-227490834971.59644,-92627001386.56705,-227495618215.9173,-92622358230.52377,
<br>
0.7,0,-155084162929.37567,-165189573903.43295,-155092327715.35623,-165186426537.96497,
<br>
0.8,0,-42229087824.4498,-192314576944.42972,-42240196066.38786,-192315864253.44543,
<br>
0.9,0,83557972868.06361,-140897388150.65994,83547870672.60117,-140906748102.49075,
<br>
1,0,147098074000,-0.00004716597138408846,147098073382.89954,-15142709.324563585,
<br>
・rmaxのみ変更rmax=552097701000（er=0.5792363762495562）
<br>
0,0,147098074000,0,147098074000,0,
<br>
0.1,0,-62626443439.11277,261174554166.06073,-62625796112.305145,261175346811.72348,
<br>
0.2,0,-288122823089.16315,276298693685.8214,-288122226663.3176,276301799167.0267,
<br>
0.3,0,-438583213031.365,210183676429.1171,-438584031544.3952,210189493827.63293,
<br>
0.4,0,-524255815053.5066,111446835784.8594,-524259422245.3567,111455230501.72232,
<br>
0.5,0,-552097701000,0.00006761246823462625,-552105583152.8054,10437879.703500373,
<br>
0.6,0,-524255815053.5066,-111446835784.8594,-524269738526.3361,-111435439117.1665,
<br>
0.7,0,-438583213031.3652,-210183676429.11697,-438605472773.4481,-210173490276.0452,
<br>
0.8,0,-288122823089.16296,-276298693685.8215,-288156565897.7836,-276294727061.0847,
<br>
0.9,0,-62626443439.11253,-261174554166.06073,-62674042096.824776,-261192512879.90536,
<br>
1,0,147098074000,-0.00006979949972966329,147098060786.14868,-78353321.71765932,
<br>
・rmaxのみ変更rmax=952097701000（er=0.7323532761941338）
<br>
0,0,147098074000.00003,0,147098074000,0,
<br>
0.1,0,-277582752682.8333,364440230900.0082,-277581891691.2515,364442871797.7403,
<br>
0.2,0,-600689109629.1072,349055425649.00574,-600689989513.7448,349062938394.4549,
<br>
0.3,0,-802814360557.1411,256416905855.70325,-802819509259.686,256429424097.47037,
<br>
0.4,0,-915669937800.7218,133978368871.92062,-915681811193.4048,133995478709.32758,
<br>
0.5,0,-952097701000.0001,0.0001165983402005204,-952119070078.7697,20810323.929560415,
<br>
0.6,0,-915669937800.7218,-133978368871.92062,-915704324079.7625,-133955496277.04993,
<br>
0.7,0,-802814360557.141,-256416905855.70364,-802866821303.7648,-256395175295.65317,
<br>
0.8,0,-600689109629.1061,-349055425649.00574,-600768116573.6425,-349042367819.66956,
<br>
0.9,0,-277582752682.83374,-364440230900.00806,-277705594000.67816,-364462522337.94775,
<br>
1,0,147098074000.00003,-0.00009166110718503652,147097931599.78604,-269396950.9766738,
<br>
<br>
test caseを示す（厳密構成の運動方程式）
<br>
・index
<br>
kT,x_eq,y_eq,x_o4,y_o4,
<br>
・<a href="#span-out-orthogonal">平面直交座標</a>(x,y)が地球の公転軌道を表す
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.1,117646002546.9667,89119540358.84032,117646073297.56575,89119593954.0389,
<br>
0.2,41450402656.69341,142976210420.25388,41450492075.00406,142976518853.716,
<br>
0.3,-50970620178.47929,141508006164.01346,-50970826324.21445,141508578479.43475,
<br>
0.4,-124372435453.38469,86743819962.30083,-124373124876.82574,86744300802.14795,
<br>
0.5,-152097700972.89758,2847219.768755107,-152098630190.86963,2847237.163415004,
<br>
0.6,-124375748282.34204,-86739166642.60507,-124376437732.5601,-86739647462.52522,
<br>
0.7,-50976068701.38623,-141506140282.75314,-50976274874.828735,-141506712606.37128,
<br>
0.8,41444840400.379585,-142977919635.9288,41444929811.39818,-142978228089.31668,
<br>
0.9,117642505503.85724,-89124253360.68932,117642576260.75374,-89124306965.08633,
<br>
1,147098073884.093,-5888056.317206098,147098073884.09283,-5888056.317206092,
<br>
・kwのみ変更kw=2
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.1,40313864704.12989,143320548665.74713,39963981393.632774,142076672188.0772,
<br>
0.2,-128175044230.06297,81138311004.42026,-125780362967.34627,79622412225.38794,
<br>
0.3,-116707901382.4842,-96609697705.47668,-115862188780.14392,-95909624806.47014,
<br>
0.4,51374601374.660934,-139540806772.84842,52389537822.20742,-142297520147.24472,
<br>
0.5,147098073898.60037,-5507256.735869929,152098630110.9206,-5694474.325832261,
<br>
0.6,51385053462.16438,139536772070.5741,52400277078.75906,142293624829.2025,
<br>
0.7,-116700407079.7279,96618553997.54425,-115854914689.94438,95918554278.93999,
<br>
0.8,-128181477110.87065,-81128349023.08505,-125786665081.72433,-79612629665.4651,
<br>
0.9,40302518612.32475,-143323936611.14822,39952698717.83794,-142079906061.46906,
<br>
1,147098073536.37192,-11776112.625443231,147098073530.56128,-11776112.624978054,
<br>
・kwのみ変更kw=0.5
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.1,139556959168.63452,46891226700.466225,139904112535.889,47007870451.81143,
<br>
0.2,117995800207.00056,88646151463.3724,119018707817.5935,89414626466.91138,
<br>
0.3,85167892487.04904,121201478012.45401,86476180976.15123,123063288771.36153,
<br>
0.4,44616807517.52976,141964512424.33505,45463713511.03606,144659250195.30017,
<br>
0.5,1399820.832204594,149556091670.45782,1423618.581769861,152098630210.8569,
<br>
0.6,-45063414182.83178,143394995192.56958,-45461005553.438515,144660159266.58865,
<br>
0.7,-86817865319.67094,123554563734.21631,-86473877545.88696,123065018648.49815,
<br>
0.8,-121189550817.62807,91049210520.317,-119017034772.77872,89417008161.35355,
<br>
0.9,-144048300037.90366,48403507201.33528,-139903233358.63858,47010670459.72132,
<br>
1,-152097700969.02,3044090.942244757,-147098073972.4757,2944028.1591926794,
<br>
・rmaxのみ変更rmax=252097701000（er=0.26302790153528055）
<br>
0,147098074000,0,147098074000,0,
<br>
0.1,83558074667.10547,140897296649.11166,83558183078.02698,140897479453.7757,
<br>
0.2,-42228322695.23485,192314538907.6343,-42228485945.3599,192315282374.82703,
<br>
0.3,-155082630157.18475,165190459907.40613,-155083587063.4741,165191479182.0332,
<br>
0.4,-227489357066.74847,92629600233.48889,-227491097087.5838,92630308738.87328,
<br>
0.5,-252097700947.47586,4417785.36375123,-252099755868.8234,4417821.374398763,
<br>
0.6,-227493878139.49948,-92621649777.4002,-227495618215.9173,-92622358230.52377,
<br>
0.7,-155091370727.45456,-165185407265.03223,-155092327715.35623,-165186426537.96497,
<br>
0.8,-42240032760.892845,-192315120738.01846,-42240196066.38786,-192315864253.44543,
<br>
0.9,83547762257.46626,-140906565256.12994,83547870672.60117,-140906748102.49075,
<br>
1,147098073382.89758,-15142709.324563384,147098073382.89954,-15142709.324563585,
<br>
・kalphaのみ変更1.5
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.025,145176982934.70328,23894189094.511765,144235140747.86908,23739174471.294758,
<br>
0.05,139263871802.59872,47769740467.03764,135651613121.42142,46530677833.87866,
<br>
0.075,128886639964.42787,71524114308.42549,121373408022.10658,67354735229.130585,
<br>
0.1,113181883376.86172,94840711884.6251,101482636303.83882,85037332688.10573,
<br>
0.125,90783204642.07315,116935825123.62224,76197627042.21265,98148467282.8321,
<br>
0.15,59717053231.46555,136027281303.16985,46041966660.76375,104877304083.29753,
<br>
0.175,17566782854.625797,148225244224.15234,12196741600.835241,102913835588.66182,
<br>
0.2,-37070127531.2521,145528368286.1656,-22798368169.277584,89500887647.74635,
<br>
0.225,-98996388311.39369,114299125171.0699,-53905204138.261475,62237802613.47277,
<br>
0.25,-145630307313.1074,43504724424.13959,-72997576096.23523,21806857997.415226,
<br>
0.275,-144102351122.4538,-48245198341.11205,-72420216639.6979,-24246153435.203117,
<br>
0.3,-95726872652.54117,-116980430835.63377,-52442245232.9137,-64085624771.2314,
<br>
0.325,-33816872641.402935,-146262758562.02115,-20940003121.376114,-90568476077.23497,
<br>
0.35,20174187856.673615,-147848950267.38904,14093806977.11165,-103288151257.49194,
<br>
0.375,61664639096.547874,-135119767307.35834,47787466770.44303,-104712060020.66525,
<br>
0.4,92200128556.5684,-115791640548.52454,77701002717.44228,-97582581692.36623,
<br>
0.425,114190715631.84859,-93597016473.47838,102702962444.57387,-84181019574.22856,
<br>
0.45,129576505487.87877,-70242407387.37112,122293107111.4408,-66294134249.45932,
<br>
0.475,139693366266.97638,-46476061118.57711,136263735886.55664,-45335021172.056786,
<br>
0.5,145380925151.96027,-22598062850.369175,144537304894.2855,-22466930216.670135,
<br>
0.525,147092456197.26797,1296272329.7016587,147089647482.11853,1296247577.5163705,
<br>
0.55,144961369596.75638,25190279639.631405,143916136767.1362,25008647061.65634,
<br>
0.575,138821333690.91516,49063111912.69887,135022718665.62317,47720581415.80769,
<br>
0.6,128181218128.33159,72804638816.00638,120437160649.14456,68406152704.116425,
<br>
0.625,112153505116.51373,96081038771.13014,100246365955.43747,85880284918.63054,
<br>
0.65,89340912916.4048,118071652342.42268,74679767533.97752,98695695638.74084,
<br>
0.675,57736721313.13496,136915491910.70355,44285293958.49709,105017096032.40569,
<br>
0.7,14921295956.333057,148559309932.41623,10295681990.533932,102505802195.29466,
<br>
0.725,-40349380399.99002,144710363092.91074,-24646177915.674988,88391874166.93732,
<br>
0.75,-102225813183.76715,111493411901.06221,-55332946036.8206,60349326183.32185,
<br>
0.775,-147005756694.44843,38692921316.92716,-73514743740.60791,19349583711.21276,
<br>
0.8,-142426707392.91986,-52907565282.22129,-71783576450.16469,-26665604553.72296,
<br>
0.825,-92422782285.26747,-119538263607.411,-50945606515.22678,-65892296149.0132,
<br>
0.85,-30591257887.345062,-146916200532.29977,-19072129051.359436,-91594949988.85127,
<br>
0.875,22743580602.92643,-147432112734.7784,15986337271.084253,-103629218279.87894,
<br>
0.9,63579888062.0425,-134193782232.84093,49521539814.12235,-104521774608.45015,
<br>
0.925,93592049434.77249,-114639483071.23749,79189780161.76295,-96998361688.79286,
<br>
0.95,115180262833.29309,-92350124393.89162,103907295542.1198,-83311597253.7434,
<br>
0.975,130250985370.46527,-68959590404.01472,123196238845.70583,-65224552013.57295,
<br>
1,140109918335.2375,-45182099795.28346,136859080593.3514,-44133782324.133865,
<br>
・kbetaのみ変更0.5
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.025,145176692438.46588,23895983920.933964,144218049674.7055,23738191980.06544,
<br>
0.05,139258479835.59644,47785734467.19015,135569318604.78456,46519820325.44201,
<br>
0.075,128852167956.39511,71587383804.7661,121134152954.42064,67299427219.16744,
<br>
0.1,113034164613.86891,95020555603.28502,100916433687.81165,84833958222.05579,
<br>
0.125,90264126710.55682,117347914772.5622,75018243307.48097,97527497831.58354,
<br>
0.15,58087827756.67877,136760526556.432,43828025533.123436,103187605412.7285,
<br>
0.175,12834299402.78972,148789144481.37424,8508158436.889433,98635817601.51228,
<br>
0.2,-49559651179.5788,141983340390.0874,-27643966912.8862,79197142645.38521,
<br>
0.225,-123765630009.42245,87589878596.65831,-55240644467.67176,39094224641.81833,
<br>
0.25,-141992712923.55493,-54041125520.88986,-50370027016.06038,-19170370763.54061,
<br>
0.275,20871153418.535454,-147740411868.2874,7110124828.906045,-50330365054.219734,
<br>
0.3,141883521377.29578,-39147828775.35926,59172789729.10452,-16326675698.40852,
<br>
0.325,131080205329.23872,67339735271.17512,68745763705.6266,35316709470.541534,
<br>
0.35,84710966222.84447,121530582707.16083,53205891593.48722,76331829243.93053,
<br>
0.375,37847508957.784485,144034117520.99426,27197287040.66858,103503172222.96748,
<br>
0.4,-2771650151.9831977,149576752880.9085,-2201700369.122022,118818456144.01561,
<br>
0.425,-36868177960.560555,145576180143.11697,-31546974624.227966,124565094206.16684,
<br>
0.45,-65330710057.85347,135744832839.3807,-59006817558.36976,122604982844.2338,
<br>
0.475,-89051312795.93001,122000854974.14311,-83496183822.5516,114390293568.98016,
<br>
0.5,-108697288176.08583,105349534381.88113,-104288364182.73656,101076400271.37773,
<br>
0.525,-124688592110.31223,86298031328.17513,-120825395516.27727,83624280225.07515,
<br>
0.55,-137205267982.67914,65059866430.970024,-132615810818.0463,62883641898.83788,
<br>
0.575,-146177579340.6412,41662245957.31706,-139172506808.04114,39665721893.10382,
<br>
0.6,-151238145846.0743,16011396886.577208,-139969529908.25003,14818402347.180075,
<br>
0.625,-151611761043.80762,-12046348505.054657,-134408922046.6908,-10679492844.195105,
<br>
0.65,-145897306123.6044,-42616660798.40887,-121798515453.47934,-35577394516.33991,
<br>
0.675,-131652673451.84377,-75481622612.32213,-101360039050.75269,-58113671488.77295,
<br>
0.7,-104630445770.37271,-109295587279.4147,-72344463727.73492,-75570075147.05667,
<br>
0.725,-57599248484.543304,-139061780778.65967,-34544468579.50608,-83400659611.16959,
<br>
0.75,19384930663.300655,-147967802529.80942,9651019545.650417,-73667539964.20953,
<br>
0.775,119200792148.38875,-86984924951.76099,47491876428.2738,-34656458505.65385,
<br>
0.8,121351933503.94661,83894617486.07384,41320763867.55731,28566414879.48242,
<br>
0.825,-50565966786.61371,141645927964.43512,-18797010850.66397,52654388200.18173,
<br>
0.85,-143884192531.85468,48880650069.62996,-66870386270.35764,22717352711.130413,
<br>
0.875,-147468203262.18307,-36923070403.53064,-84179628613.9133,-21076884949.4191,
<br>
0.9,-121329749997.66507,-90866209182.98355,-81291794669.57784,-60881005849.33341,
<br>
0.925,-88510879248.88019,-122382356460.4201,-66967785096.490166,-92595118437.34348,
<br>
0.95,-55882404887.5177,-139729644455.91727,-46346449562.843666,-115885723462.42686,
<br>
0.975,-25318372613.952385,-147826714869.01382,-22489482960.008232,-131309639674.41568,
<br>
1,2828700579.245502,-149482085023.15744,2641047530.765584,-139565599286.3702,
<br>
・kbetaのみ変更0.1
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.025,0,145162954533.47018,23980705942.470203,143432957443.8769,23694912975.385746,
<br>
0.05,0,139022886568.21747,48478829170.45809,132320713174.81544,46141706650.34631,
<br>
0.075,0,127504774866.8692,74005440507.67946,113398449393.53851,65817944535.95176,
<br>
0.1,0,107903650444.294,100934422061.62721,86031165615.4201,80474626622.23354,
<br>
0.125,0,73800911790.94273,128658866102.25687,49366758205.581856,86062231207.47318,
<br>
0.15,0,6833484264.867963,149285607992.6484,3350208520.668752,73189297951.77475,
<br>
0.175,0,-145854685261.69608,42759770788.28867,-32330787929.01624,9478317948.916527,
<br>
0.2,0,-3722932477.4566607,-149572000302.96667,-949881249.589849,-38162292604.48337,
<br>
0.225,0,132693715791.84297,-64039769740.546776,68405004000.10013,-33013173827.610023,
<br>
0.25,0,147098050340.3405,84124270.89598542,101111008414.15446,57824626.78953615,
<br>
0.275,0,141064993575.19897,42049735368.0845,114206282706.57396,34043484804.215767,
<br>
0.3,0,128530120001.87202,72174992096.25555,115160543603.5822,64667420556.89343,
<br>
0.325,0,112958331674.04399,95112659029.68936,107662215714.95146,90653247634.94218,
<br>
0.35,0,95346338482.22711,113146289132.4068,93867864422.57188,111391802740.04579,
<br>
0.375,0,75835970112.49373,127430362884.99501,75220111963.7641,126395510594.42781,
<br>
0.4,0,54132640212.70215,138444716851.75223,52824007502.22701,135097876861.07762,
<br>
0.425,0,29579273189.862072,146097564737.21176,27680983436.06633,136721556462.26155,
<br>
0.45,0,1058670147.505807,149534676937.86502,921210430.5483837,130118814106.91095,
<br>
0.475,0,-33273314669.91725,146378054834.64105,-25799217402.8165,113497536904.38956,
<br>
0.5,0,-76381686118.59444,130062569437.67195,-49254998085.55424,83871303897.48306,
<br>
0.525,0,-130394109527.00873,77594428250.02861,-60568367977.7387,36042792886.25769,
<br>
0.55,0,-74656204904.56468,-131027431812.35657,-14303033295.088774,-25102933134.329777,
<br>
0.575,0,136530788007.73053,-55219273152.42157,39294929966.69632,-15892660571.28024,
<br>
0.6,0,119916184899.08337,85975500491.53827,63840941655.98622,45771610523.99745,
<br>
0.625,0,73797926918.63635,128660635730.07281,51223965241.77903,89304784128.80902,
<br>
0.65,0,35387261715.92298,144700550191.80008,28625812295.210163,117052594293.8467,
<br>
0.675,0,3263955201.0484405,149465939677.38678,2903736759.069016,132970496387.51431,
<br>
0.7,0,-24525659460.434933,147946870370.4161,-23112667188.362995,139423234753.28357,
<br>
0.725,0,-49298449335.635544,142069624160.26816,-47840564082.83314,137868250430.95865,
<br>
0.75,0,-71901084941.78963,132506933130.1091,-70130152268.42126,129243270870.79932,
<br>
0.775,0,-92848096415.70398,119217221762.72206,-88917958868.4715,114170913894.12941,
<br>
0.8,0,-112348257222.52686,101538011035.83133,-102995166368.32846,93084882648.69772,
<br>
0.825,0,-130159384216.98589,77979891679.59708,-110741552792.2073,66346459328.43736,
<br>
0.85,0,-144989837482.10648,45558108957.77031,-109655304514.85268,34455437688.87712,
<br>
0.875,0,-152083917218.0378,-2030445227.7360249,-95247488838.9627,-1271632219.267789,
<br>
0.9,0,-129503013830.11284,-79044101193.68102,-57695893967.49226,-35215551718.42579,
<br>
0.925,0,120339057124.75626,-85370394001.38515,19345509152.965008,-13724004309.206694,
<br>
0.95,0,103709614569.67398,105337486775.28682,32530498346.535286,33041111507.26093,
<br>
0.975,0,-17881225692.77743,148784263612.26624,-9673390588.676538,80489353475.9983,
<br>
1,0,-75941275553.55077,130311690206.56801,-52738337906.89914,90496530394.55447,
<br>
<br>
test caseを示す（最小構成の時間発展方程式）
<br>
・index
<br>
kT,x_eq,y_eq,x_o4,y_o4,
<br>
・<a href="#span-out-orthogonal">平面直交座標</a>(x,y)が地球の公転軌道を表す
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.1,117646002546.96661,89119540358.84045,117646073297.56566,89119593954.03902,
<br>
0.2,41450402656.69291,142976210420.25403,41450492075.003555,142976518853.71616,
<br>
0.3,-50970620178.48008,141508006164.01318,-50970826324.21523,141508578479.43448,
<br>
0.4,-124372435453.38525,86743819962.29999,-124373124876.82632,86744300802.14711,
<br>
0.5,-152097700972.89758,2847219.7676068433,-152098630190.86963,2847237.1622667327,
<br>
0.6,-124375748282.34135,-86739166642.60599,-124376437732.55945,-86739647462.52614,
<br>
0.7,-50976068701.38534,-141506140282.7534,-50976274874.82786,-141506712606.37158,
<br>
0.8,41444840400.38047,-142977919635.92853,41444929811.39907,-142978228089.31644,
<br>
0.9,117642505503.85786,-89124253360.68848,117642576260.75436,-89124306965.0855,
<br>
1,147098073884.093,-5888056.316422202,147098073884.09283,-5888056.316422196,
<br>
・rmaxのみ変更rmax=252097701000（er=0.26302790153528055）
<br>
0,147098074000,0,147098074000,0,
<br>
0.1,83558074667.10545,140897296649.1117,83558183078.02693,140897479453.77573,
<br>
0.2,-42228322695.23472,192314538907.63434,-42228485945.35978,192315282374.82703,
<br>
0.3,-155082630157.18417,165190459907.4064,-155083587063.47363,165191479182.03363,
<br>
0.4,-227489357066.74765,92629600233.49033,-227491097087.58316,92630308738.8748,
<br>
0.5,-252097700947.47586,4417785.365990307,-252099755868.8234,4417821.376637858,
<br>
0.6,-227493878139.50116,-92621649777.39735,-227495618215.91855,-92622358230.52074,
<br>
0.7,-155091370727.45825,-165185407265.03,-155092327715.35928,-165186426537.96207,
<br>
0.8,-42240032760.89792,-192315120738.01874,-42240196066.392654,-192315864253.44437,
<br>
0.9,83547762257.4613,-140906565256.13443,83547870672.59554,-140906748102.49408,
<br>
1,147098073382.89758,-15142709.332271695,147098073382.89954,-15142709.332271896,
<br>
・kalphaのみ変更1.5
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.025,145176982934.70328,23894189094.51183,144235140747.86908,23739174471.294823,
<br>
0.05,139263871802.59866,47769740467.03783,135651613121.42136,46530677833.87884,
<br>
0.075,128886639964.42763,71524114308.4259,121373408022.10637,67354735229.13097,
<br>
0.1,113181883376.86122,94840711884.62572,101482636303.83836,85037332688.10628,
<br>
0.125,90783204642.07219,116935825123.62297,76197627042.21185,98148467282.8327,
<br>
0.15,59717053231.46406,136027281303.17053,46041966660.76259,104877304083.29803,
<br>
0.175,17566782854.624187,148225244224.15256,12196741600.83412,102913835588.66194,
<br>
0.2,-37070127531.25197,145528368286.16562,-22798368169.277504,89500887647.74637,
<br>
0.225,-98996388311.38782,114299125171.07483,-53905204138.25832,62237802613.4755,
<br>
0.25,-145630307313.10352,43504724424.15245,-72997576096.23329,21806857997.421677,
<br>
0.275,-144102351122.4571,-48245198341.1024,-72420216639.69954,-24246153435.198257,
<br>
0.3,-95726872652.55399,-116980430835.62357,-52442245232.92065,-64085624771.225716,
<br>
0.325,-33816872641.424587,-146262758562.0165,-20940003121.38947,-90568476077.23189,
<br>
0.35,20174187856.649506,-147848950267.3927,14093806977.094774,-103288151257.49425,
<br>
0.375,61664639096.5257,-135119767307.36887,47787466770.425735,-104712060020.67314,
<br>
0.4,92200128556.54959,-115791640548.53993,77701002717.42625,-97582581692.379,
<br>
0.425,114190715631.83386,-93597016473.49666,102702962444.56049,-84181019574.24487,
<br>
0.45,129576505487.86786,-70242407387.39171,122293107111.43033,-66294134249.47865,
<br>
0.475,139693366266.96915,-46476061118.59911,136263735886.54951,-45335021172.07821,
<br>
0.5,145380925151.95682,-22598062850.391777,144537304894.282,-22466930216.6926,
<br>
0.525,147092456197.26816,1296272329.6791878,147089647482.1187,1296247577.4939003,
<br>
0.55,144961369596.7601,25190279639.609375,143916136767.14,25008647061.634483,
<br>
0.575,138821333690.92233,49063111912.67824,135022718665.63023,47720581415.78766,
<br>
0.6,128181218128.342,72804638815.98761,120437160649.15453,68406152704.09889,
<br>
0.625,112153505116.52739,96081038771.11383,100246365955.44984,85880284918.6161,
<br>
0.65,89340912916.42151,118071652342.4097,74679767533.99164,98695695638.73016,
<br>
0.675,57736721313.15416,136915491910.69508,44285293958.511925,105017096032.39944,
<br>
0.7,14921295956.354265,148559309932.41373,10295681990.54859,102505802195.29318,
<br>
0.725,-40349380399.96756,144710363092.9166,-24646177915.661324,88391874166.94112,
<br>
0.75,-102225813183.74614,111493411901.08102,-55332946036.80935,60349326183.33217,
<br>
0.775,-147005756694.43964,38692921316.96002,-73514743740.60359,19349583711.229214,
<br>
0.8,-142426707392.93112,-52907565282.19151,-71783576450.17027,-26665604553.707916,
<br>
0.825,-92422782285.29857,-119538263607.3876,-50945606515.24375,-65892296149.00008,
<br>
0.85,-30591257887.390358,-146916200532.29108,-19072129051.38758,-91594949988.84541,
<br>
0.875,22743580602.881233,-147432112734.78613,15986337271.052408,-103629218279.88385,
<br>
0.9,63579888062.001564,-134193782232.86108,49521539814.09023,-104521774608.46536,
<br>
0.925,93592049434.73784,-114639483071.26656,79189780161.7333,-96998361688.81705,
<br>
0.95,115180262833.26544,-92350124393.92691,103907295542.0945,-83311597253.77496,
<br>
0.975,130250985370.44466,-68959590404.05446,123196238845.68602,-65224552013.610374,
<br>
1,140109918335.22397,-45182099795.32609,136859080593.33798,-44133782324.17544,
<br>
・kbetaのみ変更0.5
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.025,145176692438.46588,23895983920.933994,144218049674.7055,23738191980.06547,
<br>
0.05,139258479835.59644,47785734467.190155,135569318604.78455,46519820325.44202,
<br>
0.075,128852167956.39511,71587383804.76608,121134152954.42064,67299427219.16743,
<br>
0.1,113034164613.8689,95020555603.28506,100916433687.81163,84833958222.05583,
<br>
0.125,90264126710.5567,117347914772.56232,75018243307.48087,97527497831.58363,
<br>
0.15,58087827756.67797,136760526556.43239,43828025533.12282,103187605412.72876,
<br>
0.175,12834299402.787115,148789144481.37448,8508158436.887703,98635817601.51244,
<br>
0.2,-49559651179.58439,141983340390.0856,-27643966912.889297,79197142645.38414,
<br>
0.225,-123765630009.41975,87589878596.66208,-55240644467.67056,39094224641.82002,
<br>
0.25,-141992712923.60995,-54041125520.7478,-50370027016.0796,-19170370763.4901,
<br>
0.275,20871153418.371944,-147740411868.3133,7110124828.850212,-50330365054.22763,
<br>
0.3,141883521377.21005,-39147828775.6753,59172789729.0682,-16326675698.540173,
<br>
0.325,131080205329.40662,67339735270.842155,68745763705.71596,35316709470.36758,
<br>
0.35,84710966223.14685,121530582706.94392,53205891593.67895,76331829243.79689,
<br>
0.375,37847508958.14244,144034117520.894,27197287040.9269,103503172222.89961,
<br>
0.4,-2771650151.6103024,149576752880.90918,-2201700368.8258996,118818456144.0211,
<br>
0.425,-36868177960.19652,145576180143.20288,-31546974623.917744,124565094206.2454,
<br>
0.45,-65330710057.512924,135744832839.53827,-59006817558.064415,122604982844.38075,
<br>
0.475,-89051312795.62317,122000854974.36076,-83496183822.26674,114390293569.18811,
<br>
0.5,-108697288175.82028,105349534382.14876,-104288364182.48483,101076400271.63747,
<br>
0.525,-124688592110.0943,86298031328.48357,-120825395516.069,83624280225.37607,
<br>
0.55,-137205267982.51463,65059866431.31055,-132615810817.8897,62883641899.16815,
<br>
0.575,-146177579340.5355,41662245957.68139,-139172506807.94214,39665721893.451164,
<br>
0.6,-151238145846.03363,16011396886.954594,-139969529908.21304,14818402347.52941,
<br>
0.625,-151611761043.8382,-12046348504.676308,-134408922046.71744,-10679492843.859648,
<br>
0.65,-145897306123.7125,-42616660798.04524,-121798515453.56813,-35577394516.035934,
<br>
0.675,-131652673452.03476,-75481622611.99536,-101360039050.89763,-58113671488.52015,
<br>
0.7,-104630445770.64828,-109295587279.15727,-72344463727.92325,-75570075146.87637,
<br>
0.725,-57599248484.89062,-139061780778.5221,-34544468579.71304,-83400659611.08386,
<br>
0.75,19384930662.934517,-147967802529.86353,9651019545.467737,-73667539964.23346,
<br>
0.775,119200792148.136,-86984924952.11458,47491876428.17173,-34656458505.793724,
<br>
0.8,121351933504.26471,83894617485.60432,41320763867.66713,28566414879.323586,
<br>
0.825,-50565966786.0039,141645927964.64203,-18797010850.438553,52654388200.2622,
<br>
0.85,-143884192531.60495,48880650070.352196,-66870386270.2434,22717352711.466694,
<br>
0.875,-147468203262.37308,-36923070402.784836,-84179628614.02,-21076884948.99293,
<br>
0.9,-121329749998.13031,-90866209182.37524,-81291794669.8854,-60881005848.92273,
<br>
0.925,-88510879249.50414,-122382356459.98172,-66967785096.95762,-92595118437.0054,
<br>
0.95,-55882404888.2275,-139729644455.64615,-46346449563.4287,-115885723462.1929,
<br>
0.975,-25318372614.70132,-147826714868.89825,-22489482960.671604,-131309639674.30205,
<br>
1,2828700578.4905634,-149482085023.18433,2641047530.0605044,-139565599286.38354,
<br>
・kbetaのみ変更0.1
<br>
0,147098073999.99997,0,147098074000,0,
<br>
0.025,145162954533.47015,23980705942.47039,143432957443.87686,23694912975.38593,
<br>
0.05,139022886568.2173,48478829170.45858,132320713174.81526,46141706650.34678,
<br>
0.075,127504774866.86862,74005440507.68042,113398449393.538,65817944535.95262,
<br>
0.1,107903650444.29156,100934422061.62985,86031165615.41814,80474626622.23563,
<br>
0.125,73800911790.92825,128658866102.26541,49366758205.572105,86062231207.47876,
<br>
0.15,6833484264.686319,149285607992.65982,3350208520.5796294,73189297951.77884,
<br>
0.175,-145854685272.05933,42759770753.554955,-32330787931.27656,9478317941.2065,
<br>
0.2,-3723061256.8467317,-149571999250.11707,-949914093.1249884,-38162291786.974884,
<br>
0.225,132693660277.7089,-64039886902.861206,68404974951.29937,-33013234018.160297,
<br>
0.25,147098050413.71948,83993716.55452698,101111008465.43588,57734887.4556947,
<br>
0.275,141065030509.93604,42049609301.740654,114206313087.8074,34043382883.586555,
<br>
0.3,128530183754.84512,72174876388.25569,115160601557.30424,64667317352.07901,
<br>
0.325,112958416135.50589,95112556529.66833,107662297245.39177,90653150807.12749,
<br>
0.35,95346439481.50429,113146201815.00438,93867964926.4119,111391718047.1938,
<br>
0.375,75836084462.40714,127430292609.76704,75220226354.3189,126395442518.59857,
<br>
0.4,54132765132.34455,138444665766.09354,52824130143.77331,135097828907.49919,
<br>
0.425,29579405804.81425,146097535626.61105,27681107951.79574,136721531252.44093,
<br>
0.45,1058806803.9091433,149534673686.6919,921329357.297437,130118813264.88335,
<br>
0.475,-33273179811.727013,146378083178.30472,-25799113224.768166,113497560585.13615,
<br>
0.5,-76381565034.26578,130062638200.1861,-49254920664.63166,83871349364.32553,
<br>
0.525,-130394036186.62662,77594549098.74965,-60568334400.15863,36042849311.881424,
<br>
0.55,-74656331461.52693,-131027362137.2198,-14303057340.966644,-25102919433.565292,
<br>
0.575,136530675782.83673,-55219555631.53874,39294897166.890015,-15892741669.23481,
<br>
0.6,119916362844.65125,85975247194.38351,63841037677.132996,45771476596.13394,
<br>
0.625,73798196450.05496,128660475938.03633,51224153882.00385,89304675927.17055,
<br>
0.65,35387567531.64235,144700470141.8086,28626060660.69309,117052533554.51472,
<br>
0.675,3264273328.958136,149465927412.6905,2904019880.8304763,132970490204.55502,
<br>
0.7,-24525342653.101795,147946917522.13858,-23112369449.077484,139423284110.2181,
<br>
0.725,-49298143453.18094,142069724891.38983,-47840268872.20482,137868352869.29465,
<br>
0.75,-71900798194.02844,132507083273.57314,-70129874812.27246,129243421424.0313,
<br>
0.775,-92847837157.33405,119217418185.30872,-88917713133.44252,114171105275.69891,
<br>
0.8,-112348035328.18967,101538251023.672,-102994965468.75789,93085104936.56252,
<br>
0.825,-130159212947.4345,77980171983.1191,-110741409162.31299,66346699066.30179,
<br>
0.85,-144989736889.15472,45558423488.71889,-109655229649.5749,34455675948.6177,
<br>
0.875,-152083921726.61295,-2030113143.9160638,-95247491615.42476,-1271424240.3684185,
<br>
0.9,-129503190375.91267,-79043817609.24973,-57695971499.915276,-35215424691.776695,
<br>
0.925,120338866226.0798,-85370668606.81783,19345478046.154053,-13724048157.608175,
<br>
0.95,103709990230.37575,105337108109.43132,32530617561.10511,33040994134.594463,
<br>
0.975,-17880681009.149597,148784319905.27673,-9673096513.089552,80489388818.11534,
<br>
1,-75940792684.72919,130311962266.09206,-52738005394.1805,90496724170.9786,
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Newton法
    </th>
    <td>
<span id="span-out-method-Newton"></span>
Newton法について記述する
<br>
<br>
連立方程式{f[i]}=0の解法を一般化する
<br>
・近似解の列vector{x}の各要素を表す添字をjとする
<br>
・方程式の列vector{f}の各要素を表す添字をiとする
<br>
・方程式の全微分dfを次のtensorで表記する
<br>
{df[i]}=(df[i]/dx[j]){dx[j]}
<br>
・左辺の全微分を単純に仮定すると
<br>
{df[i]}={0-f[i]}
<br>
・<a href="#span-out-linear">連立線形方程式</a>A*x=bに一般化されたNewton-Raphson法が導出される
<br>
・ここで、<a href="#span-out-type-ope">前置単項</a>の符号は<a href="#span-out-FNm-init">scalar倍</a>||<a href="#span-out-FNm-init">zeros行列</a>との差||和で定義される
<br>
(df[i]/dx[j]){dx[j]}={-f[i]}
<br>
A=(df[i]/dx[j])
<br>
x={dx[j]}
<br>
b={-f[i]}
<br>
・Jacobi行列Aがfull-rankであれば求解の必要十分条件を満たす
<br>
・求解して得られたdx（解の修正vector）から近似解を修正する
<br>
・f||dxのnormが許容誤差範囲内に収束するまで近似解の修正を反復する
<br>
・fが線形の場合、反復1回で厳密解が得られる
<br>
Newton((x,y)=&lt;(2x+y+2=0,2x-3y=2)) -> (-0.5,-1)
<br>
Newton((x,y)=&lt;(2x+y+1=0,y)) -> (-0.5,0)
<br>
Newton((x)=&lt;2x+1=0) -> -0.5
<br>
<br>
上記の反復1回の処理をまとめた<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>について記述する
<br>
・<a href="#span-out-FNm-init">scalar倍</a>の符号位置を変えて次の<a href="#span-out-linear">連立線形方程式</a>を<a href="#span-out-method-Gauss">Gaussの消去法</a>で解く
<br>
A=(df[i]/dx[j])
<br>
x={-dx[j]}
<br>
b={f[i]}
<br>
・ここで、Jacobi行列Aは解析的に陰の前提で<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>から得る（<a href="#span-out-evolution-method">Euler前進差分</a>のsecant法）
<br>
・最後に、符号付の解の修正vectorをmdxとして近似解のvectorを一度に修正する
<br>
x=x-mdx
<br>
<br>
留意事項を列挙する
<br>
・<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>の反復過程で<a href="#span-out-FNmh-jacobian">Jacobi行列</a>の対角要素=0の場合、<del>収束計算のretry機能は未実装</del>
<br>
・<span class="run">Ver.2.408.86</span>以降、収束計算のretry機能を追加
<br>
　近似解の列vector{x}の各要素初期値の係数倍：区間[-1,1)の<a href="#span-out-FN-rand">乱数</a>*retry回数
<br>
　<span class="run">Ver.2.834.140</span>~<span class="run">2.836.141</span>以降、機能を強化
<br>
　連立方程式の列挙順序：昇順　⇒　Fisher-Yates shuffle（<span class="clear">Ver.2.840.146</span>以降、次の暫定対策）
<br>
・現状、収束可否が初期値より連立方程式の列挙順序に依存（変数消去の順序を最適化する<a href="#span-out-method-Gauss">完全pivot選択</a>は未実装）
<br>
　<a href="#span-out-non-linear1">電気回路計算</a>：<a href="#span-out-UI-graphing-testcase"><span class="selection">switching</span>回路</a>
<br>
　<a title="[spec]Incompressible flow" href="../10_fluid/spec.html">CFD解析</a>：<a title="Incompressible flow" href="../10_fluid/index.html?sim=fluid&testcase=27.2">多少複雑な迷路</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Gauss
<br>
の消去法
    </th>
    <td>
<span id="span-out-method-Gauss"></span>
Gaussの消去法について記述する
<br>
<br>
実装
<br>
・<span class="clear">前処理（scalingを含む）</span>：なし　<span class="clear">Ver.2.840.146</span>以降、修正
<br>
・pivot選択：部分選択法
<br>
・前進消去
<br>
・後退代入
<br>
・<span class="run">Ver.2.124.34</span>以降、<a href="#span-out-FNm-coo">座標形式</a>に対応
<br>
<br>
full-rank2元1次の<a href="#span-out-linear">連立線形方程式</a>A*x=bを一例に示す
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
x=Gauss(A,b); x -> (-3.9999999999999982:4.499999999999999)
<br>
x=Gauss((1,2:3,4),{5,6}); x -> (-3.9999999999999982:4.499999999999999)
<br>
・解のdouble-check
<br>
A*x -> (5:6.000000000000002)
<br>
・<span class="clear">Ver.2.224.51</span>以降、<a href="#span-out-mat-blank">欠損要素</a>||<a href="#span-out-vars-symbol">変数名symbol</a>要素残存時のerror処理を追加
<br>
clear; x=Gauss((1,2:3,a),{5,6}); x -> [MyErr]Invalid irregular matrix
<br>
clear; x=Gauss((1,2:3,4),a); x -> [MyErr]Invalid irregular matrix
<br>
・<a href="#span-out-array">行列操作</a>を駆使して演算内容を以下に示す
<br>
・pivot選択
<br>
A=(1,2:3,4); A=(A[1]:A[0]); A -> (3,4:1,2)
<br>
b={5,6}; b=(b[1]:b[0]); b -> (6:5)
<br>
・前進消去
<br>
k=A[1][0]/A[0][0]; k -> 0.3333333333333333
<br>
・行vectorの左から無次元係数kを積
<br>
A[1]=A[1]-k(A[0]); A -> (3,4:0,0.6666666666666667)
<br>
b[1]=b[1]-k(b[0]); b -> (6:3)
<br>
・後退代入
<br>
x={,}; x -> (0:0)
<br>
x[1]=b[1]/A[1][1]; x -> (0:4.499999999999999)
<br>
x[0]=(b[0]-A[0]x)/A[0][0]; x -> (-3.9999999999999982:4.499999999999999)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
連立
<br>
線形方程式
<br>
の解法
    </th>
    <td>
<span id="span-out-linear"></span>
連立線形方程式の解法について記述する
<br>
<br>
連立方程式の解法には直接法と反復法の2種類が存在し、特徴を列挙する
<br>
・直接法は解を厳密に解くため、線形方程式のみ適用可
<br>
・反復法は解の修正を繰り返して近似的に解くため、非線形方程式に拡張可
<br>
<br>
full-rank2元1次の連立線形方程式A*x=bを一例に示す
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
<br>
直接法
<br>
・<a href="#span-out-eqns">式変数</a>を使用して<a href="#span-out-method-Gauss">Gaussの消去法</a>のalgorithmを一般化する
<br>
clear;
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
sizeA=size(A);
<br>
x=zeros(sizeA,1),
<br>
compare=&lt;switch(abs(A[ir][ir])&lt;abs(A[ir_comp][ir]),=&lt;{ir_pivot=ir_comp});
<br>
proc=&lt;{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w};
<br>
pivotting=&lt;{ir_comp=ir+1,ir_pivot=ir,compare,switch(ir&lt;&gt;ir_pivot,=&lt;proc),ir=ir+1,=&lt;A}=&gt;;
<br>
ir=0;
<br>
pivotting -> (3,4:1,2)
<br>
pivotting -> [MyErr]Invalid reference of array
<br>
forward=&lt;{ir=ir+1,k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k(A[ic]),b[ir]=b[ir]-k(b[ic]),=&lt;A}=&gt;;
<br>
ic=0; ir=ic;
<br>
forward -> (3,4:0,0.6666666666666667)
<br>
forward -> [MyErr]Invalid reference of array
<br>
ic=ic+1; ir=ic;
<br>
forward -> [MyErr]Invalid reference of array
<br>
backward=&lt;{x[ir]=(b[ir]-A[ir]x)/A[ir][ir],ir=ir-1,=&lt;x}=&gt;;
<br>
ir -> 1
<br>
backward -> (0:4.499999999999999)
<br>
backward -> (-3.9999999999999982:4.499999999999999)
<br>
backward -> [MyErr]Invalid reference of array
<br>
・実際には重複する演算や自明の演算は行わないが、ここでは簡潔に記述する
<br>
厳密な記述は<a href="#span-eqn-solvex_Gauss">strict-mode式変数list-solvex_Gauss</a>参照
<br>
・さらに、<a href="#span-out-FNh-SX">総和高階関数</a>を使用して反復処理を記述する
<br>
・dummy変数を使用するだけで総和は無次元の0を返す
<br>
clear;
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
sizeA=size(A);
<br>
x=zeros(sizeA,1),
<br>
compare=&lt;switch(abs(A[ir][ir])&lt;abs(A[ir_comp][ir]),=&lt;{ir_pivot=ir_comp});
<br>
proc=&lt;{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w};
<br>
pivotting=&lt;last{ir_pivot=ir,compare,switch(ir&lt;&gt;ir_pivot,=&lt;proc)};
<br>
_sir(=&lt;{_sir_comp(=&lt;pivotting,ir+1,sizeA-1)},0,sizeA-2);
<br>
A -> (3,4:1,2)
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k(A[ic]),b[ir]=b[ir]-k(b[ic])};
<br>
_sic(=&lt;{_sir(=&lt;forward,ic+1,sizeA-1)},0,sizeA-2);
<br>
A -> (3,4:0,0.6666666666666667)
<br>
backward=&lt;{x[ir]=(b[ir]-A[ir]x)/A[ir][ir]};
<br>
_sir(=&lt;backward,sizeA-1,0);
<br>
x -> (-3.9999999999999982:4.499999999999999)
<br>
・最後に、一連のalgorithmを一般化した<a href="#span-out-eqns">式変数</a>solvexを定義する
<br>
・pivot選択ありの場合
<br>
clear;
<br>
solvex_pivotting=&lt;{
<br>
compare=&lt;switch(abs(A[ir][ir])&lt;abs(A[ir_comp][ir]),=&lt;{ir_pivot=ir_comp}),
<br>
proc=&lt;{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w},
<br>
pivotting=&lt;last{ir_pivot=ir,compare,switch(ir&lt;&gt;ir_pivot,=&lt;proc)},
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k(A[ic]),b[ir]=b[ir]-k(b[ic])},
<br>
backward=&lt;{x[ir]=(b[ir]-A[ir]x)/A[ir][ir]},
<br>
sizeA=size(A),
<br>
x=zeros(sizeA,1),
<br>
_sir(=&lt;{_sir_comp(=&lt;pivotting,ir+1,sizeA-1)},0,sizeA-2),
<br>
_sic(=&lt;{_sir(=&lt;forward,ic+1,sizeA-1)},0,sizeA-2),
<br>
_sir(=&lt;backward,sizeA-1,0),
<br>
=&lt;x}=&gt;;
<br>
・pivot選択なしの場合
<br>
clear;
<br>
solvex_no_pivotting=&lt;{
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k(A[ic]),b[ir]=b[ir]-k(b[ic])},
<br>
backward=&lt;{x[ir]=(b[ir]-A[ir]x)/A[ir][ir]},
<br>
sizeA=size(A),
<br>
x=zeros(sizeA,1),
<br>
_sic(=&lt;{_sir(=&lt;forward,ic+1,sizeA-1)},0,sizeA-2),
<br>
_sir(=&lt;backward,sizeA-1,0),
<br>
=&lt;x}=&gt;;
<br>
<br>
test caseを示す
<br>
・pivot選択ありの場合
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
solvex_pivotting -> (-3.9999999999999982:4.499999999999999)
<br>
・pivot選択なしの場合（参考）
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
solvex_no_pivotting -> (-4:4.5)
<br>
<br>
反復法
<br>
・連立方程式と未知変数初期値（以降、初期値と省略する）を定義する
<br>
clear;
<br>
A=(1,2:3,4);
<br>
b={5,6};
<br>
x0=0;
<br>
x1=0;
<br>
x=&lt;{x0,x1}; x_initial=&lt;{x0,x1};
<br>
・連立方程式を展開しない場合
<br>
f=&lt;{A*x=b}; || f=&lt;{=b-A*x}; || f=&lt;{b-A*x};
<br>
・連立方程式を展開する場合
<br>
f=&lt;{x0+2x1=5,3x0+4x1=6};
<br>
・いずれの結果も以下に同じ
<br>
・続けて以降の処理を反復する
<br>
J=Jacobi(=&lt;f,=&lt;x,=&lt;x_initial);
<br>
dx=Gauss(J,-f);
<br>
x_next=x+dx;
<br>
x0=x_next[0];
<br>
x1=x_next[1];
<br>
normf=max(normc(f),normc(-dx));
<br>
・反復3回目のnormと近似解を示す
<br>
normf -> infoLost[ri] 2.2204460494935903e-15
<br>
x0 -> infoLost[ri] -3.999999999999999-3.362471994400586e-26i
<br>
x1 -> infoLost[ri] 4.499999999999999+6.466216308756395e-26i
<br>
・normが<a href="#span-out-epsilon">Machine epsilon</a>に収束すれば収束判定条件を満たす
<br>
・その場合、近似解は厳密解にほぼ一致する
<br>
<br>
<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>を使用して反復1回の処理を簡潔にまとめる
<br>
clear;
<br>
x=&lt;{x0,x1}; x_initial=&lt;{0,0};
<br>
f=&lt;{x0+2x1=5,3x0+4x1=6};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
・実行用の<a href="#span-out-eqns">式変数</a>runを定義してnormのみ表示する
<br>
<br>
反復を実行
<br>
run -> 6.020797289251035
<br>
run -> 2.0548659974995737e-10
<br>
・反復3回目のnormと近似解は先述の通り一致する
<br>
run -> infoLost[ri] 2.2204460494935903e-15
<br>
x ->
<br>
(
<br>
infoLost[ri] -3.999999999999999-3.362471994400586e-26i:
<br>
infoLost[ri] 4.499999999999999+6.466216308756395e-26i
<br>
)
<br>
<br>
<a href="#span-out-FNh-RX">再帰高階関数</a>を使用して反復を実行
<br>
clear;
<br>
x=&lt;{x0,x1}; x_initial=&lt;{0,0};
<br>
f=&lt;{x0+2x1=5,3x0+4x1=6};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> infoLost[ri] 2.2204460494935903e-15
<br>
x ->
<br>
(
<br>
infoLost[ri] -3.999999999999999-3.362471994400586e-26i:
<br>
infoLost[ri] 4.499999999999999+6.466216308756395e-26i
<br>
)
<br>
<br>
rank落ち3元⇒実質2元1次の連立線形方程式A*x=bを一例に示す
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
・Aの2行目を2倍して3行目を引くと1行目になる
<br>
・この場合、3階から2階へのrank落ちと呼ぶ
<br>
・本例では右辺bも成立するため、不定の解が得られる
<br>
<br>
直接法
<br>
・解はalgorithmに従って一意に求まる
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
x=Gauss(A,b); x -> (-25.333333333333332:41.666666666666664:-16)
<br>
A*x -> (10i:10.999999999999986i:12i)
<br>
・algorithmを以下に示す
<br>
・pivot選択は<a href="#span-out-array">行列操作</a>で示す
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i); A=(A[2]:A[1]:A[0]);
<br>
b={10i,11i,12i}; b=(b[2]:b[1]:b[0]);
<br>
sizeA=size(A);
<br>
x=zeros(sizeA,1);
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k(A[ic]),b[ir]=b[ir]-k(b[ic])};
<br>
_sic(=&lt;{_sir(=&lt;forward,ic+1,sizeA-1)},0,sizeA-2);
<br>
A ->
<br>
(
<br>
7i,8i,9i:
<br>
0,0.4285714285714288i,0.8571428571428577i:
<br>
0,-1.1102230246251565e-16i,-2.220446049250313e-16i
<br>
)
<br>
・前進消去後、rank落ちの対角要素は限りなく0に近づく
<br>
・よって多くの場合、次の後退代入で解が発散する
<br>
backward=&lt;{x[ir]=(b[ir]-A[ir]x)/A[ir][ir]};
<br>
_sir(=&lt;backward,sizeA-1,0);
<br>
x -> (-25.333333333333332:41.666666666666664:-16)
<br>
・先述の<a href="#span-out-eqns">式変数</a>solvexを使用
<br>
・pivot選択ありの場合
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
solvex_pivotting -> (-25.333333333333332:41.666666666666664:-16)
<br>
・pivot選択なしの場合（参考）
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
solvex_no_pivotting -> (NaN:NaN:NaN)
<br>
・前進消去後、rank落ちの対角要素が0になる
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
sizeA=size(A);
<br>
x=zeros(sizeA,1);
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k(A[ic]),b[ir]=b[ir]-k(b[ic])};
<br>
_sic(=&lt;{_sir(=&lt;forward,ic+1,sizeA-1)},0,sizeA-2);
<br>
A -> (i,2i,3i:0,-3i,-6i:0,0,0)
<br>
・よって次の後退代入で解が発散する
<br>
backward=&lt;{x[ir]=(b[ir]-A[ir]x)/A[ir][ir]};
<br>
ir=sizeA-1; A[ir][ir] -> 0
<br>
backward; x[ir] -> NaN
<br>
<br>
反復法
<br>
・解が不定の場合、得られる近似解は初期値によって大きく異なる
<br>
・初期値が<a href="#span-out-FNm-init">zeros-vector</a>の場合
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
x=&lt;{x0,x1,x2}; x_initial=&lt;{0,0,0};
<br>
f=&lt;{A*x=b};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> 0.000002904400992198821
<br>
x ->
<br>
(
<br>
338886.6528089325-469606.73307464283i:
<br>
-677782.3056178652+939213.4661492857i:
<br>
338895.986142266-469606.7330746428i
<br>
)
<br>
A*x -> (-2.3283064365386963e-10+10.000000000116415i:11i:12i)
<br>
・初期値が<a href="#span-out-com">虚数単位</a>vectorの場合
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
x=&lt;{x0,x1,x2}; x_initial=&lt;{i,i,i};
<br>
f=&lt;{A*x=b};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> 0.000011389894276669376
<br>
x ->
<br>
(
<br>
-6.91661370055543-4.416691871261055i:
<br>
4.833227401110859+8.83338374252211i:
<br>
2.4167196327779044-4.416691871261055i
<br>
)
<br>
A*x -> (10.000000000000002i:11.000000000000005i:12.000000000000007i)
<br>
・初期値が直接法による厳密解の場合
<br>
・rank落ちの場合、近似解が厳密解に近づくとは限らない
<br>
・Jacobi行列の<a href="#span-out-error-numerical">数値誤差</a>が初期値の厳密解に上乗せして残る
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12i};
<br>
x=&lt;{x0,x1,x2}; x_initial=&lt;(-25.333333333333332:41.666666666666664:-16);
<br>
f=&lt;{A*x=b};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> 0.00013856472352298855
<br>
x ->
<br>
(
<br>
-25.33341533331434-0.00008200052251608464i:
<br>
41.66683066662869+0.0001640010450321693i:
<br>
-16.000081999981045-0.00008200052251608478i
<br>
)
<br>
A*x ->
<br>
(
<br>
3.2526065174565133e-19+9.999999999999915i:
<br>
6.505213034913027e-19+10.999999999999844i:
<br>
9.75781955236954e-19+11.999999999999773i
<br>
)
<br>
<br>
rank落ち3元⇒実質2元1次の連立線形方程式A*x=bを一例に示す
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12};
<br>
・本例では右辺bが成立しないため、解が不能で発散する
<br>
<br>
直接法
<br>
・解が17桁を超えて発散する
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12};
<br>
x=Gauss(A,b);
<br>
x ->
<br>
(
<br>
infoLost[r ] 54043195528445890+54043195528445910i:
<br>
-108086391056891790-108086391056891840i:
<br>
54043195528445900+54043195528445930i
<br>
)
<br>
A*x -> (infoLost[r ] -32+32i:infoLost[r ] 64i:infoLost[r ] -64)
<br>
<br>
反復法
<br>
・初期値に依らず、解が発散する
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
b={10i,11i,12};
<br>
x=&lt;{x0,x1,x2};
<br>
f=&lt;{A*x=b};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
run -> 234013055737.99323
<br>
run -> NaN
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
逆行列
<br>
の解法
    </th>
    <td>
<span id="span-out-inverse"></span>
逆行列の反復解法について記述する
<br>
<br>
任意の正方行列Aの逆行列Ainvを次の関係式から反復法で求解する
<br>
Ainv*A=単位行列identity(size(A))
<br>
<br>
full-rank2階の場合
<br>
clear;
<br>
A=(1,2:3,4);
<br>
Ainv=&lt;(x0,x1:x2,x3);
<br>
x=&lt;{x0,x1,x2,x3};
<br>
・連立方程式を展開しない場合
<br>
f=&lt;{Ainv*A=identity2}; || f=&lt;{=identity2-Ainv*A}; || f=&lt;{identity2-Ainv*A};
<br>
・連立方程式を展開する場合
<br>
f=&lt;{x0+3x1=1,2x0+4x1=0,x2+3x3=0,2x2+4x3=1};
<br>
・いずれの結果も以下に同じ
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> infoLost[ri] 4.965068306494841e-16
<br>
Ainv ->
<br>
(
<br>
infoLost[ri] -2-1.405479820560668e-34i,
<br>
infoLost[ri] 1+7.02739910280334e-35i:
<br>
infoLost[ i] 1.5000000000000002+2.2201233082568935e-28i,
<br>
infoLost[ i] -0.5000000000000001+5.05296129055519e-28i
<br>
)
<br>
Ainv*A ->
<br>
(
<br>
infoLost[ri] 1+7.02739910280334e-35i,
<br>
infoLost[ri] 0:
<br>
infoLost[ i] -2.220446049250313e-16+1.7379007179922464e-27i,
<br>
infoLost[ i] 1+2.4652091778734548e-27i
<br>
)
<br>
<br>
<a href="#span-out-FNmh-EX">symbolic高階行列関数</a>を使用
<br>
・逆行列Ainvと未知変数vectorを一般化して記述する
<br>
Ainv=&lt;(x0,x1,x2:x3,x4,x5:x6,x7,x8) || _eAinv(=&lt;{x},3,3) -> 0
<br>
x=&lt;{x0,x1,x2,x3,x4,x5,x6,x7,x8} || _ex(=&lt;{x},3*3,1) -> 0
<br>
・逆行列を解く<a href="#span-out-eqns">式変数</a>solveAinvを定義する
<br>
solveAinv=&lt;{
<br>
sizeA=size(A),
<br>
_eAinv(=&lt;{x},sizeA,sizeA),
<br>
_ex(=&lt;{x},sizeA*sizeA,1),
<br>
f=&lt;{Ainv*A=identity(sizeA)},
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx))),
<br>
_rn(=&lt;run,,3),
<br>
=&lt;Ainv}=&gt;;
<br>
<br>
full-rank3階の場合
<br>
clear;
<br>
A=(i,2,3i:4,5i,6:7i,8,9i);
<br>
Ainv=&lt;(x0,x1,x2:x3,x4,x5:x6,x7,x8);
<br>
x=&lt;{x0,x1,x2,x3,x4,x5,x6,x7,x8};
<br>
f=&lt;{Ainv*A=identity3};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> infoLost[ri] 3.4546432349907805e-16
<br>
Ainv ->
<br>
・<a href="#span-out-eqns">式変数</a>solveAinvを使用
<br>
A=(i,2,3i:4,5i,6:7i,8,9i); solveAinv ->
<br>
(
<br>
infoLost[ri] -1.8979941071411976e-27+0.7750000000000002i,
<br>
infoLost[ri] 0.05-4.672139890674269e-28i,
<br>
infoLost[ri] 4.304317789445746e-28-0.22500000000000006i:
<br>
infoLost[ri] 0.05000000000000003+8.567561244782949e-29i,
<br>
infoLost[ri] 3.393936952792186e-29-0.1i,
<br>
infoLost[ri] 0.05+8.5354798231355e-30i:
<br>
infoLost[ri] 2.8820733759262382e-36-0.5583333333333333i,
<br>
infoLost[ri] 0.05+4.64802404929633e-38i,
<br>
infoLost[ri] -9.847979430502188e-37+0.10833333333333334i
<br>
)
<br>
Ainv*A ->
<br>
(
<br>
infoLost[ri] 1.0000000000000002-7.538276107988833e-28i,
<br>
infoLost[ri] 1.983535962611336e-27,
<br>
infoLost[ri] -4.623380245326983e-27i:
<br>
infoLost[ri] -9.666493098090539e-30+5.551115123125783e-17i,
<br>
infoLost[ri] 1+4.093319111203523e-28i,
<br>
infoLost[ri] -1.302099385841768e-28:
<br>
infoLost[ri] -3.82559126345344e-36i,
<br>
infoLost[ri] -2.3466379950140902e-36,
<br>
infoLost[ri] 1+6.192008328452557e-38i
<br>
)
<br>
<br>
full-rank4階の場合
<br>
clear;
<br>
A=(i+1,2-i,3i,4:5i,6-i,7,8i:9-5i,10i,-11+3i,12-5i:-13,14i,-15,16i);
<br>
Ainv=&lt;(x0,x1,x2,x3:x4,x5,x6,x7:x8,x9,x10,x11:x12,x13,x14,x15);
<br>
x=&lt;{x0,x1,x2,x3,x4,x5,x6,x7,x8,x9,x10,x11,x12,x13,x14,x15};
<br>
f=&lt;{Ainv*A=identity4};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,3) -> infoLost[ri] 2.9893669801409083e-16
<br>
Ainv ->
<br>
・<a href="#span-out-eqns">式変数</a>solveAinvを使用
<br>
A=(i+1,2-i,3i,4:5i,6-i,7,8i:9-5i,10i,-11+3i,12-5i:-13,14i,-15,16i); solveAinv ->
<br>
(
<br>
0.06841552622694629+0.2755281676127789i,
<br>
infoLost[r ] 0.017370056945596502+0.04070708231511685i,
<br>
0.03704852337184109+0.014871122300002907i,
<br>
infoLost[r ] -0.0771427485472948+0.029183958646809872i:
<br>
infoLost[r ] -0.2463189713572816+0.22391026429285282i,
<br>
0.03674146878053252-0.07376715131162677i,
<br>
infoLost[ i] 0.011750959713282166-0.06258676545881785i,
<br>
infoLost[r ] -0.023736051458965405-0.035441311604425964i:
<br>
0.042729078026869684-0.37565683291263197i,
<br>
infoLost[ri] 0.10071161649924316+0.02655781643708819i,
<br>
0.018188177584406696+0.012939541975857932i,
<br>
0.039537548991770054+0.015088101343933952i:
<br>
infoLost[ i] 0.08721745526741176-0.29156760696583045i,
<br>
infoLost[ i] 0.025823672107836676-0.04398405433866421i,
<br>
0.013931517721997284+0.007610078051463436i,
<br>
infoLost[ri] 0.05862610643706584-0.005876821331234674i
<br>
)
<br>
Ainv*A ->
<br>
(
<br>
infoLost[r ] 1+5.551115123125783e-17i,
<br>
infoLost[r ] 5.551115123125783e-17-2.220446049250313e-16i,
<br>
infoLost[r ] 2.220446049250313e-16+5.551115123125783e-17i,
<br>
infoLost[r ] 1.1102230246251565e-16+2.220446049250313e-16i:
<br>
infoLost[ri] -5.551115123125783e-17-5.551115123125783e-17i,
<br>
infoLost[ri] 1+1.1102230246251565e-16i,
<br>
infoLost[ri] -1.1102230246251565e-16+1.1102230246251565e-16i,
<br>
infoLost[ri] -1.1102230246251565e-16+5.551115123125783e-17i:
<br>
infoLost[ri] -1.1102230246251565e-16+5.551115123125783e-17i,
<br>
infoLost[ri] -2.7755575615628914e-17+1.1102230246251565e-16i,
<br>
infoLost[ri] 0.9999999999999998,
<br>
infoLost[ri] 0:
<br>
infoLost[ri] -4.163336342344337e-17i,
<br>
infoLost[ri] -1.1102230246251565e-16i,
<br>
infoLost[ri] 2.220446049250313e-16-1.3877787807814457e-17i,
<br>
infoLost[ri] 1-1.1102230246251565e-16i
<br>
)
<br>
<br>
rank落ち3階⇒実質2階の場合
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
・rank落ちの場合、逆行列が一意に定まらず、不能となる
<br>
・行列式が0に漸近するため、逆行列を解く過程で発散する
<br>
・初期値が<a href="#span-out-FNm-init">zeros-vector</a>の場合
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
Ainv=&lt;(x0,x1,x2:x3,x4,x5:x6,x7,x8);
<br>
x=&lt;{x0,x1,x2,x3,x4,x5,x6,x7,x8};
<br>
f=&lt;{
<br>
x0(i)+x1(4i)+x2(7i)=1,x0(2i)+x1(5i)+x2(8i)=0,x0(3i)+x1(6i)+x2(9i)=0,
<br>
x3(i)+x4(4i)+x5(7i)=0,x3(2i)+x4(5i)+x5(8i)=1,x3(3i)+x4(6i)+x5(9i)=0,
<br>
x6(i)+x7(4i)+x8(7i)=0,x6(2i)+x7(5i)+x8(8i)=0,x6(3i)+x7(6i)+x8(9i)=1
<br>
};
<br>
f=&lt;{Ainv*A=identity3};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x),max(normc(f),normc(mdx)));
<br>
run -> infoLost[ i] 2787964185176708
<br>
run -> infoLost[ i] NaN
<br>
・初期値を変えてもnormは収束しない
<br>
clear;
<br>
A=(i,2i,3i:4i,5i,6i:7i,8i,9i);
<br>
Ainv=&lt;(x0,x1,x2:x3,x4,x5:x6,x7,x8);
<br>
x=&lt;{x0,x1,x2,x3,x4,x5,x6,x7,x8};
<br>
h=(-i);
<br>
x_initial=&lt;{h,h,h,h,h,h,h,h,h};
<br>
f=&lt;{Ainv*A=identity3};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
run -> infoLost[ i] 23884062379.765785
<br>
run -> infoLost[ i] 3.9299189118519258
<br>
run -> infoLost[ i] 3.5355470563991256
<br>
Ainv*A ->
<br>
(
<br>
infoLost[ i] 1.00262451171875-0.20006942749023438i,
<br>
infoLost[ i] 0.22774887084960938-0.0094451904296875i,
<br>
infoLost[ i] -0.547119140625+0.18117904663085938i:
<br>
infoLost[ i] -0.042938232421875-0.18405914306640625i,
<br>
infoLost[ i] 0.2579803466796875+0.04792022705078125i,
<br>
infoLost[ i] 0.55889892578125+0.2799072265625i:
<br>
infoLost[ i] 0.149261474609375+0.017391204833984375i,
<br>
infoLost[ i] 0.5675315856933594+0.01317596435546875i,
<br>
infoLost[ i] 0.9858055114746094+0.008953094482421875i
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
連立
<br>
非線形方程式
<br>
の解法
    </th>
    <td>
<span id="span-out-non-linear"></span>
連立非線形方程式の反復解法について記述する
<br>
<br>
<a href="#span-out-com">虚数単位</a>を求めるfull-rank1元2次の方程式を一例に示す
<br>
x0^2+1=0
<br>
・解を2個示す
<br>
x0=i; x0^2+1=0 -> -1.2246467991473532e-16i
<br>
x0=-i; x0^2+1=0 -> 1.2246467991473532e-16i
<br>
・非線形方程式を定義する
<br>
clear;
<br>
x=&lt;{x0};
<br>
f=&lt;{x0^2+1=0};
<br>
<br>
初期値を1+2iとした反復6回目の近似解を示す
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;{1+2i}),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,6) -> 4.848187063331881e-11
<br>
x -> 6.918085522901255e-17+0.9999999999999997i
<br>
<br>
初期値を1-2iとした反復6回目の近似解を示す
<br>
・上記演算に続けてClear実行しない場合、初期値を直接更新して実行
<br>
x0=1-2i;
<br>
_rn(=&lt;run,,6) -> 4.2544881989018353e-11
<br>
x -> -5.067058578678027e-17-1.0000000000000002i
<br>
・方程式||関数の次数に応じて収束までの反復回数が増える
<br>
<br>
<a href="#span-out-ope">実数演算</a>の場合、解が存在しないため、収束しない
<br>
・2次の方程式の場合、右辺に移項した関数の極値周辺を右往左往する
<br>
clear;
<br>
x=&lt;{x0};
<br>
f=&lt;{real(x0)^2+1=0}; || f=&lt;{-(real(x0)^2+1)};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;{1}),max(normc(f),normc(mdx)));
<br>
run -> 1.414206491330789
<br>
run -> 2500010689.1876636
<br>
run -> 625005364.923743
<br>
run -> 156251267.10125032
<br>
run -> 39062798.523787886
<br>
run -> 9765710.483364047
<br>
run -> 2441427.7048029117
<br>
run -> 610357.137491086
<br>
run -> 152589.53659088546
<br>
run -> 38147.63324071567
<br>
<br>
以上の結果をまとめる
<br>
・解が複数存在する場合、得られる近似解は初期値に依存する
<br>
・解が存在しない場合、解が収束しないか解が無限大に発散する
<br>
・高次の方程式||関数の場合、解が存在しても初期値によっては発散する
<br>
<br>
次に<a href="#span-out-FN">関数</a>を使用したfull-rank2元の連立非線形方程式を一例に示す
<br>
・連立非線形方程式と初期値を定義する
<br>
・反復6回目の近似解を示す
<br>
clear;
<br>
x=&lt;{x0,x1}; x_initial=&lt;{1+i,1-i};
<br>
f=&lt;{x0^i-2x1=3i,3x0+exp(x1)=5i};
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,6) -> infoLost[ i] 2.2368035825474494e-16
<br>
x ->
<br>
(
<br>
infoLost[ i] -0.04901921620544653+2.023423045158351i:
<br>
0.07726186556052178-1.434248862158042i
<br>
)
<br>
<br>
同じく引数の列vectorに<a href="#span-out-BT">丸括弧()</a>を使用する場合
<br>
・連立非線形方程式と初期値を定義する
<br>
・反復6回目の近似解を示す
<br>
clear;
<br>
x=&lt;(x0:x1); x_initial=&lt;(1+i:1-i);
<br>
f=&lt;(x0^i-2x1=3i:3x0+exp(x1)=5i);
<br>
run=&lt;last(mdx=Newton(=&lt;f,=&lt;x,=&lt;x_initial),max(normc(f),normc(mdx)));
<br>
_rn(=&lt;run,,6) -> infoLost[ i] 2.2368035825474494e-16
<br>
x ->
<br>
(
<br>
infoLost[ i] -0.04901921620544653+2.023423045158351i:
<br>
0.07726186556052178-1.434248862158042i
<br>
)
<br>
<br>
同じく引数の列vectorを直接<a href="#span-out-pass-by-equation">式渡し</a>する場合
<br>
・mdxのnormを返す<a href="#span-out-eqns">式変数</a>runを定義して反復6回目の近似解を示す
<br>
clear;
<br>
run=&lt;last(
<br>
mdx=Newton(=&lt;(x0^i-2x1=3i:3x0+exp(x1)=5i),=&lt;(x0:x1),=&lt;(1+i:1-i)),
<br>
normc(mdx));
<br>
_rn(=&lt;run,,6) -> 2.2368035825474494e-16
<br>
{x0,x1} ->
<br>
(
<br>
infoLost[ i] -0.04901921620544653+2.023423045158351i:
<br>
0.07726186556052178-1.434248862158042i
<br>
)
<br>
<br>
test caseを示す
<br>
・<a href="#span-out-config-strict">strict-mode</a>の<a href="#span-eqn-solvex_non_linear">solvex_non_linear</a>を使用
<br>
clear;
<br>
solvex_non_linear(<span class="jF">=</span>=&lt;f_,=&lt;x_initial_)=&lt;[
<br>
out=&lt;<span class="jF">x_solved</span>,
<div class="condition">
init=&lt;last{_ex(=&lt;x,sizer(x_initial_=&gt;),1)},
</div>
<div class="run">
run=&lt;last{
<br>
<span class="jF">x_solved</span>=Newton(=&lt;f_,=&lt;x,=&lt;x_initial_,Nmax=20,Nmax,1e-10,1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[f=&lt;{exp(<span class="condition">x0</span>)=i},=&lt;solvex_non_linear(=&lt;f,=&lt;{1+i})=&gt;]=&gt;;
<br>
-> 3.813245622601571e-17+1.5707963267948966i+O(9e-16+1e-15i)
<br>
exp(ans) -> 6.123233995736766e-17+i+O(1e-15+9e-16i)
<br>
・無次元の場合、<span class="condition">x=&lt;x0</span>から<a href="#span-out-reference-mat-index">行列index</a>を省略可
<br>
[f=&lt;{exp(<span class="condition">x</span><span class="selection">=&gt;</span>)=i},=&lt;solvex_non_linear(=&lt;f,=&lt;{1+i})=&gt;]=&gt;;
<br>
-> 3.813245622601571e-17+1.5707963267948966i+O(9e-16+1e-15i)
<br>
・<a href="#span-out-config-strict">Non-strict-mode</a>の場合、<a href="#span-out-eqns-call">式読出し</a>記号=&gt;を省略可
<br>
[f=&lt;{exp(<span class="condition">x</span>)=i},=&lt;solvex_non_linear(=&lt;f,=&lt;{1+i})=&gt;]=&gt;;
<br>
-> 3.813245622601571e-17+1.5707963267948966i+O(9e-16+1e-15i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
電気回路
    </th>
    <td>
<span id="span-out-non-linear1"></span>
電気回路計算について記述する
<br>
<br>
連立する方程式の列挙基準を示す
<br>
・Kirchhoff's Current Law(KCL)：接続線を分岐する明示的なnodeのみ（1本線のnodeは解かない）
<br>
・Kirchhoff's Voltage Law(KVL)：電源優先で独立の閉loop
<br>
・状態数（node||loop数）を動的に変更しない
<br>
　例：SW要素のon/off状態を抵抗値で代替
<br>
<br>
留意事項を列挙する
<br>
・状態を独立可能な場合、各状態の連立方程式を定義して切替える
<br>
・複雑な回路の場合、変数消去の順序（<a href="#span-out-method-Gauss">完全pivot選択</a>等）が問題になる可能性がある
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
信号変換
<br>
の解法
    </th>
    <td>
<span id="span-out-transform"></span>
信号変換の解法を列挙する
<br>
・<a href="#span-out-transform-fft">高速Fourier変換の解法</a>
<br>
・<a href="#span-out-transform-dft">離散Fourier変換の解法</a>
<br>
・<a href="#span-out-transform-dwt">離散Wavelet変換の解法</a>
<br>
・<a href="#span-out-transform-dwt-col">離散Wavelet変換の解法（列代入）</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
高速
<br>
Fourier変換
<br>
の解法
    </th>
    <td>
<span id="span-out-transform-fft"></span>
高速Fourier変換Fast Fourier Transform(FFT)の解法について記述する
<br>
<br>
前提を列挙する
<br>
・信号変換前の領域を実空間と記述する
<br>
・信号変換後の領域を波数領域と記述する
<br>
　実空間　⇔　波数領域
<br>
　・長さ　⇔　・波数
<br>
　・時間　⇔　・周波数
<br>
・信号変換前後のsampling離散点を標本点と記述する
<br>
・複素共役をoverlineで記述する
<br>
<br>
Split-Radix-2 FFTを一例に示す（LaTeX形式）
<br>
・<a href="../81_mathjax/index.html">MathJax表示Checker※CDN通信あり</a>
<br>
<br>
1次元FFT@Split-Radix-2
<br>
実空間
<br>
\(x=0,1,...,N_p-1\)
<br>
における偏角
<br>
\(\theta_{x,p}=x2\pi/N_p\)
<br>
とする標本点
<br>
\(f(x)\)
<br>
に対する1次元FFT@Split-Radix-2
<br>
\(N_p=2^p\)
<br>
\(p=0\)
<br>
\(F^{N_p=1}_x(u)=f(0)\)
<br>
\(p\gt0\)
<br>
\(F_x^{N_p=2^p}(u)\)
<br>
\(=\sum_{x=0}^{N_p-1}f(x)\mathrm{e}^{-\mathrm{i}u\theta_{x,p}}\)
<br>
\(=\sum_{x=0}^{N_{p-1}-1}\{f(x)\mathrm{e}^{-\mathrm{i}u\theta_{x,p}}\)
<br>
\(+f(x+N_{p-1})\mathrm{e}^{-\mathrm{i}u\theta_{x,p}}\mathrm{e}^{-\mathrm{i}u\pi}\}\)
<br>
\(=\sum_{x=0}^{N_{p-1}-1}\{f(x)\mathrm{e}^{-\mathrm{i}u\theta_{x,p-1}/2}\)
<br>
\(+f(x+N_{p-1})\mathrm{e}^{-\mathrm{i}u\theta_{x,p-1}/2}\mathrm{e}^{-\mathrm{i}u\pi}\}\)
<br>
\(=F_x^{N_{p-1}}(u/2)+F_{x+N_{p-1}}^{N_{p-1}}(u/2)\mathrm{e}^{-\mathrm{i}u\pi}\)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
離散
<br>
Fourier変換
<br>
の解法
    </th>
    <td>
<span id="span-out-transform-dft"></span>
離散Fourier変換Discrete Fourier Transform(DFT)の解法について記述する
<br>
<br>
前提を列挙する
<br>
・1次元の標本点数をNとして順変換DFTと逆変換IDFTの<a href="#span-out-FNm-normalize">正規化</a>係数(Nf,Ni)の制約条件を示す
<br>
Nf*Ni=1/N
<br>
<br>
(Nf,Ni)=(1,1/N)のDFT/IDFTを一例に示す（LaTeX形式）
<br>
・<a href="../81_mathjax/index.html">MathJax表示Checker※CDN通信あり</a>
<br>
<br>
1次元DFT
<br>
実空間
<br>
\(x=0,1,...,N-1\)
<br>
における偏角
<br>
\(\theta_x=x2\pi/N\)
<br>
とする標本点
<br>
\(f(x)\)
<br>
に対する1次元DFT
<br>
\(F(u)\)
<br>
\(=\sum_{x=0}^{N-1}f(x)\mathrm{e}^{-\mathrm{i}u\theta_x}\)
<br>
\(=F_x^N(u)\)
<br>
<br>
1次元IDFT
<br>
波数領域
<br>
\(u=0,1,...,N-1\)
<br>
における偏角
<br>
\(\theta_u=u2\pi/N\)
<br>
とする標本点
<br>
\(F(u)\)
<br>
に対する1次元IDFT
<br>
\(f(x)\)
<br>
\(=\frac{1}{N}\sum_{u=0}^{N-1}F(u)\mathrm{e}^{\mathrm{i}x\theta_u}\)
<br>
\(=\frac{1}{N}\overline{\sum_{u=0}^{N-1}\overline{F(u)}\mathrm{e}^{-\mathrm{i}x\theta_u}}\)
<br>
\(=f_u^N(x)\)
<br>
<br>
2次元DFT
<br>
実空間
<br>
\(x=0,1,...,N-1\)
<br>
\(y=0,1,...,M-1\)
<br>
における偏角
<br>
\(\theta_x=x2\pi/N\)
<br>
\(\theta_y=y2\pi/M\)
<br>
とする標本点
<br>
\(f(x,y)\)
<br>
に対する2次元DFT
<br>
\(F(u,v)\)
<br>
\(=\sum_{y=0}^{M-1}\sum_{x=0}^{N-1}
<br>
f(x,y)\mathrm{e}^{-\mathrm{i}(u\theta_x+v\theta_y)}\)
<br>
\(=\sum_{y=0}^{M-1}\sum_{x=0}^{N-1}
<br>
f(x,y)\mathrm{e}^{-\mathrm{i}u\theta_x}\mathrm{e}^{-\mathrm{i}v\theta_y}\)
<br>
\(=\sum_{y=0}^{M-1}F_x^N(u,y)\mathrm{e}^{-\mathrm{i}v\theta_y}\)
<br>
\(=F_{xy}^{NM}(u,v)\)
<br>
<br>
2次元IDFT
<br>
波数領域
<br>
\(u=0,1,...,N-1\)
<br>
\(v=0,1,...,M-1\)
<br>
における偏角
<br>
\(\theta_u=u2\pi/N\)
<br>
\(\theta_v=v2\pi/M\)
<br>
とする標本点
<br>
\(F(u,v)\)
<br>
に対する2次元IDFT
<br>
・<span class="clear">Ver.2.69.27</span>以降、一部訂正
<br>
\(f(x,y)\)
<br>
\(=\frac{1}{NM}\sum_{v=0}^{M-1}\sum_{u=0}^{N-1}
<br>
F(u,v)\mathrm{e}^{\mathrm{i}(x\theta_u+y\theta_v)}\)
<br>
\(=\frac{1}{NM}\sum_{v=0}^{M-1}\sum_{u=0}^{N-1}
<br>
F(u,v)\mathrm{e}^{\mathrm{i}x\theta_u}\mathrm{e}^{\mathrm{i}y\theta_v}\)
<br>
\(=\frac{1}{NM}\sum_{v=0}^{M-1}\sum_{u=0}^{N-1}
<br>
\overline{F(u,v)}\mathrm{e}^{-\mathrm{i}x\theta_u}\mathrm{e}^{\mathrm{i}y\theta_v}\)
<br>
\(=<span class="clear">\frac{1}{M}</span>\sum_{v=0}^{M-1}
<br>
\overline{f_u^N(x,v)}\mathrm{e}^{\mathrm{i}y\theta_v}\)
<br>
\(=<span class="clear">\frac{1}{M}</span>\overline{\sum_{v=0}^{M-1}
<br>
\overline{f_u^N(x,v)}\mathrm{e}^{-\mathrm{i}y\theta_v}}\)
<br>
\(=f_{uv}^{NM}(x,y)\)
<br>
<br>
test caseを示す（<span class="clear">Ver.2.69.27</span>追記）
<br>
・1次元の標本点
<br>
f={1,2,3,4};
<br>
f->
<br>
(
<br>
1:
<br>
2:
<br>
3:
<br>
4
<br>
)
<br>
・1次元DFT(x)->(u)
<br>
f={1,2,3,4};
<br>
<span class="clear">N=sizer(f);</span>
<br>
Nf=1;
<br>
Ni=1/N;
<br>
F=zeros(N,1);
<br>
F(u)=&lt;{_sx(=&lt;f[x]*e^(-i*u*x*2*pi/N),0,N-1)*Nf};
<br>
_su(=&lt;F[u]=F(u)=&gt;,0,N-1);
<br>
F ->
<br>
(
<br>
10:
<br>
-2.0000000000000004+1.9999999999999996i:
<br>
-2-9.797174393178826e-16i:
<br>
-1.9999999999999982-2.000000000000001i
<br>
)
<br>
・1次元IDFT(u)->(x)
<br>
f(x)=&lt;{_su(=&lt;F[u]*e^(i*x*u*2*pi/N),0,N-1)*Ni};
<br>
_sx(=&lt;f[x]=f(x)=&gt;,0,N-1);
<br>
f ->
<br>
(
<br>
1.0000000000000004-5.551115123125783e-16i:
<br>
2-2.7755575615628914e-16i:
<br>
2.9999999999999996-1.1102230246251565e-16i:
<br>
4+2.7755575615628914e-16i
<br>
)
<br>
・2次元の標本点
<br>
f={
<br>
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
<br>
};
<br>
f ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
<br>
・2次元DFT(x,y)->(u,y)->(u,v)
<br>
f={
<br>
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
<br>
};
<br>
<span class="clear">N=sizer(f);</span>
<br>
M=sizec(f);
<br>
Nf=1;
<br>
Ni=1/N;
<br>
Mf=1;
<br>
Mi=1/M;
<br>
F=zeros(N,M);
<br>
F(u,v)=&lt;{_sy(=&lt;{_sx(=&lt;f[x][y]*e^(-i*u*x*2*pi/N),0,N-1)*Nf}*e^(-i*v*y*2*pi/M),0,M-1)*Mf};
<br>
_sv(=&lt;_su(=&lt;F[u][v]=F(u,v)=&gt;,0,N-1),0,M-1);
<br>
F ->
<br>
(
<br>
136,
<br>
-32.00000000000001+31.999999999999996i,
<br>
-32-1.4205902870109296e-14i,
<br>
-31.999999999999975-32.000000000000014i:
<br>
infoLost[r ] -8.000000000000007+7.999999999999995i,
<br>
infoLost[r ] 3.1086244689504383e-15-8.881784197001252e-16i,
<br>
infoLost[r ] 2.6645352591003757e-15+8.881784197001252e-16i,
<br>
infoLost[r ] 1.1102230246251565e-15+4.218847493575595e-15i:
<br>
-8-9.797174393178824e-15i,
<br>
2.0658177477654226e-15+2.220446049250313e-15i,
<br>
2.4492935982947053e-15i,
<br>
-2.8006058272538343e-15+2.886579864025407e-15i:
<br>
-7.999999999999982-8.000000000000012i,
<br>
-4.440892098500626e-16+6.8833827526759706e-15i,
<br>
-4.440892098500626e-15+4.440892098500626e-15i,
<br>
-6.8833827526759706e-15-6.661338147750939e-16i
<br>
)
<br>
・2次元IDFT(x,y)->(u,y)->(u,v)->(x,v)->(x,y)
<br>
f(x,y)=&lt;{_sv(=&lt;{_su(=&lt;F[u][v]*e^(i*x*u*2*pi/N),0,N-1)*Ni}*e^(i*y*v*2*pi/M),0,M-1)*Mi};
<br>
_sy(=&lt;_sx(=&lt;f[x][y]=f(x,y)=&gt;,0,N-1),0,M-1);
<br>
f ->
<br>
(
<br>
infoLost[ri] 1.0000000000000009-2.220446049250313e-15i,
<br>
infoLost[ri] 5-2.6645352591003757e-15i,
<br>
infoLost[ri] 9-2.886579864025407e-15i,
<br>
infoLost[ri] 13.000000000000002-2.220446049250313e-15i:
<br>
infoLost[ri] 2.000000000000001-2.220446049250313e-15i,
<br>
infoLost[ri] 5.999999999999999-1.5543122344752192e-15i,
<br>
infoLost[ri] 9.999999999999996-1.1102230246251565e-15i,
<br>
infoLost[ri] 14-1.1102230246251565e-15i:
<br>
infoLost[ri] 3-2.4424906541753444e-15i,
<br>
infoLost[ri] 6.999999999999997-4.440892098500626e-16i,
<br>
infoLost[ri] 10.999999999999996+4.440892098500626e-16i,
<br>
infoLost[ri] 14.999999999999998+1.5543122344752192e-15i:
<br>
infoLost[ri] 4-1.9984014443252818e-15i,
<br>
infoLost[ri] 7.999999999999999+4.440892098500626e-16i,
<br>
infoLost[ri] 11.999999999999998+1.5543122344752192e-15i,
<br>
infoLost[ri] 16+3.9968028886505635e-15i
<br>
)
<br>
・2次元DFT(x,y)->(x,v)->(u,v)
<br>
F(v,u)=&lt;{_sx(=&lt;{_sy(=&lt;f[x][y]*e^(-i*v*y*2*pi/M),0,M-1)*Mf}*e^(-i*u*x*2*pi/N),0,N-1)*Nf};
<br>
_su(=&lt;_sv(=&lt;F[u][v]=F(v,u)=&gt;,0,M-1),0,N-1);
<br>
F ->
<br>
(
<br>
136,
<br>
-32.00000000000001+31.999999999999993i,
<br>
-32-1.4205902870109296e-14i,
<br>
-31.99999999999997-32.000000000000014i:
<br>
infoLost[r ] -8.000000000000004+7.999999999999993i,
<br>
5.329070518200751e-15,
<br>
1.8357322374478535e-15+1.7763568394002505e-15i,
<br>
1.7763568394002505e-15+3.552713678800501e-15i:
<br>
-8-9.797174393178824e-15i,
<br>
1.7763568394002505e-15+1.7763568394002505e-15i,
<br>
2.449293598294707e-15i,
<br>
-1.7763568394002505e-15+3.552713678800501e-15i:
<br>
-7.999999999999985-8.000000000000014i,
<br>
8.881784197001252e-16+5.329070518200751e-15i,
<br>
-2.9985277160012513e-15+2.6645352591003757e-15i,
<br>
-3.552713678800501e-15-8.881784197001252e-16i
<br>
)
<br>
・2次元IDFT(x,y)->(x,v)->(u,v)->(u,y)->(x,y)
<br>
f(y,x)=&lt;{_su(=&lt;{_sv(=&lt;F[u][v]*e^(i*y*v*2*pi/M),0,M-1)*Mi}*e^(i*x*u*2*pi/N),0,N-1)*Ni};
<br>
_sx(=&lt;_sy(=&lt;f[x][y]=f(y,x)=&gt;,0,M-1),0,N-1);
<br>
f ->
<br>
(
<br>
infoLost[ri] 1.0000000000000029-2.886579864025407e-15i,
<br>
infoLost[ri] 5.000000000000001-2.7755575615628914e-15i,
<br>
infoLost[ri] 9-2.3314683517128287e-15i,
<br>
infoLost[ri] 13.000000000000002-2.55351295663786e-15i:
<br>
infoLost[ri] 2.0000000000000013-2.1649348980190553e-15i,
<br>
infoLost[ri] 5.999999999999999-1.3877787807814457e-15i,
<br>
infoLost[ri] 9.999999999999996-6.661338147750939e-16i,
<br>
infoLost[ri] 13.999999999999998-3.3306690738754696e-16i:
<br>
infoLost[ri] 3.000000000000001-1.9984014443252818e-15i,
<br>
infoLost[ri] 6.999999999999999-7.771561172376096e-16i,
<br>
infoLost[ri] 10.999999999999998+5.551115123125783e-16i,
<br>
infoLost[ri] 14.999999999999998+1.7208456881689926e-15i:
<br>
infoLost[ri] 4.000000000000002-2.3869795029440866e-15i,
<br>
infoLost[ri] 8-3.3306690738754696e-16i,
<br>
infoLost[ri] 11.999999999999998+1.6653345369377348e-15i,
<br>
infoLost[ri] 16+3.1086244689504383e-15i
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
離散
<br>
Wavelet変換
<br>
の解法
    </th>
    <td>
<span id="span-out-transform-dwt"></span>
離散Wavelet変換Discrete Wavelet Transform(DWT)の解法について記述する
<br>
<br>
前提を列挙する
<br>
・1次元の標本点数をNとして順変換DWTと逆変換IDWTの制約条件を示す
<br>
N=2^p
<br>
・量子化bit数=p
<br>
・信号変換の解像度を可逆的にscalingするtwo-scale関係が成立する
<br>
<br>
多重解像度解析の最も単純なHaar's DWT/IDWTを一例に示す
<br>
<br>
1次元DWT(x)->(u)
<br>
・標本点
<br>
<span class="condition">1,2,3,4,5,6,7,8</span>
<br>
・two-scale関係式
<br>
scaling(t)=scaling(2t)+scaling(2t+1)
<br>
wavelet(t)=scaling(2t)-scaling(2t+1)
<br>
・左右にscaling情報とwavelet情報を分離して再帰的にscaling情報を左側に寄せる
<br>
<span class="condition">1+2,3+4,5+6,7+8</span>,1-2,3-4,5-6,7-8
<br>
<span class="condition">1+2+3+4,5+6+7+8</span>,1+2-(3+4),5+6-(7+8),1-2,3-4,5-6,7-8
<br>
<span class="condition">1+2+3+4+5+6+7+8</span>,1+2+3+4-(5+6+7+8),1+2-(3+4),5+6-(7+8),1-2,3-4,5-6,7-8
<br>
・整理して示す（scaling情報の解像度の降順）
<br>
<span class="condition">1,2,3,4,5,6,7,8</span>
<br>
<span class="condition">3,7,11,15</span>,-1,-1,-1,-1
<br>
<span class="condition">10,26</span>,-4,-4,-1,-1,-1,-1
<br>
<span class="condition">36</span>,-16,-4,-4,-1,-1,-1,-1
<br>
<br>
1次元IDWT(u)->(x)
<br>
・標本点
<br>
<span class="condition">36</span>,-16,-4,-4,-1,-1,-1,-1
<br>
・two-scale関係式
<br>
scaling(2t)=(scaling(t)+wavelet(t))/2
<br>
scaling(2t+1)=(scaling(t)-wavelet(t))/2
<br>
・<span class="selection">行vector</span>の場合
<br>
scaling(2t)=<span class="selection">0.5*</span>(scaling(t)+wavelet(t))
<br>
scaling(2t+1)=<span class="selection">0.5*</span>(scaling(t)-wavelet(t))
<br>
・<span class="selection">列vector</span>の場合
<br>
scaling(2t)=(scaling(t)+wavelet(t))<span class="selection">*0.5</span>
<br>
scaling(2t+1)=(scaling(t)-wavelet(t))<span class="selection">*0.5</span>
<br>
・scaling情報とwavelet情報から再帰的に元のscaling情報を復元する
<br>
<span class="condition">(36+(-16))/2,(36-(-16))/2</span>,-4,-4,-1,-1,-1,-1
<br>
<span class="condition">(10+(-4))/2,(10-(-4))/2,(26+(-4))/2,(26-(-4))/2</span>,-1,-1,-1,-1
<br>
<span class="condition">(3+(-1))/2,(3-(-1))/2,(7+(-1))/2,(7-(-1))/2,(11+(-1))/2,(11-(-1))/2,(15+(-1))/2,(15-(-1))/2</span>
<br>
・整理して示す（scaling情報の解像度の昇順）
<br>
<span class="condition">36</span>,-16,-4,-4,-1,-1,-1,-1
<br>
<span class="condition">10,26</span>,-4,-4,-1,-1,-1,-1
<br>
<span class="condition">3,7,11,15</span>,-1,-1,-1,-1
<br>
<span class="condition">1,2,3,4,5,6,7,8</span>
<br>
<br>
2次元DWT/IDWT(x,y)⇔(u,y)⇔(u,v)
<br>
<span class="condition">
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
</span>
<br>
⇔
<br>
<span class="condition">10</span>,-4,-1,-1:
<br>
<span class="condition">26</span>,-4,-1,-1:
<br>
<span class="condition">42</span>,-4,-1,-1:
<br>
<span class="condition">58</span>,-4,-1,-1
<br>
⇔
<br>
<span class="condition">136</span>,-16,-4,-4:
<br>
-64,0,0,0:
<br>
-16,0,0,0:
<br>
-16,0,0,0
<br>
<br>
2次元DWT/IDWT(x,y)⇔(x,v)⇔(u,v)
<br>
<span class="condition">
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
</span>
<br>
⇔
<br>
<span class="condition">28,32,36,40</span>:
<br>
-16,-16,-16,-16:
<br>
-4,-4,-4,-4:
<br>
-4,-4,-4,-4
<br>
⇔
<br>
<span class="condition">136</span>,-16,-4,-4:
<br>
-64,0,0,0:
<br>
-16,0,0,0:
<br>
-16,0,0,0
<br>
<br>
test caseを示す
<br>
・1次元の標本点
<br>
w={1,2,3,4,5,6,7,8};
<br>
w->
<br>
(
<br>
1:
<br>
2:
<br>
3:
<br>
4:
<br>
5:
<br>
6:
<br>
7:
<br>
8
<br>
)
<br>
・1次元DWT(x)->(u)
<br>
w={1,2,3,4,5,6,7,8};
<br>
<span class="clear">N=sizer(w);</span>
<br>
W=zeros(N,1);
<br>
<span class="clear">p=round(log2(N));</span>
<br>
W(w,N)=&lt;_st(=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
_rn(=&lt;last{W(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;,w=W},Np=1&lt;&lt;p,p);
<br>
W ->
<br>
(
<br>
36:
<br>
-16:
<br>
-4:
<br>
-4:
<br>
-1:
<br>
-1:
<br>
-1:
<br>
-1
<br>
)
<br>
・1次元IDWT(u)->(x)
<br>
w(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1);
<br>
_rn(=&lt;last{w(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;,W=w},Np=1,p);
<br>
w ->
<br>
(
<br>
1:
<br>
2:
<br>
3:
<br>
4:
<br>
5:
<br>
6:
<br>
7:
<br>
8
<br>
)
<br>
・2次元の標本点
<br>
w={
<br>
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
<br>
};
<br>
w ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
<br>
・2次元DWT(x,y)->(u,y)->(u,v)※N&gt;1
<br>
w={
<br>
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
<br>
};
<br>
<span class="clear">N=sizer(w);</span>
<br>
M=sizec(w);
<br>
W=zeros(N,M);
<br>
<span class="clear">p=round(log2(N));</span>
<br>
q=round(log2(M));
<br>
W(w,N)=&lt;_st(=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
_rn(=&lt;last{W(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;,w=W},Np=1&lt;&lt;p,p);
<br>
W=trans(W);
<br>
_rn(=&lt;last{w=W,W(=&lt;w,first{Nq,Nq=Nq&gt;&gt;1})=&gt;},Nq=1&lt;&lt;q,q);
<br>
W=trans(W);
<br>
W ->
<br>
(
<br>
136,-64,-16,-16:
<br>
-16,0,0,0:
<br>
-4,0,0,0:
<br>
-4,0,0,0
<br>
)
<br>
・2次元IDWT(x,y)->(u,y)->(u,v)->(x,v)->(x,y)
<br>
w(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1);
<br>
w=W;
<br>
_rn(=&lt;last{w(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;,W=w},Np=1,p);
<br>
w=trans(w);
<br>
_rn(=&lt;last{W=w,w(=&lt;W,first{Nq,Nq=Nq&lt;&lt;1})=&gt;},Nq=1,q);
<br>
w=trans(w);
<br>
w ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
<br>
・2次元DWT(x,y)->(x,v)->(u,v)※M&gt;1
<br>
W(w,N)=&lt;_st(=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
w=trans(w);
<br>
W=trans(W);
<br>
_rn(=&lt;last{W(=&lt;w,first{Nq,Nq=Nq&gt;&gt;1})=&gt;,w=W},Nq=1&lt;&lt;q,q);
<br>
W=trans(W);
<br>
_rn(=&lt;last{w=W,W(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;},Np=1&lt;&lt;p,p);
<br>
W ->
<br>
(
<br>
136,-64,-16,-16:
<br>
-16,0,0,0:
<br>
-4,0,0,0:
<br>
-4,0,0,0
<br>
)
<br>
・2次元IDWT(x,y)->(x,v)->(u,v)->(u,y)->(x,y)
<br>
w(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1);
<br>
w=W;
<br>
W=trans(W);
<br>
w=trans(w);
<br>
_rn(=&lt;last{w(=&lt;W,first{Nq,Nq=Nq&lt;&lt;1})=&gt;,W=w},Nq=1,q);
<br>
w=trans(w);
<br>
_rn(=&lt;last{W=w,w(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;},Np=1,p);
<br>
w ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
離散
<br>
Wavelet変換
<br>
の解法
<br>
（列代入）
    </th>
    <td>
<span id="span-out-transform-dwt-col"></span>
離散Wavelet変換の解法（列代入）について記述する
<br>
<br>
<span class="run">Ver.2.76.29</span>以降、<a href="#span-out-mat">行列</a>の<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>を駆使して<a href="#span-out-transform-dwt">2次元DWT/IDWT</a>のalgorithmを整理する
<br>
・<span class="run">Ver.2.79.31</span>以降、<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>の行index=-1　⇒　<span class="condition"><a href="#span-out-FN0">Napier数e</a></span>に<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
・<span class="run">Ver.2.170.41</span>以降、<a href="#span-out-reference-mat-col">列参照</a>と<a href="#span-out-substitution-mat-col">列代入</a>の[e]を<a href="#span-out-mat-empty">空行列</a>で代替可
<br>
　<span class="clear">Ver.2.747.112</span>以降、列参照と列代入の[e]を廃止
<br>
・2次元の標本点
<br>
w={
<br>
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
<br>
};
<br>
w ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
<br>
・2次元DWT(x,y)->(u,y)->(u,v)※N&gt;1
<br>
w={
<br>
1,2,3,4:
<br>
5,6,7,8:
<br>
9,10,11,12:
<br>
13,14,15,16
<br>
};
<br>
<span class="clear">N=sizer(w);</span>
<br>
M=sizec(w);
<br>
W=zeros(N,M);
<br>
<span class="clear">p=round(log2(N));</span>
<br>
q=round(log2(M));
<br>
W_row(w,N)=&lt;_st(=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
W_col(w,N)=&lt;_st(=&lt;last{
<br>
a=w[<span class="condition">e</span>][2*t],b=w[<span class="condition">e</span>][2*t+1],W[<span class="condition">e</span>][t]=a+b,W[<span class="condition">e</span>][t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
_rn(=&lt;last{W_row(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;,w=W},Np=1&lt;&lt;p,p);
<br>
_rn(=&lt;last{w=W,W_col(=&lt;w,first{Nq,Nq=Nq&gt;&gt;1})=&gt;},Nq=1&lt;&lt;q,q);
<br>
W ->
<br>
(
<br>
136,-64,-16,-16:
<br>
-16,0,0,0:
<br>
-4,0,0,0:
<br>
-4,0,0,0
<br>
)
<br>
・2次元IDWT(x,y)->(u,y)->(u,v)->(x,v)->(x,y)
<br>
w_row(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1);
<br>
w_col(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[<span class="condition">e</span>][t],b=W[<span class="condition">e</span>][t+N2],w[<span class="condition">e</span>][2*t]=(a+b)<span class="selection">*0.5</span>,w[<span class="condition">e</span>][2*t+1]=(a-b)<span class="selection">*0.5</span>
<br>
},0,N2-1);
<br>
w=W;
<br>
_rn(=&lt;last{w_row(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;,W=w},Np=1,p);
<br>
_rn(=&lt;last{W=w,w_col(=&lt;W,first{Nq,Nq=Nq&lt;&lt;1})=&gt;},Nq=1,q);
<br>
w ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
<br>
・2次元DWT(x,y)->(x,v)->(u,v)※M&gt;1
<br>
W_row(w,N)=&lt;_st(=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
W_col(w,N)=&lt;_st(=&lt;last{
<br>
a=w[<span class="condition">e</span>][2*t],b=w[<span class="condition">e</span>][2*t+1],W[<span class="condition">e</span>][t]=a+b,W[<span class="condition">e</span>][t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1);
<br>
_rn(=&lt;last{W_col(=&lt;w,first{Nq,Nq=Nq&gt;&gt;1})=&gt;,w=W},Nq=1&lt;&lt;q,q);
<br>
_rn(=&lt;last{w=W,W_row(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;},Np=1&lt;&lt;p,p);
<br>
W ->
<br>
(
<br>
136,-64,-16,-16:
<br>
-16,0,0,0:
<br>
-4,0,0,0:
<br>
-4,0,0,0
<br>
)
<br>
・2次元IDWT(x,y)->(x,v)->(u,v)->(u,y)->(x,y)
<br>
w_row(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1);
<br>
w_col(W,N2)=&lt;_st(=&lt;last{
<br>
a=W[<span class="condition">e</span>][t],b=W[<span class="condition">e</span>][t+N2],w[<span class="condition">e</span>][2*t]=(a+b)<span class="selection">*0.5</span>,w[<span class="condition">e</span>][2*t+1]=(a-b)<span class="selection">*0.5</span>
<br>
},0,N2-1);
<br>
w=W;
<br>
_rn(=&lt;last{w_col(=&lt;W,first{Nq,Nq=Nq&lt;&lt;1})=&gt;,W=w},Nq=1,q);
<br>
_rn(=&lt;last{W=w,w_row(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;},Np=1,p);
<br>
w ->
<br>
(
<br>
1,5,9,13:
<br>
2,6,10,14:
<br>
3,7,11,15:
<br>
4,8,12,16
<br>
)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
級数展開
<br>
の解法
    </th>
    <td>
<span id="span-out-series"></span>
級数展開の解法を列挙する
<br>
・<a href="#span-out-series-Taylor">Taylor級数・Maclaurin級数の解法</a>
<br>
・<a href="#span-out-series-Fourier">Fourier級数の解法</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Taylor・
<br>
Maclaurin
<br>
級数の解法
    </th>
    <td>
<span id="span-out-series-Taylor"></span>
Taylor級数・Maclaurin級数の解法について記述する
<br>
・<a href="#span-out-error-numerical">Computer Algebra System</a>未実装で得られる解は<a href="#span-out-error-numerical">数値解</a>
<br>
・<a href="#span-out-FNh-DX">微分高階関数</a>の精度に依存
<br>
・3階微分以降、既定の2次精度では精度不足
<br>
<br>
Taylor級数・Maclaurin級数
<br>
・0の0乗の定義
<br>
0^0 || 0**0 || pow(0,0) -> 1
<br>
・f(x)のx=a周辺のN次打切りTaylor級数TaylorN
<br>
TaylorN=&lt;_sn(=&lt;{_dx(=&lt;f,n,a)(x-a)^n/n!},0,N);
<br>
・f(x)のx=0周辺のN次打切りMaclaurin級数MaclaurinN
<br>
MaclaurinN=&lt;_sn(=&lt;{_dx(=&lt;f,n,0)x^n/n!},0,N);
<br>
・f(x)=exp(x)の場合
<br>
f=&lt;exp(x);
<br>
x=2; f -> 7.38905609893065
<br>
・<a href="#span-out-ope">実数演算</a>の場合
<br>
TaylorN=&lt;_sn(=&lt;{_dx(=&lt;f,n,a)(x-a)^n/n!},0,N);
<br>
MaclaurinN=&lt;_sn(=&lt;{_dx(=&lt;f,n,0)x^n/n!},0,N);
<br>
f=&lt;exp(x);
<br>
x=2;
<br>
a=0;
<br>
N=3; TaylorN || MaclaurinN -> 6.3333380025161095+O(4e-2)
<br>
N=5; TaylorN || MaclaurinN -> 7.266696174805806+O(2e+1)
<br>
N=7; TaylorN || MaclaurinN -> 7.381056210596976+O(2e+2)
<br>
・<a href="#span-out-com">複素数</a>演算の場合
<br>
TaylorN=&lt;_sn(=&lt;{_dx(=&lt;f,n,a)(x-a)^n/n!},0,N);
<br>
f=&lt;exp(x);
<br>
x=2;
<br>
a=0;
<br>
N=3; TaylorN -> 6.333333332137665+0.00000933215700063301i+O(2e-2+2e-2i)
<br>
N=5; TaylorN -> 7.266666317607307+0.000058921777380024245i+O(4e+0+4e+0i)
<br>
N=7; TaylorN -> 7.38095752867692+0.00014973248523188646i+O(2e+1+2e+1i)
<br>
<br>
収束性
<br>
・Taylor級数のN次の項TN
<br>
TN=&lt;_sn(=&lt;{_dx(=&lt;f,n,a)(x-a)^n/n!},N,N);
<br>
f=&lt;exp(x);
<br>
x=2;
<br>
a=0;
<br>
N=0; TN -> 1
<br>
N=1; TN -> 2.000000000000264+3.199902245182912e-15i+O(2e-12+2e-12i)
<br>
N=2; TN -> 2.0000000000047273-3.0553419555181785e-12i+O(7e-10+3e-11i)
<br>
N=3; TN -> 1.3333333321326732+0.000009332160052775064i+O(2e-2+2e-2i)
<br>
N=4; TN -> 0.6666667002412976+0.000018888944812360706i+O(7e-1+1e-2i)
<br>
N=5; TN -> 0.26666628522834573+0.00003070067556703053i+O(4e+0+4e+0i)
<br>
N=6; TN -> 0.0888888278111036+0.000037059768491892605i+O(2e+1+3e-1i)
<br>
N=7; TN -> 0.025402383258507955+0.00005375093935996962i+O(2e+1+2e+1i)
<br>
N=8; TN -> 0.006352708017224355+0.00004619914542548148i+O(2e+1+4e-1i)
<br>
N=9; TN -> 0.0014113419838348632+0.000038423321810908794i+O(5e+0+5e+0i)
<br>
N=10; TN -> 0.000280289701751799+0.00003279136299319164i+O(1e+0+2e-2i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Fourier
<br>
級数の解法
    </th>
    <td>
<span id="span-out-series-Fourier"></span>
Fourier級数の解法について記述する
<br>
・<a href="#span-out-error-numerical">Computer Algebra System</a>未実装で得られる解は<a href="#span-out-error-numerical">数値解</a>
<br>
・<a href="#span-out-FNh-IX">積分高階関数</a>の精度に依存
<br>
・既定で4次精度の積分区間の分割数=100
<br>
<br>
Fourier級数
<br>
・周期関数f(x)のN次打切り<a href="#span-out-com">複素</a>Fourier級数（部分和）
<br>
FourierN_sym=&lt;_sn(=&lt;{cn*e^(i(n)x)},-N,N)/*omega=1*/;
<br>
cn=&lt;_it(=&lt;{ft*e^(-i(n)t)},-pi,pi)/(2pi)/*t=[-pi,pi]*/;
<br>
・f(x)=e^(i(2.5)x)の場合
<br>
fx=&lt;e^(i(2.5)x);
<br>
ft=&lt;e^(i(2.5)t);
<br>
x=2;
<br>
fx -> 0.28366218546322625-0.9589242746631385i
<br>
N=1; FourierN_sym
<br>
-> infoLost[ri] 0.2534807789507349-0.1102612365002427i+O(2e-6+2e-6i)
<br>
N=3; FourierN_sym
<br>
-> infoLost[ri] 0.3468103654284403-0.7325756973228494i+O(2e-6+2e-6i)
<br>
N=5; FourierN_sym
<br>
-> infoLost[ri] 0.29934712994045387-1.0833440107828247i+O(2e-6+2e-6i)
<br>
・<a href="#span-out-com">複素</a>Fourier多項式FourierN（<span class="run">Ver.2.809.131</span>以降、omega導入の<a href="#span-eqn-FourierN">FourierN</a>参照）
<br>
・三角波
<br>
ft=&lt;asin(sin(t));
<br>
・矩形波
<br>
ft=&lt;sign(asin(sin(t))); || ft=&lt;sign(sin(t));
<br>
・のこぎり波
<br>
ft=&lt;atan(tan(t));
<br>
・逆のこぎり波
<br>
ft=&lt;-atan(tan(t));
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
極限の解法
    </th>
    <td>
<span id="span-out-limit"></span>
極限の解法について記述する
<br>
・<a href="#span-out-error-numerical">Computer Algebra System</a>未実装で得られる解は限定的なcaseの<a href="#span-out-error-numerical">数値解</a>
<br>
・L'Hôpitalの定理を使用する場合、<a href="#span-out-FNh-DX">微分高階関数</a>の精度に依存
<br>
<br>
<a href="#span-out-com">複素数</a>演算の場合、次の極限演算不可
<br>
1/0 -> NaN
<br>
・0割の演算未定義のため、次の反則が発生
<br>
0*Infinity -> NaN
<br>
<br>
<a href="#span-out-ope">実数演算</a>の場合
<br>
1/0 -> Infinity
<br>
MIN_VALUE -> 5e-324
<br>
1/(-MIN_VALUE) -> -Infinity
<br>
1/(+MIN_VALUE) -> Infinity
<br>
1/Infinity || 1/Inf || 1/pInf -> 0
<br>
-Infinity+1 || nInf+1 -> infoLost[r ] -Infinity
<br>
Infinity-Infinity -> infoLost[r ] NaN
<br>
<br>
極限値演算のtest caseを列挙する
<br>
x=MIN_VALUE; x -> 5e-324
<br>
sin(x)/x  <span class="selection">// OK</span> -> 1
<br>
sin(-x)/(-x)  <span class="selection">// OK</span> -> 1
<br>
ln(1+x)/x  <span class="selection">// NG</span> -> infoLost[r ] 0
<br>
・L'Hôpitalの定理
<br>
・<a href="#span-out-com">複素数</a>演算の場合
<br>
_dx(=&lt;{ln(1+x)})/_dx(=&lt;{x})  <span class="selection">// OK</span>
<br>
-> 1.0000000000031541+4.602212346748365e-14i+O(3e-24i)
<br>
_dx(=&lt;{ln(1-x)})/_dx(=&lt;{-x})  <span class="selection">// OK</span>
<br>
-> 1.0000000000031541+4.602212346748365e-14i+O(2e-16+3e-24i)
<br>
_dx(=&lt;{ln(1-x)},2)/_dx(=&lt;{-x},2)  <span class="selection">// NG</span> -> NaN
<br>
_dx(=&lt;{ln(1-x)},2)/_dx(=&lt;{(-x)^2},2)  <span class="selection">// OK</span>
<br>
-> -0.500000000135999+3.0923761182676057e-12i+O(3e-10+1e-11i)
<br>
・<a href="#span-out-ope">実数演算</a>の場合
<br>
_dx(=&lt;{ln(1+x)})/_dx(=&lt;{x})  <span class="selection">// OK</span> -> 0.9999999999991271
<br>
_dx(=&lt;{ln(1-x)})/_dx(=&lt;{-x})  <span class="selection">// OK</span> -> 0.9999999999991271
<br>
_dx(=&lt;{ln(1-x)},2)/_dx(=&lt;{-x},2)  <span class="selection">// NG</span> -> -Infinity+O(Infinity)
<br>
_dx(=&lt;{ln(1-x)},2)/_dx(=&lt;{(-x)^2},2)  <span class="selection">// OK</span> -> -0.4999999999659258+O(3e-10)
<br>
・無限大の極限は自明の演算以外は演算不可
<br>
y=pInf -> y=Infinity
<br>
(1/y)/y  <span class="selection">// OK</span> -> 0
<br>
y*y  <span class="selection">// OK</span> -> Infinity
<br>
y/(y*y)  <span class="selection">// NG</span> -> NaN
<br>
_dy(=&lt;{y})/_dy(=&lt;{y*y})  <span class="selection">// NG</span> -> NaN
<br>
_dy(=&lt;{1/(y*y)})/_dy(=&lt;{1/y})  <span class="selection">// NG</span> -> NaN
<br>
ln(y)/y  <span class="selection">// NG</span> -> NaN
<br>
・有限の場合
<br>
y=1e7; y -> 10000000
<br>
(1/y)/y -> 1e-14
<br>
y*y -> 100000000000000
<br>
y/(y*y) -> 1e-7
<br>
_dy(=&lt;{y})/_dy(=&lt;{y*y}) -> 5e-8+O(1e+0)
<br>
_dy(=&lt;{1/(y*y)})/_dy(=&lt;{1/y}) -> 1.9999999999838647e-7-6.386544827326884e-25i+O(1e+0+6e-25i)
<br>
ln(y)/y -> 0.000001611809565095832
<br>
・収束速さ
<br>
ln(y)**2/y -> 0.00002597930074134415
<br>
ln(y)**3/y -> 0.0004187368542939975
<br>
ln(y)**4/y -> 0.006749240670092049
<br>
ln(y)**5/y -> 0.10878490669188166
<br>
ln(y)**6/y -> 1.7534055314403243
<br>
ln(3y)**6/(3y) -> 0.8681193145131064
<br>
ln(y*y)**6/(y*y) -> 0.000011221795401218075
<br>
・公式
<br>
x=1e7; (1+1/x)**x=e -> 1.3432696333026684e-7
<br>
x=1e7; a=1.3; ((x+a)/(x-a))**x=e**(2a) -> -1.9790533656305342e-8
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
application
    </th>
    <td>
<span id="span-out-application"></span>
applicationについて記述する
<br>
<br>
Painter's pattern||SVG-path||gradation||filter
<br>
<br>
Circuit Simulator's arbitrary non-linear||impedance element
<br>
・Arrhenius equationのnon-dimensionalized<a href="#span-out-eqns">式変数</a>fの一例
<br>
　回路要素電流Iに対する未知電圧Vを解く場合
<br>
f=&lt;last{I=1,E=0,k=1,I=exp(k*(V-E))-exp(-k*(V-E))}
<br>
　回路要素電圧Vに対する未知電流Iを解く場合
<br>
f=&lt;last{V=1,E=0,k=1,I=exp(k*(V-E))-exp(-k*(V-E))}
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
独自実装の
<br>
反省点
    </th>
    <td>
<span id="span-out-development-original"></span>
基本構文のみで最短かつ確実な実装を選択したため、platform以前に最適化の余地がある
<br>
また、すべての結果の確からしさは自己判断のため、致命的な見落としを残す可能性がある
<br>
<br>
<a href="#span-out-development-additional">実装の特徴</a>に示す独自実装の反省点を列挙する
<br>
・<a href="#span-out-development-problems-after">実装上の問題点</a>
<br>
　・明示的な<a href="#span-out-callstack">call stack</a>を未実装（<a href="#span-out-debug">debugger</a>・拡張性・保守性・その他）
<br>
　・<a href="#span-out-terms">scope変数</a>・<a href="#span-out-scope-reference">scope参照</a>（冗長性・その他）
<br>
・<a href="#span-out-development-problems-before">仕様上の問題点</a>
<br>
　・<a href="#span-out-mat">行列</a>前提の仕様（拡張性・その他）
<br>
　・<a href="#span-out-FNm">関数</a>より優先して<a href="#span-out-BT">括弧</a>の中身を自動展開する仕様（<a href="#span-out-eqns-args">arguments</a>実装の複雑化・可読性・その他）
<br>
・<a href="#span-out-special">特殊仕様</a>
<br>
　・<a href="#span-out-vars">変数</a>と<a href="#span-out-eqns">式変数</a>の区別（<a href="#span-out-option9">useMutex</a>・その他）
<br>
　・<a href="#span-out-special-equal">equal記号</a>・<a href="#span-out-special-substitution">代入処理</a>（可読性・その他）
<br>
・未最適化（実用性・消費電力・その他）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
特有の実装
    </th>
    <td>
<span id="span-out-development-javascript"></span>
<span class="run">JavaScript</span>特有の実装を列挙する
<br>
・namespaceの中に全objectを宣言してglobal searchを省略する（定量的な効果は不明）
<br>
・よって関数式のconstructorはhoistingなしの前提で実装する
<br>
・既存のframework||plug-inを使用しないが、一部で公式に非推奨の実装を使用する
<br>
　・instanceのoptionからprototypeの動的な変更（mix-in継承の代替）
<br>
　・download-linkのonclickでsourceの動的な変更
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
実装の特徴
    </th>
    <td>
<span id="span-out-development-additional"></span>
実装の特徴を列挙する
<br>
・<span class="clear">Ver.2.266.62</span>以降、<a href="#span-in-deep-copy">deep-copy</a>の適用対象を最適化（<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>のstore||restore時　⇒　<span class="clear">restore時</span>）
<br>
・<a href="#span-out-vars">変数</a>の<span class="clear">restore時</span>、<a href="#span-in-tree">tree構造</a>を<a href="#span-in-deep-copy">deep-copy</a>で複製して参照上の副作用を単純に回避する
<br>
・<a href="#span-out-eqns">式変数</a>の<span class="clear">restore時</span>も同様に、入出力の<a href="#span-in-tree">tree構造</a>を複製する<del>して<a href="#span-in-scope-vars">static scopes2d array</a>を共有する</del>
<br>
・<span class="run">Ver.2.299.72</span>以降、<a href="#span-out-scope-vars">変数のscope</a>を動的に確保して解決済みの場合、削除する
<br>
・<a href="#span-out-mat">行列</a>演算を含む<a href="#span-out-associativity">2項演算子のassociativity</a>は単なるfor-loopで結合順||演算順を保証する
<br>
・recursive callを代替する<a href="#span-out-FNh-RX">再帰高階関数</a>||<a href="#span-out-eqns-re-call">再帰call</a>も同様に、独自の<a href="#span-out-callstack">call stack</a>を実装しない
<br>
<del>・一般的な言語と異なり、<a href="#span-in-scope-vars">static scopes2d array</a>を共有するため、</del>
<br>
・<a href="#span-out-FNh-RX">再帰高階関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>のbreak判定は反復後に実施する
<br>
・<a href="#span-out-flow">parser</a>は複数種類の<a href="#span-out-BT">括弧</a>のnestingに対応し、再帰的に<a href="#span-in-tree">tree構造</a>を階層化する
<br>
・<span class="clear">Ver.2.228.56</span>以降、<a href="#span-out-pass-by-equation">式渡し</a>も同様に、<a href="#span-out-BT">括弧</a>に変換して階層化する
<br>
・以上の階層を<a href="#span-out-scope-vars">変数のscope</a>（<a href="#span-out-config">useScope</a>||<a href="#span-out-option6">useScopeWith</a>）に活用する
<br>
<del>・よって<a href="#span-out-bracket">階層</a>に紐付く<a href="#span-out-scope-vars">変数のscope</a>はstaticで再利用可能としたが、最善を追及していない
<br>
・<a href="#span-out-eqns-args">式変数のarguments</a>も同様に、最善の仕様を追及していない</del><span class="run">Ver.2.222.50</span>以降、削除
<br>
・一方、階層毎に<a href="#span-out-SR">区切り文字</a>を<a href="#span-in-short-circuit">先読み</a>することで<a href="#span-in-short-circuit">短絡評価</a>を再現する
<br>
・他方、多用しない前提で<a href="#span-out-bracket">直列scope内</a>の<a href="#span-out-scope-inherited">scope継承</a>を許容する
<br>
・<a href="#span-out-FN">関数</a>を含む実装関数は最善のalgorithmとは限らない（<a href="#span-out-FN-statistic">sort関数</a>||<a href="#span-out-interpolation-spline">spline補間</a>||<a href="#span-out-method-Gauss">Gaussの消去法</a>）
<br>
・<a href="#span-out-debug">debugger</a>が存在しないため、<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>はpollution disabledの厳格な制約条件を課す
<br>
・よって<a href="#span-out-bracket">scope</a>本来の利便性を大きく損なうが、緩和の見通しはない
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
実装上の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-after"></span>
実装上の問題点を列挙する
<br>
・<a href="#span-out-development-problems-FNh">高階関数の問題点</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
高階関数の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-FNh"></span>
<a href="#span-out-FNh">高階関数</a>の問題点を列挙する
<br>
・反復処理毎に下記<span class="clear">eqn_k</span>の<a href="#span-in-tree">tree構造</a>を<a href="#span-in-deep-copy">deep-copy</a>で複製するため、
<br>
・<a href="#span-out-FNh">高階関数</a>をnestingする場合、致命的にthroughputが低下する（<a href="#span-out-FNh-DX">微分の多重化</a>||<a href="#span-out-interpolation-Lagrange">Lagrange補間</a>）
<br>
n=4,primes={2,3,5},eqn_k=&lt;<span class="clear">last{prime=primes[k],k+1}</span>;
<br>
_rk(=&lt;<span class="clear">eqn_k</span>,N=sizer(primes),N,=&lt;{n%prime==0}); prime -> 2
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
仕様上の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-before"></span>
仕様上の問題点を列挙する
<br>
・<a href="#span-out-development-problems-algebra">代数学準拠の問題点</a>
<br>
・<a href="#span-out-development-problems-type">型定義の問題点</a>
<br>
・<a href="#span-out-development-problems-complex">複素数演算の問題点</a>
<br>
・<a href="#span-out-development-problems-matrix">行列演算の問題点</a>
<br>
・<a href="#span-out-development-problems-logical">論理演算の問題点</a>
<br>
・<a href="#span-out-development-problems-share">未実装の参照共有</a>
<br>
・<a href="#span-out-development-problems-CBR">未実装の参照渡し</a>
<br>
・<a href="#span-out-development-problems-CAS">未実装のCAS</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
代数学準拠の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-algebra"></span>
代数学準拠の問題点を列挙する
<br>
・一般的な<a href="#span-out-linear">連立方程式</a>A*x=bの列vector形式で<a href="#span-out-FNm">行列関数</a>||<a href="#span-out-FNmh">高階行列関数</a>を実装したが、
<br>
・<a href="#span-out-reference-mat-index">ij参照の行列</a>要素が<a href="#span-in-tree">単位tree構造</a>のarr[i][j]参照の場合、
<br>
・x*A=bの行vector形式で実装の方が列方向の<a href="#span-out-mat-blank">欠損要素</a>||<a href="#span-out-FNm-trans">転置</a>を意識する負担が少ない
<br>
　(x*A)=(b)　⇔　{trans(A)*trans(x)}={trans(b)}
<br>
　{A*x}={b}　⇔　(trans(x)*trans(A))=(trans(b))
<br>
・また、関数の引数は常に行vectorとして（<a href="#span-out-FNm-coo">Gauss_coo行列関数</a>参照）
<br>
・内部で入出力の整合性を担保する方が拡張しやすい
<br>
・<span class="run">Ver.2.156.38</span>以降、列方向の<a href="#span-out-mat-blank">欠損要素</a>を自動で埋めないため、
<br>
・列vectorの要素数が異なる複数legendのplotに支障がある
<br>
・要素数が降順に並ぶ場合、問題ないが、（<a href="#span-eqn-plot2d_nspline">plot2d_nspline</a>参照）
<br>
・昇順に並ぶ場合、列方向の<a href="#span-out-mat-blank">欠損要素</a>を<a href="#span-out-literal">NaN</a>で埋める手順を要する（<a href="#span-eqn-plot2d()_multi">plot2d()_multi</a>参照）
<br>
・以上の余分な手順を省略するため、<del>行vector用のplot2d{xt,yt}の追加を検討する</del>
<br>
・<span class="run">Ver.2.175.42</span>以降、行vector用の<a href="#span-out-plot2d-command-from-arr">plot2d{xt,yt}</a>を追加する（<a href="#span-eqn-plot2d{}_multi">plot2d{}_multi</a>参照）
<br>
・本来、行vector形式に統一して<a href="#span-out-FNm">行列関数</a>||<a href="#span-out-plot2d">plot出力</a>を実装する方が無駄が少ない
<br>
・<span class="run">Ver.2.237.56</span>以降、<a href="#span-out-FNmh-jacobian">Jacobi高階行列関数</a>||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>||<a href="#span-out-FNmh-OX">ODE高階行列関数</a>の第1引数を拡張
<br>
　列vector形式のみ　⇒　行||列vector形式を自動判別<del>（<a href="#span-out-FNm">行列関数</a>を行vector形式既定に変更予定）</del>
<br>
・<span class="run">Ver.2.240.56</span>以降、<a href="#span-out-FNm">行列関数</a>の既定形式の仕様変更（列vector形式　⇒　行vector形式）
<br>
　列vector形式の<a href="#span-out-FNm">行列関数</a>は削除しない（本来、引数を<a href="#span-out-FNm-trans">転置</a>して行vector形式に変換する）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
型定義の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-type"></span>
型定義の問題点を列挙する
<br>
・2次元の<a href="#span-out-types">行列の型</a>||<a href="#span-in-tree">tree構造</a>を前提とする設計のため、<span class="clear">3次元以上の配列は定義不能</span>
<br>
・3次元以上の配列に相当する自由度は<a href="#span-out-vars-symbol">変数名symbol</a>で区別する
<br>
・3次元以上の配列に相当するfor-loopは展開して記述する
<br>
<br>
<a href="#span-in-pass-by-equation">遅延評価</a>で3次元以上の配列を代替する場合、<a href="#span-eqn-arr_ext">arr_ext</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
複素数演算の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-complex"></span>
<a href="#span-out-com">複素数</a>演算の問題点を列挙する
<br>
・演算後に<a href="#span-out-epsilon">Machine epsilon</a>が残りやすく、整数を意識する負担がある
<br>
(-1)^0.5 || (-1)**0.5 || pow(-1,0.5) -> <span class="clear">6.123233995736766e-17</span>+i
<br>
2^3 || 2**3 || pow(2,3) -> <span class="clear">7.999999999999998</span>
<br>
・同時に、減算||加算で<a href="#span-out-error">情報落ち</a>が発生しやすく、警告文の判断が難しい
<br>
(-1)^0.5 || (-1)**0.5 || pow(-1,0.5) -> <span class="clear">6.123233995736766e-17</span>+i
<br>
ans+1 -> <span class="clear">infoLost[r ]</span> 1+i
<br>
・<a href="#span-out-ope">実数演算</a>の場合（参考）
<br>
(-1)^0.5 || (-1)**0.5 || pow(-1,0.5) -> NaN
<br>
2^3 || 2**3 || pow(2,3) -> 8
<br>
<del>・<a href="#span-out-UI-simple">UI設定</a>||<a href="#span-out-config">内部option</a>以外で<a href="#span-out-ope">実数演算</a>に切替え不可（自動判別しない）
<br>
2^3 || 2**3 || pow(2,3) -> <span class="clear">7.999999999999998</span></del>
<br>
・<span class="run">Ver.2.184.44</span>以降、<a href="#span-out-auto-switching">real自動切替</a>機能を追加
<br>
2^3 || 2**3 || pow(2,3) -> 8
<br>
round(2^3) -> 8
<br>
・<span class="run">Ver.2.127.34</span>以降、<a href="#span-out-reference-mat-size">行列size</a>の丸め方をfloor　⇒　roundに<span class="run"><a href="#span-out-spec-changed-history">演算仕様変更</a></span>
<br>
<del>vectorr(2^3) || vectorr(7)  <span class="selection">// NG</span> -> (0,0,0,0,0,0,0)</del>
<br>
vectorr(2^3) || vectorr(8)  <span class="selection">// OK</span> -> (0,0,0,0,0,0,0,0)
<br>
vectorr(round(2^3)) || vectorr(8)  <span class="selection">// OK</span> -> (0,0,0,0,0,0,0,0)
<br>
・整数演算の場合、<a href="#span-out-prec-ope">四則演算子</a>||<a href="#span-out-prec-ope-bit">bit shift演算子</a>を活用する
<br>
2*2*2 -> 8
<br>
2&lt;&lt;2 || 2*2*2 -> 8
<br>
1&lt;&lt;3 || 1*2*2*2 -> 8
<br>
8&gt;&gt;&gt;3 || 8&gt;&gt;3 || (((8/2)/2)/2) || 8/(2*2*2) -> 1
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
行列演算の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-matrix"></span>
行列演算の問題点を列挙する
<br>
・当初、<a href="#span-out-mat-product">行列積</a>の<a href="#span-out-ope">演算量</a>を多少減らすため、<a href="#span-out-mat-blank">欠損要素</a>を許容したが、
<br>
・<span class="run">Ver.2.76.29</span>以降、<a href="#span-out-array">行列操作</a>の<a href="#span-out-ope">演算速度</a>を犠牲にする弊害の方が圧倒的に大きい
<br>
・よって<a href="#span-out-mat-blank">欠損要素</a>がある場合、error終了の方が実装効率||演算効率が高い
<br>
演算効率を優先して<a href="#span-out-array">行列操作</a>を最適化する場合、<a href="#span-out-config">内部option</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
論理演算の
<br>
問題点
    </th>
    <td>
<span id="span-out-development-problems-logical"></span>
論理演算の問題点を列挙する
<br>
<del>・<a href="#span-out-prec-ope-logical">論理演算子</a>は短絡評価を再現するが、厳密には<a href="#span-out-FNh-switch">switch高階関数</a>を使用する
<br>
x=1; x||(-1) -> 1
<br>
x=1; x||(1/0) -> 1
<br>
x=0; switch(x,x:1,<span class="condition">=&lt;</span>(1/0)) -> NaN
<br>
x=1; switch(x,x:1,<span class="condition">=&lt;</span>(1/0)) -> 1
<br>
・<a href="#span-out-prec-ope-logical">論理演算子</a>の短絡評価を厳密に再現する場合、<a href="#span-out-SR">区切り文字</a>の<a href="#span-out-prec">演算のprecedence</a>の直後が妥当で
<br>
・設計初期段階の仕様変更のため、未対応
<br>
before: x=1,y=&lt;((1/0)||2),x||y=&gt; -> (0,0,1)
<br>
before: x=1,(y=&lt;(1/0))||2,x||y=&gt; -> (0,2,1)
<br>
<a href="#span-out-option1">LA既定</a>時　after: x=1,y=&lt;((1/0)||2),x||y=&gt; -> (0,0,1)
<br>
<a href="#span-out-option1">RA選択</a>時　after: x=1,y=&lt;((1/0)||2),x||y=&gt; -> (0,0,2)
<br>
<a href="#span-out-option1">LA既定</a>時　after: x=1,(y=&lt;(1/0))||2,x||y=&gt; -> (0,2,1)
<br>
<a href="#span-out-option1">RA選択</a>時　after: x=1,(y=&lt;(1/0))||2,x||y=&gt; -> [MyErr]Invalid REv(y)</del>
<br>
・<span class="run">Ver.2.157.38</span>以降、<a href="#span-out-FNh-switch">switch高階関数</a>代替の<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を追加
<br>
<a href="#span-out-option1">LA既定</a>時　clear; x=1,y=&lt;(1/0)|||2,x|||y=&gt; -> (0,0,1)
<br>
<a href="#span-out-option1">RA選択</a>時　clear; x=1,y=&lt;(1/0)|||2,x|||y=&gt; -> (0,0,2)
<br>
<a href="#span-out-option1">LA既定</a>時　clear; x=1,(y=&lt;(1/0))|||2,x|||y=&gt; -> (0,2,1)
<br>
<a href="#span-out-option1">RA選択</a>時　clear; x=1,(y=&lt;(1/0))|||2,x|||y=&gt; -> [MyErr]Invalid REv(y)
<br>
<br>
実装の詳細は<a href="#span-in-short-circuit">内部仕様</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
未実装の
<br>
参照共有
    </th>
    <td>
<span id="span-out-development-problems-share"></span>
参照非共有の項目を列挙する
<br>
・<a href="#span-out-substitution">変数への代入</a>
<br>
・<a href="#span-out-matching">行列要素pattern matching</a>
<br>
・<a href="#span-out-substitution-equation">式変数への式代入</a>
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>
<br>
・<span class="run">Ver.2.234.56</span>以降、<a href="#span-out-FNm-reshape">reshape行列関数</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
未実装の
<br>
参照渡し
    </th>
    <td>
<span id="span-out-development-problems-CBR"></span>
<del>未実装の</del>参照渡しについて留意事項を列挙する
<br>
・<span class="run">Ver.2.303.73</span>以降、<a href="#span-out-terms">scope変数</a>の<a href="#span-out-scope-reference">scope参照</a>の仕様追加
<br>
・<span class="run">Ver.2.19.6</span>以降、<a href="#span-out-FN">関数</a>のre-name不可
<br>
clear; tr=trans -> [MyErr]Invalid FNm(transpose)
<br>
clear; tr=&lt;trans; tr(1,2:3,4) || (tr=&gt;)(1,2:3,4) -> [MyErr]Invalid FN operation
<br>
・<span class="run">Ver.2.19.6</span>以降、<a href="#span-out-FNh">高階関数</a>のre-name不可
<br>
clear; dx=_dx -> [MyErr]Invalid FNh([object Object])
<br>
clear; dx=&lt;_dx; dx(=&lt;{x^2},1,2) -> [MyErr]Invalid FN operation
<br>
・<a href="#span-out-eqns">式変数</a>の参照共有不可
<br>
clear; a=&lt;b+c+d; s=a -> [MyErr]Invalid binary operation
<br>
clear; a=&lt;b+c+d; s=&lt;a; s -> [MyErr]Invalid binary operation
<br>
clear; a=&lt;1; a=-1; s=&lt;a; s -> -1
<br>
clear; a=&lt;1; a=-1; s=&lt;a=&gt;; s -> 1
<br>
clear; a(b,c,d)=&lt;b+c+d; s=a -> [MyErr]Invalid null=&gt;
<br>
clear; a(b,c,d)=&lt;b+c+d; s=&lt;a; s -> [MyErr]Invalid null=&gt;
<br>
clear; a(b,c,d)=&lt;b+c+d; s=&lt;a(1,2,3); s -> 6
<br>
clear; a(b,c,d)=&lt;b+c+d; s(b,c,d)=&lt;a(b,c,d); s -> [MyErr]Invalid null=&gt;
<br>
clear; a(b,c,d)=&lt;b+c+d; s(b,c,d)=&lt;a(b,c,d); s(1,2,3) -> 6
<br>
clear; a(b,c,d)=&lt;b+c+d; s(b,c,d)=&lt;a(-b,-c,-d); s(1,2,3) -> -6
<br>
clear; a(b,c,d)=&lt;b+c+d; s(f,g,h)=&lt;a(-f,-g,-h); s(1,2,3) -> -6
<br>
・<a href="#span-out-eqns-args">定義元arguments</a>の<a href="#span-out-vars-symbol">変数名symbol</a>は独立する
<br>
clear; a(B)=&lt;{B[0]=B[1],=&lt;B}=&gt;; B=(1,2:3,4); (B,a(=&lt;B)=&gt;,B) ->
<br>
(
<br>
1,2,3,4,1,2:
<br>
3,4,3,4,3,4
<br>
)
<br>
clear; a(B)=&lt;[B[0]=B[1],=&lt;B]=&gt;; B=(1,2:3,4); (B,a(=&lt;B)=&gt;,B) ->
<br>
(
<br>
1,2,3,4,1,2:
<br>
3,4,3,4,3,4
<br>
)
<br>
・値渡し
<br>
clear; a(b)=&lt;last(b=-1,b); (b=1,a(b)=&gt;,b) -> (0,-1,1)
<br>
clear; a(b)=&lt;last[b=-1,b]; (b=1,a(b)=&gt;,b) -> (0,-1,1)
<br>
・<a href="#span-out-pass-by-equation">式渡し</a>（参照渡しの代替）
<br>
clear; a(=&lt;b_)=&lt;last(b=-1,b_=&gt;); (b=1,a(=&lt;b)=&gt;,b) -> [MyErr]Undef eqn(b)
<br>
clear; a(=&lt;b_)=&lt;last(b=-1,b_=&gt;); (b=1,a(=&lt;{b})=&gt;,b) -> (0,-1,-1)
<br>
clear; a(=&lt;b_)=&lt;last(b=-1,b_=&gt;); (b=&lt;1,a(=&lt;b)=&gt;,b) -> (0,1,-1)
<br>
clear; a(=&lt;b_)=&lt;last(b=&lt;-1,b_=&gt;); (b=&lt;1,a(=&lt;b)=&gt;,b) -> (0,1,-1)
<br>
clear; a(=&lt;b_)=&lt;last[b=&lt;-1,b_=&gt;]; (b=&lt;1,a(=&lt;b)=&gt;,b) -> (0,1,1)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
未実装の
<br>
CAS
    </th>
    <td>
<span id="span-out-development-problems-CAS"></span>
未実装のCAS(Computer Algebra System)について留意事項を列挙する
<br>
・<a href="#span-out-application">application</a>のthroughputを優先するため、
<br>
・<a href="#span-out-FNh-DX">微分</a>・<a href="#span-out-FNh-IX">積分</a>の解析解が得られるcaseも<a href="#span-out-error-numerical">数値誤差</a>を許容する
<br>
・よって非線形性が強い<a href="#span-out-FN">関数</a>・<a href="#span-out-series">級数</a>・<a href="#span-out-limit">極限</a>の演算結果は当てにならない
<br>
・陰関数表示の<a href="#span-out-plot2d">plot出力</a>は非対応
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
特殊仕様
    </th>
    <td>
<span id="span-out-special"></span>
一般的でない可能性のある仕様を列挙する
<br>
・<a href="#span-out-special-eqns">式変数</a>
<br>
・<a href="#span-out-special-FNh">高階関数</a>
<br>
・<a href="#span-out-special-sign">単項の符号</a>
<br>
・<a href="#span-out-special-equal">equal記号</a>
<br>
・<a href="#span-out-special-substitution">代入処理</a>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式変数
    </th>
    <td>
<span id="span-out-special-eqns"></span>
<a href="#span-out-eqns">式変数</a>について記述する
<br>
・<a href="#span-out-eqns">式変数</a>、<a href="#span-out-eqns-call">式読出し</a>、<a href="#span-out-pass-by-equation">式渡し</a>、<a href="#span-out-substitution-equation">式代入</a>、<a href="#span-out-scope-inherited">scope継承</a>の仕様は呼び名含めて一般的でない
<br>
・連立方程式をscript入力から解くため、独自に定義している
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
高階関数
    </th>
    <td>
<span id="span-out-special-FNh"></span>
<a href="#span-out-FNh">高階関数</a>について記述する
<br>
・<a href="#span-out-ref-transparency">参照透過性</a>の観点から
<br>
・関数名に<a href="#span-out-vars-symbol">変数名symbol</a>を含む仕様（dummy変数限定）は一般的に許容されない
<br>
・<a href="#span-out-FNspecial-spec">特殊仕様関数</a>（関数名に引数の一部を含む仕様）も同様
<br>
・本来、高負荷の正規表現は多用しない
<br>
・<span class="run">Ver.2.231.56</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の<a href="#span-out-ref-transparency">参照透過性</a>対策を実施
<br>
　dummy変数の<a href="#span-out-vars-symbol">変数名symbol</a>：関数名の一部　⇒　関数の引数（<span class="run">Ver.2.812.131</span>以降、旧仕様廃止）
<br>
・<span class="run">Ver.2.234.56</span>以降、<a href="#span-out-FNh">高階関数</a>||<a href="#span-out-FNmh">高階行列関数</a>の<a href="#span-out-ref-transparency">参照透過性</a>対策を完了
<br>
　<a href="#span-out-terms">scope変数</a>を参照、上書きする　⇒　<a href="#span-out-terms">scope変数</a>から独立する（引数のみ有効）
<br>
・<span class="run">Ver.2.857.158</span>以降、<a href="#span-out-FNh-DX">微分高階関数</a>の<a href="#span-out-ref-transparency">参照透過性</a>対策を完了
<br>
　<a href="#span-out-terms">scope変数</a>を参照する　⇒　<a href="#span-out-terms">scope変数</a>から独立する（引数のみ有効）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
単項の符号
    </th>
    <td>
<span id="span-out-special-sign"></span>
<a href="#span-out-type-ope">前置単項演算子</a>の符号の仕様を列挙する
<br>
・単項の符号は同種の<a href="#span-out-type-ope">中置2項演算子</a>と区別せず、<a href="#span-out-associativity">2項演算子のassociativity</a>に従って演算する
<br>
・この時、符号の左側には0が存在すると仮定する
<br>
<a href="#span-out-option1">LA既定</a>時　+3-5+7-9 || ((((0+3)-5)+7)-9) -> -4
<br>
<a href="#span-out-option1">RA選択</a>時　+3-5+7-9 || (0+(3-(5+(7-9)))) -> 0
<br>
・<a href="#span-out-mat">行列</a>も同様に、単項の符号は<a href="#span-out-FNm-init">scalar倍</a>||<a href="#span-out-FNm-init">zeros行列</a>との差||和として扱う
<br>
-(1,2:3,4) || (-1,:,-1)(1,2:3,4) || (,:,)-(1,2:3,4) -> (-1,-2:-3,-4)
<br>
+(1,2:3,4) || (+1,:,+1)(1,2:3,4) || (,:,)+(1,2:3,4) -> (1,2:3,4)
<br>
・よって実用しないが、符号が連続する場合、<a href="#span-out-option1">RA選択</a>時のみ演算可
<br>
<a href="#span-out-option1">LA既定</a>時　--(1,i) || (-)-(1,i) -> [MyErr]Invalid binary operation
<br>
<a href="#span-out-option1">RA選択</a>時　--(1,i) || (,)-((,)-(1,i)) || (-1)((-1)(1,i)) -> (1,i)
<br>
<a href="#span-out-option1">LA既定</a>時　---(1,i) || ((-)-)-(1,i) -> [MyErr]Invalid binary operation
<br>
<a href="#span-out-option1">RA選択</a>時　---(1,i) || (,)-((,)-((,)-(1,i))) || (-1)((-1)((-1)(1,i))) -> (-1,-i)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
equal記号
    </th>
    <td>
<span id="span-out-special-equal"></span>
equal記号=の仕様を列挙する
<br>
・代入と判別されないequal記号=は、右辺移項の<a href="#span-out-type-ope">中置2項演算子</a>として扱う
<br>
・<a href="#span-out-associativity">2項演算子のassociativity</a>に依存するが、単体使用を前提とする
<br>
-3=5 || (0-3)=5 || =5+3 -> 8
<br>
(1,2:3,4)=(,:,) || =(,:,)-(1,2:3,4) -> (-1,-2:-3,-4)
<br>
・<span class="run">Ver.2.88.32</span>以降、<span class="condition">定義できない<a href="#span-out-prec-ope">乗算||減算||加算</a></span>を<a href="#span-out-ope-extended">拡張行列演算</a>に追加
<br>
<del>(1,2:3,4)=(,) || =(,)-(1,2:3,4) -> [MyErr]Invalid matrix operation</del>
<br>
<span class="condition">(1,2:3,4)=(,) || =(,)-(1,2:3,4) -> (-1,-2:-3,-4)</span>
<br>
・単項の場合、符号同様に左辺には0||<a href="#span-out-FNm-init">zeros行列</a>が存在すると仮定する
<br>
=8 || 0=8 || =8-0 -> 8
<br>
=(1,2:3,4) || (,:,)=(1,2:3,4) || =(1,2:3,4)-(,:,) -> (1,2:3,4)
<br>
・本仕様は<a href="#span-out-eqns">式変数</a>への方程式の<a href="#span-out-substitution-equation">式代入</a>で以下の構文を許容する
<br>
f=&lt;{x0^2+1=0} || f=&lt;{=-(x0^2+1)} || f=&lt;{-(x0^2+1)}
<br>
f=&lt;{A*x=b} || f=&lt;{=b-A*x} || f=&lt;{b-A*x}
<br>
f=&lt;{Ainv*A=identity2} || f=&lt;{=identity2-Ainv*A} || f=&lt;{identity2-Ainv*A}
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
代入処理
    </th>
    <td>
<span id="span-out-special-substitution"></span>
<a href="#span-out-mat">行列</a>の代入を伴う演算都合上の仕様を列挙する
<br>
・代入を<a href="#span-out-BT">括弧</a>で括った場合、0を返す
<br>
(x=3) || (3=3) -> 0
<br>
・代入後は0が残ると仮定して演算する（<a href="#span-out-associativity">右結合</a>で値を残すNative仕様と異なる）
<br>
2(x=3) || 2(3=3) || 2(=3-3) || 2(0) -> 0
<br>
(a=(b=1),a,b) -> (0,0,1)
<br>
・代入をcomma,||colon:で区切った場合、0を返す
<br>
max(x=3,-1,-2) || max(0,-1,-2) -> 0
<br>
clear; (1,2:3,4:x=5,x) -> (1,2:3,4:0,5)
<br>
・ただし、<a href="#span-out-mat">行列</a>を代入しても次元は残らない
<br>
(x=(1,2:3,4)) -> 0
<br>
clear; x=(1,2),x || 0,(1,2) -> (0,1,2)
<br>
clear; max(x=(-1,-2),min(x)) || max(0,-2) -> 0
<br>
vector={1,2,3}:trans(vector)vector -> (0:14)
<br>
・<a href="#span-out-matching">行列要素pattern matching</a>による代入も同様
<br>
(($a,$b)=(1,2)) -> 0
<br>
・<a href="#span-out-substitution-equation">式変数への式代入</a>も同様
<br>
(x=&lt;(a,b,c,d,e)) -> 0
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>も同様
<br>
clear; vec(x)=&lt;(x,2*x),vec(1)=&gt;v,v=&gt; -> (0,0,1,2)
<br>
・<span class="clear">Ver.2.203.46</span>以降、<a href="#span-out-eqns-call2var">変数への式読出し</a>の仕様廃止
<br>
<del>・<a href="#span-out-eqns-call2var">変数への式読出し</a>は読出し値が残る
<br>
clear; y=&lt;3x-1,x=3,y=&gt;,y=&gt;y0,y0 -> (0,0,8,8,8)</del>
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><span id="span-in">内部仕様</span></caption>
<thead>
  <tr>
    <th>
項目
    </th>
    <th>
source抜粋
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
前提
    </th>
    <td>
<span id="span-in-pre"></span>
内部仕様の前提について記述する
<br>
<br>
任意scriptを実行可能なeval()不使用
<br>
Non-use of JavaScript's eval()
<br>
<br>
Calculator用途に特化した実装項目とfile名の対応関係を列挙する
<br>
・構文解析・字句解析・単位tree構造
<br>
　parser.js/operation.js/DATA.js
<br>
・変数・関数・区切り文字・演算子のprecedence
<br>
　operation.js
<br>
・演算unit
<br>
　operation.js/unit.js
<br>
・定義済みの関数・予約語
<br>
　parser.js/math.js/math_com.js/math_mat.js
<br>
　その他、built-inの関数・演算子を使用
<br>
・連立方程式のsolver
<br>
　solver_com.js
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
単位tree構造
    </th>
    <td>
<span id="span-in-tree"></span>
演算単位となる単位tree構造を以下に示す
<br>
<br>
<a href="#span-out-ope">演算仕様</a>を列挙する
<br>
・i行j列の<a href="#span-out-mat">行列</a>要素は2次元配列arr[i][j]を参照する
<br>
・<a href="#span-out-ope">無次元</a>の演算の場合、2次元配列の<a href="#span-out-FNm-last">最終要素</a>を参照する
<br>
<span class="run">Ver.2.73.29</span>以降、定義できない<a href="#span-out-mat">行列</a>演算の<a href="#span-out-ope-extended">拡張機能</a>を追加
<br>
<span class="run">Ver.2.74.29</span>以降、<a href="#span-out-ope-extended">拡張行列演算</a>における<a href="#span-out-option4">comma演算子</a>の使用を選択可
<br>
・<a href="#span-out-FN">関数の引数vector</a>の場合、2次元配列の各行arr[i]を参照する
<br>
・<a href="#span-out-type-ope">演算子のoperand</a>の場合、2次元配列の各要素arr[i][j]を参照する
<br>
・<a href="#span-out-BT-square">行列要素参照</a>用に<span class="selection">tag.val同列</span>のobjectを一層追加
<br>
<span class="run">Ver.2.249.57</span>以降、<a href="#span-out-const-vars">const宣言</a>用の<span class="condition">flag</span>を追加
<br>
<span class="run">Ver.2.261.61</span>以降、<a href="#span-out-const-vars">const宣言</a>用のdefine判別<span class="condition">id</span>を追加
<br>
<pre><code>
            j-th sentence
  trees2d: [j][i]{tag || num}
  trees1d,     i-th token
    trees: [i]{}
  trees0d,
     tree: {}
      tag: {"name": <span class="selection">{<span class="condition">id</span>, val: val}</span>}
         : {"BT?":  <span class="selection">{<span class="condition">id</span>, val: [], ref: [], ids: [], arg: [], <span class="condition">flag</span>}</span>}
      num: {mat:    {<span class="condition">id</span>, arr: arr, <span class="condition">flag</span>}}
      1+i: arr [0] [0] {com: {r: 1, i: 1}}
   matrix:     row col {complex number   }
(i,2:3,4): arr [0] [0] {com: {r: 0, i: 1}}
               [0] [1] {com: {r: 2, i: 0}}
               [1] [0] {com: {r: 3, i: 0}}
               [1] [1] {com: {r: 4, i: 0}}
</code></pre>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
deep-copy
    </th>
    <td>
<span id="span-in-deep-copy"></span>
<a href="#span-in-tree">tree構造</a>（<a href="#span-in-scope-vars">scope-ids</a>等を含む）のdeep-copyの適用対象を列挙する
<br>
・<a href="#span-out-command">命令文</a>の<a href="#span-in-scope-vars">static scopes2d array</a>
<br>
・<a href="#span-out-FNc">addVar/addEqn最上位関数</a>
<br>
・<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の<del>store||restore時</del><span class="clear">Ver.2.266.62</span>以降、<span class="clear">restore時</span>（<a href="#span-out-ans">予約変数</a>ansを含む）
<br>
・<span class="run">Ver.2.833.140</span>以降、<a href="#span-out-pass-by-symbol">symbol渡し</a>を自動展開してstore時、<a href="#span-out-scope-inherited-pass">式変数のscope継承pass</a>の直前
<br>
・<a href="#span-out-FNh">高階関数</a>の再帰対象（第1引数）
<br>
・<span class="run">Ver.2.408.86</span>以降、<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>の収束計算のretry時、近似解の列vector{x}の初期値
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数のscope
    </th>
    <td>
<span id="span-in-scope-vars"></span>
scopes2d arrayのstructureを以下に示す
<br>
・<span class="clear">Ver.2.195.46</span>以降、修正
<br>
・<span class="condition">Ver.2.200.46</span>以降、刷新
<br>
<br>
これに基づく<a href="#span-out-scope-vars">変数のscope</a>仕様について記述する
<br>
・n=0に<a href="#span-out-storage">local storage</a> object元のreferenceを統合・共通化（<a href="#span-out-command">命令文</a>を含む）
<br>
・循環参照回避のため、scopes2d arrayの要素id=[j,n]でreferenceを代替
<br>
・以降、このreferenceをidsと呼ぶ
<br>
・<a href="#span-out-flow">parse</a>段階で<a href="#span-out-bracket">階層とscopeの関係</a>に基づくstatic scopes2d arrayを作成
<br>
・同時に対応するidsを<a href="#span-in-tree">単位tree構造</a>の<span class="selection">tag.val同列</span>に保存
<br>
<span class="condition">・<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>が存在する場合、scopes2d[最終行]に新規追加</span>
<br>
<pre><code>
             j-th sentence
  scopes2d: [j][n]{scope}
  scopes1d,     n-th scope
    scopes: [n]{}
     scope: {vars:{}, eqns:{}}
</code></pre>
<br>
前提を列挙する
<br>
・<a href="#span-out-eqns">式変数</a>は宣言時の<a href="#span-out-bracket">階層</a>に依存する
<br>
<span class="condition">・定義元のidsをcalled-idsと定義する
<br>
・call先のidsをcaller-idsと定義する</span>
<br>
・宣言時の<a href="#span-out-bracket">階層</a>のreferenceをself-idsと定義する
<br>
・<span class="condition">上位</span>の<a href="#span-out-bracket">階層</a>のreferenceをまとめて<span class="condition">upper-ids</span>と定義する
<br>
・<span class="condition">下位</span>の<a href="#span-out-bracket">階層</a>のreferenceをまとめて<span class="condition">lower-ids</span>と定義する
<br>
・宣言時の<a href="#span-out-bracket">階層</a><span class="clear">以上（深さの降順）</span>を<span class="condition">self-upper-ids</span>と定義する
<br>
・宣言時の<a href="#span-out-bracket">階層</a><span class="clear">以下（深さの昇順）</span>を<span class="condition">self-lower-ids</span>と定義する
<br>
<span class="condition">・以下の<a href="#span-out-bracket">直列scope内</a>で<span class="condition">self-upper-ids</span>の<a href="#span-out-eqns">式変数</a>のみcall可
<br>
self,[lower,]
<br>
upper,[self,[lower,]]
<br>
upper,[upper,[self,[lower,]]]
<br>
upper,[upper,[self,[lower,[lower,]]]]
<br>
upper,[upper,[upper,[self,[lower,]]]]
<br>
upper,[upper,[upper,[upper,[self,]]]]</span>
<br>
<span class="condition">・ids継承は<a href="#span-out-eqns">式変数</a>のself-lower-idsに対して再帰的に継承する</span>
<br>
<br>
<a href="#span-out-scope-vars">変数のscope</a>の明示的なids継承が発生する項目を列挙する
<br>
・<a href="#span-out-FNmh-EX">symbolic高階行列関数</a>で<a href="#span-out-eqns">式変数</a>の生成時、<span class="condition">self-upper-ids</span>を継承
<br>
last[x0=1,[x0=2,[x0=3,],<span class="condition">_ex(=&lt;x,1,1)</span>,x=&gt;]] -> 2
<br>
last[x0=1,[[x0=3,],<span class="condition">_ex(=&lt;x,1,1)</span>,x=&gt;]] -> 1
<br>
last[[[x0=3,],<span class="condition">_ex(=&lt;x,1,1)</span>,x=&gt;]] -> [MyErr]Invalid REv(x0)
<br>
・<a href="#span-out-eqns">式変数</a>の<span class="condition">=&lt;</span>store時、<span class="condition">self-upper-ids</span>を継承
<br>
clear; [a=2,=&lt;[b=1,a<span class="condition">=&lt;</span>first[[b,],b,],<span class="condition">=&lt;</span>a=&gt;]=&gt;+a]=&gt; -> 3
<br>
・<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>時、<span class="condition">caller-self-upper-ids</span>を継承
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>に対応
<br>
・<a href="#span-out-eqns">式変数</a>の復帰時、新規idsから<span class="condition">self-lower-ids</span>を更新
<br>
<span class="run">Ver.2.32.17</span>以降、<a href="#span-out-eqns-args">式変数のarguments</a>を追加
<br>
・<a href="#span-out-eqns">式変数</a>のcall時、<a href="#span-out-eqns-args">式変数のarguments</a>に<span class="condition">called-self-upper-ids</span>を継承
<br>
<br>
<a href="#span-out-scope-inherited-call">式変数のscope継承call</a>について記述する
<br>
<span class="condition">・called||caller-self-upper-idsの重複idsをpopで取り出した後、caller-self-upper-idsを継承</span>
<br>
・よってidsはn=0の0階層から取り出すFIFO-queueとする
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式変数の
<br>
arguments
    </th>
    <td>
<span id="span-in-eqns-args"></span>
<a href="#span-out-eqns-args">式変数のarguments</a>について記述する
<br>
・<a href="#span-out-eqns">式変数</a>のcall毎にscopeは動的に作らない（new演算子は未実装）
<br>
・<a href="#span-out-flow">parse</a>段階で割当てた定義元の<a href="#span-in-scope-vars">static scopes2d array</a>を共有する
<br>
・以降、argumentsの<a href="#span-out-vars-symbol">変数名symbol</a>をargと呼ぶ
<br>
・<a href="#span-out-eqns">式変数</a>のstore時、argを<a href="#span-in-tree">単位tree構造</a>の<span class="selection">tag.val同列</span>に保存
<br>
・argのみ、<a href="#span-out-FNh">高階関数</a>のdummy変数同様に、buffer経由でcall前後のscopeが独立する
<br>
<span class="run">Ver.2.194.45</span>以降、以上の要件から<a href="#span-out-eqns-re-call">再帰call</a>に対応
<br>
・call先のargument判別の条件分岐が複雑化し、非常に重い
<br>
　判別対象：記号=&lt;の有無||<a href="#span-in-pass-by-equation">遅延評価</a>の明示
<br>
　<del>restore -> REe2SEeの変換前後で2重cloneの無駄あり</del>
<br>
　<span class="clear">Ver.2.266.62</span>以降、<a href="#span-in-deep-copy">deep-copy</a>の適用対象を最適化（2重cloneの無駄あり　⇒　なし）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
式渡し
    </th>
    <td>
<span id="span-in-pass-by-equation"></span>
<a href="#span-out-pass-by-equation">式渡し</a>の仕様は<a href="#span-out-BT">括弧</a>優先の<a href="#span-out-FNh">高階関数</a>の実装において必須
<br>
・引数が値渡しの場合、関数call前に引数の演算を実行するが、
<br>
・引数が式渡しの場合、関数callまで引数の演算を実行しない
<br>
・式渡しと<a href="#span-out-substitution-equation">式代入</a>記号=&lt;が共通で遅延評価を保証するため、<a href="#span-out-associativity">左結合</a>とする
<br>
　<a href="#span-out-BT">括弧</a>の中身を自動展開（<a href="#span-out-mat">行列</a>を想定）するため、遅延評価の記号を追加（逆の場合、展開記号を追加）
<br>
<br>
実装の経緯
<br>
・当初、括弧より関数優先で本仕様はなかったが、括弧優先で再実装時、記号=&lt;を明示
<br>
・さらに、<a href="#span-out-eqns-no-name-short">直接式読出し</a>||<a href="#span-out-eqns-no-name">無名call</a>に流用
<br>
・<span class="clear">Ver.2.228.56</span>以降、<a href="#span-out-flow">parse</a>段階で<a href="#span-out-option6">useScopeWith</a>||<a href="#span-out-scope-inherited">scope継承</a>の<a href="#span-in-tree">flag</a>を含む<a href="#span-out-BT">括弧</a>に変換（SEe⇒BTe）
<br>
・<a href="#span-out-flow">parse</a>段階で<a href="#span-in-scope-vars">static scopes2d array</a>の<a href="#span-in-tree">ids</a>を追加
<br>
・<a href="#span-out-flow">operation</a>段階で<a href="#span-out-substitution-equation">式代入</a>時、<a href="#span-out-eqns-args">式変数のarguments</a>の<a href="#span-in-tree">arg</a>を追加
<br>
・<a href="#span-out-flow">operation</a>段階で<a href="#span-out-pass-by-equation">式読出し</a>時、<a href="#span-out-BT">丸括弧()</a>に変換（BTe⇒BT1）
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
内部option
    </th>
    <td>
<span id="span-in-options"></span>
console-CLI実行で必要な内部optionの設定項目について記述する
<br>
<br>
全objectはglobal scopeから見えないMy_entryで始まる
<br>
<br>
My_entry.parserに渡すdata objectを次に示す
<br>
var data = {trees:null, options:{}, vars:{}, eqns:{}};
<br>
<br>
内部optionに相当するdata.optionsのpropertyを以下に列挙する
<br>
・<span class="clear">Ver.2.76.30</span>以降、makeLogの<a href="#span-out-config">内部option</a>が反映されない不具合を修正
<br>
・<span class="clear">Ver.2.76.30</span>以降、expDigitの仕様追記（<a href="#span-out-config">内部option</a>は無効）
<br>
<br>
・makeLog: 演算終了後にlog出力用の文字列を作成するflag
<br>
　makeLog=true設定で整形なしのlogを作成
<br>
　makeLog=2設定で行列を整形表示するlogを作成
<br>
　console-CLI実行でlogを作る場合、flagを立てる
<br>
　一例を次に示す（以降のflagも同様）
<pre><code>
var data = new My_entry.DATA().data();
data.in = "2*3";
new My_entry.parser().run(data);
data.out -> [Array(1)]  // <a href="#span-in-tree">単位tree構造</a>
data.log -> undefined
data.options.makeLog = true;
new My_entry.parser().run(data);
data.log -> "6"
data.logh -> "2*3\n6"
data.logo -> "makeLog=true"
</code></pre>
<br>
・<a href="#span-out-ope">useComplex</a>: 複素数を使用するflag
<br>
<br>
・<a href="#span-out-ope">useMatrix</a>: 行列を使用するflag
<br>
<br>
以降、省略で既定値
<br>
<br>
・<a href="#span-out-config">useStrict</a>: strict-modeを使用するflag
<br>
<br>
・<a href="#span-out-scope-vars">useScope</a>: 変数のscopeを使用するflag
<br>
<br>
・useStaticScopes2dArray: <span class="run">Ver.2.299.72</span>以降、<a href="#span-in-scope-vars">static scopes2d array</a>を共有するflag
<br>
<br>
・<a href="#span-out-option6">useScopeWith</a>: <span class="run">Ver.2.213.47</span>以降、<a href="#span-out-substitution-equation">式代入</a>記号=&lt;に変数のscopeを使用するflag
<br>
<br>
・<a href="#span-out-option7">useFunc</a>: <span class="run">Ver.2.221.50</span>以降、実装関数名の大文字・小文字のformatを選択するflag
<br>
<br>
・<a href="#span-out-option8">use$let</a>: <span class="run">Ver.2.249.57</span>以降、再代入と重複宣言を禁止するconst宣言の既定値を選択するflag
<br>
<br>
・<a href="#span-out-option9">useMutex</a>: <span class="run">Ver.2.250.57</span>以降、<a href="#span-out-vars">変数</a>・<a href="#span-out-eqns">式変数</a>の同一<a href="#span-out-vars-symbol">変数名symbol</a>の宣言禁止を選択するflag
<br>
<br>
・isRightAssociativityBR: <a href="#span-out-associativity">2項演算子のassociativity</a>を<a href="#span-out-option1">RA選択</a>に変更するflag
<br>
<br>
・isDIVprior2OMUL: <a href="#span-out-BRmo">記号省略乗算</a>より除算を優先するflag
<br>
<br>
・expDigit: 演算結果を表示する<a href="#span-out-num">指数表記</a>の桁数（<span class="clear"><a href="#span-out-config">内部option</a>は無効</span>）
<br>
<br>
・<a href="#span-out-config">checkError</a>: <a href="#span-out-error">情報落ち</a>の発生や微分・積分の<a href="#span-out-error-numerical">数値誤差</a>を評価するflag
<br>
<br>
・<a href="#span-in-log-m0">checkComplex</a>: <span class="run">Ver.2.151.38||2.163.39</span>以降、虚部の-0||<a href="#span-out-literal">NaN</a>を<a href="#span-out-log">log表示</a>するflag
<br>
<br>
・<a href="#span-out-config">precedence</a>: comma,区切りで演算子の<a href="#span-in-prec">tag名</a>を列挙した文字列
<br>
<br>
・<a href="#span-out-FNm">matSizeMax</a>: <a href="#span-out-reference-mat-size">行列size</a>指定の行||列のlengthの上限値=<del>1000</del><span class="run">Ver.2.321.77</span>以降、1024
<br>
<br>
・<a href="#span-out-csv-format">depthMax</a>: <span class="clear">Ver.2.144.36</span>以降、<a href="#span-out-flow">operation</a>段階のnesting深さの上限値=300
<br>
<br>
・<a href="#span-out-FNmh-newtonian">useRetry</a>: <span class="run">Ver.2.408.86</span>以降、収束計算のretry機能を使用するflag
<br>
<br>
・<a href="#span-out-FNmh-newtonian">isRelative_epsN</a>: epsNを相対誤差に変換するflag
<br>
<br>
・<a href="#span-out-FNmh-newtonian">epsN</a>: <a href="#span-out-method-Newton">Newton法</a>の絶対誤差の収束判定実数値
<br>
<br>
・<a href="#span-out-FNmh-jacobian">dxJ</a>: <a href="#span-out-method-Newton">Jacobi行列</a>演算時の1階偏微分の差分刻み実数値
<br>
<br>
・<a href="#span-out-FNh-DX">dxD</a>: <a href="#span-out-fdm-differential">有限差分</a>による1階微分の差分刻み実数値
<br>
<br>
・<a href="#span-out-FNh-DX">orderD</a>: <a href="#span-out-fdm-differential">有限差分</a>による微分の精度次数
<br>
<br>
<del>・<a href="#span-out-FNmh-OX">dxT</a>: <a href="#span-out-fdm-differential">有限差分</a>による1階常微分の差分刻み実数値</del><span class="run">Ver.2.858.159</span>以降、廃止
<br>
<br>
・<a href="#span-out-FNmh-OX">orderT</a>: <a href="#span-out-fdm-differential">有限差分</a>による常微分の精度次数
<br>
<br>
・<a href="#span-out-FNh-IX">NI</a>: <a href="#span-out-fdm-differential">有限差分</a>による積分区間の分割数
<br>
<br>
・<a href="#span-out-FNh-IX">orderI</a>: <a href="#span-out-fdm-differential">有限差分</a>による積分の精度次数
<br>
<br>
以降、console-CLI実行は無効
<br>
<br>
・useWorker: Workerを使用するflag
<br>
<br>
・oldPlot2d: <span class="run">Ver.2.33.17</span>以前のplot2d 0.seriesを使用するflag
<br>
<br>
・test: <span class="run">Ver.2.207.46</span>以降、<a href="#span-out-UI-calc-config">calc-config</a>にuseScope||precedenceを追加表示するflag
<br>
<br>
browser-GUI実行の場合、URLのGET入力でUI設定値||既定値を上書き可
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
独自eval
    </th>
    <td>
<span id="span-in-myeval"></span>
console-CLI実行用の独自evalについて記述する
<br>
<br>
独自evalは次のstatic methodでconsoleからcallする
<br>
・演算内容の文字列を引数に渡すと演算結果の文字列が返る
<br>
My_entry.eval("2*3") -> "6"
<br>
<br>
<a href="#span-in-options">内部option</a>は以下の既定値
<br>
・<span class="run">Ver.2.184.44</span>以降、<a href="#span-out-auto-switching">real自動切替</a>の<a href="#span-out-config">内部option</a>既定値に変更
<pre><code>
<del>data.options.useComplex = true;</del>
data.options.useComplex = -1;
data.options.useMatrix = true;
data.options.makeLog = true;
</code></pre>
<br>
test caseを列挙する
<pre><code>
My_entry.eval("clear; x=i; x*x;"); -> "local storage cleared;x=i;-1"
My_entry.eval("(1,2:3,4)(1,2:3,4)"); -> "(7,10:15,22)"
My_entry.eval("_sn(=&lt;{n+1},0,2)"); -> "6"
My_entry.eval("1-"); -> "[MyErr]Invalid binary operation"
My_entry.eval(0xf); -> "15"
My_entry.eval(3i); -> Uncaught SyntaxError: Invalid or unexpected token
</code></pre>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
変数・関数・
<br>
区切り文字・
<br>
演算子の
<br>
precedence
    </th>
    <td>
<span id="span-in-prec"></span>
<a href="#span-out-vars">変数</a>・<a href="#span-out-FN">関数</a>・<a href="#span-out-SR">区切り文字</a>・<a href="#span-out-prec-ope">演算子のprecedence</a>について記述する
<br>
・<span class="run">Ver.2.167.40</span>以降、<a href="#span-out-prec-ope-relational">厳密等価演算子</a>を追加
<br>
・<span class="run">Ver.2.168.41</span>以降、<a href="#span-out-prec-ope-logical-xor">論理XOR演算子</a>を追加
<br>
・<span class="run">Ver.2.192.44</span>以降、<a href="#span-out-prec-ope-arithmetic-dot">dot演算子</a>を追加（URi,URfをURに統合）
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-prec-ope-conditional">条件演算子</a>代替の<a href="#span-out-prec-ope-logical-short-circuit-literal">ANDss||ORss演算子</a>を追加
<br>
・<span class="run">Ver.2.213.47</span>以降、<a href="#span-out-option6">useScopeWith</a>を追加（BTe）
<br>
・<span class="run">Ver.2.225.52</span>以降、<a href="#span-out-prec-ope-relational">厳密不等価演算子</a>を追加
<br>
・<span class="clear">Ver.2.228.56</span>以降、SEeを削除
<br>
・<span class="run">Ver.2.298.72</span>以降、<a href="#span-out-vars">変数</a>のprototype method代替の<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>を追加（REv）
<br>
・<span class="run">Ver.2.752.113</span>以降、<a href="#span-out-prec-ope">前置単項演算子</a>（PU）の<a href="#span-out-prec-ope-arithmetic-size">size演算子</a>を追加
<br>
・<span class="run">Ver.2.847.153</span>以降、<a href="#span-out-mat">行列</a>の<a href="#span-out-prec-ope-relational">厳密等価||不等価演算子</a>を追加（BRrl）
<br>
<br>
配列要素の定義順で<a href="#span-out-prec">演算のprecedence</a>を動的に変更可能とする
<br>
<br>
operation.js抜粋
<pre><code>
  precedence: [
                 // comments and white-spaces are removed by parser
    [
      [
        /* following delimiter */
                 // SeparatoR semi-colon; are removed by parser
        "SRr",   // SeparatoR colon:
        "SRt"    // SeparatoR comma,
      ],
      [
        /* following store */
        "BTe"    // StorE obvious equation =&lt; || (args)=&lt;
      ],
      [
        /* following short-circuit */
        "BRlAOs" // Binary operatoR logical ANDs || ORs || ANDss || ORss &amp;&amp;&amp; || ||| || &amp;&amp;&amp;&amp; || ||||
      ],
      [
        /* following function */
        "FNc"    // FunctioN for command prior to bracket
      ],
      [
        /* following delimiter */
        "BT2",   // BrackeT {
        "BT1",   // BrackeT (
        "BT0"    // BrackeT [
      ],
      [
        /* following restore */
        "REe",   // RestorE obvious equation =&gt; || ==&gt;
        "REv"    // RestorE variable first, equation second
      ],
      [
        /* following function */
        "FNmh",  // FunctioN for matrix high-order
        "FNm",   // FunctioN for matrix
        "FNh",   // FunctioN high-order
        "FN",    // FunctioN 0~4-arguments
        "FNn"    // FunctioN n-arguments
      ]
    ],
    [
      [
        /* following post-Unary operatoR */
        "UR",    //  . || ' -> transpose(left) || htranspose(left)
                 // post-Unary operatoR imaginary unit i
                 // factorial mark ! || !!... -> fact_m(left, m)
        /* following Pre-Unary operator */
        "PU"     // Pre-Unary operator # || ## || ### -> sizer(right) || sizec(right) || Nelements
      ],
      [
        "BRpp",  // Binary operatoR ** -> pow(left, right)@Right-Associativity
        "BRp"    // Binary operatoR ^  -> pow(left, right)
      ],
      [
        "BRmo"   // omitted multiplication sign
      ],
      [
        "BRdm"   // Binary operatoR % || %% || / || *
      ],
      [
        "BRsa"   // Binary operatoR - || + including Pre-Unary operator - || +
      ],
      [
        "PUbn",  // Pre-Unary operator bit not ~
        "BRbs",  // Binary operatoR bit  shift &lt;&lt; || &gt;&gt; || &gt;&gt;&gt;
        "BRba",  // Binary operatoR bit    and &amp;
        "BRbx",  // Binary operatoR bit    xor @
        "BRbo"   // Binary operatoR bit     or |
      ],
      [
        "BRcn",  // Binary operatoR comparison &lt; || &lt;= || &gt;= || &gt;
        "BRrl",  // Binary operatoR relational ==== || === || == || &lt;&gt; || &lt;&lt;&gt;&gt; || &lt;&lt;&lt;&gt;&gt;&gt;
        "PUlN",  // Pre-Unary operator logical NOT ~~
        "BRlA",  // Binary operatoR logical    AND &amp;&amp;
        "BRlX",  // Binary operatoR logical    XOR @@
        "BRlO"   // Binary operatoR logical     OR ||
      ]
    ],
    [
      [
        "BRe"    // Binary operatoR = including Pre-Unary operator =
      ],
      [
        /* following store */
        "SEv"    // StorE variable
      ]
    ]
  ],
</code></pre>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
定義済みの
<br>
関数・予約語
    </th>
    <td>
<span id="span-in-FN"></span>
定義済みの<a href="#span-out-FN">関数</a>・<a href="#span-out-RW">予約語</a>について記述する
<br>
・<span class="clear">Ver.2.154.38</span>以降、rad2deg/deg2rad/cdot関数を追加
<br>
・<span class="run">Ver.2.158.38</span>以降、<a href="#span-out-literal">NaN||論理値literal</a>を追加
<br>
・<span class="run">Ver.2.159.38</span>以降、<a href="#span-out-FN-isNaN">isNaN関数</a>を追加
<br>
・<span class="run">Ver.2.165.39</span>以降、<a href="#span-out-RW">reserved token</a>を追加
<br>
・<span class="run">Ver.2.167.40</span>以降、<a href="#span-out-FN-ope">seq||sne関数</a>を追加
<br>
・<span class="run">Ver.2.167.40</span>以降、<a href="#span-out-prec-ope-bit">bit演算子</a>と<a href="#span-out-prec-ope-logical">論理演算子</a>の<a href="#span-out-FN-ope">演算子代替関数</a>を追加
<br>
・<span class="run">Ver.2.168.41</span>以降、<a href="#span-out-com">複素数</a>の<a href="#span-out-FN-ope">演算子代替関数</a>を追加
<br>
・<span class="run">Ver.2.172.42</span>以降、<a href="#span-out-FNm-isFalse">isFalse/isTrue行列関数</a>を追加
<br>
・<span class="run">Ver.2.176.43</span>以降、<a href="#span-out-FN-interp">補間関数</a>を追加
<br>
・<span class="run">Ver.2.183.44</span>以降、<a href="#span-out-FNm-init-space">space初期化行列関数</a>を追加
<br>
・<span class="run">Ver.2.186.44</span>以降、<a href="#span-out-FN-camin">camin/camax関数</a>を追加
<br>
・<span class="run">Ver.2.187.44</span>以降、<a href="#span-out-FNm-norm">normr/norm/normc行列関数</a>を追加
<br>
・<span class="run">Ver.2.230.56</span>以降、下記switch文を関数化
<br>
・<span class="run">Ver.2.234.56</span>以降、<a href="#span-out-FNm-reshape">reshaper/reshape/reshapec行列関数</a>を追加
<br>
・<span class="run">Ver.2.243.56</span>以降、<a href="#span-out-FNc">hasVs/hasEs最上位関数</a>を追加
<br>
・<span class="run">Ver.2.268.62</span>以降、<a href="#span-out-FNc">最上位関数</a>のvar||eqnを統合
<br>
・<span class="run">Ver.2.301.72</span>以降、<a href="#span-out-vars-escape">escape記号</a>を追加
<br>
・<span class="run">Ver.2.303.73</span>以降、<a href="#span-out-scope-reference">scope参照</a>の仕様追加（参照渡し記号?を予約）
<br>
・<span class="run">Ver.2.321.77</span>以降、fft1d/ifft1d関数@radix=2を追加（<a href="#span-ref-wiki">高速フーリエ変換</a>のprogram例を参考）
<br>
<br>
予約語は大文字・小文字・全角・半角を区別しない
<br>
・<span class="clear">Ver.2.170.42</span>以降、<span class="jF">追加項目</span>
<br>
・<span class="run">Ver.2.221.50</span>以降、実装関数名の大文字・小文字のformatを選択する<a href="#span-out-option7">useFunc</a>を追加
<br>
　<span class="run">Ver.2.390.86</span>以降、<a href="#span-out-option7">useFunc</a>の内部wrapper関数を追加
<br>
・<span class="run">Ver.2.390.86</span>以降、<a href="#span-out-command">命令文</a>と<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>以外の全<a href="#span-out-RW">予約語</a>に対応（<a href="#span-out-FN0">定数</a>・<a href="#span-out-com">虚数単位</a>iを含む）
<br>
・<span class="run">Ver.2.766.116</span>以降、<a href="#span-out-FN-ope">nand/xnor/nor/cnand/cxnor/cnor関数</a>を追加
<br>
・<span class="run">Ver.2.825.139</span>以降、<a href="#span-out-FNm-reshape">reshapez行列関数</a>を追加
<br>
<br>
parser.js抜粋
<pre><code>
    // reserved word
    // token
    case "\\":
    case "#":
    case "\"":
    case "`":
      throw "reserved token("+token+")";
      break;
    // unary operator
    case "i":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("UR", token_lower);});
      break;
    // literal
    case "nan":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(NaN, 0);});
      break;
    case "false":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(false, 0);});
      break;
    case "true":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(true, 0);});
      break;
    // variable
    case "ans":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("REv", token_lower);});
      break;
    // command
    case "clear":
    case "store":
    case "restore":
    case "stop":
      throw "Invalid "+token+" called";
      break;
    // "FNc"
    <span class="jF">case "hass":</span>
    <span class="jF">case "has":</span>
    <span class="jF">case "has__":</span>
    <span class="jF">case "del__":</span>
    <span class="jF">case "add__":</span>
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FNc", token_lower);});
      break;
    // "FNhn"
    case "switch":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FNh", {key: token_lower});});
      break;
    // "FN2"
    // real number
    // relational
    case "seq":
    case "sne":
    case "eq":
    case "ne":
    // comparison
    case "lt":
    case "le":
    case "gt":
    case "ge":
    // logical
    case "bitnot":
    case "bitand":
    case "bitxor":
    case "bitor":
    case "not":
    case "and":
    <span class="jF">case "nand":</span>
    case "xor":
    <span class="jF">case "xnor":</span>
    case "or":
    <span class="jF">case "nor":</span>
    // complex number
    // relational
    case "cseq":
    case "csne":
    case "ceq":
    case "cne":
    // logical
    case "cnot":
    case "cand":
    <span class="jF">case "cnand":</span>
    case "cxor":
    <span class="jF">case "cxnor":</span>
    case "cor":
    <span class="jF">case "cnor":</span>
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", token_lower);});
      break;
    // "FNmh"
    case "jacobi":
    case "jacobian":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FNmh", "jacobian");});
      break;
    case "newton":
    case "newtonian":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FNmh", "newtonian");});
      break;
    // "FNm"
    // "FNm0"
    case "vector2r":
    case "vector3r":
    case "vector4r":
    case "vector2c":
    case "vector3c":
    case "vector4c":
    case "zeros2":
    case "zeros3":
    case "zeros4":
    case "ones2":
    case "ones3":
    case "ones4":
    case "identity2":
    case "identity3":
    case "identity4":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_mat(math_mat[token_lower]());});
      break;
    // "FNm1"
    case "vectorr":
    case "vectorc":
    case "identity":
    <span class="jF">case "isfalse":</span>
    <span class="jF">case "istrue":</span>
    case "first":
    case "last":
    case "rotationx":
    case "rotationy":
    case "rotationz":
    case "sizer":
    case "size":
    case "sizec":
    <span class="jF">case "normr":</span>
    case "norm":
    <span class="jF">case "normc":</span>
    case "euclidean":
    case "normalizer":
    case "normalize":
    case "normalizec":
    case "trans":
    case "transpose":
    case "htrans":
    case "htranspose":
    case "hermitian":
    <span class="jF">case "fft1d":</span>
    <span class="jF">case "ifft1d":</span>
    // "FNm2"
    case "scalars":
    case "zeros":
    case "ones":
    case "coo2mat":
    case "mat2coo":
    <span class="jF">case "interp":</span>
    case "gauss_coo":
    case "gaussian_coo":
    case "gauss":
    case "gaussian":
    // "FNm2or3"
    // Matlab defined
    // Python defined
    <span class="jF">case "linspace":</span>
    <span class="jF">case "reshapez":</span>
    // "FNm3"
    <span class="jF">case "reshaper":</span>
    <span class="jF">case "reshape":</span>
    <span class="jF">case "reshapec":</span>
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FNm", token_lower);});
      break;
    // "CT"
    // JavaScript defined
    case "epsilon":
    case "min_safe_integer":
    case "max_safe_integer":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(math.config[token_upper], 0);});
      break;
    case "min_value":
    case "max_value":
    case "positive_infinity":
    case "negative_infinity":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(Number[token_upper], 0);});
      break;
    // My defined
    case "eps":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(math.config["EPSILON"], 0);});
      break;
    case  "inf":
    case  "infinity":
    case "pinf":
    case "pinfinity":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(Number.POSITIVE_INFINITY, 0);});
      break;
    case "ninf":
    case "ninfinity":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(Number.NEGATIVE_INFINITY, 0);});
      break;
    case  "infi":
    case  "infinityi":
    case "pinfinityi":
    case "pinfi":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(0, Number.POSITIVE_INFINITY);});
      break;
    case "ninfinityi":
    case "ninfi":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(0, Number.NEGATIVE_INFINITY);});
      break;
    // JavaScript defined
    case "ln2":
    case "ln10":
    case "log2e":
    case "log10e":
    case "sqrt1_2":
    case "sqrt2":
    // Both defined
    case "e":
    case "pi":  // pi || PI() in Excel
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_num(Math[token_upper], 0);});
      break;
    // "FN0"
    // JavaScript defined
    case "random":
    // Excel defined
    case "rand":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", "random");});
      break;
    // "FN1"
    case "ln":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", "log");});
      break;
    // JavaScript defined
    case "ceil":
    case "floor":
    case "round":
    case "log":
    // Excel defined
    case "sinh":
    case "cosh":
    case "tanh":
    case "asinh":
    case "acosh":
    case "atanh":
    case "csch":
    case "sech":
    case "coth":
    case "acsch":
    case "asech":
    case "acoth":
    case "sign":
    case "fact":
    case "degrees":
    case "radians":
    // Both defined
    case "abs":
    case "sqrt":
    case "exp":
    case "sin":
    case "cos":
    case "tan":
    case "asin":
    case "acos":
    case "atan":
    case "log10":
    // Python defined
    case "log2":
    case "int":
    // My defined
    case "isnan":
    case "sin_deg":
    case "cos_deg":
    case "tan_deg":
    case "deg_asin":
    case "deg_acos":
    case "deg_atan":
    case "rad2deg":
    case "deg2rad":
    case "cdot":
    case "ecomp":
    case "ecomplex":
    case "real":
    case "imag":
    case "imaginary":
    case "conj":
    case "conjugate":
    case "arg":
    case "argument":
    case "deg_arg":
    case "deg_argument":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", token_lower);});
      break;
    // "FN1or2"
    // Excel defined
    case "log_ex":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", token_lower);});
      break;
    // "FN2"
    case "power":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", "pow");});
      break;
    // JavaScript defined
    case "pow":
    case "atan2":
    case "imul":
    // Excel defined
    case "combin":
    case "combination":
    // My defined
    case "permut":
    case "permutation":
    case "deg_atan2":
    case "atan2_ex":  // Excel spec
    case "deg_atan2_ex":
    case "comp":
    case "complex":
    case "pcomp":
    case "pcomplex":
    case "kdelta":
    case "mod":
    case "fmod":
    case "quot":
    <span class="jF">case "fquot":</span>
    // "FN3or4"
    // My defined
    case "star":
    case "poly":
    case "polygon":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FN", token_lower);});
      break;
    // "FNn"
    // Excel defined@n&lt;256
    case "lcm":
    case "gcd":
    // Both defined
    // real number
    case "min":
    case "max":
    // Python defined
    case "mean":
    case "sum":
    case "prod":
    case "median":
    case "sort":
    case "reverse":
    // My defined
    // |complex number|
    case "cmin":
    case "cmax":
    <span class="jF">case "camin":</span>
    <span class="jF">case "camax":</span>
    case "cmedian":
    case "csort":
    case "creverse":
      _tree = self.wrapper_useFunc(token, token_lower, token_upper, function(){return DATA.tree_tag("FNn", token_lower);});
      break;
</code></pre>
<br>
<br>
予約記号の正規表現は<a href="../71_regexp/index.html?testcase=calc1">正規表現text置換</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
NaN対応結果
    </th>
    <td>
<span id="span-in-FN-list"></span>
定義済みの<a href="#span-in-FN">関数</a>の<a href="#span-in-FN-NaN">NaN対応</a>結果を以下に示す
<br>
・<a href="#span-out-comment">comment文</a>：// 対応後の演算結果
<br>
・<span class="clear">Ver.2.170.42</span>以降、<span class="jF">追加項目</span>
<br>
<br>
<pre><code>
// error
<del>hasvar(NaN);
haseqn(NaN);
delvar(NaN);
deleqn(NaN);
addvar(NaN);
addeqn(NaN);
hasv(NaN);
hase(NaN);
<span class="jF">hasvs(NaN);</span>
<span class="jF">hases(NaN);</span></del>
<span class="jF">hass(NaN);
hass(=&lt;NaN);
has(NaN);
has(=&lt;NaN);
has__(NaN);
has__(=&lt;NaN);
del__(NaN);
del__(=&lt;NaN);
add__(NaN);
add__(=&lt;NaN);</span>

// false
switch(NaN);

// NaN
seq(NaN);
sne(NaN);
eq(NaN);
ne(NaN);
lt(NaN);
le(NaN);
gt(NaN);
ge(NaN);
bitnot(NaN);  // -1
bitand(NaN);
bitxor(NaN);
bitor(NaN);
not(NaN);  // 1
and(NaN);
<span class="jF">nand(NaN);  // true</span>
xor(NaN);
<span class="jF">xnor(NaN);  // true</span>
or(NaN);
<span class="jF">nor(NaN);  // true</span>
cseq(NaN);
csne(NaN);
ceq(NaN);
cne(NaN);
cnot(NaN);  // 1
cand(NaN);
<span class="jF">cnand(NaN);  // true</span>
cxor(NaN);
<span class="jF">cxnor(NaN);  // true</span>
cor(NaN);
<span class="jF">cnor(NaN);  // true</span>

// error
jacobi(NaN);
jacobian(NaN);
newton(NaN);
newtonian(NaN);

//
vector2r;
vector3r;
vector4r;
vector2c;
vector3c;
vector4c;
zeros2;
zeros3;
zeros4;
ones2;
ones3;
ones4;
identity2;
identity3;
identity4;

// error
vectorr(NaN);
vectorc(NaN);
identity(NaN);

// NaN
<span class="jF">isfalse(NaN);  // true</span>
<span class="jF">istrue(NaN);  // false</span>
first(NaN);
last(NaN);
rotationx(NaN);
rotationy(NaN);
rotationz(NaN);
sizer(NaN);  // 1
size(NaN);  // 1
sizec(NaN);  // 1
<span class="jF">normr(NaN);</span>
norm(NaN);
<span class="jF">normc(NaN);</span>
euclidean(NaN);
normalizer(NaN);
normalize(NaN);
normalizec(NaN);
trans(NaN);
transpose(NaN);
htrans(NaN);
htranspose(NaN);
hermitian(NaN);

// error
<span class="jF">fft1d(NaN);</span>
<span class="jF">ifft1d(NaN);</span>
scalars(NaN);
zeros(NaN);
ones(NaN);
coo2mat(NaN);

// <del>false</del><span class="run">Ver.2.217.50</span>以降、NaN
mat2coo(NaN);

// error
<span class="jF">interp(NaN);</span>
gauss_coo(NaN);
gaussian_coo(NaN);
gauss(NaN);
gaussian(NaN);
<span class="jF">linspace(NaN);</span>
<span class="jF">reshapez(NaN);</span>
<span class="jF">reshaper(NaN);</span>
<span class="jF">reshape(NaN);</span>
<span class="jF">reshapec(NaN);</span>

//
epsilon;
min_safe_integer;
max_safe_integer;
min_value;
max_value;
positive_infinity;
negative_infinity;
eps;
inf;
infinity;
pinf;
pinfinity;
ninf;
ninfinity;
infi;
infinityi;
pinfinityi;
pinfi;
ninfinityi;
ninfi;
ln2;
ln10;
log2e;
log10e;
sqrt1_2;
sqrt2;
e;
pi;
random;
rand;

// NaN
ln(NaN);
ceil(NaN);
floor(NaN);
round(NaN);
log(NaN);
sinh(NaN);
cosh(NaN);
tanh(NaN);
asinh(NaN);
acosh(NaN);
atanh(NaN);
csch(NaN);
sech(NaN);
coth(NaN);
acsch(NaN);
asech(NaN);
acoth(NaN);
sign(NaN);
fact(NaN);
degrees(NaN);
radians(NaN);
abs(NaN);
sqrt(NaN);
exp(NaN);
sin(NaN);
cos(NaN);
tan(NaN);
asin(NaN);
acos(NaN);
atan(NaN);
log10(NaN);
log2(NaN);
int(NaN);
isnan(NaN);  // true
sin_deg(NaN);
cos_deg(NaN);
tan_deg(NaN);
deg_asin(NaN);
deg_acos(NaN);
deg_atan(NaN);
rad2deg(NaN);
deg2rad(NaN);
cdot(NaN);
ecomp(NaN);
ecomplex(NaN);
real(NaN);
imag(NaN);  // 0
imaginary(NaN);  // 0
conj(NaN);
conjugate(NaN);
arg(NaN);
argument(NaN);
deg_arg(NaN);
deg_argument(NaN);
log_ex(NaN);
power(NaN);
pow(NaN);
atan2(NaN);
imul(NaN);  // 0
combin(NaN);
combination(NaN);
permut(NaN);
permutation(NaN);
deg_atan2(NaN);
atan2_ex(NaN);
deg_atan2_ex(NaN);
comp(NaN);
complex(NaN);
pcomp(NaN);
pcomplex(NaN);
kdelta(NaN);
mod(NaN);
fmod(NaN);
quot(NaN);
<span class="jF">fquot(NaN);</span>
star(NaN);
poly(NaN);
polygon(NaN);
lcm(NaN);
gcd(NaN);
min(NaN);
max(NaN);
mean(NaN);
sum(NaN);
prod(NaN);
median(NaN);
sort(NaN);
reverse(NaN);
cmin(NaN);
cmax(NaN);
<span class="jF">camin(NaN);</span>
<span class="jF">camax(NaN);</span>
cmedian(NaN);
csort(NaN);
creverse(NaN);
</code></pre>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
接頭辞の
<br>
正規表現
    </th>
    <td>
<span id="span-in-re-prifix"></span>
<a href="#span-out-RW">接頭辞</a>を判定する正規表現について記述する
<br>
<br>
<span class="clear">Ver.2.146.37</span>以降、正規表現を修正
<br>
<del>0(?:[xX][0-9a-fA-F]+)</del>
<br>
0(?:[xX<span class="run">bBoO</span>][0-9a-<span class="clear">z</span>A-<span class="clear">Z</span>]+)
<br>
・厳密な正規表現は使用しない
<br>
<del>0(?:[xX][0-9a-fA-F]+)|0(?:[bB][0-1]+)|0(?:[oO][0-7]+)</del>
<br>
・<a href="#span-out-BRmo">記号省略乗算</a>を許容した弊害への対策
<br>
<del>0x3i || </del>(0x3)i -> 3i
<br>
<del>0b013 || </del>(0b01)3 -> 3
<br>
<br>
<a href="#span-out-RW">接頭辞</a>判定の正規表現は<a href="../71_regexp/index.html?testcase=calc">正規表現text置換</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
log関数
    </th>
    <td>
<span id="span-in-FN-log"></span>
<a href="#span-out-com">複素数</a>演算の<a href="#span-out-FN-log">log関数</a>について記述する
<br>
<br>
<span class="run">Ver.2.149.38</span>以降、複素対数関数の性質を見直して内部仕様を修正
<br>
・引数の実部が負の場合、<span class="clear">(2*pi)i</span>の<a href="#span-out-error-numerical">数値誤差</a>が生じやすい不具合を対策
<br>
<del>ln(1/(-1)) || ln(1/(1-2)) -> -3.141592653589793i<span class="clear">+O(6e+0i)</span></del>
<br>
<del>ln(1/(-2)) -> -0.6931471805599453-3.141592653589793i<span class="clear">+O(6e+0i)</span></del>
<br>
・誤解を招く<a href="#span-out-error-numerical">数値誤差</a>を解消
<br>
ln(1/(-1)) || ln(1/(1-2)) -> 3.141592653589793i
<br>
ln(1/(-2)) -> -0.6931471805599453+3.141592653589793i
<br>
ln(-1) -> 3.141592653589793i
<br>
ln(-0.5) -> -0.6931471805599453+3.141592653589793i
<br>
・<span class="run">Ver.2.184.44</span>以降、auto-real selected時
<br>
ln(-1) -> NaN
<br>
ln(-0.5) -> NaN
<br>
・<a href="#span-out-FN-log">log関数</a>からcallする偏角算出の<a href="#span-in-FN-atan2">atan2関数</a>を修正
<br>
<del>Math.atan2(y, x)</del>
<br>
Math.atan2(y || 0, x || 0)
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
atan2関数
    </th>
    <td>
<span id="span-in-FN-atan2"></span>
<a href="#span-out-ope">実数演算</a>の<a href="#span-out-FN-atan2">atan2関数</a>について記述する
<br>
<br>
built-inの<a href="#span-out-FN-atan2">atan2関数</a>の挙動
<br>
Math.atan2(-0, -1) -> -3.141592653589793
<br>
Math.atan2(0, -1) -> 3.141592653589793
<br>
Math.atan2(<span class="clear">-0 || 0</span>, -1) -> 3.141592653589793
<br>
Math.atan2(0, -0) -> 3.141592653589793
<br>
Math.atan2(-0, -0) -> -3.141592653589793
<br>
Math.atan2(0, 0) -> 0
<br>
Math.atan2(-0, 0) -> -0
<br>
Math.atan2(-0, 1) -> 0
<br>
<br>
<a href="#span-out-FN-atan2">atan2関数</a>の挙動
<br>
atan2(-0,-1) -> -3.141592653589793<span class="clear">+O(6e+0)</span>
<br>
atan2(0,-1) -> 3.141592653589793
<br>
atan2(<span class="clear">-0||0</span>, -1) -> 3.141592653589793
<br>
atan2(0,-0) -> 3.141592653589793<span class="clear">+O(3e+0)</span>
<br>
atan2(-0,-0) -> -3.141592653589793<span class="clear">+O(3e+0)</span>
<br>
atan2(0,0) -> 0
<br>
・<span class="run">Ver.2.151.38</span>以降、<a href="#span-in-log-m0">実部の-0表示に対応</a>
<br>
<del>atan2(-0,0) -> <span class="clear">0</span></del>
<br>
atan2(-0,0) -> -0
<br>
atan2(-0,1) -> 0
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
NaN対応
    </th>
    <td>
<span id="span-in-FN-NaN"></span>
<a href="#span-out-literal">NaN</a>対応について記述する
<br>
<br>
<span class="clear">Ver.2.170.42</span>以降、実装関数の引数が<a href="#span-out-literal">NaN</a>の場合、発生する不具合を一括修正
<br>
・未定義の返値を返す関数を修正
<br>
・引数不足の場合、予期せぬerror終了が発生する一部の関数を修正
<br>
<br>
修正前の不具合を列挙する
<br>
identity(NaN) -> Invalid array length
<br>
gcd(1,NaN) -> <span class="clear">Maximum call stack size exceeded</span>
<br>
argument(NaN) -> 0
<br>
Kdelta(NaN) -> 0
<br>
combin(NaN,1) || permut(NaN,1) -> 1
<br>
combin(1,NaN) || permut(1,NaN) -> 0
<br>
NaN! || fact(NaN) -> 1
<br>
mat2coo(NaN) || mat2coo(0) -> (:: )
<br>
or(NaN) || or(0)  <span class="selection">// NaN||undefined</span> -> undefined
<br>
・別途、引数不定の関数の不具合
<br>
camin(NaN) -> NaN
<br>
camin(i) -> i
<br>
<br>
修正後の対策を列挙する
<br>
・isNaN判定を追加
<br>
identity(NaN) -> [MyErr]Invalid matrix size
<br>
gcd(1,NaN) -> NaN
<br>
argument(NaN) -> NaN
<br>
Kdelta(NaN) -> NaN
<br>
combin(NaN,1) || permut(NaN,1) -> NaN
<br>
combin(1,NaN) || permut(1,NaN) -> NaN
<br>
NaN! || fact(NaN) -> NaN
<br>
・未定義の場合、<del><a href="#span-out-literal">false</a>を返す</del><span class="run">Ver.2.217.50</span>以降、<a href="#span-out-literal">NaN</a>を返す
<br>
<del>mat2coo(NaN) || mat2coo(0) -> (false:false:false)</del>
<br>
mat2coo(NaN) || mat2coo(0) -> (NaN:NaN:NaN)
<br>
・引数不足の場合、<a href="#span-out-literal">NaN</a>を返す
<br>
or(NaN) || or(0) -> NaN
<br>
・引数不定の関数の場合、同じ引数を追加して正常化
<br>
camin(NaN) || camin(NaN,NaN) -> NaN
<br>
camin(i) || camin(i,i) -> 1
<br>
<br>
結果の一覧は<a href="#span-in-FN-list">NaN対応結果</a>参照
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
-0表示対応
    </th>
    <td>
<span id="span-in-log-m0"></span>
<a href="#span-out-log">log表示</a>の-0表示対応について記述する
<br>
<br>
<span class="run">Ver.2.151.38</span>以降、実部の-0表示に対応
<br>
・toLocaleString()を使用
<br>
-0 -> -0
<br>
(-0) -> -0
<br>
(-0,-0) -> (-0,-0)
<br>
x=(-0),x -> (0,-0)
<br>
・<a href="#span-out-num">指数表記</a>選択の場合
<br>
-0 -> 0e+0
<br>
<br>
-0のNative仕様
<br>
-0 -> -0
<br>
(-0) -> -0
<br>
-0 * 0 -> -0
<br>
-0 * 1 -> -0
<br>
-0 * (-1) -> 0
<br>
-0 + 0 || 0 + (-0) -> 0
<br>
<br>
演算結果の<a href="#span-out-log">log表示</a>
<br>
・<a href="#span-out-csv-format">csv-format</a>で-0を入力
<br>
-0 -> -0
<br>
(-0) -> -0
<br>
・<a href="#span-out-ope">無次元</a>の演算の場合、互換性あり
<br>
(-0)*0 -> -0
<br>
(-0)*1 -> -0
<br>
(-0)*(-1) -> 0
<br>
(-0)+0 || 0+(-0) -> 0
<br>
・<a href="#span-out-ope">有次元</a>の演算の場合、互換性なし
<br>
(-0)*0 -> 0
<br>
(-0)*1 -> 0
<br>
(-0)*(-1) -> 0
<br>
(-0)+0 || 0+(-0) -> 0
<br>
<br>
虚部の-0を<a href="#span-out-log">log表示</a>する場合、<a href="#span-in-options">内部option</a>参照
<br>
cos(pi/4) -> 0.7071067811865476-0i
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
短絡評価
    </th>
    <td>
<span id="span-in-short-circuit"></span>
短絡評価の実装について記述する
<br>
<br>
<span class="run">Ver.2.157.38</span>以降、<a href="#span-out-FNh-switch">switch高階関数</a>代替の<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>を追加
<br>
・<span class="run">Ver.2.196.46</span>以降、<a href="#span-out-prec-ope-conditional">条件演算子</a>代替の<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>を追加
<br>
<br>
operand判定時、構文規則の先読み対策（operandを全走査する仕様の対策）を列挙する
<br>
・代入記号=||=&lt;を<a href="#span-out-SR">区切り文字</a>として追加で判定
<br>
　<a href="#span-out-substitution-equation">式変数への式代入</a>直後の<a href="#span-out-prec">演算のprecedence</a>で<a href="#span-out-substitution">変数への代入</a>より優先する
<br>
・論理ANDsと論理ORsの優先順位は次の判定で区別（論理ANDs優先の挙動）
<br>
　論理ANDsの判定時、別の論理ANDs||論理ORsを<a href="#span-out-SR">区切り文字</a>として追加で判定
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

<div>
<table>
<caption><span id="span-eqn"><a href="#span-out-config-strict">strict-mode</a>式変数list</span><br><span class="run">Ver.2.219.50</span>以降、<a href="#span-out-spec-changed-history">演算仕様変更</a>||<a href="#span-out-ope-extended-history1">機能拡張</a>の<span class="jF">影響項目</span><br><span class="run">Ver.2.665.98</span>以降、coloring省略</caption>
<thead>
  <tr>
    <th>
式変数名
    </th>
    <th>
algorithm
    </th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
template
    </th>
    <td>
<span id="span-eqn-template"></span>
clear;
<br>
template(x,y,=&lt;symbol_eqn_,=&lt;eqn_,==&lt;symbol__eqn__,==&lt;eqn__)=&lt;[
<br>
out=&lt;[=&lt;(symbol_eqn_=&gt;,eqn_=&gt;,symbol__eqn__=&gt;,eqn__=&gt;)]=&gt;,
<br>
scope2storage=&lt;last{0},
<div class="condition">
init=&lt;last{0},
</div>
<div class="run">
run=&lt;last{0},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;{x,y},=&lt;template(x,f/*var||eqn*/,=&lt;f,=&lt;{x,y},=&lt;f,=&lt;{x,y})=&gt;]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;(x:y),=&lt;template(x,last(f),=&lt;f,=&lt;(x:y),=&lt;f,=&lt;(x:y))=&gt;]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;[x:y],=&lt;template(x,last(f),=&lt;f,=&lt;[x:y],=&lt;f,=&lt;[x:y])=&gt;]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;(x:y),=&lt;template(x,=&lt;last(f),=&lt;f,=&lt;(x:y),=&lt;f,=&lt;(x:y))=&gt;]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;[x:y],=&lt;template(x,=&lt;last(f),=&lt;f,=&lt;[x:y],=&lt;f,=&lt;[x:y])=&gt;]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;(x:y),=&lt;template(x,=&lt;last(f=&gt;),=&lt;f,=&lt;(x:y),=&lt;f,=&lt;(x:y))=&gt;]=&gt;;
<br>
[x=1,y=2,f=3,f=&lt;[x:y],=&lt;template(x,=&lt;last(f=&gt;),=&lt;f,=&lt;[x:y],=&lt;f,=&lt;[x:y])=&gt;]=&gt;;
<br>
clear;
<br>
[f(=&lt;A)=&lt;A=&gt;+B,B=-1,C=-2,g=&lt;B,
<br>
[B=10,C=11,g=&lt;C,h=&lt;g=&gt;+B,[B=20,f(=&lt;h)=&gt;,f(==&lt;h)=&gt;,f(=&lt;h)==&gt;,f(==&lt;h)==&gt;]]]:
<br>
f(=&lt;A)=&lt;A=&gt;+B,B=-1,C=-2,g=&lt;B,
<br>
[B=10,C=11,g=&lt;C,h=&lt;g=&gt;+B,[B=20,f(=&lt;h)=&gt;,f(==&lt;h)=&gt;,f(=&lt;h)==&gt;,f(==&lt;h)==&gt;]]:
<br>
f(==&lt;A)=&lt;A=&gt;+B,B=-1,C=-2,g=&lt;B,
<br>
[B=10,C=11,g=&lt;C,h=&lt;g=&gt;+B,[B=20,f(=&lt;h)=&gt;,f(==&lt;h)=&gt;,f(=&lt;h)==&gt;,f(==&lt;h)==&gt;]]:
<br>
f(=&lt;A)=&lt;A==&gt;+B,B=-1,C=-2,g=&lt;B,
<br>
[B=10,C=11,g=&lt;C,h=&lt;g=&gt;+B,[B=20,f(=&lt;h)=&gt;,f(==&lt;h)=&gt;,f(=&lt;h)==&gt;,f(==&lt;h)==&gt;]];
<br>
clear;
<br>
B=-1,g=&lt;B/*here*/,[B=10,[B=20,[B=30,f=&lt;g=/*required*/&gt;,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,g=&lt;B,[B=10,[B=20,[B=30,f=&lt;g==&gt;,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,g=&lt;B,[B=10,[B=20,[B=30,f=/*disabled*/=&lt;g=&gt;,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,g=&lt;B,[B=10,[B=20,[B=30,f=/*disabled*/=&lt;g==&gt;,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,g=&gt;f/*resolved*/,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,g==&gt;f/*resolved*/,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[=&lt;=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[==&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[==&lt;=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[=&lt;<span class="jF">==&lt;</span>g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[=&lt;g]==&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,[==&lt;g]==&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,g=&lt;B,[B=20,[B=30,=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,==&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,==&lt;=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;<span class="jF">==&lt;</span>g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]==&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]=&gt;f,==&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]=&gt;f,=&lt;<span class="jF">==&lt;</span>f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]=&gt;f,=&lt;f]==&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]=&gt;f,=&lt;f]=&gt;f,==&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;<span class="jF">==&lt;</span>f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,=&lt;=&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]==&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,g=&lt;B,[B=30,==&lt;==&lt;g]=&gt;f,=&lt;f]=&gt;f,=&lt;f]==&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,==&lt;=&lt;B]=&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,=&lt;=&lt;B]==&gt;f,=&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,=&lt;=&lt;B]=&gt;f,==&lt;f]=&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,=&lt;=&lt;B]=&gt;f,=&lt;f]==&gt;f,=&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,=&lt;=&lt;B]=&gt;f,=&lt;f]=&gt;f,==&lt;f]=&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,=&lt;=&lt;B]=&gt;f,=&lt;f]=&gt;f,=&lt;f]==&gt;f,f=&gt;,f==&gt;:
<br>
B=-1,[B=10,[B=20,[B=30,=&lt;B/*resolved*/]=&gt;f,=&lt;f]=&gt;f,=&lt;f]==&gt;f,f=&gt;,<span class="clear">f==&gt;/*Ver.2.830.140~*/</span>;
<br>
clear;
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,=&lt;g/*not-resolved*/]=&gt;]=&gt;]=&gt;g,g=&gt;,g==&gt;:
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,==&lt;g]=&gt;]=&gt;]=&gt;g,g=&gt;,g==&gt;:
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,g=-B,=&lt;[B=30,=&lt;<span class="jF">g/*var*/</span>]=&gt;]=&gt;]=&gt;:
<br>
<span class="jF">//</span>B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,=&lt;<span class="jF">g/*not-resolved*/</span>]=&gt;]=&gt;]=&gt;
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,=&lt;g=&gt;]=&gt;]=&gt;]=&gt;:
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,=&lt;g==&gt;]=&gt;]=&gt;]=&gt;:
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,=/*disabled*/=&lt;g=&gt;]=&gt;]=&gt;]=&gt;:
<br>
B=-1,[B=10,=&lt;[B=20,g=&lt;B,=&lt;[B=30,=/*disabled*/=&lt;g==&gt;]=&gt;]=&gt;]=&gt;;
<br>
clear;
<br>
a0=-1;
<br>
call_f(a0)=&lt;(a=a0,f(3)=&gt;,f(3)==&gt;);
<br>
make_f(a)=&lt;[g(x)=&lt;a*x,=&lt;g]=&gt;f,make_f(a0)=&gt;,call_f(1)=&gt;,call_f(2)=&gt;:
<br>
make_f(a0)=&lt;[a=a0,g(x)=&lt;a*x,=&lt;g]=&gt;f,make_f(a0)=&gt;,call_f(1)=&gt;,call_f(2)=&gt;:
<br>
<span class="jF">make_f(a)=&lt;[g(x)=&lt;a*x,=&lt;g]=&gt;,make_f(a0)=&gt;f,call_f(1)=&gt;,call_f(2)=&gt;:
<br>
,make_f(a0)==&gt;f,call_f(1)=&gt;,call_f(2)=&gt;:
<br>
make_f(a0)=&lt;[a=a0,g(x)=&lt;a*x,=&lt;g]=&gt;,make_f(a0)=&gt;f,call_f(1)=&gt;,call_f(2)=&gt;:
<br>
,make_f(a0)==&gt;f,call_f(1)=&gt;,call_f(2)=&gt;;</span>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope_NG
    </th>
    <td>
<span id="span-eqn-scope_NG"></span>
<a href="#span-out-command">命令文</a>||<a href="#span-out-eqns-re-use">scope付式変数の再利用</a>参照
<br>
<span class="jF">clear</span>;
<br>
scope_NG1(x)=&lt;[x=x,x,last[x=x/*NG*/,x],x];
<br>
scope_NG2(x)=&lt;2*[x=x,x,last[x=x/*NG*/,x],x];
<br>
scope_NG3(x)=&lt;last[,3]*[x=x,x,last[x=x/*NG*/,x],x];
<br>
scope_NG4(x)=&lt;last[x=4,x]*[x=x/*NG*/,x,last[x=x/*NG*/,x],x];
<br>
check_all(x)=&lt;(scope_NG1(x)=&gt;:scope_NG2(x)=&gt;:scope_NG3(x)=&gt;:scope_NG4(x)=&gt;);
<br>
<span class="jF">store</span>;
<br>
scope_NG1(1)=&gt;:scope_NG1(-1)=&gt;;
<br>
scope_NG2(1)=&gt;:scope_NG2(-1)=&gt;;
<br>
scope_NG3(1)=&gt;:scope_NG3(-1)=&gt;;
<br>
scope_NG4(1)=&gt;:scope_NG4(-1)=&gt;;
<br>
<span class="jF">restore</span>;
<br>
check_all(1)=&gt;;
<br>
check_all(-1)=&gt;;
<br>
<span class="jF">restore</span>;
<br>
check_all(1)=&gt;;
<br>
<span class="jF">restore</span>;
<br>
check_all(-1)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
short_
<br>
circuit
    </th>
    <td>
<span id="span-eqn-short-circuit"></span>
<a href="#span-out-prec-ope-logical-short-circuit">論理演算子（短絡評価）</a>||<a href="#span-out-prec-ope-logical-short-circuit-literal">論理演算子（literal）</a>||<a href="#span-out-FNh-switch">switch高階関数</a>参照
<br>
clear;
<br>
sw_var_NG1(sw)=&lt;[x=0,sw&amp;&amp;&amp;x=1||||x=-1,=&lt;x]=&gt;,sw_var_NG1(false)=&gt;,sw_var_NG1(true)=&gt;;
<br>
sw_var_NG2(sw)=&lt;[x=0,sw&amp;&amp;&amp;(x=1)|||(x=-1),=&lt;x]=&gt;,sw_var_NG2(false)=&gt;,sw_var_NG2(true)=&gt;;
<br>
sw_var_NG3(sw)=&lt;[x=0,sw&amp;&amp;(x=1)||(x=-1),=&lt;x]=&gt;,sw_var_NG3(false)=&gt;,sw_var_NG3(true)=&gt;;
<br>
sw_var_OK1(sw)=&lt;[x=0,sw&amp;&amp;&amp;(x=1)||||(x=-1),=&lt;x]=&gt;,sw_var_OK1(false)=&gt;,sw_var_OK1(true)=&gt;;
<br>
sw_var_OK2(sw)=&lt;[x=0,sw&amp;&amp;&amp;(,x=1)|||(,x=-1),=&lt;x]=&gt;,sw_var_OK2(false)=&gt;,sw_var_OK2(true)=&gt;;
<br>
sw_var_OK3(sw)=&lt;[x=0,switch(sw,=&lt;x=1:1,=&lt;x=-1),=&lt;x]=&gt;,sw_var_OK3(false)=&gt;,sw_var_OK3(true)=&gt;;
<br>
sw_eqn_NG1(sw)=&lt;[sw&amp;&amp;&amp;f=&lt;1||||f=&lt;-1,=&lt;f=&gt;]=&gt;,sw_eqn_NG1(false)=&gt;,sw_eqn_NG1(true)=&gt;;
<br>
sw_eqn_NG2(sw)=&lt;[sw&amp;&amp;&amp;(f=&lt;1)|||(f=&lt;-1),=&lt;f=&gt;]=&gt;,sw_eqn_NG2(false)=&gt;,sw_eqn_NG2(true)=&gt;;
<br>
sw_eqn_NG3(sw)=&lt;[sw&amp;&amp;(f=&lt;1)||(f=&lt;-1),=&lt;f=&gt;]=&gt;,sw_eqn_NG3(false)=&gt;,sw_eqn_NG3(true)=&gt;;
<br>
sw_eqn_OK1(sw)=&lt;[sw&amp;&amp;&amp;(f=&lt;1)||||(f=&lt;-1),=&lt;f=&gt;]=&gt;,sw_eqn_OK1(false)=&gt;,sw_eqn_OK1(true)=&gt;;
<br>
sw_eqn_OK2(sw)=&lt;[sw&amp;&amp;&amp;(,f=&lt;1)|||(,f=&lt;-1),=&lt;f=&gt;]=&gt;,sw_eqn_OK2(false)=&gt;,sw_eqn_OK2(true)=&gt;;
<br>
sw_eqn_OK3(sw)=&lt;[switch(sw,=&lt;f=&lt;1:1,=&lt;f=&lt;-1),=&lt;f=&gt;]=&gt;,sw_eqn_OK3(false)=&gt;,sw_eqn_OK3(true)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
matching
    </th>
    <td>
<span id="span-eqn-matching"></span>
<a href="#span-out-matching">行列要素pattern matching</a>参照
<br>
clear;
<br>
[
<br>
a=1,($a,$b)=(-1,a),(a,b):
<br>
a=1,($a,a)=(-1,$b),(a,b):
<br>
a=1,(-1,$b)=($a,a),(a,b):
<br>
a=1,(-1,a)=($a,$b),(a,b)
<br>
];
<br>
clear;
<br>
switch_NG4lazy=&lt;[
<br>
A=(1,2:3,4),
<br>
($A[0],$A[1])=(<span class="jF">=&lt;A[1],=&lt;A[0]</span>),
<br>
($A[][0],$A[][1])=(<span class="jF">=&lt;A[][1],=&lt;A[][0]</span>),
<br>
=&lt;(false:A)]=&gt;;
<br>
switch_OK=&lt;[
<br>
A=(1,2:3,4),
<br>
B=A,
<br>
($A[0],$A[1])=(<span class="jF">=&lt;B[1],=&lt;B[0]</span>),
<br>
B=A,
<br>
($A[][0],$A[][1])=(<span class="jF">=&lt;B[][1],=&lt;B[][0]</span>),
<br>
=&lt;(true:A)]=&gt;;
<br>
switch_NG4lazy=&gt;:switch_OK=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
list
    </th>
    <td>
<span id="span-eqn-list"></span>
<a href="#span-out-concatenation">行列結合</a>参照（<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>非対応）
<br>
clear;
<br>
N=6;
<br>
make_f(a)=&lt;[aa=a*a,=&lt;(x)=&lt;aa*x]=&gt;;
<br>
list_f=_r((arr)=&lt;(arr:make_f(__n__)=&gt;),=&lt;[],N);
<br>
_r((arr)=&lt;(arr,{(list_f[__n__-1])(1)=&gt;,(list_f[__n__-1])(2)=&gt;,(list_f[__n__-1])(3)=&gt;}),=&lt;[],N);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
scope
<br>
2storage
    </th>
    <td>
<span id="span-eqn-scope2storage"></span>
<a href="#span-out-matching">行列要素pattern matching</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-out-eqns-no-name">無名call</a>参照
<br>
clear;
<br>
t0=(1,2,3:4,5,6);
<br>
xt=&lt;false;
<br>
yt=&lt;false;
<br>
call_xy_var0(=&lt;xy)=&lt;{=&lt;xy[0]=&gt;,=&lt;xy[1]=&gt;};
<br>
call_xy_var1(=&lt;xy)=&lt;{=&lt;(xy=&gt;)[0]=&gt;,=&lt;(xy=&gt;)[1]=&gt;};
<br>
call_xy_eqn0(=&lt;xy)=&lt;{=&lt;(xy[0]=&gt;)=&gt;,=&lt;(xy[1]=&gt;)=&gt;};
<br>
call_xy_eqn1(=&lt;xy)=&lt;{=&lt;((xy=&gt;)[0]=&gt;)=&gt;,=&lt;((xy=&gt;)[1]=&gt;)=&gt;};
<br>
var2var=&lt;[xt=t0,yt=(t0)i,out_lazy=&lt;{=&lt;xt,=&lt;yt},=&lt;out_lazy]=&gt;;
<br>
eqn2var=&lt;[xt=&lt;t0*2,yt=&lt;(t0*2)i,out_lazy=&lt;{=&lt;xt,=&lt;yt},=&lt;out_lazy]=&gt;;
<br>
undefined2var=&lt;[out_lazy=&lt;{=&lt;xt,=&lt;yt},=&lt;out_lazy]=&gt;;
<br>
var2var=&gt;xy_var;
<br>
store;
<br>
<span class="jF">{$xt,$yt}=call_xy_var0(=&lt;xy_var)=&gt;/*Ver.2.269.62~*/</span>;
<br>
{xt,yt};
<br>
restore;
<br>
<span class="jF">{$xt,$yt}=call_xy_var1(=&lt;xy_var)=&gt;/*Ver.2.269.62~*/</span>;
<br>
{xt,yt};
<br>
restore;
<br>
eqn2var=&gt;xy_eqn;
<br>
store;
<br>
<span class="jF">{$xt,$yt}=call_xy_eqn0(=&lt;xy_eqn)=&gt;/*Ver.2.269.62~*/</span>;
<br>
{xt,yt};
<br>
restore;
<br>
<span class="jF">{$xt,$yt}=call_xy_eqn1(=&lt;xy_eqn)=&gt;/*Ver.2.269.62~*/</span>;
<br>
{xt,yt};
<br>
restore;
<br>
undefined2var=&gt;xy_eqn;
<br>
store;
<br>
<span class="jF">{$xt,$yt}=call_xy_eqn0(=&lt;xy_eqn)=&gt;/*Ver.2.269.62~*/</span>;
<br>
{xt,yt};
<br>
restore;
<br>
<span class="jF">{$xt,$yt}=call_xy_eqn1(=&lt;xy_eqn)=&gt;/*Ver.2.269.62~*/</span>;
<br>
{xt,yt};
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
has4test
    </th>
    <td>
<span id="span-eqn-has4test"></span>
<a href="#span-out-FNc">最上位関数</a>||<a href="#span-out-pass-by-name">name渡し</a>||<span class="clear"><a href="#span-out-scope-inherited">scope継承</a></span>参照
<br>
clear;
<br>
set_ans(<span class="jF">$</span>varName)=&lt;varName=ans;
<br>
checkV(<span class="jF">$</span>varName)=&lt;(<span class="jF">hass(varName),has(varName),has__(varName)</span>);
<br>
checkE(<span class="jF">$</span>eqnName)=&lt;(<span class="jF">hass(=&lt;eqnName),has(=&lt;eqnName),has__(=&lt;eqnName)</span>);
<br>
check(<span class="jF">$</span>varName,<span class="jF">$</span>eqnName)=&lt;(checkV(<span class="jF">$</span>varName)<span class="clear">==&gt;</span>:checkE(<span class="jF">$</span>eqnName)<span class="clear">==&gt;</span>);
<br>
wrapper0(n)=&lt;({n,n},check(<span class="jF">$</span>a,<span class="jF">$</span>f)=&gt;,{n,n},check(<span class="jF">$</span>a,<span class="jF">$</span>f)<span class="clear">==&gt;</span>);
<br>
(,:wrapper0(0)<span class="clear">==&gt;</span>:
<br>
[a=1,f=&lt;1:wrapper0(1)<span class="clear">==&gt;</span>:
<br>
[a=1,:wrapper0(2)<span class="clear">==&gt;</span>:
<br>
[,f=&lt;1:wrapper0(3)<span class="clear">==&gt;</span>:
<br>
[<span class="jF">del__(a),del__(=&lt;f)</span>:wrapper0(4)<span class="clear">==&gt;</span>]:
<br>
[last{a=1,<span class="jF">add__(a)},add__(=&lt;f)</span>:wrapper0(5)<span class="clear">==&gt;</span>]:
<br>
[<span class="jF">add__(a),last{f=&lt;1,add__(=&lt;f)</span>}:wrapper0(6)<span class="clear">==&gt;</span>]:
<br>
[<span class="jF">del__(a),del__(=&lt;f)</span>:wrapper0(7)<span class="clear">==&gt;</span>]
<br>
]]]);
<br>
set_ans(<span class="jF">$</span>ans0)=&gt;;
<br>
[
<br>
wrapper1(n,=&lt;f0,=&lt;f1)=&lt;(f0<span class="clear">==&gt;</span>,f1<span class="clear">==&gt;</span>:wrapper0(n)<span class="clear">==&gt;</span>),
<br>
/*wrapper1(n,<span class="clear">==&lt;</span>f0,<span class="clear">==&lt;</span>f1)=&lt;(f0=&gt;,f1=&gt;:wrapper0(n)<span class="clear">==&gt;</span>),*/
<br>
=&lt;(wrapper1(0,=&lt;0,=&lt;0)<span class="clear">==&gt;</span>:
<br>
[wrapper1(1,=&lt;a=1,=&lt;f=&lt;1)<span class="clear">==&gt;</span>:
<br>
[wrapper1(2,=&lt;a=1,=&lt;0)<span class="clear">==&gt;</span>:
<br>
[wrapper1(3,=&lt;0,=&lt;f=&lt;1)<span class="clear">==&gt;</span>:
<br>
[wrapper1(4,=&lt;<span class="jF">del__(a),=&lt;del__(=&lt;f)</span>)<span class="clear">==&gt;</span>]:
<br>
[wrapper1(5,=&lt;last{a=1,<span class="jF">add__(a)},=&lt;add__(=&lt;f)</span>)<span class="clear">==&gt;</span>]:
<br>
[wrapper1(6,=&lt;<span class="jF">add__(a),=&lt;last{f=&lt;1,add__(=&lt;f)}</span>)<span class="clear">==&gt;</span>]:
<br>
[wrapper1(7,=&lt;<span class="jF">del__(a),=&lt;del__(=&lt;f)</span>)<span class="clear">==&gt;</span>]
<br>
]]])
<br>
]=&gt;;
<br>
set_ans(<span class="jF">$</span>ans1)=&gt;;
<br>
double_check=ans1-ans0;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
test4
<br>
useMutex
    </th>
    <td>
<span id="span-eqn-test4useMutex"></span>
<a href="#span-in-options">useMutex</a>参照
<br>
clear;
<br>
f=&lt;-1,f=1:
<br>
[=&lt;f]=&gt;:
<br>
[f=2,=&lt;f]=&gt;:
<br>
[f=&lt;-3,=&lt;f]=&gt;:
<br>
[f=&lt;-4,f=4,=&lt;f]=&gt;:
<br>
[f=5,f=&lt;-5,=&lt;f]=&gt;:
<br>
[f=&lt;-6,=&lt;[=&lt;f]]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
test4
<br>
useStatic
    </th>
    <td>
<span id="span-eqn-test4useStatic"></span>
<a href="#span-in-options">useStaticScopes2dArray</a>参照
<br>
clear;
<br>
<span class="jF">call_f0=()=&lt;[make_f(1)=&gt;,f=&gt;,make_f(2)=&gt;,f=&gt;,make_f(3)=&gt;,f=&gt;]:
<br>
call_f1=()=&lt;[make_f(1)=&gt;f,f=&gt;,make_f(2)=&gt;f,f=&gt;,make_f(3)=&gt;f,f=&gt;]:
<br>
make_f=(x)=&lt;[a=1,=&lt;()=&lt;a*x]=&gt;f,call_f0=&gt;:
<br>
make_f=(x)=&lt;[a=1,=&lt;[a=2,=&lt;()=&lt;a*x]=&gt;]=&gt;f,call_f0=&gt;:
<br>
make_f=(x)=&lt;[a=1,[a=2,=&lt;()=&lt;a*x]=&gt;f,=&lt;f]=&gt;f,call_f0=&gt;:
<br>
make_f=(x)=&lt;[a=1,[a=2,=&lt;()=&lt;a*x]=&gt;f,=&lt;f]=&gt;,call_f1=&gt;;</span>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Call-by
<br>
-Reference
    </th>
    <td>
<span id="span-eqn-Call-by-Reference"></span>
<a href="#span-out-scope-reference">scope参照</a>参照
<br>
clear;
<br>
set_f(<span class="jF">?</span>f)=&lt;[,f=&lt;x];
<br>
make_NG=(x)=&lt;[f=&lt;0,set_f(<span class="jF">?</span>f)==&gt;,=&lt;f]=&gt;f;
<br>
[make_NG(1)==&gt;,f=&gt;,[make_NG(2)==&gt;,f=&gt;,make_NG(3)==&gt;,f=&gt;]];
<br>
clear;
<br>
[
<br>
arr=(1,2),f<span class="jF">=</span>(<span class="jF">?</span>arr)=&lt;[arr1=arr,arr1[][1]=-1,],f(<span class="jF">?</span>arr)=&gt;,arr:
<br>
arr=(1,2),f<span class="jF">=</span>(<span class="jF">?</span>arr)=&lt;[arr1=arr,arr1[][1]=-1,arr=arr1],f(<span class="jF">?</span>arr)=&gt;,arr:
<br>
arr=(1,2),f<span class="jF">=</span>(<span class="jF">?</span>arr)=&lt;[arr1=arr+0,arr1[][1]=-1,arr=arr1],f(<span class="jF">?</span>arr)=&gt;,arr:
<br>
arr=(1,2),f<span class="jF">=</span>(<span class="jF">?</span>arr)=&lt;[<span class="jF">($arr1)=(=&lt;</span>arr),arr1[][1]=-1,],f(<span class="jF">?</span>arr)=&gt;,arr:
<br>
arr=(1,2),f<span class="jF">=</span>(<span class="jF">?</span>arr)=&lt;[<span class="jF">($arr1)=(=&lt;</span>arr),arr1[][1]=-1,arr=arr1],f(<span class="jF">?</span>arr)=&gt;,arr:
<br>
g=&lt;(1,2),f<span class="jF">=</span>(<span class="jF">?</span>g)=&lt;[,,g=&lt;(1,-1)],f(<span class="jF">?</span>g)=&gt;,g=&gt;
<br>
];
<br>
clear;
<br>
CbE_g<span class="jF">=</span>(=&lt;f)=&lt;[g(x)=&lt;f(x)=&gt;+1,=&lt;g]=&gt;;
<br>
CbR_g<span class="jF">=</span>(<span class="jF">?</span>f)=&lt;[g(x)=&lt;f(x)=&gt;+1,=&lt;g]=&gt;;
<br>
step_CbE<span class="jF">=</span>(=&lt;<span class="clear">fdummy</span>)=&lt;CbE_g(=&lt;<span class="clear">fdummy</span>)=&gt;f;
<br>
step_CbR<span class="jF">=</span>(<span class="jF">?</span>f)=&lt;CbR_g(<span class="jF">?</span>f)=&gt;f;
<br>
[
<br>
x=1,x:
<br>
f(x)=&lt;x,f(x)=&gt;:
<br>
CbE_g(=&lt;f)=&gt;f,f(x)=&gt;:
<br>
CbR_g(<span class="jF">?</span>f)=&gt;f,f(x)=&gt;:
<br>
step_CbE(=&lt;f)<span class="clear">==&gt;</span>,f(x)=&gt;:
<br>
step_CbR(<span class="jF">?</span>f)=&gt;,f(x)=&gt;
<br>
];
<br>
clear;
<br>
A=false;
<br>
show_A<span class="jF">=</span>(=&lt;callback)=&lt;[callback=&gt;,=&lt;A/*cloned*/]=&gt;;
<br>
[n=0,f<span class="jF">=</span>()=&lt;last(n=n+1,n),=&lt;f]=&gt;count;
<br>
push0<span class="jF">=</span>(<span class="jF">?</span>A)=&lt;<span class="jF">($A)=(=&lt;</span>push1(<span class="jF">?</span>A)=&gt;);
<br>
push1<span class="jF">=</span>(<span class="jF">?</span>A)=&lt;A.push(count=&gt;);
<br>
push2<span class="jF">=</span>(<span class="jF">?</span>A,<span class="jF">?</span>B)=&lt;last[A.push(count=&gt;),B.push(count=&gt;)];
<br>
show_A(=&lt;[A=false,(<span class="jF">?</span>B)=&lt;B.push(A)](<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;(A=(1,2:3,4),(<span class="jF">?</span>B)=&lt;push0(<span class="jF">?</span>B)=&gt;)(<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;((<span class="jF">?</span>A)=&lt;push1(<span class="jF">?</span>A)=&gt;)(<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;[(<span class="jF">?</span>A)=&lt;push1(<span class="jF">?</span>A)=&gt;](<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;[(<span class="jF">?</span>A)=&lt;push1(<span class="jF">?</span>A)=&gt;](<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;[(<span class="jF">?</span>A)=&lt;[(<span class="jF">?</span>A)=&lt;push1(<span class="jF">?</span>A)=&gt;](<span class="jF">?</span>A)=&gt;](<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;[(<span class="jF">?</span>B)=&lt;[(<span class="jF">?</span>C)=&lt;push1(<span class="jF">?</span>C)=&gt;](<span class="jF">?</span>B)=&gt;](<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;[(<span class="jF">?</span>B)=&lt;((<span class="jF">?</span>C)=&lt;push2(<span class="jF">?</span>B,<span class="jF">?</span>C)=&gt;)(<span class="jF">?</span>B)=&gt;](<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;([(<span class="jF">?</span>B)=&lt;(<span class="jF">?</span>C)=&lt;push2(<span class="jF">?</span>B,<span class="jF">?</span>C)=&gt;](<span class="jF">?</span>A)=&gt;)(<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;([run=&lt;push2(<span class="jF">?</span>B,<span class="jF">?</span>C)=&gt;,(<span class="jF">?</span>B)=&lt;(<span class="jF">?</span>C)=&lt;run=&gt;](<span class="jF">?</span>A)=&gt;)(<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
show_A(=&lt;([run(<span class="jF">?</span>D,<span class="jF">?</span>F)=&lt;push2(<span class="jF">?</span>D,<span class="jF">?</span>F)=&gt;,(<span class="jF">?</span>B)=&lt;(<span class="jF">?</span>C)=&lt;run(<span class="jF">?</span>B,<span class="jF">?</span>C)=&gt;](<span class="jF">?</span>A)=&gt;)(<span class="jF">?</span>A)=&gt;)=&gt;:
<br>
A;
<br>
clear;
<br>
f=&lt;false;
<br>
recursive_call<span class="jF">=</span>(?g,?h)=&lt;h=&lt;g=&gt;+1;
<br>
call_f<span class="jF">=</span>(=&lt;callback)=&lt;[callback=&gt;,=&lt;f=&gt;]=&gt;;
<br>
call_f(=&lt;[(<span class="jF">?</span>f)=&lt;f=&lt;1](<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
call_f(=&lt;[(<span class="jF">?</span>f)=&lt;[(<span class="jF">?</span>f)=&lt;f=&lt;2](<span class="jF">?</span>f)=&gt;](<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
call_f(=&lt;[(<span class="jF">?</span>g)=&lt;[(<span class="jF">?</span>h)=&lt;h=&lt;3](<span class="jF">?</span>g)=&gt;](<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
call_f(=&lt;([(<span class="jF">?</span>g)=&lt;(<span class="jF">?</span>h)=&lt;recursive_call(?g,?h)==&gt;](<span class="jF">?</span>f)=&gt;)(<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
call_f(=&lt;([(<span class="jF">?</span>g)=&lt;(<span class="jF">?</span>h)=&lt;recursive_call(?g,?h)==&gt;](<span class="jF">?</span>f)=&gt;)(<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
call_f(=&lt;([(<span class="jF">?</span>g)=&lt;(<span class="jF">?</span>h)=&lt;recursive_call(?g,?h)==&gt;](<span class="jF">?</span>f)=&gt;)(<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
call_f(=&lt;([(<span class="jF">?</span>g)=&lt;(<span class="jF">?</span>h)=&lt;recursive_call(?g,?h)==&gt;](<span class="jF">?</span>f)=&gt;)(<span class="jF">?</span>f)=&gt;)=&gt;:
<br>
f=&gt;;
<br>
clear;
<br>
f<span class="jF">=</span>(<span class="jF">?</span>a)=&lt;[a,a=a+1];
<br>
call_f0<span class="jF">=</span>(a)=&lt;[a,f(<span class="jF">?</span>a)=&gt;,a,f(<span class="jF">?</span>a)==&gt;,a];
<br>
call_f1<span class="jF">=</span>(<span class="jF">?</span>a)=&lt;[a,f(<span class="jF">?</span>a)=&gt;,a,f(<span class="jF">?</span>a)==&gt;,a];
<br>
wrapper<span class="jF">=</span>(a0)=&lt;[a0:a=a0,call_f0(a)==&gt;,a:a=a0,call_f1(<span class="jF">?</span>a)==&gt;,a];
<br>
a=1,wrapper(a)=&gt;,wrapper(a)==&gt;:
<br>
[
<br>
a=2,wrapper(a)=&gt;,wrapper(a)==&gt;:
<br>
[a=3,wrapper(a)=&gt;,wrapper(a)==&gt;]:
<br>
[a=4,wrapper(a)=&gt;,wrapper(a)==&gt;]
<br>
];
<br>
clear;
<br>
f<span class="jF">=</span>(<span class="jF">?</span>A)=&lt;[
<br>
(A[0]:A[1]):
<br>
(A[0][0],A[0][1]:A[1][0],A[1][1]):
<br>
last{A[0][0][sizer(A)][sizec(A)]=A}:
<br>
A:
<br>
last{A[1]=A[0],A[][1]=A[][0]}:
<br>
A
<br>
];
<br>
A=(1,2:3,4):A::f(<span class="jF">?</span>A)=&gt;::A;
<br>
[A=(1,2:3,4):A::f(<span class="jF">?</span>A)=&gt;::A];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
args
    </th>
    <td>
<span id="span-eqn-args"></span>
<a href="#span-out-matching">行列要素pattern matching</a>||<a href="#span-out-const-vars">const宣言</a>||<a href="#span-out-scope-vars-has1BT">単独scope</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-out-eqns-args">式変数のarguments</a>||<a href="#span-out-eqns-no-name">無名call</a>
<br>
||<a href="#span-out-FNmh-newtonian">Newton高階行列関数</a>参照
<br>
clear;
<br>
($c0,$c1,$c2)=(3,4,5);
<br>
call_f=&lt;(f(c0)=&gt;,f(c1)=&gt;,f(c2)=&gt;);
<br>
store;
<br>
[
<br>
[(a,b)=&lt;(c)=&lt;a+b+c](1,2)=&gt;f,call_f==&gt;:
<br>
[a=1,b=2,=&lt;(c)=&lt;a+b+c]=&gt;f,call_f==&gt;:
<br>
f(c)=&lt;[a=1,b=2,=&lt;a+b+c]=&gt;,call_f==&gt;:
<br>
f(c)=&lt;last[a=1,b=2,a+b+c],call_f==&gt;:
<br>
[<span class="jF">$</span>f=&lt;0,<span class="jF">$</span>a=1,<span class="jF">$</span>b=2,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;f,call_f==&gt;:
<br>
f(c)=&lt;[<span class="jF">$</span>f=&lt;0,<span class="jF">$</span>a=1,<span class="jF">$</span>b=2,=&lt;f=&gt;+a+b+c]=&gt;,call_f==&gt;<span class="jF">/*Ver.2.261.61~*/</span>:
<br>
f(c)=&lt;last[<span class="jF">$</span>f=&lt;0,<span class="jF">$</span>a=1,<span class="jF">$</span>b=2,f=&gt;+a+b+c],call_f==&gt;<span class="jF">/*Ver.2.261.61~*/</span>
<br>
];
<br>
restore;
<br>
<span class="jF">$</span>f(c)=&lt;[a=1,b=2,=&lt;a+b+c]=&gt;,call_f=&gt;:
<br>
[<span class="jF">$</span>f(c)=&lt;[a=2,b=3,=&lt;a+b+c]=&gt;,call_f==&gt;];
<br>
restore;
<br>
[<span class="jF">$</span>f=&lt;0,<span class="jF">$</span>a=1,<span class="jF">$</span>b=2,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;<span class="jF">$</span>f<span class="jF">/*Ver.2.262.61~*/</span>,call_f=&gt;:
<br>
[[<span class="jF">$</span>f=&lt;0,<span class="jF">$</span>a=2,<span class="jF">$</span>b=3,=&lt;(c)=&lt;f=&gt;+a+b+c]=&gt;<span class="jF">$</span>f<span class="jF">/*Ver.2.262.61~*/</span>,call_f==&gt;];
<br>
clear;
<br>
a=-1,b=-2,c=-3:
<br>
[[[(a)=&lt;(b)=&lt;(c)=&lt;(a,b,c)](1)=&gt;](2)=&gt;](3)=&gt;:
<br>
[[[(a)=&lt;(b)=&lt;(c)=&lt;(a,b,c)](1)==&gt;](2)=&gt;](3)=&gt;:
<br>
[[[(a)=&lt;(b)=&lt;(c)=&lt;(a,b,c)](1)=&gt;](2)==&gt;](3)=&gt;:
<br>
[[[(a)=&lt;(b)=&lt;(c)=&lt;(a,b,c)](1)=&gt;](2)=&gt;](3)==&gt;:
<br>
[(c)=&lt;[(b)=&lt;[(a)=&lt;(a,b,c)](1)=&gt;](2)=&gt;](3)=&gt;:
<br>
[(c)=&lt;[(b)=&lt;[(a)=&lt;(a,b,c)](1)==&gt;](2)=&gt;](3)=&gt;:
<br>
[(c)=&lt;[(b)=&lt;[(a)=&lt;(a,b,c)](1)=&gt;](2)==&gt;](3)=&gt;:
<br>
[(c)=&lt;[(b)=&lt;[(a)=&lt;(a,b,c)](1)=&gt;](2)=&gt;](3)==&gt;;
<br>
clear;
<br>
a=-1,b=-2,c=-3:
<br>
[[[(a)=&lt;(b)=&lt;(c)=&lt;(x,y)=&lt;(a,b,c,x,y)](1)=&gt;](2)=&gt;](3)=&gt;f:f(4,5)=&gt;:f(6,7)=&gt;:f(4,5)==&gt;:f(6,7)==&gt;:
<br>
[(c)=&lt;[(b)=&lt;[(a)=&lt;(x,y)=&lt;(a,b,c,x,y)](1)=&gt;](2)=&gt;](3)=&gt;f:f(4,5)=&gt;:f(6,7)=&gt;:f(4,5)==&gt;:f(6,7)==&gt;;
<br>
clear;
<br>
k=1,x=3,
<br>
A=linspace(1,2,2:3,4,2)/*(1,2:3,4)*/,
<br>
f(x)=&lt;x+1,g(x)=&lt;x-2,h(x)=&lt;x*x,
<br>
compose_x(x)=&lt;h(g(f(x)=&gt;*k)=&gt;*k)=&gt;*k,
<br>
compose_A(A)=&lt;h(=&lt;g(=&lt;f(=&lt;A)=&gt;*k)=&gt;*k)=&gt;*k,
<br>
fgh_pipe_x(x,=&lt;f,=&lt;g,=&lt;h)
<br>
=&lt;[[[(=&lt;F)=&lt;(=&lt;G)=&lt;(=&lt;H)=&lt;H(G(F(x)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;](=&lt;g)=&gt;](=&lt;h)=&gt;,
<br>
fgh_nest_x(x,=&lt;f,=&lt;g,=&lt;h)
<br>
=&lt;[(=&lt;H)=&lt;[(=&lt;G)=&lt;[(=&lt;F)=&lt;H(G(F(x)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;*k](=&lt;g)=&gt;*k](=&lt;h)=&gt;*k,
<br>
fgh_pipe_A(A,=&lt;f,=&lt;g,=&lt;h)
<br>
=&lt;[[[(=&lt;F)=&lt;(=&lt;G)=&lt;(=&lt;H)=&lt;H(=&lt;G(=&lt;F(=&lt;A)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;](=&lt;g)=&gt;](=&lt;h)=&gt;,
<br>
fgh_nest_A(A,=&lt;f,=&lt;g,=&lt;h)
<br>
=&lt;[(=&lt;H)=&lt;[(=&lt;G)=&lt;[(=&lt;F)=&lt;H(=&lt;G(=&lt;F(=&lt;A)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;*k](=&lt;g)=&gt;*k](=&lt;h)=&gt;*k,
<br>
A_map_fgh(A,=&lt;f,=&lt;g,=&lt;h)
<br>
=&lt;A.map((x)=&lt;f(x)=&gt;*k).map((x)=&lt;g(x)=&gt;*k).map((x)=&lt;h(x)=&gt;*k),
<br>
compose_pipe_x(x)=&lt;fgh_pipe_x(x,=&lt;f,=&lt;g,=&lt;h)=&gt;,
<br>
compose_nest_x(x)=&lt;fgh_nest_x(x,=&lt;f,=&lt;g,=&lt;h)=&gt;,
<br>
compose_pipe_A(A)=&lt;fgh_pipe_A(=&lt;A,=&lt;f,=&lt;g,=&lt;h)=&gt;,
<br>
compose_nest_A(A)=&lt;fgh_nest_A(=&lt;A,=&lt;f,=&lt;g,=&lt;h)=&gt;,
<br>
pipe_A(A)=&lt;A_map_fgh(=&lt;A,=&lt;f,=&lt;g,=&lt;h)=&gt;:
<br>
[[[(=&lt;F)=&lt;(=&lt;G)=&lt;(=&lt;H)=&lt;H(G(F(x)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;](=&lt;g)=&gt;](=&lt;h)=&gt;,
<br>
[(=&lt;H)=&lt;[(=&lt;G)=&lt;[(=&lt;F)=&lt;H(G(F(x)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;*k](=&lt;g)=&gt;*k](=&lt;h)=&gt;*k,
<br>
compose_pipe_x(x)=&gt;,compose_nest_x(x)=&gt;,
<br>
compose_x(x)=&gt;,compose_A(x)=&gt;,pipe_A(x)=&gt;:
<br>
[[[(=&lt;F)=&lt;(=&lt;G)=&lt;(=&lt;H)=&lt;H(=&lt;G(=&lt;F(=&lt;A)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;](=&lt;g)=&gt;](=&lt;h)=&gt;,
<br>
[(=&lt;H)=&lt;[(=&lt;G)=&lt;[(=&lt;F)=&lt;H(=&lt;G(=&lt;F(=&lt;A)=&gt;*k)=&gt;*k)=&gt;*k](=&lt;f)=&gt;*k](=&lt;g)=&gt;*k](=&lt;h)=&gt;*k,
<br>
compose_pipe_A(=&lt;A)=&gt;,compose_nest_A(=&lt;A)=&gt;,
<br>
compose_A(=&lt;A)=&gt;,pipe_A(=&lt;A)=&gt;;
<br>
clear;
<br>
h=false;
<br>
Nmax=20;
<br>
f(x)=&lt;(x-1)**4=0;
<br>
g(x)=&lt;(x-1)*(x-2)*(x-3)*(x-4)*(x-5)*(x-6)=0;
<br>
x0=1.1;
<br>
args_f=(=&lt;f,=&lt;{x0});
<br>
args_g=(=&lt;g,=&lt;{x0});
<br>
Newton(args_f):Newton(=&lt;f,=&lt;{x0});
<br>
Newton(args_g):Newton(=&lt;g,=&lt;{x0});
<br>
make_args(=&lt;f,x0)=&lt;[=&lt;f,=&lt;{x0},h,Nmax];
<br>
call_f(x0)=&lt;Newton(make_args(=&lt;f,x0)=&gt;);
<br>
call_g(x0)=&lt;Newton(make_args(=&lt;g,x0)=&gt;);
<br>
call_f(1)=&gt;,call_f(2)=&gt;;
<br>
call_g(1)=&gt;,call_g(2)=&gt;,call_g(3)=&gt;,call_g(4)=&gt;,call_g(5)=&gt;,call_g(6)=&gt;,call_g(7)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
curried
    </th>
    <td>
<span id="span-eqn-curried"></span>
<a href="#span-out-config-strict">strict-mode</a>||<a href="#span-out-scope-vars-has1BT">単独scope</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-out-eqns-no-name">無名call</a>参照
<br>
clear;
<br>
f<span class="jF">=</span>(=&lt;h)=&lt;h(3)=&gt;;
<br>
f((x)=&lt;(1,2)*x)=&gt;;
<br>
g<span class="jF">=</span>(x)=&lt;x;
<br>
f((x)=&lt;x)=&gt;,f(=&lt;g)=&gt;;
<br>
clear;
<br>
div<span class="jF">=</span>(x,y)=&lt;x/y;
<br>
div_curried_not_closed<span class="jF">=</span>(x)=&lt;(y)=&lt;div(x,y)=&gt;;
<br>
div_curried_closed_1st_call<span class="jF">=</span>(x)=&lt;[(y)=&lt;div(x,y)=&gt;];
<br>
(div_curried_not_closed(1)=&gt;)(1)=&gt;;
<br>
(div_curried_closed_1st_call(2)=&gt;)(1)=&gt;;
<br>
x=3;
<br>
(div_curried_not_closed(4)=&gt;)(1)=&gt;;
<br>
(div_curried_closed_1st_call(5)=&gt;)(1)=&gt;;
<br>
div_curried_closed_1st_call<span class="jF">=</span>(x)=&lt;[(x)=&lt;(y)=&lt;div(x,y)=&gt;](x)=&gt;;
<br>
inv_y_applied_partially<span class="jF">=</span>div_curried_closed_1st_call(1)=&gt;;
<br>
(1/linspace(1,10,10):linspace(1,10,10)).map((x)=&lt;inv_y_applied_partially(x)=&gt;).;
<br>
clear;
<br>
f<span class="jF">=</span>(x)=&lt;[(y)=&lt;(z)=&lt;(x,y,z)];
<br>
xy_z<span class="jF">=</span>(f(1)=&gt;)(2)=&gt;;
<br>
xy_z(3)=&gt;:xy_z(4)=&gt;:xy_z(5)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
closure
    </th>
    <td>
<span id="span-eqn-closure"></span>
<a href="#span-out-scope-vars-has1BT">単独scope</a>||<a href="#span-out-eqns-no-name">無名call</a>||<a href="#span-in-eqns-args">式変数のarguments</a>参照
<br>
clear;
<br>
a=1:
<br>
[()=&lt;a]()=&gt;,[()=&lt;[()=&lt;a]()=&gt;]()=&gt;,[()=&lt;[(a)=&lt;a](2)=&gt;]()=&gt;,[()=&lt;[a=1,(a)=&lt;a](2)=&gt;]()=&gt;:
<br>
[=&lt;a]=&gt;,[=&lt;[=&lt;a]=&gt;]=&gt;,[=&lt;[(a)=&lt;a](2)=&gt;]=&gt;,[=&lt;[a=1,(a)=&lt;a](2)=&gt;]=&gt;:
<br>
[=&lt;[(a)=&lt;last[,a]](3)=&gt;]=&gt;:
<br>
[=&lt;[a=2,(a)=&lt;last[,a]/*resolved*/](3)=&gt;]=&gt;:
<br>
[[(a)=&lt;=&lt;last[,a]/*not-resolved*/](3)=&gt;]=&gt;:
<br>
[[a=2,(a<span class="clear">/*not-closed*/</span>)=&lt;=&lt;last[,a]](3)=&gt;]=&gt;:
<br>
[[a=2,(a/*closed@1st-call*/)=&lt;[=&lt;last[,a]]](3)=&gt;]=&gt;:
<br>
[[a=2,[(a/*closed@1st-call*/)=&lt;=&lt;last[,a]]](3)=&gt;]=&gt;:
<br>
[(a)=&lt;=&lt;last[,a]](3)=&gt;f,f=&gt;,f==&gt;:
<br>
[a=2,(a)=&lt;=&lt;last[,a]](3)=&gt;f,f=&gt;,f==&gt;:
<br>
[(a)=&lt;()=&lt;last[,a]](3)=&gt;f,f()=&gt;,f()==&gt;:
<br>
[a=2,(a)=&lt;()=&lt;last[,a]](3)=&gt;f,f()=&gt;,f()==&gt;:
<br>
[[(a)=&lt;(x,y)=&lt;(a,x,y)](a)=&gt;](2,3)=&gt;:
<br>
[[a=2,(a<span class="clear">/*not-closed*/</span>)=&lt;(x,y)=&lt;(a,x,y)](a)=&gt;](2,3)=&gt;:
<br>
[[a=2,(a/*closed@1st-call*/)=&lt;[(x,y)=&lt;(a,x,y)]](a)=&gt;](2,3)=&gt;:
<br>
[[a=2,[(a/*closed@1st-call*/)=&lt;(x,y)=&lt;(a,x,y)]](a)=&gt;](2,3)=&gt;:
<br>
[[(a)=&lt;(x,y)=&lt;(a,x,y)](a)=&gt;](2,3)=&gt;f/*resolved*/,f=&gt;,f==&gt;:
<br>
[[a=2,(a)=&lt;(x,y)=&lt;(a,x,y)](a)=&gt;](2,3)=&gt;f/*resolved*/,f=&gt;,f==&gt;;
<br>
clear;
<br>
<span class="jF">f=&lt;[x=1,f(x)=&lt;x,(a)=&lt;(x)=&lt;f(a*x)=&gt;](2)=&gt;,f=&gt;g</span>,g(3)=&gt;:
<br>
<span class="jF">f(a0)=&lt;[x=1,f(x)=&lt;x,(a)=&lt;(x)=&lt;f(a*x)=&gt;](a0)=&gt;,f(2)=&gt;g</span>,g(3)=&gt;:
<br>
f(a0)=&lt;[x=1,f(x)=&lt;x,(a)=&lt;(x)=&lt;f(a*x)=&gt;](a0)=&gt;g,f(2)=&gt;,g(3)=&gt;:
<br>
<span class="jF">f(a0)=&lt;[x=1,f(x)=&lt;x,(a<span class="clear">/*not-closed*/</span>)=&lt;(x)=&lt;f(a*x)=&gt;](a0)=&gt;,f(2)=&gt;g</span>,g(3)=&gt;:
<br>
1,<span class="jF">f(-3)=&gt;h</span>,h(3)=&gt;:
<br>
f(a0)=&lt;[x=1,f(x)=&lt;x,a=-2,(a<span class="clear">/*not-closed*/</span>)=&lt;(x)=&lt;f(a*x)=&gt;](a0)=&gt;g,f(2)=&gt;,g(3)=&gt;:
<br>
1,f(-3)=&gt;,g(3)=&gt;:
<br>
f(a0)=&lt;[x=1,f(x)=&lt;x,a=-2,(a/*closed@1st-call*/)=&lt;[(x)=&lt;f(a*x)=&gt;]](a0)=&gt;g,f(2)=&gt;,g(3)=&gt;:
<br>
f(a0)=&lt;[x=1,f(x)=&lt;x,a=-2,[(a/*closed@1st-call*/)=&lt;(x)=&lt;f(a*x)=&gt;]](a0)=&gt;g,f(2)=&gt;,g(3)=&gt;:
<br>
1,f(-3)=&gt;,g(3)=&gt;:
<br>
<span class="jF">f(a0)=&lt;[x=1,f(x)=&lt;x,a=-2,(a<span class="clear">/*not-closed*/</span>)=&lt;(x)=&lt;f(a*x)=&gt;](a0)=&gt;,f(2)=&gt;g</span>,g(3)=&gt;:
<br>
1,<span class="jF">f(-3)=&gt;h</span>,h(3)=&gt;:
<br>
<span class="jF">f(a0)=&lt;[x=1,f(x)=&lt;x,a=-2,(a/*closed@1st-call*/)=&lt;[(x)=&lt;f(a*x)=&gt;]](a0)=&gt;,f(2)=&gt;g</span>,g(3)=&gt;:
<br>
<span class="jF">f(a0)=&lt;[x=1,f(x)=&lt;x,a=-2,[(a/*closed@1st-call*/)=&lt;(x)=&lt;f(a*x)=&gt;]](a0)=&gt;,f(2)=&gt;g</span>,g(3)=&gt;:
<br>
1,<span class="jF">f(-3)=&gt;h</span>,h(3)=&gt;;
<br>
clear;
<br>
a=-1,b=0,x=1:
<br>
[a=1,[(a)=&lt;(x)=&lt;a*x+b](-3)=&gt;f,=&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[(a)=&lt;(x)=/*disabled*/=&lt;a*x+b](-3)=&gt;f,=&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[(a)=&lt;(x)=&lt;a*x+b](-3)==&gt;f,=&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[(a)=&lt;(x)=&lt;a*x+b](-3)=&gt;f,==&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[(a)=&lt;(x)=&lt;a*x+b](-3)=&gt;f,=&lt;f]==&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[a=2,(a<span class="clear">/*not-closed*/</span>)=&lt;(x)=&lt;a*x+b](-3)=&gt;f,=&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[a=2,(a/*closed@1st-call*/)=&lt;[(x)=&lt;a*x+b]](-3)=&gt;f,=&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;:
<br>
[a=1,[a=2,[(a/*closed@1st-call*/)=&lt;(x)=&lt;a*x+b]](-3)=&gt;f,=&lt;f]=&gt;f,f(x)=&gt;,f(x)==&gt;;
<br>
clear;
<br>
x=i;
<br>
f=&lt;x;
<br>
call_f=&lt;(f=&gt;,f<span class="clear">==&gt;</span>);
<br>
call_a(x0)=&lt;[x=x0,call_f<span class="clear">==&gt;</span>:<span class="jF">($a)=(=&lt;call_f<span class="clear">==&gt;</span>)/*Ver.2.269.62~*/</span>,a];
<br>
wrapper(x)=&lt;(x:call_a(x)<span class="clear">==&gt;</span>:call_a(-x)<span class="clear">==&gt;</span>);
<br>
wrapper_closed(x)=&lt;[x:call_a(x)<span class="clear">==&gt;</span>:call_a(-x)<span class="clear">==&gt;</span>];
<br>
wrapper(0)<span class="clear">==&gt;</span>:wrapper_closed(0)<span class="clear">==&gt;</span>;
<br>
[wrapper(1)<span class="clear">==&gt;</span>:[wrapper(2)<span class="clear">==&gt;</span>:[wrapper(3)<span class="clear">==&gt;</span>]]];
<br>
[wrapper_closed(1)<span class="clear">==&gt;</span>:[wrapper_closed(2)<span class="clear">==&gt;</span>:[wrapper_closed(3)<span class="clear">==&gt;</span>]]];
<br>
clear;
<br>
call_f=&lt;(<span class="jF">hass(=&lt;f)</span>&amp;&amp;&amp;f=&gt;||||false,a);
<br>
a=i,f<span class="jF">=</span>[
<br>
a=1,f<span class="jF">=</span>[
<br>
a=2,f<span class="jF">=</span>[
<br>
a=3,
<br>
(a)==&lt;=&lt;call_f](a)=&gt;,
<br>
=&lt;==&lt;call_f]=&gt;,
<br>
/*omitted=&lt;*/==&lt;call_f]=&gt;;
<br>
call_f=&gt;;
<br>
clear;
<br>
f<span class="jF">=</span>()=&lt;x;
<br>
call_f=(x0,=&lt;f)=&lt;[
<br>
x0:
<br>
g=&lt;f,x=x0+1,(g=&gt;)=&gt;:
<br>
g<span class="jF">=</span>()=&lt;f,x=x0+2,(g=&gt;)=&gt;:
<br>
g=&lt;f,x=x0+1,(g==&gt;)=&gt;:
<br>
g<span class="jF">=</span>()=&lt;f,x=x0+2,(g==&gt;)=&gt;:
<br>
g==&lt;f,x=x0+3,(g=&gt;)=&gt;:
<br>
g<span class="jF">=</span>()==&lt;f,x=x0+4,(g=&gt;)=&gt;
<br>
];
<br>
x=i;
<br>
[call_f(0,()=&lt;f)=&gt;:
<br>
[call_f(0,()=&lt;-x*2)=&gt;:
<br>
[call_f(f<span class="jF">=</span>()=&lt;-x*3,=&lt;f)=&gt;]:
<br>
[call_f(f<span class="jF">=</span>()=&lt;last{not(<span class="jF">hass(x)</span>)&amp;&amp;&amp;(x=NaN),-x*3},=&lt;f)=&gt;:
<br>
[call_f(f<span class="jF">=</span>()=&lt;last[not(<span class="jF">hass(x)</span>)&amp;&amp;&amp;(x=NaN),-x*4],=&lt;f)=&gt;]]
<br>
]];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
counter
    </th>
    <td>
<span id="span-eqn-counter"></span>
<a href="#span-out-scope-vars-has1BT">単独scope</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-out-eqns-no-name">無名call</a>参照
<br>
clear;
<br>
[
<br>
c0=-1:
<br>
<span class="jF">make_counter=(c0,dc0)=&lt;[<span class="clear">c=c0,dc=dc0/*mutable*/</span>,=&lt;()=&lt;last(c=c+dc,c)]<span class="clear">()</span>=&gt;</span>:
<br>
<span class="jF">make_counter(0,1)=&gt;count0</span>:
<br>
count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter(100,3)=&gt;count1</span>:
<br>
count1=&gt;,count1=&gt;,count1=&gt;,count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter_closed_1st_call=(c0,dc0)=&lt;[c=c0,<span class="clear">(dc)/*immutable*/</span>=&lt;()=&lt;last(c=c+dc,c)]<span class="clear">(dc0)</span>=&gt;</span>:
<br>
<span class="jF">make_counter_closed_1st_call(0,1)=&gt;count0</span>:
<br>
count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter_closed_1st_call(100,<span class="clear">3</span>)=&gt;count1</span>:
<br>
count1=&gt;,count1=&gt;,count1=&gt;,count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter_closed_1st_call=(c0,dc0)=&lt;[<span class="clear">(c,dc)/*immutable*/</span>=&lt;()=&lt;last(c=c+dc,c)]<span class="clear">(c0,dc0)</span>=&gt;</span>:
<br>
<span class="jF">make_counter_closed_1st_call(0,1)=&gt;count0</span>:
<br>
count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter_closed_1st_call(<span class="clear">100,3</span>)=&gt;count1</span>:
<br>
count1=&gt;,count1=&gt;,count1=&gt;,count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter_closed_1st_call=(c0,dc0)=&lt;[c=c0,<span class="clear">(dc)/*immutable*/</span>=&lt;()=&lt;last[c=c+dc,c<span class="clear">/*closed*/</span>]]<span class="clear">(dc0)</span>=&gt;</span>:
<br>
<span class="jF">make_counter_closed_1st_call(0,1)=&gt;count0</span>:
<br>
count0=&gt;,count0=&gt;,count0=&gt;:
<br>
<span class="jF">make_counter_closed_1st_call(<span class="clear">100,3</span>)=&gt;count1</span>:
<br>
count1=&gt;,count1=&gt;,count1=&gt;,count0=&gt;,count0=&gt;,count0=&gt;:
<br>
[arr=[],_r(=&lt;arr=(arr,count0=&gt;),,10),=&lt;arr]=&gt;:
<br>
c0
<br>
];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
push
    </th>
    <td>
<span id="span-eqn-push"></span>
<a href="#span-out-prec-ope-arithmetic-method">method演算子</a>参照
<br>
clear;
<br>
A=(1,2:3,4:);
<br>
B={-1:-2,-3};
<br>
C=(A,5);
<br>
v=(1,2);
<br>
f(x)=&lt;x;
<br>
g(x)=&lt;x*x;
<br>
N=3;
<br>
arr_f=[
<br>
()=&lt;_r(=&lt;arr.unshift(B),arr=A,N):
<br>
()=&lt;_r(=&lt;arr[-1].unshift(B),arr=A,N):
<br>
()=&lt;_r(=&lt;arr[-#arr-1].unshift(B),arr=A,N):
<br>
()=&lt;_r(=&lt;arr.push(B),arr=A,N):
<br>
()=&lt;_r(=&lt;arr[-1].push(B),arr=A,N):
<br>
()=&lt;_r(=&lt;arr[#arr].push(C),arr=[],N):
<br>
()=&lt;_r(=&lt;arr[__n__-1].push(C),arr=[],N):
<br>
()=&lt;_r(=&lt;arr[__n__].push(C),arr=A,N)
<br>
];
<br>
check(n)=&lt;[(arr_f[n-1])==&gt;,=&lt;arr]=&gt;;
<br>
check(1)=&gt;;
<br>
check(2)=&gt;;
<br>
check(3)=&gt;;
<br>
check(4)=&gt;;
<br>
check(5)=&gt;;
<br>
check(6)=&gt;;
<br>
check(7)=&gt;;
<br>
check(8)=&gt;;
<br>
v.unshift(=&lt;f),(v)[][0](3)=&gt;;
<br>
v.shift();
<br>
v.push((x)=&lt;x),(v)[][2](3)=&gt;;
<br>
v.pop();
<br>
v.push(=&lt;g),(v.)[2](3)=&gt;;
<br>
v.pop();
<br>
v.unshift((x)=&lt;x*x),(v.)[0](3)=&gt;;
<br>
v.shift();
<br>
v;
<br>
v[#v].push((3,4:5));
<br>
v;
<br>
v.flip();
<br>
v;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
map
    </th>
    <td>
<span id="span-eqn-map"></span>
<a href="#span-out-prec-ope-arithmetic-ite">iterator演算子</a>||<a href="#span-out-FNm-coo">座標形式行列関数</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>参照
<br>
clear;
<br>
A0=(1,2,3:4,5,6);
<br>
A=(A0:-A0);
<br>
cooA=mat2coo(A);
<br>
Amn=cooA[0];
<br>
arr_m=cooA[1];
<br>
arr_n=cooA[2];
<br>
f0(x)=&lt;abs(x);
<br>
f1(x,i_,j_,self)=&lt;x%2&amp;&amp;&amp;-x|||self[i_][j_]/*x*/;
<br>
cond0(x)=&lt;x&lt;0;
<br>
cond1(x)=&lt;abs(x)==3;
<br>
/*f1(x,i_,j_,self)=&lt;switch(x%2,-x:1,x);*/
<br>
A_mapped=A.map((x)=&lt;abs(x)).map((x,i_,j_,self)=&lt;x%2&amp;&amp;&amp;-x|||self[i_][j_]);
<br>
A_filtered=A_mapped.filter((x)=&lt;x&lt;0);
<br>
A_filter0_4chain=A_mapped<span class="jF">.filter0</span>((x)=&lt;x&lt;0);
<br>
Aij=A_filtered[0];
<br>
arr_i=A_filtered[1];
<br>
arr_j=A_filtered[2];
<br>
A.map(=&lt;f0).map(=&lt;f1).filter(=&lt;cond0);
<br>
A.map(=&lt;f0).map(=&lt;f1).filter(=&lt;cond1);
<br>
(A.map(=&lt;f0).map(=&lt;f1).filter(=&lt;cond0))[0].filter(=&lt;cond1);
<br>
((A.map(=&lt;f0).map(=&lt;f1).filter(=&lt;cond0))[0].filter(=&lt;cond1))[0];
<br>
A.map(=&lt;f0).map(=&lt;f1)<span class="jF">.filter0</span>(=&lt;cond0)<span class="jF">.filter0</span>(=&lt;cond1);
<br>
clear;
<br>
a=1;
<br>
f(x)=&lt;x;
<br>
<span class="jF">call_f_pipe0(=&lt;f_)=&lt;f_(a)=&gt;;
<br>
call_f_pipe1(=&lt;f_)=&lt;(f_=&gt;)(a)=&gt;;
<br>
call_f_pipe2(=&lt;f_)=&lt;((f_=&gt;)=&gt;)(a)=&gt;;
<br>
[=&lt;f]=&gt;g,call_f_<span class="clear">pipe0</span>(=&lt;g)=&gt;;
<br>
[=&lt;{=&lt;f}<span class="clear">/*=&lt;f*/</span>]=&gt;g,call_f_<span class="clear">pipe0</span>(=&lt;g)=&gt;;
<br>
[=&lt;{=&lt;=&lt;f}]=&gt;g,call_f_pipe1(=&lt;g)=&gt;;
<br>
[=&lt;{=&lt;=&lt;=&lt;f}]=&gt;g,call_f_pipe2(=&lt;g)=&gt;;
<br>
([=&lt;{(x)=&lt;(x)}]=&gt;,[=&lt;{=&lt;f}<span class="clear">/*=&lt;f*/</span>]=&gt;,[<span class="clear">=&lt;f</span>]=&gt;).map(=&lt;call_f_<span class="clear">pipe0</span>);
<br>
([=&lt;{=&lt;(x)=&lt;(x)}]=&gt;,[=&lt;{=&lt;=&lt;f}]=&gt;).map(=&lt;call_f_pipe1);
<br>
([=&lt;{=&lt;=&lt;(x)=&lt;(x)}]=&gt;,[=&lt;{=&lt;=&lt;=&lt;f}]=&gt;).map(=&lt;call_f_pipe2);
<br>
f0_p0(x)=&lt;x;
<br>
f0_p0(a)=&gt;;
<br>
call_f_pipe0(=&lt;f0_p0)=&gt;;
<br>
call_f_pipe1(=&lt;=&lt;f0_p0)=&gt;;
<br>
call_f_pipe2(=&lt;=&lt;=&lt;f0_p0)=&gt;;
<br>
((x)=&lt;x:=&lt;f0_p0).map(=&lt;call_f_pipe0);
<br>
f0_p1=&lt;(x)=&lt;x;
<br>
f1_p1=&lt;=&lt;f;
<br>
f2_p1=&lt;(=&lt;f);
<br>
(f0_p1=&gt;)(a)=&gt;;
<br>
(f1_p1=&gt;)(a)=&gt;;
<br>
(f2_p1=&gt;)(a)=&gt;;
<br>
(=&lt;(x)=&lt;x,=&lt;=&lt;f,=&lt;(=&lt;f):=&lt;f0_p1,=&lt;f1_p1,=&lt;f2_p1).map(=&lt;call_f_pipe1);
<br>
(=&lt;=&lt;f0_p0).map(=&lt;call_f_pipe1);
<br>
f0_p2=&lt;=&lt;(x)=&lt;x;
<br>
f1_p2=&lt;=&lt;=&lt;f;
<br>
f2_p2=&lt;(=&lt;=&lt;f);
<br>
((f0_p2=&gt;)=&gt;)(a)=&gt;;
<br>
((f1_p2=&gt;)=&gt;)(a)=&gt;;
<br>
((f2_p2=&gt;)=&gt;)(a)=&gt;;
<br>
(=&lt;=&lt;(x)=&lt;x,=&lt;=&lt;=&lt;f,=&lt;(=&lt;=&lt;f):=&lt;f0_p2,=&lt;f1_p2,=&lt;f2_p2).map(=&lt;call_f_pipe2);
<br>
(=&lt;=&lt;f0_p1,=&lt;=&lt;f1_p1,=&lt;=&lt;f2_p1).map(=&lt;call_f_pipe2);
<br>
(=&lt;=&lt;=&lt;f0_p0).map(=&lt;call_f_pipe2);</span>
<br>
clear;
<br>
<span class="jF">$</span>a=3;
<br>
<span class="jF">$</span>f(x)=&lt;x,<span class="jF">$</span>g(x)=&lt;-x,<span class="jF">$</span>h(x)=&lt;x*x;
<br>
<span class="jF">fgh0_strict(sw)=&lt;(=&lt;(x)=&lt;f(x)=&gt;:=&lt;(x)=&lt;g(x)=&gt;:=&lt;(x)=&lt;h(x)=&gt;)[sw]=&gt;;
<br>
fgh1_strict(sw)=&lt;(=&lt;=&lt;f:=&lt;=&lt;g:=&lt;=&lt;h)[sw]=&gt;;
<br>
fgh2_strict(sw)=&lt;(=&lt;sw==0&amp;&amp;&amp;(=&lt;f)|||sw==1&amp;&amp;&amp;(=&lt;g)|||sw==2&amp;&amp;&amp;(=&lt;h))=&gt;;
<br>
fgh3(sw)=&lt;(=&lt;f:=&lt;g:=&lt;h)[sw]=&gt;;
<br>
fgh4(sw)=&lt;(sw==0&amp;&amp;&amp;(=&lt;f)|||sw==1&amp;&amp;&amp;(=&lt;g)|||sw==2&amp;&amp;&amp;(=&lt;h))=&gt;;
<br>
store;
<br>
[
<br>
call_f(=&lt;f_)=&lt;(f_=&gt;)(a)=&gt;,
<br>
callback(=&lt;f_)=&lt;call_f(=&lt;f_)=&gt;,
<br>
call_map(=&lt;list_eqn,=&lt;callback)=&lt;(list_eqn=&gt;).map(=&lt;callback),
<br>
call_filter(=&lt;list_eqn,=&lt;callback)=&lt;(list_eqn=&gt;).filter(=&lt;callback),
<br>
call_filter0(=&lt;list_eqn,=&lt;callback)=&lt;(list_eqn=&gt;)<span class="jF">.filter0</span>(=&lt;callback),
<br>
(=&lt;list_eqn)=&lt;(
<br>
((list_eqn=&gt;)=&gt;/*tail-return*/)(a)=&gt;:
<br>
(0,1,2).map((sw)=&lt;call_f(=&lt;(list_eqn[sw]=&gt;)=&gt;)=&gt;):
<br>
(0,1,2).map((sw)=&lt;call_f(=&lt;(list_eqn=&gt;)[sw]=&gt;)=&gt;):
<br>
call_map(=&lt;list_eqn,=&lt;callback)=&gt;.:
<br>
call_filter(=&lt;list_eqn,(=&lt;f_)=&lt;abs(call_f(=&lt;f_)=&gt;)==3)=&gt;list_eqn_filtered:
<br>
call_map(=&lt;list_eqn_filtered[0]=&gt;,=&lt;callback)=&gt;:
<br>
call_filter0(=&lt;list_eqn,(=&lt;f_)=&lt;abs(call_f(=&lt;f_)=&gt;)==3)=&gt;list_eqn_filtered0:
<br>
call_map(=&lt;list_eqn_filtered0=&gt;,=&lt;callback)=&gt;
<br>
)
<br>
](=&lt;(=&lt;(x)=&lt;f(x)=&gt;:=&lt;(x)=&lt;g(x)=&gt;:=&lt;(x)=&lt;h(x)=&gt;))=&gt;;
<br>
restore;
<br>
[
<br>
call_f(=&lt;f_)=&lt;f_(a)=&gt;,
<br>
call_sw(sw,=&lt;fgh)=&lt;[fgh(sw)=&gt;f,call_f(=&lt;f)=&gt;,call_f((a)=&lt;(fgh(sw)=&gt;)(a)=&gt;)=&gt;],
<br>
(=&lt;list_eqn)=&lt;[
<br>
arr=[],
<br>
(list_eqn=&gt;).map((=&lt;fgh)=&lt;(0,1,2).map((sw)=&lt;arr=(arr:call_sw(sw,=&lt;fgh)=&gt;))),
<br>
=&lt;arr]=&gt;
<br>
](=&lt;(=&lt;fgh0_strict,=&lt;fgh1_strict,=&lt;fgh2_strict,=&lt;fgh3,=&lt;fgh4))=&gt;;</span>
<br>
restore;
<br>
call_fgh(a,=&lt;fgh)=&lt;[fgh(<span class="jF">$</span>f)=&gt;f,fgh(<span class="jF">$</span>g)=&gt;g,fgh(<span class="jF">$</span>h)=&gt;h,=&lt;[f(a)=&gt;,g(a)=&gt;,h(a)=&gt;]]=&gt;;
<br>
make_f0(<span class="jF">$</span>eqnName)=&lt;[(<span class="jF">$</span>eqnName)=&lt;(x)=&lt;eqnName(x)=&gt;](<span class="jF">$</span>eqnName)=&gt;;
<br>
make_f1(<span class="jF">$</span>eqnName)=&lt;[(<span class="jF">$</span>eqnName)=&lt;()=&lt;eqnName](<span class="jF">$</span>eqnName)=&gt;;
<br>
make_f2(<span class="jF">$</span>eqnName)=&lt;[(<span class="jF">$</span>eqnName)=&lt;eqnName](<span class="jF">$</span>eqnName)=&gt;;
<br>
push_arr4vecr(=&lt;f_,i_,j_)=&lt;arr=[arr:call_fgh(a*(j_+1),=&lt;f_)=&gt;];
<br>
push_arr4vecc(=&lt;f_,i_)=&lt;arr=[arr:call_fgh(a*(i_+1),=&lt;f_)=&gt;];
<br>
0:
<br>
call_fgh(a*1,=&lt;make_f0)=&gt;:
<br>
call_fgh(a*2,=&lt;make_f1)=&gt;:
<br>
call_fgh(a*3,=&lt;make_f2)=&gt;:
<br>
1:
<br>
[arr=[],<span class="jF">(=&lt;make_f0,=&lt;make_f1,=&lt;make_f2).map</span>(<span class="jF">=</span>=&lt;push_arr4vecr),=&lt;arr]=&gt;:
<br>
2:
<br>
[arr=[],<span class="jF">{=&lt;make_f0,=&lt;make_f1,=&lt;make_f2}.map</span>(<span class="jF">=</span>=&lt;push_arr4vecc).<span class="clear">/*vecc->vecr*/</span>,=&lt;arr]=&gt;:
<br>
3:
<br>
[arr=[],temp=<span class="jF">{=&lt;make_f0,=&lt;make_f1,=&lt;make_f2}.map</span>(<span class="jF">=</span>=&lt;push_arr4vecc)<span class="clear">/*->0*/</span>,=&lt;arr]=&gt;;
<br>
clear;
<br>
<span class="jF">$</span>f(x)=&lt;x,<span class="jF">$</span>g(x)=&lt;-x,<span class="jF">$</span>h(x)=&lt;x*x;
<br>
<span class="jF">(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x;</span>
<br>
<span class="jF">A=ans;</span>
<br>
<span class="jF">[
<br>
[=&lt;f,=&lt;g,=&lt;h].map</span>((=&lt;f)=&lt;f(3)=&gt;):
<br>
<span class="jF">[(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x].map</span>((=&lt;f)=&lt;f(3)=&gt;):
<br>
A.map((=&lt;f)=&lt;f(3)=&gt;):
<br>
A.filter((=&lt;f)=&lt;(lt(f(3)=&gt;,0))):
<br>
A.filter0((=&lt;f)=&lt;(gt(f(3)=&gt;,0))).map((=&lt;g)=&lt;g(3)=&gt;)
<br>
];
<br>
clear;
<br>
f<span class="jF">=</span>(A)=&lt;A,f(=&lt;(1,2))=&gt;,f(=&lt;(1))=&gt;,f((1))=&gt;:
<br>
A_not_iterable<span class="jF">=</span>(x)=&lt;x,<span class="jF">A_not_iterable</span>(2)=&gt;:
<br>
A_iterable<span class="jF">=</span>(<span class="jF">(x)=&lt;x</span>),(<span class="jF">A_iterable[0][0]</span>)(2)=&gt;,(<span class="jF">A_iterable</span>)(2)=&gt;:
<br>
A_iterable=(<span class="jF">(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x</span>),(<span class="jF">A_iterable[0][0]</span>)(2)=&gt;,(<span class="jF">A_iterable</span>)(2)=&gt;:
<br>
A_lazy=(<span class="jF">(x)=&lt;x,(x)=&lt;-x,(x)=&lt;x*x</span>),f(<span class="jF">A</span>)=&lt;((<span class="jF">A[0][0]</span>)(2)=&gt;,(<span class="jF">A</span>)(2)=&gt;),f(<span class="jF">=&lt;A_lazy</span>)=&gt;;
<br>
clear;
<br>
<span class="jF">$</span>A_lazy=<span class="jF">(=&lt;1,=&lt;2:=&lt;3,=&lt;4)</span>;
<br>
anonymous_call=(A_lazy/*tail-return*/)=&gt;;
<br>
<span class="jF">$</span>A=((A_lazy[0][0])=&gt;,(A_lazy[0][1])=&gt;:(A_lazy[1][0])=&gt;,(A_lazy[1][1])=&gt;);
<br>
f<span class="jF">=</span>(<span class="jF">A_iterable</span>)=&lt;[=&lt;A_iterable.map((=&lt;f)=&lt;f=&gt;)]=&gt;;
<br>
f(<span class="jF">=&lt;A_lazy</span>)=&gt;;
<br>
f(<span class="jF">=&lt;A_lazy[0]</span>)=&gt;:f(<span class="jF">=&lt;A_lazy[1]</span>)=&gt;;
<br>
f(<span class="jF">=&lt;A_lazy[][0]</span>)=&gt;,f(<span class="jF">=&lt;A_lazy[][1]</span>)=&gt;;
<br>
f(<span class="jF">=&lt;(=&lt;1,=&lt;2:=&lt;3,=&lt;4)</span>)=&gt;;
<br>
f(<span class="jF">=&lt;(=&lt;1,=&lt;2:=&lt;3,=&lt;4)[0]</span>)=&gt;:f(<span class="jF">=&lt;(=&lt;1,=&lt;2:=&lt;3,=&lt;4)[1]</span>)=&gt;;
<br>
f(<span class="jF">=&lt;(=&lt;1,=&lt;2:=&lt;3,=&lt;4)[][0]</span>)=&gt;,f(<span class="jF">=&lt;(=&lt;1,=&lt;2:=&lt;3,=&lt;4)[][1]</span>)=&gt;;
<br>
clear;
<br>
<span class="jF">$</span>a=1;
<br>
<span class="jF">$</span>A=<span class="jF">((x)=&lt;a*x,(x)=&lt;-a*x,(x)=&lt;a*x*x)</span>;
<br>
[
<br>
<span class="jF">$</span>a=2:
<br>
A.map((=&lt;f)=&lt;f(3)=&gt;):
<br>
A.map((=&lt;f)=&lt;f(3)==&gt;):
<br>
[arr=[],A.map((=&lt;f)=&lt;arr=(arr,f(3)=&gt;,f(3)==&gt;)),=&lt;arr]=&gt;
<br>
];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
arr_ext
    </th>
    <td>
<span id="span-eqn-arr_ext"></span>
<a href="#span-in-pass-by-equation">遅延評価</a>||<a href="#span-out-development-problems-type">型定義の問題点</a>参照
<br>
clear;
<br>
A_lazy=[=&lt;1,=&lt;[2,3],=&lt;[4,=&lt;[5,=&lt;x]]];
<br>
(((A_lazy[][2])=&gt;)[][1])=&gt;;
<br>
((([=&lt;1,=&lt;[2,3],=&lt;[4,=&lt;[5,=&lt;x]]][][2])=&gt;)[][1])=&gt;;
<br>
((((A_lazy[][2])=&gt;)[][1])=&gt;)[][1];
<br>
(((([=&lt;1,=&lt;[2,3],=&lt;[4,=&lt;[5,=&lt;x]]][][2])=&gt;)[][1])=&gt;)[][1];
<br>
tA_lazy=[=&lt;1,=&lt;[2,3].,=&lt;[4,=&lt;[5,=&lt;x].].].;
<br>
(((tA_lazy[2])=&gt;)[1])=&gt;;
<br>
(((([=&lt;1,=&lt;[2,3].,=&lt;[4,=&lt;[5,=&lt;x].].].)[2])=&gt;)[1])=&gt;;
<br>
((((tA_lazy[2])=&gt;)[1])=&gt;)[1];
<br>
((((([=&lt;1,=&lt;[2,3].,=&lt;[4,=&lt;[5,=&lt;x].].].)[2])=&gt;)[1])=&gt;)[1];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
reshapez
    </th>
    <td>
<span id="span-eqn-reshapez"></span>
<a href="#span-out-FNm-reshape">reshape行列関数</a>参照
<br>
・3次元の未知変数vectorとz-x平面を相互変換する関数（行||列vectorで記述）
<br>
clear;
<br>
reshapez_(x:Nxy)=&lt;[arr=[],
<br>
isRow=(#x===1),
<br>
isCol=(##x===1),
<br>
Nz=(isRow||isCol)&amp;&amp;&amp;###x/Nxy,
<br>
isRow&amp;&amp;&amp;(x=x.),
<br>
push_arr(dj)=&lt;_r(=&lt;arr.push(x[(__n__-1)*Nxy+dj]),,Nz),
<br>
Nz%1===0&amp;&amp;&amp;_r(=&lt;push_arr(__n__-1)=&gt;,,Nxy),
<br>
isCol&amp;&amp;&amp;(arr=arr.),
<br>
=&lt;arr]=&gt;;
<br>
($Nx,$Ny,$Nz)=(2,3,4);
<br>
Nxyz=Nx*Ny*Nz;
<br>
x0=linspace(1,Nxyz,Nxyz);
<br>
x1=reshapez_(=&lt;x0:Nx*Ny)=&gt;;
<br>
=reshapez(x0:Nx*Ny);
<br>
x0=reshapez_(=&lt;x1:Nz)=&gt;;
<br>
=reshapez(x1:Nz);
<br>
x1y=reshapec(x1:Nz*Nx,Ny);
<br>
get_x1yj(j)=&lt;reshapec(x1y[][j]:[Nz,Nx]);
<br>
x1y0=get_x1yj(0)=&gt;;
<br>
x1y1=get_x1yj(1)=&gt;;
<br>
x1y2=get_x1yj(2)=&gt;;
<br>
x1=_r((arr)=&lt;(arr,reshapec(get_x1yj(__n__-1)=&gt;:[1,Nz*Nx])),=&lt;[],Ny);
<br>
x1=trans(reshapez_(=&lt;trans(x0):Nx*Ny)=&gt;);
<br>
=trans(reshapez(trans(x0):Nx*Ny));
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Rump
    </th>
    <td>
<span id="span-eqn-Rump"></span>
<a href="#span-out-error">誤差の扱い</a>参照
<br>
clear;
<br>
($a,$b,$ans_correct)=(77617.0,33096.0,-0.8273960599468214);
<br>
get_terms(a,b)=&lt;{333.75*b**6,a**2*11*(a*b)**2,-a**2*b**6,-a**2*121*b**4,-a**2*2,5.5*b**8,a/(2*b)};
<br>
terms=get_terms(a,b)=&gt;;
<br>
check_last=(last(terms)=sum(terms.));
<br>
[
<br>
polynomial=&lt;333.75*b**6+a**2*(11*(a*b)**2-b**6-121*b**4-2)+5.5*b**8+a/(2*b),
<br>
polynomial_expanded=&lt;333.75*b**6+a**2*11*(a*b)**2-a**2*b**6-a**2*121*b**4-a**2*2+5.5*b**8+a/(2*b),
<br>
Rump_s_example(a,b)=&lt;(polynomial=&gt;,polynomial_expanded=&gt;,sum(terms.),ans_correct),
<br>
get_terms_normalized=&lt;[term_min=min(abs(terms).),=&lt;abs(terms)./term_min]=&gt;,
<br>
calc_decimal_digits(vecr,=&lt;callback)=&lt;round(log10(callback(=&lt;vecr)=&gt;)+1),
<br>
=&lt;(Rump_s_example(a,b)=&gt;.:
<br>
nvecr=get_terms_normalized=&gt;,
<br>
decimal_digits_min=calc_decimal_digits(=&lt;nvecr,(vecr)=&lt;min(vecr))=&gt;,
<br>
decimal_digits_max=calc_decimal_digits(=&lt;nvecr,(vecr)=&lt;max(vecr))=&gt;,
<br>
decimal_digits_needed=decimal_digits_max-decimal_digits_min:
<br>
decimal_digits_min,decimal_digits_max,decimal_digits_needed
<br>
)
<br>
]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Fibonacci
    </th>
    <td>
<span id="span-eqn-Fibonacci"></span>
<a href="#span-out-eqns-re-call">再帰call</a>参照
<br>
clear;
<br>
[
<br>
F0=0,
<br>
F1=1,
<br>
arr=[F0,F1],
<br>
[F0=F0,F1=F1,<span class="jF">eqn=()=&lt;</span>last{F2=F0+F1,F0=F1,F1=F2,F2},=&lt;eqn]=&gt;generator_fibo2,
<br>
_s<span class="jF">((n)</span>=&lt;arr.push(generator_fibo2=&gt;),2,10),
<br>
=&lt;arr
<br>
]=&gt;;
<br>
clear;
<br>
fibok(n,n0,k)=&lt;n&lt;k-1&amp;&amp;n0||||n&lt;k|||_s<span class="jF">((m)</span>=&lt;fibok(n-m,n0,k)=&gt;,1,k);
<br>
luca2(n)=&lt;fibok(n,2,2)=&gt;;
<br>
[
<br>
fibon_se(N,n0,k,ns_,ne_)=&lt;[arr=[],_s<span class="jF">((n)</span>=&lt;arr=(arr,fibok(n,n0,k)=&gt;),ns_,ne_),=&lt;arr]=&gt;,
<br>
fibonk_se(N,n0,ks,ke)=&lt;[arr=[],_s<span class="jF">((k)</span>=&lt;arr=(arr:fibon_se(N,n0,k,0,N)=&gt;),ks,ke),=&lt;arr]=&gt;,
<br>
fibok_se(N,n0,ks,ke)=&lt;[arr=[],_s<span class="jF">((k)</span>=&lt;arr=(arr,fibok(N,n0,k)=&gt;),ks,ke),=&lt;arr]=&gt;,
<br>
fibok_fill_n0(N,n0,ks,ke)=&lt;(
<br>
fibonk_se(N,n0,ks,ke)=&gt;:
<br>
fibok_se(N,n0,2,N)=&gt;:
<br>
[arr=[],_s<span class="jF">((k)</span>=&lt;arr=(arr,fibok(N,n0,k)=&gt;),ks,ke),=&lt;arr]=&gt;
<br>
),
<br>
(N)=&lt;[
<br>
(N,n0s,n0e,ks,ke)=&lt;[
<br>
arr=[],_s<span class="jF">((n0)</span>=&lt;arr=(arr:n0:fibok_fill_n0(N,n0,ks,ke)=&gt;),n0s,n0e),=&lt;arr]=&gt;
<br>
](N,0,3,2,N)=&gt;
<br>
](10)=&gt;/*exponential-time*/;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
fact
    </th>
    <td>
<span id="span-eqn-fact"></span>
<a href="#span-out-FN-fact">階乗関数</a>参照
<br>
clear;
<br>
fact_(n)=&lt;n&lt;=1|||n*fact_(n-1)=&gt;;
<br>
[
<br>
fact_sw0(n)=&lt;n&lt;=1|||n*fact_sw1(n-1)=&gt;,
<br>
fact_sw1(n)=&lt;n*fact_sw0(n-1)=&gt;,
<br>
(N)=&lt;(
<br>
(N/2)!,fact(N/2),N!,fact(N):
<br>
fact_(N)=&gt;,fact_sw0(N)=&gt;,fact_sw1(N)=&gt;:
<br>
A=linspace(1,N,N).map((n)=&lt;fact_(n)=&gt;):
<br>
mat2coo(A)::
<br>
A.map((x)=&lt;-x).map((x)=&lt;abs(x)).filter((x)=&lt;x&gt;fact(N/2))
<br>
)](10)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
gcd/lcm
    </th>
    <td>
<span id="span-eqn-gcd"></span>
<a href="#span-out-FN-gcd">gcd/lcm関数</a>参照
<br>
clear;
<br>
gcd_(a0,b0)=&lt;last[
<br>
a=a0,b=b0,_r((n)=&lt;last{ia=round(a),ib=round(b),a=ia&lt;0||ib===0&amp;&amp;&amp;ia|||ib,b=ia%(ib||1)},
<br>
isBreak_a=&lt;isNaN(a)|||a&lt;0&amp;&amp;&amp;~~(a=false),1e6,=&lt;{isBreak_a=&gt;|||b==0}),a];
<br>
lcm_(a,b)=&lt;a*(b/gcd_(a,b)=&gt;);
<br>
[gcd(111,222,333,444,555),gcd_(111,gcd_(222,gcd_(333,gcd_(444,555)=&gt;)=&gt;)=&gt;)=&gt;:
<br>
lcm(111,222,333,444,555),lcm_(111,lcm_(222,lcm_(333,lcm_(444,555)=&gt;)=&gt;)=&gt;)=&gt;];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
random
    </th>
    <td>
<span id="span-eqn-random"></span>
<a href="#span-out-FN-rand-else">その他の乱数</a>参照
<br>
clear;
<br>
PRNG_LCG(a,b,m,x0,N)=&lt;[
<br>
arr=(x0),
<br>
[x=x0,eqn=&lt;last{x=(a*x+b)%m,x},=&lt;eqn]=&gt;gen_rand,
<br>
_r(=&lt;arr.push(gen_rand=&gt;),,min(N,m-1)),
<br>
=&lt;arr
<br>
]=&gt;;
<br>
PRNG_LCG(6,0,11,1,10)=&gt;;
<br>
($m,$x0,$N)=(0x7fffffff,1,10);
<br>
[
<br>
PRNG_LCG(16807,0,m,x0,N)=&gt;:
<br>
PRNG_LCG(48271,0,m,x0,N)=&gt;:
<br>
PRNG_LCG(0x7FFFFFED,0x7FFFFFC3,m,x0,N)=&gt;
<br>
];
<br>
clear;
<br>
shuffle_FY(<span class="jF">?</span>tarr)=&lt;last[
<br>
len=sizer(tarr),
<br>
switch_arr<span class="jF">=(i1)</span>=&lt;last{i0=floor(rand<span class="jF">()</span>*(i1+1)),w=tarr[i1],tarr[i1]=tarr[i0],tarr[i0]=w},
<br>
_s((i_)=&lt;switch_arr(i_)=&gt;,len-1,1)
<br>
];
<br>
[(N)=&lt;[tarr=linspace(0,N-1,N).,shuffle_FY(<span class="jF">?</span>tarr)=&gt;,=&lt;tarr.]=&gt;](2)=&gt;;
<br>
clear;
<br>
rand_table(csv)=&lt;last[
<br>
table=sort0(csv),
<br>
ymin=min(table)[0],ymax=max(table)[0],
<br>
y=ymin+(ymax-ymin)*rand<span class="jF">()</span>,
<br>
x=interp(y:table),x];
<br>
[Pinv_y=(
<br>
-0.999999427,-0.999936657,-0.997300203,-0.954499736,-0.682689492,0,
<br>
0.682689492,0.954499736,0.997300203,0.999936657,0.999999427:
<br>
-5,-4,-3,-2,-1,0,1,2,3,4,5
<br>
),
<br>
N=1,arr=[],_r((n)=&lt;arr.push(rand_table(=&lt;Pinv_y)=&gt;),,N),=&lt;arr.]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
average
    </th>
    <td>
<span id="span-eqn-average"></span>
<a href="#span-out-UI-graphing-filter-average">averageぼかし</a>参照
<br>
clear;
<br>
[isSquare=0,N=3,N2=int(N/2),filter=vectorc(N*N),
<br>
calc_w(s2)=&lt;switch(isSquare==0,switch(s2&gt;N2**2,0:1,1):1,1),
<br>
_s((ir)=&lt;{_s((ic)=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
average
<br>
_asym
    </th>
    <td>
<span id="span-eqn-average-asym"></span>
<a href="#span-out-UI-graphing-filter-average-asym">非対称averageぼかし</a>参照
<br>
clear;
<br>
[isSquare=0,N=13,N2=int(N/2),filter=vectorc(N*N),
<br>
x=1,y=2,k=3,rad=pi/4,
<br>
<a href="#span-eqn-rotationxyz_LHS">rotz_LHS(psi)</a>=&lt;{rt=real(psi),=&lt;(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)}=&gt;,
<br>
Rz=rotz_LHS(rad)=&gt;,
<br>
isOutOfArea(x)=&lt;switch(
<br>
isSquare==0,x[0]**2+(x[1]*k)**2&gt;N2**2:
<br>
1,(x[0]**2&gt;N2**2)|((x[1]*k)**2&gt;N2**2)
<br>
),
<br>
calc_w(ir,ic)=&lt;switch(isOutOfArea(=&lt;Rz*{ic-x,ir-y,1})=&gt;,0:1,1),
<br>
_s((ir)=&lt;{_s((ic)=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir,ic)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Gaussian
    </th>
    <td>
<span id="span-eqn-Gaussian"></span>
<a href="#span-out-UI-graphing-filter-Gaussian">Gaussぼかし</a>参照
<br>
clear;
<br>
[isStrict=0,N=3,N2=int(N/2),filter=vectorc(N*N),Nbit=N-1,wmax=2**Nbit,
<br>
calc_w(s2)=&lt;switch(isStrict==0,round(wmax*exp(-0.5*s2)):1,exp(-0.5*s2)),
<br>
_s((ir)=&lt;{_s((ic)=&lt;filter[(ir+N2)*N+(ic+N2)]=calc_w(ir**2+ic**2)=&gt;,-N2,N2)},-N2,N2),
<br>
=&lt;trans(filter)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d{}
<br>
_multi
    </th>
    <td>
<span id="span-eqn-plot2d{}_multi"></span>
<a href="#span-out-development-problems-algebra">代数学準拠の問題点</a>参照
<br>
clear;
<br>
x_long=(1+2i)*(1,2,3,4,5,6,7,8,9,10);
<br>
y_long=2*x_long;
<br>
x_short=(1+2i)*(1,2,3,4,5);
<br>
y_short=4*x_short;
<br>
xt_OK={x_long,x_short};
<br>
yt_OK={y_long,y_short};
<br>
xt_OK={x_short,x_long};
<br>
yt_OK={y_short,y_long};
<br>
xt={x_short,x_long,x_long,2*x_short};
<br>
yt={y_short,y_long,2*y_short,y_long};
<br>
{xt,yt};
<br>
trans(ans);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_interp
    </th>
    <td>
<span id="span-eqn-plot2d_interp"></span>
<a href="#span-out-FN-interp">補間関数</a>参照
<br>
clear;
<br>
plot2d_interp(Nx,Nt)=&lt;[
<br>
out=&lt;{xt,yt},
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{
<br>
x=linspace(0,2*pi,Nx+1),
<br>
xn=linspace(0,2*pi,Nt+1),
<br>
table=(xn:trans(sin(trans(xn))))
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
table[1]=(1+2i)*table[1],
<br>
table_sorted_key0=sort0(table),
<br>
xt=(table[0]:x),
<br>
yt=(table[1]:interp0(x:table_sorted_key0):interp1(x:table_sorted_key0):
<br>
interp2(x:table_sorted_key0):interp3(x:table_sorted_key0))
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_interp(last{Nx=21,Nx},Nx&gt;&gt;1)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_fft1d
    </th>
    <td>
<span id="span-eqn-plot2d_fft1d"></span>
<a href="#span-out-transform-fft">高速Fourier変換</a>参照
<br>
clear;
<br>
<span class="jF">$</span>radix=2;
<br>
deg=4;
<br>
N=radix**deg;
<br>
arr_n=linspace(0,N-1,N);
<br>
($n0,$n1,$n2)=N/(2,4,8);
<br>
($A0,$A1,$A2)=1/(1,2,3)+i;
<br>
f(t)=&lt;(A0,A1,A2)*{e^((i*n0*t)*2*pi/N),e^((i*n1*t)*2*pi/N),e^((i*n2*t)*2*pi/N)/2};
<br>
f_samples=f(=&lt;arr_n)=&gt;;
<br>
F_FFT=fft1d(f_samples);
<br>
f_IFFT=ifft1d(F_FFT);
<br>
F_DFT=[];
<br>
f_IDFT=[];
<br>
DFT(n)=&lt;_s((t)=&lt;f(t)=&gt;*e^((-i*n*t)*2*pi/N),0,N-1);
<br>
IDFT(t)=&lt;_s((n)=&lt;F_DFT[][n]*e^((i*n*t)*2*pi/N),0,N-1)/N;
<br>
<span class="jF">arr_n.map((n)=&lt;F_DFT.push(DFT(n)=&gt;));
<br>
arr_n.map((n)=&lt;f_IDFT.push(IDFT(n)=&gt;));</span>
<br>
xt=arr_n;
<br>
yt=((f_samples:f_IDFT:f_IFFT):(F_DFT:F_FFT)/N);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d()
<br>
_multi
    </th>
    <td>
<span id="span-eqn-plot2d()_multi"></span>
<a href="#span-out-development-problems-algebra">代数学準拠の問題点</a>参照
<br>
clear;
<br>
x_long={1,2,3,4,5,6,7,8,9,10}*(1+2i);
<br>
y_long=x_long*2;
<br>
x_short={1,2,3,4,5}*(1+2i);
<br>
y_short=x_short*4;
<br>
xt_OK=(x_long,x_short);
<br>
yt_OK=(y_long,y_short);
<br>
xt_NG=(x_short,x_long);
<br>
yt_NG=(y_short,y_long);
<br>
x_short_mod={1,2,3,4,5,NaN,NaN,NaN,NaN,NaN}*(1+2i);
<br>
y_short_mod=x_short_mod*4;
<br>
xt_OK=(x_short_mod,x_long);
<br>
yt_OK=(y_short_mod,y_long);
<br>
xt=(x_short_mod,x_long,x_long,x_short_mod*2);
<br>
yt=(y_short_mod,y_long,y_short_mod*2,y_long);
<br>
(xt,yt);
<br>
trans(ans);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_circle
    </th>
    <td>
<span id="span-eqn-plot2d_circle"></span>
<a href="#span-out-plot2d-command-from-arr">plot2d-from-arr</a>参照
<br>
clear;
<br>
plot2d_circle(t0,t1,N,M)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{
<br>
tn=&lt;t0+(t1-t0)*n/N,
<br>
xt=zeros(N+1,M+1),yt=zeros(N+1,M+1)
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
stepnm=&lt;last{tn=tn=&gt;,xt[n][m]=cos(tn)*m,yt[n][m]=sin(tn)*m},
<br>
casesM=&lt;_s((m)=&lt;stepnm=&gt;,0,M),
<br>
evolutionN=&lt;_s((n)=&lt;casesM=&gt;,0,N),
<br>
evolutionN=&gt;
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_circle(0,2*pi,10,3)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_evolution
    </th>
    <td>
<span id="span-eqn-plot2d_evolution"></span>
<a href="#span-out-plot2d-command-from-arr">plot2d-from-arr</a>参照
<br>
clear;
<br>
plot2d_evolution(t0,t1,dt,z_x0,z_v0<span class="selection">,z_u</span>,m,kCdA_sphere)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{
<br>
g=-9.8,z_a=0+g*i,
<br>
<span class="jF">t=0,</span>
<br>
x_initial=&lt;{z_x0,z_v0},
<br>
f<span class="jF">(t,z_x,z_v)</span>=&lt;{z_v,z_a+(kCdA_sphere/m)*(<span class="selection">z_u</span>-z_v)},
<br>
N=round((t1-t0)/dt),M=0,
<br>
xt=zeros(N+1,M+1),yt=zeros(N+1,M+1)
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
dtn=&lt;n&lt;=0&amp;&amp;0||||dt/*switch(n&lt;=0,0:1,dt)*/,
<br>
<span class="jF">x_next=x_initial=&gt;,</span>
<br>
step=&lt;last{dt0=dtn=&gt;,<span class="jF">x_next=_o(=&lt;f,=&lt;{x_next}</span>,t+[,dt0])<span class="jF">,t=t+dt0</span>},
<br>
stepnm=&lt;last{step=&gt;,<span class="jF">z_x=x_next[0],</span>xt[n][mdummy]=real(z_x),yt[n][mdummy]=imag(z_x)},
<br>
casesM=&lt;_s((mdummy)=&lt;stepnm=&gt;,0,M)/*m-reserved*/,
<br>
evolutionN=&lt;_s((n)=&lt;casesM=&gt;,0,N),
<br>
evolutionN=&gt;
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_evolution(0,5,0.5,0,20+20i<span class="selection">,0</span>,1,1)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_Lagrange
    </th>
    <td>
<span id="span-eqn-plot2d_Lagrange"></span>
<a href="#span-out-interpolation-Lagrange">Lagrange補間</a>参照
<br>
clear;
<br>
plot2d_Lagrange(x,y)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{
<br>
N=min(sizer(x),sizer(y))-1,
<br>
dx=x[1][0][N][1]-x,
<br>
xt=(x+dx/2)[0][0][N][1],
<br>
yt=zeros(N,1)
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
ljx(j,x_)=&lt;_p((m)=&lt;m==j&amp;&amp;&amp;1|||(x_-x[m])/(x[j]-x[m]),0,N),
<br>
Lkx(x_)=&lt;_s((j)=&lt;y[j]*ljx(j,x_)=&gt;,0,N),
<br>
_s((i_)=&lt;yt[i_]=Lkx(xt[i_])=&gt;,0,N-1),
<br>
yinterp=interp2(trans(xt):trans(x,y)),
<br>
xt=(x,xt),
<br>
yt=(y,yt,trans(yinterp))
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_Lagrange(=&lt;{0,1,2,3,4,5,6,7,8,9},=&lt;{1,3,2,5,0,-3,-2,-5,-1,-1}*(1+2i))=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_nspline
    </th>
    <td>
<span id="span-eqn-plot2d_nspline"></span>
<a href="#span-out-interpolation-spline">spline補間</a>参照
<br>
clear;
<br>
nspline3d(x,y)=&lt;[
<br>
out=&lt;(u),
<br>
<div class="condition">
init=&lt;last{
<br>
N=min(sizer(x),sizer(y))-1,
<br>
dx=x[1][0][N][1]-x,
<br>
dy=y[1][0][N][1]-y,
<br>
r=vectorc(3*N),
<br>
coo=zeros(3,10*N-4)
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
_s((j)=&lt;last{
<br>
n=j+1,j0=3*j,dxi=dx[j],dyi=dy[j],
<br>
coo[0][j0][1][3]=(dxi,dxi**2,dxi**3),
<br>
coo[1][j0][1][3]=(n,n,n),
<br>
coo[2][j0][1][3]=(n,N+n,2*N+n),
<br>
r[j]=dyi
<br>
},0,N-1),
<br>
_s((j)=&lt;last{
<br>
n=j+1,j0=3*N+4*j,dxi=dx[j],
<br>
coo[0][j0][1][4]=(1,-1,2*dxi,3*dxi**2),
<br>
coo[1][j0][1][4]=(N+n,N+n,N+n,N+n),
<br>
coo[2][j0][1][4]=(n,n+1,N+n,2*N+n)
<br>
},0,N-2),
<br>
_s((j)=&lt;last{
<br>
n=j+1,j0=7*N+3*j-4,dxi=dx[j],
<br>
coo[0][j0][1][3]=(1,-1,3*dxi),
<br>
coo[1][j0][1][3]=(2*N+n-1,2*N+n-1,2*N+n-1),
<br>
coo[2][j0][1][3]=(N+n,N+n+1,2*N+n)
<br>
},0,N-2),
<br>
j0=10*N-4-3,
<br>
coo[0][j0][1][3]=(1,1,3*dx[N-1]),
<br>
coo[1][j0][1][3]=(3*N-1,3*N,3*N),
<br>
coo[2][j0][1][3]=(N+1,2*N,3*N),
<br>
u=Gauss_coo(coo:trans(r))
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_nspline(x,y)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{
<br>
N=min(sizer(x),sizer(y))-1,
<br>
dx=x[1][0][N][1]-x,
<br>
xt=(x+dx/2)[0][0][N][1],
<br>
yt=zeros(N,1)
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
u=nspline3d(=&lt;x,=&lt;y)=&gt;,
<br>
b=u[0][0][N][1],
<br>
c=u[N][0][N][1],
<br>
d=u[2*N][0][N][1],
<br>
_s((i_)=&lt;last{
<br>
dxi=xt[i_]-x[i_],
<br>
yt[i_]=y[i_]+b[i_]*dxi+c[i_]*dxi**2+d[i_]*dxi**3
<br>
},0,N-1),
<br>
yinterp=interp3(trans(xt):trans(x,y)),
<br>
xt=(x,xt),
<br>
yt=(y,yt,trans(yinterp))
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_nspline(=&lt;{0,1,2,3,4,5,6,7,8,9},=&lt;{1,3,2,5,0,-3,-2,-5,-1,-1}*(1+2i))=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_bspline
    </th>
    <td>
<span id="span-eqn-plot2d_bspline"></span>
<a href="#span-out-interpolation-spline">spline補間</a>参照
<br>
clear;
<br>
bspline2d(x,y,i_,t)=&lt;[
<br>
out=&lt;(xy),
<br>
<div class="condition">
init=&lt;last{
<br>
Si(i_,t)=&lt;0.5*(t^2,t,1)*(1,-2,1:-2,2,0:1,1,0)*{(x[i_-1],y[i_-1]),(x[i_],y[i_]),(x[i_+1],y[i_+1])}
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
xy=Si(i_,t)=&gt;
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_bspline(x,y)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{
<br>
N=min(sizer(x),sizer(y))-1,
<br>
M=N-1,
<br>
xt=zeros(N+1,M),
<br>
yt=zeros(N+1,M)
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
_s((m)=&lt;_s((n)=&lt;last{
<br>
($xnm,$ynm)=bspline2d(=&lt;x,=&lt;y,m,n/N)=&gt;,
<br>
xt[n][m-1]=xnm,
<br>
yt[n][m-1]=ynm
<br>
},0,N),1,M),
<br>
xt=(x,xt),
<br>
yt=(y,yt)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
plot2d_bspline(=&lt;{0,1,2,3,2},=&lt;{1,4,2,4,4}*(1+2i))=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
SND/P(x)/
<br>
erf(x)/erfc(x)
    </th>
    <td>
<span id="span-eqn-SND_Px_erfx_erfcx"></span>
<a href="#span-out-FNspecial">特殊関数</a>参照
<br>
clear;
<br>
NI=100;
<br>
SND(t)=&lt;exp(-t^2/2)/sqrt(2*pi);
<br>
arr_args=[
<br>
(x)=&lt;_i((t)=&lt;SND(t)=&gt;,[0,x],NI)*2,(x)=&lt;_i((t)=&lt;SND(t)=&gt;,[0,x*sqrt2],NI)*2,(x)=&lt;1-erf(x)=&gt;:
<br>
(x)=&lt;_i0((t)=&lt;SND(t)=&gt;,[0,x],NI)*2,(x)=&lt;_i0((t)=&lt;SND(t)=&gt;,[0,x*sqrt2],NI)*2,(x)=&lt;1-erf(x)=&gt;:
<br>
(x)=&lt;_o45((t,x)=&lt;SND(t)=&gt;,,[0,x],NI)*2,(x)=&lt;_o45((t,x)=&lt;SND(t)=&gt;,,[0,x*sqrt2],NI)*2,(x)=&lt;1-erf(x)=&gt;
<br>
];
<br>
f(=&lt;P,=&lt;erf,=&lt;erfc)=&lt;[x=3,SND(x)=&gt;,P(x)=&gt;,erf(x)=&gt;,erfc(x)<span class="clear">==&gt;</span>];
<br>
_r((arr)=&lt;(arr:f(arr_args[__n__-1])=&gt;),=&lt;[],#arr_args);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
cSND/cP
    </th>
    <td>
<span id="span-eqn-cSND_cP"></span>
<a href="#span-out-FNspecial">特殊関数</a>参照
<br>
clear;
<br>
NI=50;
<br>
cSND(z)=&lt;exp(-abs(z)^2)/pi;
<br>
arr_integral=[
<br>
(=&lt;f,a,b)=&lt;_i(=&lt;f,a,b,NI):
<br>
(=&lt;f,a,b)=&lt;_i0(=&lt;f,a,b,NI):
<br>
(=&lt;f,a,b)=&lt;_o45((t,x)=&lt;f(t)=&gt;,,a,b,NI)
<br>
];
<br>
f(<span class="clear">==&lt;</span>integral_)=&lt;[
<br>
cP_z(z)=&lt;integral_((y)=&lt;integral_((x)=&lt;cSND(x+(y)i)=&gt;,0,real(z))=&gt;*2,0,imag(z))=&gt;*2,
<br>
cP_r(r)=&lt;integral_((t)=&lt;integral_((r)=&lt;cSND(r*e^(i*t))=&gt;,0,r)=&gt;,0,2*pi)=&gt;/sqrt(pi),
<br>
=&lt;(z=3*(1+i)/sqrt2,cSND(z)=&gt;,cP_z(z)=&gt;,cP_r(abs(z))=&gt;)]=&gt;;
<br>
_r((arr)=&lt;(arr:f(arr_integral[__n__-1])=&gt;),=&lt;[],#arr_integral);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
residue
    </th>
    <td>
<span id="span-eqn-residue"></span>
clear;
<br>
integral_C(=&lt;f,z,r,n)=&lt;_r((s)=&lt;s+last[dt=2*pi/n,t=(__n__-1)*dt,a=z+r*e**(i*t),b=z+r*e**(i*(t+dt)),_i(==&lt;f,a,b)],,n);
<br>
integral_C((z)=&lt;1/(z-0.5i),0,1,10)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
integral
    </th>
    <td>
<span id="span-eqn-integral"></span>
<a href="#span-out-fdm-integral">積分の数値解法</a>||<a href="#span-out-evolution">時間発展の解法</a>参照
<br>
・<span class="clear">調整箇所</span>
<br>
・<span class="run">Ver.2.819.132</span>以降、<span class="selection">対応箇所</span>
<br>
clear;
<br>
check(=&lt;f,a,b,NI,type)=&lt;(_o45((t,x)=&lt;f(t)=&gt;,,a,b,NI):_i(=&lt;f,a,b,NI):_i0(=&lt;f,a,b,NI,type));
<br>
NI=100;
<br>
check((x)=&lt;floor(min(x/0.3,1)),0,1,NI,)=&gt;:0.7;
<br>
check((x)=&lt;sqrt(x),0,1,NI,)=&gt;:2/3;
<br>
check((x)=&lt;1/(x**4+x**2+0.9),-1,1,NI,)=&gt;:1.58223296372967293312;
<br>
check((x)=&lt;2/(2+sin(31.4159*x)),0,1,NI,)=&gt;:1.15470066904371304341;
<br>
check((x)=&lt;sin(314.159*x)/(3.14159*x),0.1,1,NI,)=&gt;:0.0090986452565692970698;
<br>
check((x)=&lt;sqrt(50)*exp(-50*3.14159*x**2),0,10,NI,)=&gt;:0.500000211166100039341;
<br>
check((x)=&lt;50*(sin(50*3.14159*x)/(50*3.14159*x))**2,<span class="clear">eps</span>,1,NI,)=&gt;:<span class="clear">0.4989872301695</span>;
<br>
check((x)=&lt;cos(cos(x)+3*sin(x)+2*cos(2*x)+3*sin(2*x)+3*cos(3*x)),0,<span class="clear">pi</span>,NI,)=&gt;:<span class="clear">0.8386763426944296</span>;
<br>
check((x)=&lt;1/(x**2+1.005),-1,1,NI,)=&gt;:1.564396444069049773091;
<br>
check((x)=&lt;cosh(10*(x-0.2))**(-2)+cosh(100*(x-0.4))**(-4)+cosh(1000*(x-0.6))**(-6),0,1,NI,)=&gt;:0.2108027355005492773756;
<br>
<span class="selection">check((x)=&lt;exp(-x)/sqrt(x),0,1/2,NI,)=&gt;:1.210035619311;
<br>
check((x)=&lt;exp(-x)/sqrt(x),1/2,inf,NI,)=&gt;:0.5624182315944;
<br>
check((x)=&lt;exp(-x)/sqrt(x),,inf,NI,)=&gt;:1.7724538509055;
<br>
check((x)=&lt;exp(-x)/sqrt(x),0,0,NI,)=&gt;:0;</span>
<br>
check((x)=&lt;sqrt(tan(x)),0,pi/4,NI,)=&gt;:0.48749549439936104836;
<br>
check((x)=&lt;sqrt(tan(x)),pi/4,0,NI,)=&gt;:-0.48749549439936104836;
<br>
sqrt(tan(-1.1102230246251565e-16));
<br>
check((x)=&lt;sqrt(tan(x)),pi/4,<span class="clear">eps</span>,NI,)=&gt;:-0.48749549439936104836;
<br>
check((x)=&lt;sqrt(tan(x<span class="clear">+eps*i</span>)),pi/4,0,NI,)=&gt;:-0.48749549439936104836;
<br>
check((x)=&lt;pow(x,2)*exp(x),0,1+i,NI,)=&gt;:-2;
<br>
check((x)=&lt;pow(x,2)*exp(x),1+i,0,NI,)=&gt;:2;
<br>
check((x)=&lt;1/x,0,0,NI,)=&gt;:<span class="selection">0</span>;
<br>
<span class="selection">check((x)=&lt;1/x,inf,inf,NI,)=&gt;:0;
<br>
check((x)=&lt;x,inf,inf,NI,)=&gt;:NaN;
<br>
check((x)=&lt;x,-inf,-inf,NI,)=&gt;:NaN;</span>
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
integral_DE
<br>
_quadrature
    </th>
    <td>
<span id="span-eqn-integral_DE_quadrature"></span>
・<span class="run">Ver.2.819.132</span>以降、<span class="selection">対応箇所</span>
<br>
clear;
<br>
integral_DE_quadrature(==&lt;f,a,b,N,h,opt_type)=&lt;[
<br>
arr_x=[
<br>
:
<br>
(t)=&lt;tanh((pi/2)*sinh(t)),(t)=&lt;(pi/2)*cosh(t)/cosh((pi/2)*sinh(t))**2:
<br>
(t)=&lt;exp(t-exp(-t)),(t)=&lt;exp(t-exp(-t))*(1+exp(-t)):
<br>
(t)=&lt;exp((pi/2)*sinh(t)),(t)=&lt;exp((pi/2)*sinh(t))*(pi/2)*cosh(t):
<br>
(t)=&lt;sinh((pi/2)*sinh(t)),(t)=&lt;cosh((pi/2)*sinh(t))*(pi/2)*cosh(t)
<br>
],
<br>
isFinite_(x)=&lt;abs(x)&lt;inf,
<br>
isInfinite_(x)=&lt;x===inf,
<br>
<span class="selection">isNaN_(x)=&lt;~~isFinite_(x)=&gt;&amp;&amp;&amp;~~isFinite_(f(x)=&gt;)=&gt;,</span>
<br>
isFF(a,b)=&lt;isFinite_(a)=&gt;&amp;&amp;isFinite_(b)=&gt;/*[a,b]*/,
<br>
isFI(a,b)=&lt;isFinite_(a)=&gt;&amp;&amp;isInfinite_(b)=&gt;/*[a,inf]*/,
<br>
isFIm(a,b)=&lt;isFinite_(b)=&gt;&amp;&amp;isInfinite_(a)=&gt;/*[inf,a]*/,
<br>
isIF(a,b)=&lt;isInfinite_(-a)=&gt;&amp;&amp;isFinite_(b)=&gt;/*[-inf,b]*/,
<br>
isIFm(a,b)=&lt;isInfinite_(-b)=&gt;&amp;&amp;isFinite_(a)=&gt;/*[b,-inf]*/,
<br>
isII(a,b)=&lt;isInfinite_(-a)=&gt;&amp;&amp;isInfinite_(b)=&gt;/*[-inf,inf]*/,
<br>
isIIm(a,b)=&lt;isInfinite_(-b)=&gt;&amp;&amp;isInfinite_(a)=&gt;/*[inf,-inf]*/,
<br>
hasMinus(a,b)=&lt;isFIm(a,b)=&gt;||isIFm(a,b)=&gt;||isIIm(a,b)=&gt;,
<br>
hasM=hasMinus(a,b)=&gt;,
<br>
hasM&amp;&amp;&amp;(w=a,a=b,b=w),
<br>
type=opt_type|||isFI(a,b)=&gt;||isIF(a,b)=&gt;&amp;&amp;&amp;3|||isII(a,b)=&gt;&amp;&amp;&amp;4|||1,
<br>
x=arr_x[type][0],
<br>
xd=arr_x[type][1],
<br>
abw=(isIF(a,b)=&gt;&amp;&amp;&amp;[-1,b,1]|||type===2||type===3&amp;&amp;&amp;[1,a,1]|||type===4&amp;&amp;&amp;[1,,1]|||[(b-a)/2,(b+a)/2,(b-a)/2]),
<br>
phi(t,a,b,w)=&lt;[y=f(a*x(t)=&gt;+b)=&gt;*xd(t)=&gt;*w,=&lt;isFinite_(y)=&gt;&amp;&amp;&amp;y]=&gt;,
<br>
S(a,N,h)=&lt;_s((k)=&lt;phi(k*h,abw)=&gt;,-N/2,N/2)*h,
<br>
err=(false===0)*(phi((-N/2)*h,abw)=&gt;+phi((N/2)*h,abw)=&gt;)*h,
<br>
=&lt;cne(a,b)&amp;&amp;&amp;(hasM&&-1||1)*S(a,N,h)=&gt;+err||||<span class="selection">~~isNaN_(a)=&gt;&amp;&amp;&amp;0</span>||||NaN+(NaN)i]=&gt;;
<br>
<br>
check(=&lt;f,a,b,NI,type)=&lt;(integral_DE_quadrature(=&lt;f,a,b,NI,10/NI,type)=&gt;:_i0(=&lt;f,a,b,NI,type));
<br>
z=1/2;
<br>
NI=100;
<br>
args=((x)=&lt;x**(z-1)*exp(-x),0,inf,NI);
<br>
check(args,4)=&gt;:1.772453850905516027298;
<br>
check(args,3)=&gt;:1.772453850905516027298;
<br>
check(args,2)=&gt;:1.772453850905516027298;
<br>
check(args,1)=&gt;:1.772453850905516027298;
<br>
check(args,)=&gt;:_i0(args):1.772453850905516027298;
<br>
check((x)=&lt;x**(z-1)*exp(-x),inf,0,NI,)=&gt;:-1.772453850905516027298;
<br>
check((x)=&lt;x**(z-1)*exp(-x),1,inf,NI,)=&gt;:0.2788055852806619764993;
<br>
NI=100;
<br>
check((x)=&lt;1/(1+(sqrt(x))^3),1+i,inf,NI,)=&gt;:1.500781043410964539996-0.4383480058647808280315i;
<br>
check((x)=&lt;1/(1+(sqrt(x))^3),inf,1+i,NI,)=&gt;:-1.500781043410964539996+0.4383480058647808280315i;
<br>
NI=1000;
<br>
check((x)=&lt;1/(1-x^3),-inf,1+i,NI,)=&gt;:-0.01853195524822145602092-0.2259704060343700453459i;
<br>
check((x)=&lt;1/(1-x^3),1+i,-inf,NI,)=&gt;:0.01853195524822145602092+0.2259704060343700453459i;
<br>
NI=1000;
<br>
check((x)=&lt;1/(1+25*x^2),-inf,inf,NI,)=&gt;:0.6283185307179586476925;
<br>
check((x)=&lt;1/(1+25*x^2),inf,-inf,NI,)=&gt;:-0.6283185307179586476925;
<br>
check((x)=&lt;1/(1+25*x^2),-inf,-inf,NI,)=&gt;:0;
<br>
check((x)=&lt;1/(1+25*x^2),inf,inf,NI,)=&gt;:0;
<br>
NI=1000;
<br>
check((x)=&lt;sin(1/sqrt(x))/sqrt(x),0,1,NI,)=&gt;:1.008134123813856743979;
<br>
check((x)=&lt;sin(1/sqrt(x))/sqrt(x),1,0,NI,)=&gt;:-1.008134123813856743979;
<br>
NI=100;
<br>
<span class="selection">check((x)=&lt;exp(-x)/sqrt(x),0,1/2,NI,)=&gt;:1.210035619311;
<br>
check((x)=&lt;exp(-x)/sqrt(x),1/2,inf,NI,)=&gt;:0.5624182315944;
<br>
check((x)=&lt;exp(-x)/sqrt(x),,inf,NI,)=&gt;:1.7724538509055;
<br>
check((x)=&lt;exp(-x)/sqrt(x),0,0,NI,)=&gt;:0;</span>
<br>
NI=100;
<br>
check((x)=&lt;sqrt(tan(x)),0,pi/4,NI,)=&gt;:0.48749549439936104836;
<br>
check((x)=&lt;sqrt(tan(x)),pi/4,0,NI,)=&gt;:-0.48749549439936104836;
<br>
NI=100;
<br>
check((x)=&lt;pow(x,2)*exp(x),0,1+i,NI,)=&gt;:-2;
<br>
check((x)=&lt;pow(x,2)*exp(x),1+i,0,NI,)=&gt;:2;
<br>
NI=100;
<br>
check((x)=&lt;1/x,0,0,NI,)=&gt;:<span class="selection">0</span>;
<br>
<span class="selection">check((x)=&lt;1/x,inf,inf,NI,)=&gt;:0;
<br>
check((x)=&lt;x,inf,inf,NI,)=&gt;:NaN;
<br>
check((x)=&lt;x,-inf,-inf,NI,)=&gt;:NaN;</span>
<br>
NI=20;
<br>
globalS(=&lt;f)=&lt;integral_DE_quadrature(=&lt;f,0,1,NI,10/NI,)==&gt;;
<br>
globalS((z)=&lt;globalS((y)=&lt;globalS((x)=&lt;1/(1-x*y*z))==&gt;)==&gt;)==&gt;;
<br>
globalS(=&lt;f)=&lt;_i0(=&lt;f,0,1,NI);
<br>
globalS((z)=&lt;globalS((y)=&lt;globalS((x)=&lt;1/(1-x*y*z))==&gt;)==&gt;)==&gt;;
<br>
1.2020569031595942;
<br>
globalS(=&lt;f)=&lt;_i(=&lt;f,0,1,NI);
<br>
globalS((z)=&lt;globalS((y)=&lt;globalS((x)=&lt;1/(1-x*y*z))==&gt;)==&gt;)==&gt;;
<br>
globalS(=&lt;f)=&lt;(_t1((t,x)=&lt;f(t)=&gt;,=&lt;{0,},1,NI))[1];
<br>
globalS((z)=&lt;globalS((y)=&lt;globalS((x)=&lt;1/(1-x*y*z))==&gt;)==&gt;)==&gt;;
<br>
globalS(=&lt;f)=&lt;_o1((t,x)=&lt;f(t)=&gt;,,0,1,NI);
<br>
globalS((z)=&lt;globalS((y)=&lt;globalS((x)=&lt;1/(1-x*y*z))==&gt;)==&gt;)==&gt;;
<br>
1.2020569031595942;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
matrix
<br>
_product
    </th>
    <td>
<span id="span-eqn-matrix_product"></span>
<a href="#span-out-mat-product">行列積の解法</a>参照
<br>
clear;
<br>
LpR(L,R)=&lt;[product=&lt;LR[ir][ic]=ttL[ir]*(ttR.)[ic].,
<br>
ttL=L..,
<br>
ttR=R..,
<br>
LR=zeros(sizer(ttL),sizec(ttR)),
<br>
_s((ir)=&lt;_s((ic)=&lt;product=&gt;,0,sizec(ttR)-1),0,sizer(ttL)-1),
<br>
=&lt;LR]=&gt;;
<br>
[L=(1,2:3:4,5:6),R=(1,2:3,4,5),=&lt;LpR(=&lt;L,=&lt;R)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
rotationx/y/z
    </th>
    <td>
<span id="span-eqn-rotationxyz"></span>
<a href="#span-out-FNmspecial-spec">特殊仕様行列関数</a>参照
<br>
clear;
<br>
rotx(phi)=&lt;[rt=real(phi),=&lt;(1,,:,cos(rt),-sin(rt):,sin(rt),cos(rt))]=&gt;;
<br>
roty(theta)=&lt;[rt=real(theta),=&lt;(cos(rt),,sin(rt):,1,:-sin(rt),,cos(rt))]=&gt;;
<br>
rotz(psi)=&lt;[rt=real(psi),=&lt;(cos(rt),-sin(rt),:sin(rt),cos(rt),:,,1)]=&gt;;
<br>
[t=pi/4,=&lt;[rotx(t)=&gt;,roty(t)=&gt;,rotz(t)=&gt;]]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
rotationx/y/z
<br>
_LHS
    </th>
    <td>
<span id="span-eqn-rotationxyz_LHS"></span>
<a href="#span-out-FNmspecial-spec">特殊仕様行列関数</a>参照
<br>
clear;
<br>
rotx_LHS(phi)=&lt;[rt=real(phi),=&lt;(1,,:,cos(rt),sin(rt):,-sin(rt),cos(rt))]=&gt;;
<br>
roty_LHS(theta)=&lt;[rt=real(theta),=&lt;(cos(rt),,-sin(rt):,1,:sin(rt),,cos(rt))]=&gt;;
<br>
rotz_LHS(psi)=&lt;[rt=real(psi),=&lt;(cos(rt),sin(rt),:-sin(rt),cos(rt),:,,1)]=&gt;;
<br>
[t=pi/4,=&lt;[rotx_LHS(t)=&gt;,roty_LHS(t)=&gt;,rotz_LHS(t)=&gt;]]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
quaternion
    </th>
    <td>
<span id="span-eqn-quaternion"></span>
clear;
<br>
q2m_(a,b,c,d)=&lt;(a+(b)i,c+(d)i:-c+(d)i,a-(b)i);
<br>
m2q_(a,b:c,d)=&lt;((a+d)/2,(a-d)/2i,(b-c)/2,(b+c)/2i);
<br>
qmul_(q1,q2)=&lt;m2q_(q2m_(q1)=&gt;*q2m_(q2)=&gt;)=&gt;;
<br>
qnorm_(q)=&lt;sqrt(sum(q*q));
<br>
qnormalize_(q)=&lt;q/qnorm_(=&lt;q)=&gt;;
<br>
qconjugate_(q)=&lt;[cq=-q,cq[][0]=-cq[][0],=&lt;cq]=&gt;;
<br>
i4=identity(4);
<br>
check_table=&lt;[
<br>
arr=[],
<br>
_s((m)=&lt;_s((n)=&lt;arr=(arr:qmul_(=&lt;i4[m-1],=&lt;i4[n-1])=&gt;),1,4),1,4),
<br>
=&lt;arr]=&gt;;
<br>
check_table=&gt;;
<br>
_r((arr)=&lt;(arr,qnorm_(=&lt;i4[__n__-1])=&gt;),=&lt;[],#i4);
<br>
qnormalize_(=&lt;i4[0]*3)=&gt;;
<br>
q1=(1,2,3,4);
<br>
q2=(-1,2,-3,4);
<br>
q1_times_q2=qmul_(=&lt;q1,=&lt;q2)=&gt;;
<br>
conj_q1_times_q2=qconjugate_(=&lt;q1_times_q2)=&gt;;
<br>
=qmul_(=&lt;qconjugate_(=&lt;q2)=&gt;,=&lt;qconjugate_(=&lt;q1)=&gt;)=&gt;;
<br>
nq1=qnormalize_(=&lt;q1)=&gt;;
<br>
norm_nq1=qnorm_(=&lt;nq1)=&gt;;
<br>
cq1=qconjugate_(=&lt;q1)=&gt;;
<br>
=m2q_(q2m_(q1)=&gt;')=&gt;;
<br>
q1_times_cq1=qmul_(=&lt;q1,=&lt;cq1)=&gt;;
<br>
cq1_times_q1=qmul_(=&lt;cq1,=&lt;q1)=&gt;;
<br>
norm_q1=qnorm_(=&lt;q1)=&gt;;
<br>
=sqrt(q1_times_cq1[][0]);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_Gauss
    </th>
    <td>
<span id="span-eqn-solvex_Gauss"></span>
<a href="#span-out-method-Gauss">Gaussの消去法</a>||<a href="#span-out-linear">連立線形方程式の解法</a>参照
<br>
clear;
<br>
solvex_Gauss(A,b)=&lt;[
<br>
out=&lt;x,
<div class="condition">
init=&lt;last{sizeA=size(A),x=zeros(sizeA,1)},
</div>
<div class="run">
run=&lt;last{
<br>
compare=&lt;last{absA_comp=abs(A[ir_comp][ir]),
<br>
switch(absA_pivot&lt;absA_comp,=&lt;last{ir_pivot=ir_comp,absA_pivot=absA_comp})},
<br>
proc=&lt;{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w},
<br>
pivotting=&lt;last{ir_pivot=ir,absA_pivot=abs(A[ir][ir]),
<br>
_s((ir_comp)=&lt;compare=&gt;,ir+1,sizeA-1),switch(ir&lt;&gt;ir_pivot,=&lt;proc)},
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k*A[ic],b[ir]=b[ir]-k*b[ic]},
<br>
backward=&lt;last{r=b[ir],_s((ic)=&lt;r=r-A[ir][ic]*x[ic],ir+1,sizeA-1),x[ir]=r/A[ir][ir]},
<br>
_s((ir)=&lt;pivotting=&gt;,0,sizeA-2),
<br>
_s((ic)=&lt;_s((ir)=&lt;forward=&gt;,ic+1,sizeA-1),0,sizeA-2),
<br>
x[sizeA-1]=b[sizeA-1]/A[sizeA-1][sizeA-1],_s((ir)=&lt;backward=&gt;,sizeA-2,0)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[rand_Ab=&lt;last{N=5,A=zeros(N,N),b=vectorc(N),gen_rand=&lt;rand()+rand()*i,
<br>
_s((ir)=&lt;last{_s((ic)=&lt;A[ir][ic]=gen_rand=&gt;,0,N-1),b[ir]=gen_rand=&gt;},0,N-1)},
<br>
rand_Ab=&gt;,=&lt;/*optimized*/Gauss(A,b)-solvex_Gauss(=&lt;A,=&lt;b)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_Gauss_coo
    </th>
    <td>
<span id="span-eqn-solvex_Gauss_coo"></span>
<a href="#span-out-method-Gauss">Gaussの消去法</a>||<a href="#span-out-FNm-coo">座標形式行列関数</a>||<a href="#span-out-interpolation-spline">spline補間</a>参照
<br>
clear;
<br>
[aA=(1,1,-2,1+i,3i,1,1-i,-1,-i),mA=(1,1,2,2,2,3,3,4,4),nA=(1,2,1,2,3,1,3,3,4),
<br>
b={4,5,6,7i},coo=(aA:mA:nA),A=coo2mat(coo),
<br>
=&lt;Gauss(A,b)-Gauss_coo(coo:trans(b))]=&gt;;
<br>
[aA=(1,1,1,1,1,1,1,-1,2,3,1,-1,3,1,1,3),
<br>
mA=(1,1,1,2,2,2,3,3,3,3,4,4,4,5,6,6),
<br>
nA=(1,3,5,2,4,6,1,2,3,5,3,4,5,3,4,6),
<br>
b={2,-1,0,0,0,0},coo=(aA:mA:nA),A=coo2mat(coo),
<br>
=&lt;Gauss(A,b)-Gauss_coo(coo:trans(b))]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_pivotting
    </th>
    <td>
<span id="span-eqn-solvex_pivotting"></span>
<a href="#span-out-linear">連立線形方程式の解法</a>参照
<br>
clear;
<br>
solvex_pivotting(A,b)=&lt;[
<br>
out=&lt;x,
<div class="condition">
init=&lt;last{sizeA=size(A),x=zeros(sizeA,1)},
</div>
<div class="run">
run=&lt;last{
<br>
compare=&lt;switch(abs(A[ir][ir])&lt;abs(A[ir_comp][ir]),=&lt;ir_pivot=ir_comp),
<br>
proc=&lt;{w=A[ir],A[ir]=A[ir_pivot],A[ir_pivot]=w,w=b[ir],b[ir]=b[ir_pivot],b[ir_pivot]=w},
<br>
pivotting=&lt;last{ir_pivot=ir,compare=&gt;,switch(ir&lt;&gt;ir_pivot,=&lt;proc)},
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k*A[ic],b[ir]=b[ir]-k*b[ic]},
<br>
backward=&lt;x[ir]=(b[ir]-A[ir]*x)/A[ir][ir],
<br>
_s((ir)=&lt;_s((ir_comp)=&lt;pivotting=&gt;,ir+1,sizeA-1),0,sizeA-2),
<br>
_s((ic)=&lt;_s((ir)=&lt;forward=&gt;,ic+1,sizeA-1),0,sizeA-2),
<br>
_s((ir)=&lt;backward=&gt;,sizeA-1,0)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[A=(i,2,3i:4,5i,6:7i,8,9i),b={1,2i,4},=&lt;solvex_pivotting(=&lt;A,=&lt;b)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_no_pivotting
    </th>
    <td>
<span id="span-eqn-solvex_no_pivotting"></span>
<a href="#span-out-linear">連立線形方程式の解法</a>参照
<br>
clear;
<br>
solvex_no_pivotting(A,b)=&lt;[
<br>
out=&lt;x,
<div class="condition">
init=&lt;last{sizeA=size(A),x=zeros(sizeA,1)},
</div>
<div class="run">
run=&lt;last{
<br>
forward=&lt;last{k=A[ir][ic]/A[ic][ic],A[ir]=A[ir]-k*A[ic],b[ir]=b[ir]-k*b[ic]},
<br>
backward=&lt;x[ir]=(b[ir]-A[ir]*x)/A[ir][ir],
<br>
_s((ic)=&lt;_s((ir)=&lt;forward=&gt;,ic+1,sizeA-1),0,sizeA-2),
<br>
_s((ir)=&lt;backward=&gt;,sizeA-1,0)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[A=(i,2,3i:4,5i,6:7i,8,9i),b={1,2i,4},=&lt;solvex_no_pivotting(=&lt;A,=&lt;b)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_iteration
    </th>
    <td>
<span id="span-eqn-solvex_iteration"></span>
<a href="#span-out-linear">連立線形方程式の解法</a>参照
<br>
clear;
<br>
solvex_iteration(A,b)=&lt;[
<br>
out=&lt;<span class="jF">x_solved</span>,
<div class="condition">
init=&lt;last{sizeA=size(A),<span class="jF">sizerb=sizer(b),sizecb=sizec(b),isRow=sizerb&lt;sizecb},
</div>
<div class="run">
run=&lt;last{
<br>
<span class="jF">isRow&amp;&amp;&amp;(f=&lt;(__x__.)*A=b)||||(f=&lt;A*(__x__)=b),</span>
<br>
<span class="jF">x_solved=</span>Newton(=&lt;f,=&lt;{b*0},Nmax=1e3,Nmax,1e-10,1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
A=(i,2,3i:4,5i,6:7i,8,9i);
<br>
b={1,2i,4};
<br>
<span class="jF">t</span>A=A<span class="jF">.</span>;
<br>
<span class="jF">t</span>b=b<span class="jF">.</span>;
<br>
xr=solvex_iteration(=&lt;<span class="jF">t</span>A,=&lt;<span class="jF">t</span>b)=&gt;/*<span class="jF">(xr*tA)=(tb)</span>*/;
<br>
xc=solvex_iteration(=&lt;A,=&lt;b)=&gt;/*{A*xc}={b}*/;
<br>
double_check=(<span class="jF">norm((tb)-(xr*tA))</span>:norm<span class="jF">c</span>({b}-{A*xc}));
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solveAinv
    </th>
    <td>
<span id="span-eqn-solveAinv"></span>
<a href="#span-out-inverse">逆行列の解法</a>参照
<br>
clear;
<br>
solveAinv(A)=&lt;[
<br>
out=&lt;<span class="jF">Ainv</span>,
<div class="condition">
init=&lt;last{sizeA=size(A),x0=vectorc(sizeA*sizeA)},
</div>
<div class="run">
run=&lt;last{
<br>
f=&lt;reshape(__x__:sizeA,sizeA)*A=identity(sizeA),
<br>
<span class="jF">x_solved</span>=Newton(=&lt;f,=&lt;{x0},Nmax=1e3,Nmax,1e-10,1),
<br>
<span class="jF">Ainv=reshape(x_solved:sizeA,sizeA)</span>
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[A=(i,2,3i:4,5i,6:7i,8,9i),=&lt;solveAinv(=&lt;A)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_linear
    </th>
    <td>
<span id="span-eqn-solvex_linear"></span>
<a href="#span-out-method-Newton">Newton法</a>||<a href="#span-out-method-Gauss">Gaussの消去法</a>||<a href="#span-out-linear">連立線形方程式の解法</a>参照
<br>
clear;
<br>
($t,$k,$b)=(2,4,=&lt;{100,320});
<br>
A=(1,1:t,k);
<br>
[y=(b[1]-t*b[0])/(k-t),x=b[0]-y,=&lt;(x,y)]=&gt;:
<br>
Gauss(A,b).:
<br>
Newton((x,y)=&lt;{x+y=b[0],t*x+k*y=b[1]}).:
<br>
Newton((x,y)=&lt;A*{x,y}=b).:
<br>
Newton((x,y)=&lt;((x,y)*A.).=b).:
<br>
Newton((x,y)=&lt;(x,y)*A.=b.):
<br>
Newton(=&lt;A*__x__=b,=&lt;{,}).:
<br>
Newton(=&lt;__x__.*A.=b.,=&lt;(,));
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_non_linear
    </th>
    <td>
<span id="span-eqn-solvex_non_linear"></span>
<a href="#span-out-non-linear">連立非線形方程式の解法</a>参照
<br>
clear;
<br>
solvex_non_linear(<span class="jF">=</span>=&lt;f_,=&lt;x_initial_)=&lt;[
<br>
out=&lt;<span class="jF">x_solved</span>,
<div class="condition">
init=&lt;last{0},
</div>
<div class="run">
run=&lt;last{
<br>
<span class="jF">x_solved</span>=Newton(=&lt;f_,=&lt;x_initial_,Nmax=1e3,Nmax,1e-10,1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[f=&lt;{__x__[0]^i-2*__x__[1]=3i,3*__x__[0]+exp(__x__[1])=5i},=&lt;solvex_non_linear(=&lt;f,=&lt;{1+i,1-i})=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_bisection
    </th>
    <td>
<span id="span-eqn-solvex_bisection"></span>
<a href="#span-out-non-linear">連立非線形方程式の解法</a>参照
<br>
clear;
<br>
solvex_non_linear(<span class="jF">=</span>=&lt;f_,=&lt;x_initial_)=&lt;[
<br>
out=&lt;<span class="jF">x_solved</span>,
<div class="condition">
init=&lt;last{0},
</div>
<div class="run">
run=&lt;last{
<br>
<span class="jF">x_solved</span>=Newton(=&lt;f_<span class="jF">,</span>=&lt;x_initial_,Nmax=1e3,Nmax,1e-10,1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
solvex_bisection(=&lt;f_,x0,x1,N)=&lt;[
<br>
out=&lt;x0,
<div class="condition">
init=&lt;last{epsf=1e-7,isBreak=&lt;isNaN(x0)|||norm(y0)&lt;epsf},
</div>
<div class="run">
run=&lt;_r((n)=&lt;last{
<br>
x=(x0+x1)/2,
<br>
y=f_(x)=&gt;,
<br>
y0=f_(x0)=&gt;,
<br>
y1=f_(x1)=&gt;,
<br>
sign(y)==sign(y0)&amp;&amp;&amp;(x0=x)||||sign(y)==sign(y1)&amp;&amp;&amp;(x1=x),
<br>
x0},,N,=&lt;isBreak),
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
global_n=1e3+1;
<br>
global_base=2**(log2(3)-7/4);
<br>
<span class="jF">store</span>;
<br>
f(x0)=&lt;last[left=global_n*pow(global_base,x0),right=1,=right-left];
<br>
[N=1e2,a=0,b=100,
<br>
=&lt;{solvex_non_linear(=&lt;f,=&lt;{0})=&gt;,
<br>
solvex_bisection(=&lt;f,a,b,N)=&gt;,
<br>
solvex_bisection(=&lt;f,b,a,N)=&gt;,
<br>
solvex_bisection(=&lt;f,a,a,N)=&gt;,
<br>
solvex_non_linear((x0)=&lt;1-global_n*pow(global_base,x0),=&lt;{0})=&gt;,
<br>
solvex_bisection((x0)=&lt;1-global_n*pow(global_base,x0),a,b,N)=&gt;,
<br>
solvex_bisection((x0)=&lt;1-global_n*pow(global_base,x0),b,a,N)=&gt;,
<br>
solvex_bisection((x0)=&lt;1-global_n*pow(global_base,x0),a,a,N)=&gt;}]=&gt;;
<br>
<span class="jF">restore</span>;
<br>
[N=1e2,a=0,b=100,f(x0)=&lt;1-global_n*pow(global_base,x0),
<br>
=&lt;{solvex_non_linear(=&lt;f,=&lt;{0})=&gt;,
<br>
solvex_bisection(=&lt;f,a,b,N)=&gt;,
<br>
solvex_bisection(=&lt;f,b,a,N)=&gt;,
<br>
solvex_bisection(=&lt;f,a,a,N)=&gt;,
<br>
solvex_non_linear((x0)=&lt;1-global_n*pow(global_base,x0),=&lt;{0})=&gt;,
<br>
solvex_bisection((x0)=&lt;1-global_n*pow(global_base,x0),a,b,N)=&gt;,
<br>
solvex_bisection((x0)=&lt;1-global_n*pow(global_base,x0),b,a,N)=&gt;,
<br>
solvex_bisection((x0)=&lt;1-global_n*pow(global_base,x0),a,a,N)=&gt;}]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
solvex
<br>
_polynomial
    </th>
    <td>
<span id="span-eqn-solvex_polynomial"></span>
<a href="#span-out-non-linear">連立非線形方程式の解法</a>参照
<br>
clear;
<br>
step<span class="jF">=</span>(<span class="jF">=</span>=&lt;f_,x0,<span class="jF">?</span>arr)=&lt;last[
<br>
solvex=&lt;Newton(=&lt;f_<span class="jF">,</span>=&lt;{x0},Nmax=1e3,Nmax,eps),
<br>
<span class="jF">arr[0].push(x0)</span>,
<br>
<span class="jF">arr[1].push(solvex=&gt;)</span>],
<br>
f<span class="jF">=</span>(x)=&lt;(x-0)*(x-1)*(x-2)*(x-3)*(x-4)*(x-5)*(x-6)=0;
<br>
generate_initial_value=&lt;6*rand();
<br>
_r(=&lt;step(=&lt;f,generate_initial_value=&gt;,<span class="jF">?</span>arr)=&gt;,arr=[],1e2);
<br>
arr_sorted=sort0(arr),<span class="jF">($xt,$yt)=(=&lt;arr_sorted[0],=&lt;arr_sorted[1])</span>;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
implicit
<br>
Euler_method
    </th>
    <td>
<span id="span-eqn-implicit-Euler_method"></span>
<a href="#span-out-evolution">時間発展の解法</a>参照
<br>
Euler_method(t,dt,z_x00,z_v00<span class="selection">,z_u</span>,m,kCdA_sphere,isImplicit)=&lt;[
<br>
out=&lt;{t_total,<span class="jF">x_solved</span>},
<br>
scope2storage=&lt;last{add__(z_x0),add__(z_v0),add__(t_total)},
<div class="condition">
init=&lt;last{
<br>
switch(has__(t_total)==0,=&lt;last{t_total=0,z_x0=z_x00,z_v0=z_v00}),
<br>
g=-9.8,z_a=0+g*i,
<br>
x_initial=&lt;{z_x0,z_v0},
<br>
switch(
<br>
isImplicit,
<br>
=&lt;f<span class="jF">(z_x,z_v)</span>=&lt;{(z_x-z_x0)/dt=z_v,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v)}:
<br>
1/*else-explicit*/,
<br>
=&lt;f<span class="jF">(z_x,z_v)</span>=&lt;{(z_x-z_x0)/dt=z_v0,m*((z_v-z_v0)/dt)=m*z_a+kCdA_sphere*(<span class="selection">z_u</span>-z_v0)}
<br>
),
<br>
orderT=1,
<br>
epsN=max(eps*1e3,pow(dt,orderT)),
<br>
isRelative_epsN=1,
<br>
relative_epsN=(epsN,isRelative_epsN)/*(epsN,flag)*/
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
args_Newton=(=&lt;f<span class="jF">,</span>=&lt;x_initial,Nmax=1e3,Nmax,relative_epsN)/*(args)*/,
<br>
step_iteration=&lt;<span class="jF">x_solved</span>=Newton(args_Newton),
<br>
step_post=&lt;{$z_x0,$z_v0}=<span class="jF">x_solved</span>,
<br>
step=&lt;last{step_iteration=&gt;,step_post=&gt;},
<br>
evolution=&lt;_r((n)=&lt;step=&gt;,N=round(t/dt),N),
<br>
evolution=&gt;,
<br>
t_total=t_total+N*dt
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[cond_error=(has__(t_total)==0)&amp;has__(z_x0),
<br>
proc=&lt;[args=(1,0.5,0,20+20i<span class="selection">,0</span>,1,1),=&lt;Euler_method(args,1)=&gt;]=&gt;,
<br>
=&lt;switch(cond_error==0,=&lt;proc:1,-999/*error-code*/)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
explicit
<br>
Euler_method
    </th>
    <td>
<span id="span-eqn-explicit-Euler_method"></span>
<a href="#span-out-evolution">時間発展の解法</a>参照
<br>
[cond_error=(has__(t_total)==0)&amp;has__(z_x0),
<br>
proc=&lt;[args=(1,0.5,0,20+20i<span class="selection">,0</span>,1,1),=&lt;Euler_method(args,0)=&gt;]=&gt;,
<br>
=&lt;switch(cond_error==0,=&lt;proc:1,-999/*error-code*/)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
explicit
<br>
ODE_RK4
    </th>
    <td>
<span id="span-eqn-explicit-ODE_RK4"></span>
<a href="#span-out-evolution">時間発展の解法</a>参照
<br>
ODE_RK4(t,dt,z_x00,z_v00<span class="selection">,z_u</span>,m,kCdA_sphere)=&lt;[
<br>
out=&lt;{<span class="jF">t_total,x_next</span>},
<br>
scope2storage=&lt;last{<span class="jF">add__(z_x0),add__(z_v0),add__(t_total)</span>},
<div class="condition">
init=&lt;last{
<br>
<span class="jF">switch(has__(t_total)==0,=&lt;last{t_total=0,z_x0=z_x00,z_v0=z_v00}),</span>
<br>
g=-9.8,z_a=0+g*i,
<br>
x_initial=&lt;{z_x0,z_v0},
<br>
f<span class="jF">(t,z_x,z_v)</span>=&lt;{z_v,z_a+(kCdA_sphere/m)*(<span class="selection">z_u</span>-z_v)}
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
<span class="jF">x_next=x_initial=&gt;,</span>
<br>
stepN=&lt;last{N=round(t/dt),<span class="jF">x_next=_o(=&lt;f,=&lt;{x_next}</span>,<span class="jF">t_total</span>+[,dt*N],N)},
<br>
<span class="jF">step_post=&lt;{$z_x0,$z_v0}=x_next,</span>
<br>
evolution=&lt;last{stepN=&gt;,<span class="jF">step_post=&gt;</span>},
<br>
evolution=&gt;,
<br>
<span class="jF">t_total=t_total+N*dt</span>
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[<span class="jF">cond_error=(has__(t_total)==0)&amp;has__(z_x0),</span>
<br>
proc=&lt;[args=(1,0.5,0,20+20i<span class="selection">,0</span>,1,1),=&lt;ODE_RK4(args)=&gt;]=&gt;,
<br>
=&lt;switch(cond_error==0,=&lt;proc:1,-999/*error-code*/)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
explicit
<br>
ODE_fixed
    </th>
    <td>
<span id="span-eqn-explicit-ODE_fixed"></span>
<a href="#span-out-evolution">時間発展の解法</a>参照
<br>
・任意stageのButcher-tableに対する固定stepの陽的Runge-Kutta法（公式と一意対応の最短表記）
<br>
clear;
<br>
ODE_fixed(t0,x0,table)=&lt;[
<br>
order=##table[-1],
<br>
get_arr_f(t0,x0)=&lt;[
<br>
stage_x_sum(i_)=&lt;_r((x)=&lt;x+dt*table[i_][__n__]*arr_f[__n__-1],=&lt;x0,#arr_f),
<br>
_r(=&lt;arr_f[#arr_f].push(f(t0+dt*table[__n__-1][0],stage_x_sum(__n__-1)=&gt;)=&gt;.),arr_f=[],order),
<br>
=&lt;arr_f]=&gt;,
<br>
x=_r((x)=&lt;x+dt*table[-1]*get_arr_f(t0+dt*(__n__-1),=&lt;x)=&gt;,=&lt;x0,Niteration),
<br>
t=t0+dt*Niteration,
<br>
=&lt;(t,x)]=&gt;;
<br>
dt=0.1*(1+i);
<br>
Niteration=10;
<br>
table_Butcher=(0:1/2,1/2:1/2,0,1/2:1,0,0,1:1/6,1/3,1/3,1/6);
<br>
{$t0,$x0,$v0}={,,};
<br>
f(t,x,v)=&lt;{v,t+(F-k*x-c*v)/m};
<br>
($F,$m,$k,$c)=(1,1,1,0.4);
<br>
args=(=&lt;f,=&lt;{t0,x0,v0},t0+dt*Niteration,Niteration);
<br>
ODE_fixed(t0,=&lt;(x0,v0),=&lt;table_Butcher)=&gt;:(_t0(args,,=&lt;table_Butcher).):(_t(args).);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
explicit
<br>
ODE_adaptive
    </th>
    <td>
<span id="span-eqn-explicit-ODE_adaptive"></span>
<a href="#span-out-evolution">時間発展の解法</a>参照
<br>
・任意stageのButcher-tableに対する適応stepの陽的Runge-Kutta法
<br>
clear;
<br>
ODE_adaptive(t0,x0,table)=&lt;[
<br>
dt0=dt,
<br>
t=t0,
<br>
x=x0,
<br>
order=##table[-1],
<br>
isAdaptive=eq(#table-order,2),
<br>
get_arr_f(dt,t0,x0)=&lt;[
<br>
stage_x_sum(i_)=&lt;_r((x)=&lt;x+dt*table[i_][__n__]*arr_f[__n__-1],=&lt;x0,#arr_f),
<br>
_r(=&lt;arr_f[#arr_f].push(f(t0+dt*table[__n__-1][0],stage_x_sum(__n__-1)=&gt;)=&gt;.),arr_f=[],order),
<br>
=&lt;arr_f]=&gt;,
<br>
define_step_fixed=&lt;step(n)=&lt;last{
<br>
arr_f=get_arr_f(dt,t,=&lt;x)=&gt;,
<br>
x=x+dt*table[-1]*arr_f,
<br>
t=t+dt
<br>
},
<br>
define_step_adaptive=&lt;step(n)=&lt;last{
<br>
pNdt=0,
<br>
t00=t,
<br>
x00=x,
<br>
dt=dt0/Ndt,
<br>
_r(=&lt;last{
<br>
arr_f=get_arr_f(dt,t,=&lt;x)=&gt;,
<br>
fc_o5=table[-2]*arr_f,
<br>
fc_o4=table[-1]*arr_f,
<br>
cr_norm=norm(fc_o4-fc_o5),
<br>
sw=cr_norm>=hdelta,
<br>
pNdt=sw&amp;&amp;1||0,
<br>
x=x+dt*fc_o5,
<br>
t=t+dt
<br>
},sw=false,Ndt,=&lt;{sw}),
<br>
dt=dt0,
<br>
cr_norm<=hdelta/10&amp;&amp;&amp;(pNdt=-1),
<br>
Ndt=max(1,Ndt*2**pNdt),
<br>
pNdt===1&amp;&amp;&amp;(t=t00,x=x00,step(n)=&gt;)
<br>
},
<br>
Ndt=1,
<br>
hdelta=abs(dt)*delta,
<br>
isAdaptive&amp;&amp;&amp;define_step_adaptive=&gt;||||define_step_fixed=&gt;,
<br>
_r(=&lt;step(__n__)=&gt;,,Niteration),
<br>
Ndt%1===0&amp;&amp;&amp;(t=t0+dt*Niteration),
<br>
=&lt;(t,x)]=&gt;;
<br>
dt=0.1*(1+i);
<br>
Niteration=10;
<br>
delta=1e-7;
<br>
table_fixed=(0:1/2,1/2:1/2,0,1/2:1,0,0,1:1/6,1/3,1/3,1/6);
<br>
table_adaptive=(0:1/4,1/4:3/8,3/32,9/32:12/13,1932/2197,-7200/2197,7296/2197:
<br>
1,439/216,-8,3680/513,-845/4104:1/2,-8/27,2,-3544/2565,1859/4104,-11/40:
<br>
16/135,0,6656/12825,28561/56430,-9/50,2/55:25/216,0,1408/2565,2197/4104,-1/5,0);
<br>
{$t0,$x0,$v0}={,,};
<br>
f(t,x,v)=&lt;{v,t+(F-k*x-c*v)/m};
<br>
($F,$m,$k,$c)=(1,1,1,0.4);
<br>
args=(=&lt;f,=&lt;{t0,x0,v0},t0+dt*Niteration,Niteration);
<br>
ODE_adaptive(t0,=&lt;(x0,v0),=&lt;table_fixed)=&gt;:(_t0(args,,=&lt;table_fixed).):(_t4(args).);
<br>
ODE_adaptive(t0,=&lt;(x0,v0),=&lt;table_adaptive)=&gt;:(_t0(args,delta,=&lt;table_adaptive).):(_t45(args,delta).);
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DFT1d
    </th>
    <td>
<span id="span-eqn-DFT1d"></span>
<a href="#span-out-transform-dft">離散Fourier変換の解法</a>参照
<br>
clear;
<br>
DFT1d(f)=&lt;[
<br>
out=&lt;f,
<div class="condition">
init=&lt;last{N=sizer(f),Nf=1,Ni=1/N,F=zeros(N,1)},
</div>
<div class="run">
run=&lt;last{
<br>
F(u)=&lt;{_s((x)=&lt;f[x]*e^(-i*u*x*2*pi/N),0,N-1)*Nf},
<br>
_s((u)=&lt;F[u]=F(u)=&gt;,0,N-1),
<br>
f(x)=&lt;{_s((u)=&lt;F[u]*e^(i*x*u*2*pi/N),0,N-1)*Ni},
<br>
_s((x)=&lt;f[x]=f(x)=&gt;,0,N-1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[f={1,2,3,4}<span class="condition">*(1+i)</span>,
<br>
=&lt;DFT1d(=&lt;f)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DFT2d_xy
    </th>
    <td>
<span id="span-eqn-DFT2d_xy"></span>
<a href="#span-out-transform-dft">離散Fourier変換の解法</a>参照
<br>
clear;
<br>
DFT2d_xy(f)=&lt;[
<br>
out=&lt;f,
<div class="condition">
init=&lt;last{N=sizer(f),M=sizec(f),Nf=1,Ni=1/N,Mf=1,Mi=1/M,F=zeros(N,M)},
</div>
<div class="run">
run=&lt;last{
<br>
F(u,v)=&lt;{_s((y)=&lt;{_s((x)=&lt;f[x][y]*e^(-i*u*x*2*pi/N),0,N-1)*Nf}*e^(-i*v*y*2*pi/M),0,M-1)*Mf},
<br>
_s((v)=&lt;_s((u)=&lt;F[u][v]=F(u,v)=&gt;,0,N-1),0,M-1),
<br>
f(x,y)=&lt;{_s((v)=&lt;{_s((u)=&lt;F[u][v]*e^(i*x*u*2*pi/N),0,N-1)*Ni}*e^(i*y*v*2*pi/M),0,M-1)*Mi},
<br>
_s((y)=&lt;_s((x)=&lt;f[x][y]=f(x,y)=&gt;,0,N-1),0,M-1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[f={1,2,3,4:5,6,7,8}<span class="condition">*(1+i)</span>,
<br>
=&lt;DFT2d_xy(=&lt;f)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DFT2d_yx
    </th>
    <td>
<span id="span-eqn-DFT2d_yx"></span>
<a href="#span-out-transform-dft">離散Fourier変換の解法</a>参照
<br>
clear;
<br>
DFT2d_yx(f)=&lt;[
<br>
out=&lt;f,
<div class="condition">
init=&lt;last{N=sizer(f),M=sizec(f),Nf=1,Ni=1/N,Mf=1,Mi=1/M,F=zeros(N,M)},
</div>
<div class="run">
run=&lt;last{
<br>
F(v,u)=&lt;{_s((x)=&lt;{_s((y)=&lt;f[x][y]*e^(-i*v*y*2*pi/M),0,M-1)*Mf}*e^(-i*u*x*2*pi/N),0,N-1)*Nf},
<br>
_s((u)=&lt;_s((v)=&lt;F[u][v]=F(v,u)=&gt;,0,M-1),0,N-1),
<br>
f(y,x)=&lt;{_s((u)=&lt;{_s((v)=&lt;F[u][v]*e^(i*y*v*2*pi/M),0,M-1)*Mi}*e^(i*x*u*2*pi/N),0,N-1)*Ni},
<br>
_s((x)=&lt;_s((y)=&lt;f[x][y]=f(y,x)=&gt;,0,M-1),0,N-1)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[f={1,2,3,4:5,6,7,8}<span class="condition">*(1+i)</span>,
<br>
=&lt;DFT2d_yx(=&lt;f)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DWT1d
    </th>
    <td>
<span id="span-eqn-DWT1d"></span>
<a href="#span-out-transform-dwt">離散Wavelet変換の解法</a>参照
<br>
clear;
<br>
DWT1d(w)=&lt;[
<br>
out=&lt;w,
<div class="condition">
init=&lt;last{N=sizer(w),W=zeros(N,1),p=round(log2(N))},
</div>
<div class="run">
run=&lt;last{
<br>
W(w,N)=&lt;_s((t)=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1),
<br>
_r((n)=&lt;last{W(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;,w=W},Np=1&lt;&lt;p,p),
<br>
buffer=W,
<br>
w(W,N2)=&lt;_s((t)=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1),
<br>
_r((n)=&lt;last{w(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;,W=w},Np=1,p),
<br>
W=buffer
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[w={1,2,3,4}<span class="condition">*(1+i)</span>,
<br>
=&lt;DWT1d(=&lt;w)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DWT2d_xy
    </th>
    <td>
<span id="span-eqn-DWT2d_xy"></span>
<a href="#span-out-transform-dwt-col">離散Wavelet変換の解法（列代入）</a>参照
<br>
clear;
<br>
DWT2d_xy(w)=&lt;[
<br>
out=&lt;w,
<div class="condition">
init=&lt;last{N=sizer(w)/*N&gt;1*/,M=sizec(w),W=zeros(N,M),
<br>
p=round(log2(N)),q=round(log2(M))},
</div>
<div class="run">
run=&lt;last{
<br>
W_row(w,N)=&lt;_s((t)=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1),
<br>
W_col(w,N)=&lt;_s((t)=&lt;last{
<br>
a=w[][2*t],b=w[][2*t+1],W[][t]=a+b,W[][t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1),
<br>
_r((n)=&lt;last{W_row(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;,w=W},Np=1&lt;&lt;p,p),
<br>
_r((n)=&lt;last{w=W,W_col(=&lt;w,first{Nq,Nq=Nq&gt;&gt;1})=&gt;},Nq=1&lt;&lt;q,q),
<br>
buffer=W,
<br>
w_row(W,N2)=&lt;_s((t)=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1),
<br>
w_col(W,N2)=&lt;_s((t)=&lt;last{
<br>
a=W[][t],b=W[][t+N2],w[][2*t]=(a+b)<span class="selection">*0.5</span>,w[][2*t+1]=(a-b)<span class="selection">*0.5</span>
<br>
},0,N2-1),
<br>
w=W,
<br>
_r((n)=&lt;last{w_row(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;,W=w},Np=1,p),
<br>
_r((n)=&lt;last{W=w,w_col(=&lt;W,first{Nq,Nq=Nq&lt;&lt;1})=&gt;},Nq=1,q),
<br>
W=buffer
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[w={1,2,3,4:5,6,7,8}<span class="condition">*(1+i)</span>,
<br>
=&lt;DWT2d_xy(=&lt;w)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
DWT2d_yx
    </th>
    <td>
<span id="span-eqn-DWT2d_yx"></span>
<a href="#span-out-transform-dwt-col">離散Wavelet変換の解法（列代入）</a>参照
<br>
clear;
<br>
DWT2d_yx(w)=&lt;[
<br>
out=&lt;w,
<div class="condition">
init=&lt;last{N=sizer(w),M=sizec(w)/*M&gt;1*/,W=zeros(N,M),
<br>
p=round(log2(N)),q=round(log2(M))},
</div>
<div class="run">
run=&lt;last{
<br>
W_row(w,N)=&lt;_s((t)=&lt;last{
<br>
a=w[2*t],b=w[2*t+1],W[t]=a+b,W[t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1),
<br>
W_col(w,N)=&lt;_s((t)=&lt;last{
<br>
a=w[][2*t],b=w[][2*t+1],W[][t]=a+b,W[][t+N2]=a-b
<br>
},N2=N&gt;&gt;1,N2-1),
<br>
_r((n)=&lt;last{W_col(=&lt;w,first{Nq,Nq=Nq&gt;&gt;1})=&gt;,w=W},Nq=1&lt;&lt;q,q),
<br>
_r((n)=&lt;last{w=W,W_row(=&lt;w,first{Np,Np=Np&gt;&gt;1})=&gt;},Np=1&lt;&lt;p,p),
<br>
buffer=W,
<br>
w_row(W,N2)=&lt;_s((t)=&lt;last{
<br>
a=W[t],b=W[t+N2],w[2*t]=<span class="selection">0.5*</span>(a+b),w[2*t+1]=<span class="selection">0.5*</span>(a-b)
<br>
},0,N2-1),
<br>
w_col(W,N2)=&lt;_s((t)=&lt;last{
<br>
a=W[][t],b=W[][t+N2],w[][2*t]=(a+b)<span class="selection">*0.5</span>,w[][2*t+1]=(a-b)<span class="selection">*0.5</span>
<br>
},0,N2-1),
<br>
w=W,
<br>
_r((n)=&lt;last{w_col(=&lt;W,first{Nq,Nq=Nq&lt;&lt;1})=&gt;,W=w},Nq=1,q),
<br>
_r((n)=&lt;last{W=w,w_row(=&lt;W,first{Np,Np=Np&lt;&lt;1})=&gt;},Np=1,p),
<br>
W=buffer
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[w={1,2,3,4:5,6,7,8}<span class="condition">*(1+i)</span>,
<br>
=&lt;DWT2d_yx(=&lt;w)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
MaclaurinN
    </th>
    <td>
<span id="span-eqn-MaclaurinN"></span>
<a href="#span-out-series-Taylor">Taylor級数・Maclaurin級数の解法</a>参照
<br>
clear;
<br>
MaclaurinN(=&lt;f_,x,N)=&lt;_s((n)=&lt;_d((x)=&lt;f_=&gt;,0,n)*x^n/n!,0,N);
<br>
last[f=&lt;exp(x),MaclaurinN(=&lt;f,2,5)=&gt;];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
TaylorN
    </th>
    <td>
<span id="span-eqn-TaylorN"></span>
<a href="#span-out-series-Taylor">Taylor級数・Maclaurin級数の解法</a>参照
<br>
clear;
<br>
TaylorN(=&lt;f_,a,x,N)=&lt;_s((n)=&lt;_d((x)=&lt;f_=&gt;,a,n)*(x-a)^n/n!,0,N);
<br>
last[f=&lt;exp(x),TaylorN(=&lt;f,0,2,5)=&gt;];
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
FourierN
    </th>
    <td>
<span id="span-eqn-FourierN"></span>
<a href="#span-out-series-Fourier">Fourier級数の解法</a>参照
<br>
・<span class="run">Ver.2.809.131</span>以降、omega導入と<span class="clear">周期関数f(x)の定義域の更新箇所</span>
<br>
clear;
<br>
FourierN_sym(<span class="jF">=</span>=&lt;ft_,x,N)=&lt;last[
<br>
NI=300,
<br>
cn(n)=&lt;_i((t)=&lt;(ft_=&gt;)*e^(-i*(n)*t),<span class="clear">[-pi,pi]/1</span>,NI)/(2*pi)/*t=[-pi,pi]*/,
<br>
_s((n)=&lt;(cn(n)=&gt;)*e^(i*(n)*x),-N,N)/*omega=1*/
<br>
];
<br>
last[ft=&lt;e^(i*(2.5)*t),FourierN_sym(=&lt;ft,2,5)=&gt;];
<br>
<br>
FourierN_sym(=&lt;f,x,omega,N)=&lt;last[
<br>
NI=300,
<br>
T=2*pi/omega,
<br>
cn(n)=&lt;_i((t)=&lt;(f(t)=&gt;)*e^(-i*(n*omega)*t),<span class="clear">[-pi,pi]/omega</span>,NI)/T,
<br>
_s((n)=&lt;(cn(n)=&gt;)*e^(i*(n*omega)*x),-N,N)
<br>
];
<br>
FourierN_sym((t)=&lt;e^(i*(2.5)*t),2,1,5)=&gt;;
<br>
<br>
FourierN(=&lt;f,x,omega,N)=&lt;last[
<br>
isSym=false,
<br>
NI=300,
<br>
T=2*pi/omega,
<br>
cn(n)=&lt;_i((t)=&lt;(f(t)=&gt;)*e^(-i*(n*omega)*t),<span class="clear">isSym&amp;&amp;&amp;[-T,T]/2|||[0,T]</span>,NI)/T,
<br>
_s((n)=&lt;(cn(n)=&gt;)*e^(i*(n*omega)*x),-N,N)
<br>
];
<br>
FourierN((t)=&lt;e^(i*(2.5)*t),2,1,5)=&gt;;
<br>
<br>
FourierN(=&lt;f,x,omega,N)=&lt;last[
<br>
isSym=false,
<br>
NI=300,
<br>
T=2*pi/omega,
<br>
cn(n)=&lt;_i0((t)=&lt;(f(t)=&gt;)*e^(-i*(n*omega)*t),<span class="clear">isSym&amp;&amp;&amp;[-T,T]/2|||[0,T]</span>,NI)/T,
<br>
_s((n)=&lt;(cn(n)=&gt;)*e^(i*(n*omega)*x),-N,N)
<br>
];
<br>
FourierN((t)=&lt;e^(i*(2.5)*t),2,1,5)=&gt;;
<br>
<br>
FourierN(=&lt;f,x,omega,N)=&lt;last[
<br>
isSym=false,
<br>
NI=300,
<br>
T=2*pi/omega,
<br>
cn(n)=&lt;_o45((t,x)=&lt;(f(t)=&gt;)*e^(-i*(n*omega)*t),,<span class="clear">isSym&amp;&amp;&amp;[-T,T]/2|||[0,T]</span>,NI)/T,
<br>
_s((n)=&lt;(cn(n)=&gt;)*e^(i*(n*omega)*x),-N,N)
<br>
];
<br>
FourierN((t)=&lt;e^(i*(2.5)*t),2,1,5)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
zeta
<br>
_Euler
<br>
-Maclaurin
    </th>
    <td>
<span id="span-eqn-zeta_Euler_Maclaurin"></span>
clear;
<br>
zeta_Euler_Maclaurin(s,n,m)=&lt;last[
<br>
Bn(n)=&lt;n==0|||-_s((k)=&lt;combin(n+1,k)*Bn(k)=&gt;,0,n-1)/(n+1),
<br>
Tkn(k,n,s)=&lt;(Bn(2*k)=&gt;/(2*k)!)*n**(1-s-2*k)*_p((j)=&lt;s+j,0,2*k-2),
<br>
_s((j)=&lt;j**(-s),1,n-1)+n**(-s)/2+n**(1-s)/(s-1)+_s((k)=&lt;Tkn(k,n,s)=&gt;,1,m)
<br>
];
<br>
zeta_Euler_Maclaurin_table(s,n,m)=&lt;last[
<br>
table_Bn={1/1,-1/2,1/6,,-1/30,,1/42,,-1/30,,5/66,,-691/2730,,7/6,,
<br>
-3617/510,,43867/798,,-174611/330,,854513/138,,-236364091/2730,,8553103/6,,-23749461029/870},
<br>
table=table_Bn/linspace(0,28,29).!,
<br>
Tkn(k,n,s)=&lt;table[2*k]*n**(1-s-2*k)*_p((j)=&lt;s+j,0,2*k-2),
<br>
_s((j)=&lt;j**(-s),1,n-1)+n**(-s)/2+n**(1-s)/(s-1)+_s((k)=&lt;Tkn(k,n,s)=&gt;,1,m)
<br>
];
<br>
s=1/2+14.135i;
<br>
n0=max(20,round(abs(s-1/2)));
<br>
zeta_Euler_Maclaurin(s,n0,4)=&gt;;
<br>
zeta_Euler_Maclaurin_table(s,n0,14)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Seki-Aitken
    </th>
    <td>
<span id="span-eqn-Seki_Aitken"></span>
<a href="#span-out-scope-vars-has1BT">単独scope</a>||<a href="#span-out-eqns-call2eqn">式変数への式読出し</a>||<a href="#span-out-eqns-re-call">再帰call</a>||<a href="#span-out-eqns-no-name">無名call</a>参照
<br>
clear;
<br>
tn_(=&lt;sn_,n)=&lt;sn_(n)=&gt;-(sn_(n+1)=&gt;-sn_(n)=&gt;)**2/(sn_(n+2)=&gt;-2*sn_(n+1)=&gt;+sn_(n)=&gt;);
<br>
$tn(=&lt;sn,n)=&lt;last[,tn_(=&lt;sn,n)==&gt;];
<br>
sn(n)=&lt;last[
<br>
r=1,
<br>
calc_len_circumcircle(n,r)=&lt;[t=(2*pi/n)/2,x=r*sin(t),len=2*x*n,=&lt;len]=&gt;,
<br>
calc_len_circumcircle(2**n,r)=&gt;/(2*r)
<br>
/*sin(pi/2**n)*2**n*/
<br>
];
<br>
delta_squared_process(=&lt;sn,nmax)=&lt;[
<br>
arr_sn=[arr_sn=[],_s((n)=&lt;arr_sn.push(sn(n)=&gt;),,nmax),=&lt;arr_sn]=&gt;,
<br>
step(arr)=&lt;[arr_tn=[],len=sizec(arr),_s((n)=&lt;arr_tn.push(tn((n)=&lt;arr[][n],n)=&gt;),,len-3),=&lt;arr_tn]=&gt;,
<br>
_r(=&lt;arr[sizer(arr)].push(step(=&lt;arr[sizer(arr)-1])=&gt;),arr=arr_sn,floor(nmax/2)),
<br>
=&lt;arr]=&gt;;
<br>
make_tn_nested(nmax_)=&lt;[
<br>
step=(=&lt;f)=&lt;[=&lt;(n)=&lt;tn(=&lt;f,n)=&gt;]=&gt;f,
<br>
(nmax__)=&lt;(_r(=&lt;step(=&lt;f)=&gt;,f(n)=&lt;sn(n)=&gt;,floor(nmax__/2)),=&lt;f)=&gt;
<br>
](nmax_)=&gt;;
<br>
nmax=8;
<br>
delta_squared_process(=&lt;sn,nmax)=&gt;;
<br>
(make_tn_nested(nmax)=&gt;)(0)=&gt;/*exponential-time*/;
<br>
pi;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
primes
    </th>
    <td>
<span id="span-eqn-primes"></span>
clear;
<br>
isPrime(n)=&lt;[isPrime=n&gt;1,kmax=sqrt(n),
<br>
_r((k)=&lt;k+1,2,isPrime&amp;&amp;1e6,=&lt;{k&gt;kmax|||n%k==0&amp;&amp;&amp;(isPrime=0)}),
<br>
=&lt;isPrime]=&gt;;
<br>
listup_primes(n0,n1)=&lt;[arr=[],
<br>
_s((n)=&lt;isPrime(n)=&gt;&amp;&amp;&amp;<span class="jF">arr.push(n)</span>,n0,n1),
<br>
=&lt;arr]=&gt;;
<br>
pickup_prime(n,primes)=&lt;[
<br>
_r((k)=&lt;last{prime=primes[k],k+1},N=sizer(primes),N,=&lt;{n%prime==0}),
<br>
=&lt;prime]=&gt;;
<br>
factorize(n,primes)=&lt;[arr=[],
<br>
_r((k)=&lt;last{prime=pickup_prime(n,=&lt;primes)=&gt;,
<br>
<span class="jF">arr.push(prime)</span>,n=n/prime},isPrime=n&gt;1,isPrime&amp;&amp;1e6,=&lt;{n&lt;=1}),
<br>
=&lt;arr]=&gt;;
<br>
[n=100,primes=listup_primes(0,n)=&gt;,
<br>
primes_factorized=factorize(n,=&lt;trans(primes))=&gt;,
<br>
=&lt;(n,=prod(primes_factorized):primes_factorized:primes)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Pythagoras
    </th>
    <td>
<span id="span-eqn-Pythagoras"></span>
clear;
<br>
Pythagoras(l,m)=&lt;[=&lt;(m^2-l^2,2*m*l,m^2+l^2)]=&gt;;
<br>
Pythagoras(2,3)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
Fermat
    </th>
    <td>
<span id="span-eqn-Fermat"></span>
clear;
<br>
Fermat(n,z)=&lt;[
<br>
yns=zeros(z,1),
<br>
zn(z)=&lt;z**n,
<br>
yn(z,x)=&lt;zn(z)=&gt;-zn(x)=&gt;,
<br>
_s((x)=&lt;yns[x]=yn(z,x)=&gt;,0,z-1),
<br>
=&lt;yns]=&gt;;
<br>
Fermat(2,5)=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
magic-square
    </th>
    <td>
<span id="span-eqn-magic"></span>
clear;
<br>
get_Mij(m,n,k,sw)=&lt;last[
<br>
a0=(m+(n-1)*2)%N,
<br>
b0=(m+n+(N+k*2-1)/2)%N,
<br>
($a,$b)=sw&amp;&amp;&amp;(a0,b0)|||(b0,a0),
<br>
N*a+b+1];
<br>
make_M(N,k,sw)=&lt;zeros(N).map((x,i_,j_)=&lt;get_Mij(i_+1,j_+1,k,sw)=&gt;);
<br>
N=9;
<br>
N=floor(N/2)*2+1;
<br>
($sw0,$sw1)=[(useRand)=&lt;(useRand&amp;&amp;rand<span class="jF">()</span>,useRand&amp;&amp;rand<span class="jF">()</span>)](false)=&gt;;
<br>
M=make_M(N,floor(sw0*N),sw1)=&gt;;
<br>
M.filter((x)=&lt;x==1||x==N**2);
<br>
sum(M),sum(M.),sum((M[0][0][0].));
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_EIS
    </th>
    <td>
<span id="span-eqn-plot2d_EIS"></span>
<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>参照
<br>
clear;
<br>
<br>
make_IV(dT,dI,f,Nt,Nint,isImplicit)=&lt;last{
<br>
<span class="jF">$</span>TK=273.15,
<br>
Tref=15+TK,
<br>
T=Tref+dT,
<br>
($Eact_R0,$Eact_a1,$Eact_a2)=(20,50,10)*1e3,
<br>
<span class="jF">$</span>Rgas=8.31446261815324,
<br>
ratio_factor(T,Tref,Eact)=&lt;exp((1/Tref-1/T)*Eact/Rgas),
<br>
ratio_R0=ratio_factor(T,Tref,Eact_R0)=&gt;,
<br>
ratio_a1=ratio_factor(T,Tref,Eact_a1)=&gt;,
<br>
ratio_a2=ratio_factor(T,Tref,Eact_a2)=&gt;,
<br>
L=1e-4,
<br>
R0=0.5+0.5/ratio_R0,
<br>
R1=2,C1=0.1,
<br>
a1=1/(R1*C1),b1=1/C1,
<br>
a2=0.01,b2=0.12,
<br>
a1=a1*ratio_a1,
<br>
a2=a2*ratio_a2,
<br>
omega=2*pi*f,
<br>
dt=1/(f*Nt),
<br>
N=Nt*Nint,
<br>
tI=zeros(N+1,1),tV=zeros(N+1,1),
<br>
oldV1=0,
<br>
oldV2=0,
<br>
_s((n)=&lt;last{
<br>
t=n*dt,
<br>
It=dI*sin(omega*t),
<br>
dIt=dI*cos(omega*t)*omega,
<br>
newV1=switch(isImplicit,(oldV1+b1*dt*It)/(1+a1*dt):1,(1-a1*dt)*oldV1+b1*dt*It),
<br>
newV2=switch(isImplicit,(oldV2+b2*dt*It)/(1+a2*dt):1,(1-a2*dt)*oldV2+b2*dt*It),
<br>
oldV1=newV1,
<br>
oldV2=newV2,
<br>
Vt=L*dIt+R0*It+newV1+newV2,
<br>
tI[n]=It,
<br>
tV[n]=Vt
<br>
},0,N)
<br>
};
<br>
<br>
FT_IV(IV,f,dt)=&lt;[
<br>
out=&lt;zIV,
<div class="condition">
init=&lt;last{N=sizer(IV)},
</div>
<div class="run">
run=&lt;last{
<br>
omega=2*pi*f,
<br>
calc_w(n)=&lt;switch((n==0)|(n==N-1),1:n%2==0,2:1,4),
<br>
calc_v(n,t,val)=&lt;calc_w(n)=&gt;*val*exp(-i*omega*t),
<br>
zIV=_s((n)=&lt;calc_v(n,n*dt,IV[n])=&gt;,0,N-1)*dt/3
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
calc_Z(zI,zV)=&lt;[
<br>
out=&lt;Z,
<div class="condition">
init=&lt;last{0},
</div>
<div class="run">
run=&lt;last{
<br>
Z=zV/zI
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
sweep_f(dT,dI,f0,f1,Nf,Nt,Nint,isImplicit)=&lt;[
<br>
out=&lt;fZ,
<div class="condition">
init=&lt;last{fZ=zeros(Nf+1,2)},
</div>
<div class="run">
run=&lt;last{
<br>
calc_f(n)=&lt;exp(log(f0)+(log(f1)-log(f0))*n/Nf),
<br>
_s((n)=&lt;last{
<br>
f=calc_f(n)=&gt;,
<br>
make_IV(dT,dI,f,Nt,Nint,isImplicit)==&gt;,
<br>
fZ[n]=(f,calc_Z(FT_IV(=&lt;tI,f,dt)=&gt;,FT_IV(=&lt;tV,f,dt)=&gt;)=&gt;)
<br>
},0,Nf)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
plot2d_EIS(isBode,fZ)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{N=sizer(fZ),xt=zeros(N,1),yt=zeros(N,1)},
</div>
<div class="run">
run=&lt;last{
<br>
switch(
<br>
isBode==0/*Nyquist-plot(real(Z),-imag(Z))*/,
<br>
=&lt;_s((n)=&lt;last{
<br>
Z=fZ[n][1],
<br>
xt[n]=real(Z),
<br>
yt[n]=-imag(Z)
<br>
},0,N-1):
<br>
isBode&gt;0/*Bode-plot(log10(f),|Z|)*/,
<br>
=&lt;_s((n)=&lt;last{
<br>
f=fZ[n][0],
<br>
Z=fZ[n][1],
<br>
xt[n]=log10(f),
<br>
yt[n]=abs(Z)
<br>
},0,N-1):
<br>
1/*else-Bode-plot(log10(f),deg_phi)*/,
<br>
=&lt;_s((n)=&lt;last{
<br>
f=fZ[n][0],
<br>
Z=fZ[n][1],
<br>
xt[n]=log10(f),
<br>
yt[n]=deg_atan2(imag(Z),real(Z))
<br>
},0,N-1)
<br>
)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
[isImplicit=1,isBode=0,
<br>
=&lt;plot2d_EIS(isBode,=&lt;sweep_f(0,1e-3,1e3,0.01,10,100,1,isImplicit)=&gt;)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_EIS_DFT
    </th>
    <td>
<span id="span-eqn-plot2d_EIS_DFT"></span>
<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>参照
<br>
clear;
<br>
<br>
make_IV(dT,dI,f,Nt,Nint,isImplicit)=&lt;last{
<br>
<span class="jF">$</span>TK=273.15,
<br>
Tref=15+TK,
<br>
T=Tref+dT,
<br>
($Eact_R0,$Eact_a1,$Eact_a2)=(20,50,10)*1e3,
<br>
<span class="jF">$</span>Rgas=8.31446261815324,
<br>
ratio_factor(T,Tref,Eact)=&lt;exp((1/Tref-1/T)*Eact/Rgas),
<br>
ratio_R0=ratio_factor(T,Tref,Eact_R0)=&gt;,
<br>
ratio_a1=ratio_factor(T,Tref,Eact_a1)=&gt;,
<br>
ratio_a2=ratio_factor(T,Tref,Eact_a2)=&gt;,
<br>
L=1e-4,
<br>
R0=0.5+0.5/ratio_R0,
<br>
R1=2,C1=0.1,
<br>
a1=1/(R1*C1),b1=1/C1,
<br>
a2=0.01,b2=0.12,
<br>
a1=a1*ratio_a1,
<br>
a2=a2*ratio_a2,
<br>
omega=2*pi*f,
<br>
dt=1/(f*Nt),
<br>
N=Nt*Nint,
<br>
tI=zeros(N+1,1),tV=zeros(N+1,1),
<br>
oldV1=0,
<br>
oldV2=0,
<br>
_s((n)=&lt;last{
<br>
t=n*dt,
<br>
It=dI*sin(omega*t),
<br>
dIt=dI*cos(omega*t)*omega,
<br>
newV1=switch(isImplicit,(oldV1+b1*dt*It)/(1+a1*dt):1,(1-a1*dt)*oldV1+b1*dt*It),
<br>
newV2=switch(isImplicit,(oldV2+b2*dt*It)/(1+a2*dt):1,(1-a2*dt)*oldV2+b2*dt*It),
<br>
oldV1=newV1,
<br>
oldV2=newV2,
<br>
Vt=L*dIt+R0*It+newV1+newV2,
<br>
tI[n]=It,
<br>
tV[n]=Vt
<br>
},0,N)
<br>
};
<br>
<br>
DFT_IV(IV,f,dt)=&lt;[
<br>
out=&lt;zIV,
<div class="condition">
init=&lt;last{N=sizer(IV)},
</div>
<div class="run">
run=&lt;last{
<br>
omega=2*pi*f,
<br>
zIV=_s((n)=&lt;IV[n]*exp(-i*omega*n*dt),0,N-1)<span class="selection">/*(f*dt)=1/Nt*/</span>
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
calc_Z(zI,zV)=&lt;[
<br>
out=&lt;Z,
<div class="condition">
init=&lt;last{0},
</div>
<div class="run">
run=&lt;last{
<br>
Z=zV/zI
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
sweep_f(dT,dI,f0,f1,Nf,Nt,Nint,isImplicit)=&lt;[
<br>
out=&lt;fZ,
<div class="condition">
init=&lt;last{fZ=zeros(Nf+1,2)},
</div>
<div class="run">
run=&lt;last{
<br>
calc_f(n)=&lt;exp(log(f0)+(log(f1)-log(f0))*n/Nf),
<br>
_s((n)=&lt;last{
<br>
f=calc_f(n)=&gt;,
<br>
make_IV(dT,dI,f,Nt,Nint,isImplicit)==&gt;,
<br>
fZ[n]=(f,calc_Z(DFT_IV(=&lt;tI,f,dt)=&gt;,DFT_IV(=&lt;tV,f,dt)=&gt;)=&gt;)
<br>
},0,Nf)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
plot2d_EIS_DFT(isBode,fZ)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{N=sizer(fZ),xt=zeros(N,1),yt=zeros(N,1)},
</div>
<div class="run">
run=&lt;last{
<br>
switch(
<br>
isBode==0/*Nyquist-plot(real(Z),-imag(Z))*/,
<br>
=&lt;_s((n)=&lt;last{
<br>
Z=fZ[n][1],
<br>
xt[n]=real(Z),
<br>
yt[n]=-imag(Z)
<br>
},0,N-1):
<br>
isBode&gt;0/*Bode-plot(log10(f),|Z|)*/,
<br>
=&lt;_s((n)=&lt;last{
<br>
f=fZ[n][0],
<br>
Z=fZ[n][1],
<br>
xt[n]=log10(f),
<br>
yt[n]=abs(Z)
<br>
},0,N-1):
<br>
1/*else-Bode-plot(log10(f),deg_phi)*/,
<br>
=&lt;_s((n)=&lt;last{
<br>
f=fZ[n][0],
<br>
Z=fZ[n][1],
<br>
xt[n]=log10(f),
<br>
yt[n]=deg_atan2(imag(Z),real(Z))
<br>
},0,N-1)
<br>
)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
[isImplicit=1,isBode=0,
<br>
=&lt;plot2d_EIS_DFT(isBode,=&lt;sweep_f(0,1e-3,1e3,0.01,10,100,1,isImplicit)=&gt;)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
plot2d
<br>
_IV
    </th>
    <td>
<span id="span-eqn-plot2d_IV"></span>
<a href="#span-out-simulation-EIS-0D-cell">0D-cell EIS simulation</a>参照
<br>
clear;
<br>
<br>
make_tIV(dT,dI,f,Nt,Nint,isImplicit)=&lt;last{
<br>
<span class="jF">$</span>TK=273.15,
<br>
Tref=15+TK,
<br>
T=Tref+dT,
<br>
($Eact_R0,$Eact_a1,$Eact_a2)=(20,50,10)*1e3,
<br>
<span class="jF">$</span>Rgas=8.31446261815324,
<br>
ratio_factor(T,Tref,Eact)=&lt;exp((1/Tref-1/T)*Eact/Rgas),
<br>
ratio_R0=ratio_factor(T,Tref,Eact_R0)=&gt;,
<br>
ratio_a1=ratio_factor(T,Tref,Eact_a1)=&gt;,
<br>
ratio_a2=ratio_factor(T,Tref,Eact_a2)=&gt;,
<br>
L=1e-4,
<br>
R0=0.5+0.5/ratio_R0,
<br>
R1=2,C1=0.1,
<br>
a1=1/(R1*C1),b1=1/C1,
<br>
a2=0.01,b2=0.12,
<br>
a1=a1*ratio_a1,
<br>
a2=a2*ratio_a2,
<br>
omega=2*pi*f,
<br>
dt=1/(f*Nt),
<br>
N=Nt*Nint,
<br>
tt=zeros(N+1,1),tI=zeros(N+1,1),tV=zeros(N+1,1),
<br>
oldV1=0,
<br>
oldV2=0,
<br>
_s((n)=&lt;last{
<br>
t=n*dt,
<br>
It=dI*sin(omega*t),
<br>
dIt=dI*cos(omega*t)*omega,
<br>
newV1=switch(isImplicit,(oldV1+b1*dt*It)/(1+a1*dt):1,(1-a1*dt)*oldV1+b1*dt*It),
<br>
newV2=switch(isImplicit,(oldV2+b2*dt*It)/(1+a2*dt):1,(1-a2*dt)*oldV2+b2*dt*It),
<br>
oldV1=newV1,
<br>
oldV2=newV2,
<br>
Vt=L*dIt+R0*It+newV1+newV2,
<br>
tt[n]=t,
<br>
tI[n]=It,
<br>
tV[n]=Vt
<br>
},0,N)
<br>
};
<br>
<br>
plot2d_IV(dT,dI,f,Nt,Nint,isImplicit)=&lt;[
<br>
out=&lt;(xt,yt),
<br>
scope2storage=&lt;last{add__(xt),add__(yt)},
<div class="condition">
init=&lt;last{N=Nt*Nint,xt=zeros(N+1,1),yt=zeros(N+1,2)},
</div>
<div class="run">
run=&lt;last{
<br>
make_tIV(dT,dI,f,Nt,Nint,isImplicit)==&gt;,
<br>
_s((n)=&lt;last{xt[n]=tt[n],yt[n]=(tI[n],tV[n])},0,N)
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
<br>
[isImplicit=1,
<br>
=&lt;plot2d_IV(0,1e-3,0.5,100,2,isImplicit)=&gt;]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
heat0d
<br>
_evolution
    </th>
    <td>
<span id="span-eqn-heat0d_evolution"></span>
<a href="#span-out-simulation-0D-heat">0D-heat simulation</a>参照
<br>
clear;
<br>
heat0d_evolution(t,dt,kalpha0,kalpha1,kalbedo<span class="selection">,kabsorb</span>)=&lt;[
<br>
out=&lt;{t_total,dT},
<br>
scope2storage=&lt;last{add__(oldT),add__(t_total)},
<div class="condition">
init=&lt;last{
<br>
I0=1367,
<br>
sigma=5.670374419184429e-8,
<br>
TK=273.15,
<br>
T0=15,
<br>
T1=-56.5,
<br>
T0K=T0+TK,
<br>
T1K=T1+TK,
<br>
H1=11000,
<br>
R0=6378136.6,
<br>
R1=R0+H1,
<br>
S0=pi*R0^2,
<br>
S1=pi*R1^2,
<br>
A0=S0*4,
<br>
A1=S1*4,
<br>
albedo0=0.3,
<br>
e0=1,
<br>
TeK=(I0*(1-albedo0)/(4*e0*sigma))**0.25,
<br>
Te=TeK-TK,
<br>
W0=S1*I0,
<br>
Wee=A0*(e0*sigma*TeK**4),
<br>
We0=A0*(e0*sigma*T0K**4),
<br>
absorbh=1-W0*(1-albedo0)/We0,
<br>
absorbhmax=0.5,
<br>
absorb0=We0*absorbh/(W0*(1-albedo0)),
<br>
absorb0max=We0*absorbhmax/(W0*(1-albedo0)),
<br>
kh0=(absorbhmax-absorbh)/(absorb0max-absorb0),
<br>
Te_th(a)=&lt;(I0*(1-albedo0)/(2*(2-a)*e0*sigma))**0.25-TK,
<br>
Te_th0=Te_th(absorbh*2)=&gt;,
<br>
Wea=We0*absorbh,
<br>
Wet=We0*(1-absorbh),
<br>
l=0.0241,
<br>
rho=1.29,
<br>
cp=1007,
<br>
V=_i((r)=&lt;4*pi*r^2,R0,R0+H1),
<br>
C=rho*cp*V,
<br>
alpha10=-W0*(1-albedo0)*absorb0/(A1*(T1-T0)),
<br>
alpha0=alpha10*kalpha0,
<br>
alpha1=alpha10*kalpha1,
<br>
albedo=albedo0*kalbedo,
<br>
absorb=absorb0*kabsorb,
<br>
absorbe=(1-albedo)*absorb,
<br>
T=T0,
<br>
flux0=alpha0*(T0-T),
<br>
flux1=alpha1*(T1-T),
<br>
W2=flux0*A0,
<br>
W1=flux1*A1,
<br>
W0a=W0*albedo,
<br>
W0t=W0*(1-albedo)*(1-absorb),
<br>
W0e=W0*(1-albedo)*absorb,
<br>
(Wee-Wet),
<br>
(Wea-W0e),
<br>
(W0t+W0e-Wet),
<br>
(W0a+W0t+W0e-W0),
<br>
(W1+W0e+W2),
<br>
a=(alpha1*A1+alpha0*A0)/C,
<br>
b=(alpha1*A1*T1+W0*(1-albedo)<span class="selection">*absorb</span>+alpha0*A0*T0)/C,
<br>
switch(has__(t_total)==0,=&lt;last{t_total=0,oldT=T0}),
<br>
newT=oldT
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
step=&lt;last{newT=(oldT+b*dt)/(1+a*dt),oldT=newT},
<br>
evolution=&lt;_r((n)=&lt;step=&gt;,N=round(t/dt),N),
<br>
evolution=&gt;,
<br>
dT=newT-T0,
<br>
t_total=t_total+N*dt
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[cond_error=(has__(t_total)==0)&amp;&amp;has__(oldT),
<br>
proc=&lt;[s_1day=60*60*24,
<br>
=&lt;heat0d_evolution(s_1day*30,s_1day,<span class="condition">0,</span>0.98,1,1)=&gt;]=&gt;,
<br>
=&lt;switch(cond_error==0,=&lt;proc:1,-999/*error-code*/)]=&gt;;
    </td>
  </tr>
  <tr>
    <th>
<a href="#span-index">
目次
</a>
<br>
heat1d
<br>
_evolution
    </th>
    <td>
<span id="span-eqn-heat1d_evolution"></span>
clear;
<br>
heat1d_evolution(t,dt,kalpha0,kalpha1,kalbedo<span class="selection">,kabsorb</span>,N)=&lt;[
<br>
out=&lt;{t_total,newT},
<br>
scope2storage=&lt;last{add__(oldT),add__(t_total)},
<div class="condition">
init=&lt;last{
<br>
I0=1367,
<br>
sigma=5.670374419184429e-8,
<br>
TK=273.15,
<br>
T0=15,
<br>
T1=-56.5,
<br>
T0K=T0+TK,
<br>
T1K=T1+TK,
<br>
H1=11000,
<br>
R0=6378136.6,
<br>
R1=R0+H1,
<br>
S0=pi*R0^2,
<br>
S1=pi*R1^2,
<br>
A0=S0*4,
<br>
A1=S1*4,
<br>
albedo0=0.3,
<br>
e0=1,
<br>
TeK=(I0*(1-albedo0)/(4*e0*sigma))**0.25,
<br>
Te=TeK-TK,
<br>
W0=S1*I0,
<br>
Wee=A0*(e0*sigma*TeK**4),
<br>
We0=A0*(e0*sigma*T0K**4),
<br>
absorbh=1-W0*(1-albedo0)/We0,
<br>
absorbhmax=0.5,
<br>
absorb0=We0*absorbh/(W0*(1-albedo0)),
<br>
absorb0max=We0*absorbhmax/(W0*(1-albedo0)),
<br>
kh0=(absorbhmax-absorbh)/(absorb0max-absorb0),
<br>
Te_th(a)=&lt;(I0*(1-albedo0)/(2*(2-a)*e0*sigma))**0.25-TK,
<br>
Te_th0=Te_th(absorbh*2)=&gt;,
<br>
Wea=We0*absorbh,
<br>
Wet=We0*(1-absorbh),
<br>
l=0.0241,
<br>
rho=1.29,
<br>
cp=1007,
<br>
V=A1*H1,
<br>
C=rho*cp*V,
<br>
alpha10=-W0*(1-albedo0)*absorb0/(A1*(T1-T0)),
<br>
alpha0=alpha10*kalpha0,
<br>
alpha1=alpha10*kalpha1,
<br>
albedo=albedo0*kalbedo,
<br>
absorb=absorb0*kabsorb,
<br>
absorbe=(1-albedo)*absorb,
<br>
T=T0,
<br>
flux0=alpha0*(T0-T),
<br>
flux1=alpha1*(T1-T),
<br>
W2=flux0*A0,
<br>
W1=flux1*A1,
<br>
W0a=W0*albedo,
<br>
W0t=W0*(1-albedo)*(1-absorb),
<br>
W0e=W0*(1-albedo)*absorb,
<br>
(Wee-Wet),
<br>
(Wea-W0e),
<br>
(W0t+W0e-Wet),
<br>
(W0a+W0t+W0e-W0),
<br>
(W1+W0e+W2),
<br>
dC=C/N,
<br>
a0=alpha0*A1/dC,
<br>
a1=alpha1*A1/dC,
<br>
b=0,
<br>
c=W0*(1-albedo)<span class="selection">*absorb</span>/C+a0*T0,
<br>
d=alpha1*A1*(T1-T0)/C,
<br>
A=zeros(N,N),
<br>
A[-1][0][1]=(-a1*dt,1+2*a1*dt,-a1*dt),
<br>
A[0][0]=1+a1*dt+a0*dt,
<br>
A[-1][-1]=1+a1*dt,
<br>
switch(has__(t_total)==0,=&lt;last{t_total=0,oldT=zeros(N,1)+Te}),
<br>
newT=oldT
<br>
},
</div>
<div class="run">
run=&lt;last{
<br>
step=&lt;last{
<br>
r=oldT+b*dt,
<br>
r[0]=r[0]+c*dt,
<br>
r[-1]=r[-1]+d*dt,
<br>
<span class="jF">oldT</span>=Newton(=&lt;A*__x__=r,=&lt;{oldT})
<br>
},
<br>
evolution=&lt;_r((n)=&lt;step=&gt;,N=round(t/dt),N),
<br>
evolution=&gt;,
<br>
newT=oldT,
<br>
dT=newT-T0,
<br>
t_total=t_total+N*dt
<br>
},
</div>
init=&gt;,run=&gt;,return=out=&gt;,scope2storage=&gt;,
<br>
=&lt;return]=&gt;;
<br>
[cond_error=(has__(t_total)==0)&amp;&amp;has__(oldT),
<br>
proc=&lt;[s_1day=60*60*24,
<br>
=&lt;heat1d_evolution(s_1day*30,s_1day,<span class="condition">0,</span>1,1,1,20)=&gt;]=&gt;,
<br>
=&lt;switch(cond_error==0,=&lt;proc:1,-999/*error-code*/)]=&gt;;
    </td>
  </tr>
</tbody>
</table>
</div>
<hr>

  </div>
</body>

</html>
